!function(t,e,i){"use strict";function s(t,e){function i(){}i.prototype=t;var s=new i;for(var n in e)s[n]=e[n];return e.toString!==Object.prototype.toString&&(s.toString=e.toString),s}function n(t){return t instanceof Array?function(){return C.iter(t)}:"function"==typeof t.iterator?r(t,t.iterator):t.iterator}function r(t,e){if(null==e)return null;null==e.__id__&&(e.__id__=Xn++);var i;return null==t.hx__closures__?t.hx__closures__={}:i=t.hx__closures__[e.__id__],null==i&&(i=function(){return i.method.apply(i.scope,arguments)},i.scope=t,i.method=e,t.hx__closures__[e.__id__]=i),i}e.openfl=e.openfl||{},e.lime=e.lime||{},e.ru=e.ru||{},e.ru.octasoft=e.ru.octasoft||{},e.ru.octasoft.oem=e.ru.octasoft.oem||{},e.ru.octasoft.oem.designer=e.ru.octasoft.oem.designer||{};var a={},o=function(){return st.__string_rec(this,"")},_=function(){};a.ApplicationMain=_,_.__name__=!0,_.config=null,_.preloader=null,_.create=function(){var t=new rs;t.create(_.config);var e=new A;_.preloader=new xs(e),t.setPreloader(_.preloader),_.preloader.onComplete.add(_.init),_.preloader.create(_.config);var i=[],s=[];if(i.push("Gotham Pro Bold"),s.push("FONT"),i.push("Gotham Pro Regular"),s.push("FONT"),i.push("assets/images/border1.png"),s.push("IMAGE"),i.push("assets/images/border2.png"),s.push("IMAGE"),i.push("assets/images/decor.png"),s.push("IMAGE"),i.push("assets/images/delete.png"),s.push("IMAGE"),i.push("assets/images/popup_left.png"),s.push("IMAGE"),i.push("assets/images/popup_right.png"),s.push("IMAGE"),i.push("assets/images/popup_top.png"),s.push("IMAGE"),i.push("assets/images/redo.png"),s.push("IMAGE"),i.push("assets/images/rotate.png"),s.push("IMAGE"),i.push("assets/images/shelf_bg1.png"),s.push("IMAGE"),i.push("assets/images/undo.png"),s.push("IMAGE"),i.push("assets/images/zoomIn.png"),s.push("IMAGE"),i.push("assets/images/zoomOut.png"),s.push("IMAGE"),null!=_.config.assetsPrefix)for(var n=0,r=i.length;r>n;){var a=n++;"FONT"!=s[a]&&(i[a]=_.config.assetsPrefix+i[a])}_.preloader.load(i,s);t.exec()},_.init=function(){var t=0;_.preloader=null,0==t&&_.start()},_.main=function(){_.config={build:"1885",company:"Octasoft",file:"designer",fps:60,name:"Editor",orientation:"",packageName:"ru.octasoft.oem.designer",version:"1.0.0",windows:[{antialiasing:0,background:16777215,borderless:!1,depthBuffer:!1,display:0,fullscreen:!1,hardware:!0,height:0,parameters:"{}",resizable:!0,stencilBuffer:!0,title:"Editor",vsync:!1,width:0,x:null,y:null}]}},_.start=function(){for(var t=!1,e=k.resolveClass("ru.octasoft.oem.designer.Main"),i=0,s=k.getClassFields(e);i<s.length;){var n=s[i];if(++i,"main"==n){t=!0;break}}if(ht.initialize(),t)L.callMethod(e,L.field(e,"main"),[]);else{k.createInstance(v,[])}Ze.current.stage.window.__fullscreen&&Ze.current.stage.dispatchEvent(new Us(Us.FULL_SCREEN,!1,!1,!0,!0)),Ze.current.stage.dispatchEvent(new Ds(Ds.RESIZE,!1,!1))};var h=function(){};a["openfl.events.IEventDispatcher"]=h,h.__name__=!0;var l=function(t){null!=t&&(this.__targetDispatcher=t)};a["openfl.events.EventDispatcher"]=l,l.__name__=!0,l.__interfaces__=[h],l.__sortByPriority=function(t,e){return t.priority==e.priority?0:t.priority>e.priority?-1:1},l.prototype={addEventListener:function(t,e,i,s,n){if(null==n&&(n=!1),null==s&&(s=0),null==i&&(i=!1),null==this.__eventMap&&(this.__dispatching=new j,this.__eventMap=new j,this.__newEventMap=new j),this.__eventMap.exists(t)){var r;if(1==this.__dispatching.get(t))if(this.__newEventMap.exists(t))r=this.__newEventMap.get(t);else{var a=this.__eventMap.get(t);r=a.slice(),this.__newEventMap.set(t,r)}else r=this.__eventMap.get(t);for(var o=0,_=r.length;_>o;){var h=o++;if(L.compareMethods(r[h].callback,e))return}r.push(new Bs(e,i,s)),r.sort(l.__sortByPriority)}else{var u=[];u.push(new Bs(e,i,s)),this.__eventMap.set(t,u)}},dispatchEvent:function(t){return null!=this.__targetDispatcher?t.target=this.__targetDispatcher:t.target=this,this.__dispatchEvent(t)},hasEventListener:function(t){return null==this.__eventMap?!1:1==this.__dispatching.get(t)&&this.__newEventMap.exists(t)?this.__newEventMap.get(t).length>0:this.__eventMap.exists(t)},removeEventListener:function(t,e,i){if(null==i&&(i=!1),null!=this.__eventMap){var s=this.__eventMap.get(t);if(null!=s){var n=1==this.__dispatching.get(t);if(n)if(this.__newEventMap.exists(t))s=this.__newEventMap.get(t);else{var r=this.__eventMap.get(t);s=r.slice(),this.__newEventMap.set(t,s)}for(var a=0,o=s.length;o>a;){var _=a++;if(s[_].match(e,i)){s.splice(_,1);break}}n||(0==s.length&&this.__eventMap.remove(t),this.__eventMap.iterator().hasNext()||(this.__eventMap=null,this.__newEventMap=null))}}},__dispatchEvent:function(t){if(null==this.__eventMap||null==t)return!1;var e,i=t.type;if(1==this.__dispatching.get(i)){if(e=this.__newEventMap.get(i),null==e)return!1;e=e.slice()}else{if(e=this.__eventMap.get(i),null==e)return!1;this.__dispatching.set(i,!0)}null==t.target&&(null!=this.__targetDispatcher?t.target=this.__targetDispatcher:t.target=this),t.currentTarget=this;for(var s,n=t.eventPhase==Fs.CAPTURING_PHASE,r=0;r<e.length&&(s=e[r],s.useCapture!=n||(s.callback(t),!t.__isCancelledNow));)s==e[r]&&r++;if(null!=this.__newEventMap&&this.__newEventMap.exists(i)){var a=this.__newEventMap.get(i);a.length>0?this.__eventMap.set(i,a):this.__eventMap.remove(i),this.__eventMap.iterator().hasNext()?this.__newEventMap.remove(i):(this.__eventMap=null,this.__newEventMap=null)}return this.__dispatching.set(t.type,!1),!0},__class__:l};var u=function(){};a["openfl.display.IBitmapDrawable"]=u,u.__name__=!0,u.prototype={__class__:u};var c=function(){this.__cacheAsBitmapSmooth=!0,this.__cacheAsBitmap=!1,this.__maskCached=!1,l.call(this),this.__alpha=1,this.__transform=new Ke,this.__visible=!0,this.__rotation=0,this.__rotationSine=0,this.__rotationCosine=1,this.__renderTransform=new Ke,this.__offset=new g,this.__worldOffset=new g,this.__worldAlpha=1,this.__worldTransform=new Ke,this.__worldColorTransform=new qe,this.set_name("instance"+ ++c.__instanceCount)};a["openfl.display.DisplayObject"]=c,c.__name__=!0,c.__interfaces__=[u],c.__super__=l,c.prototype=s(l.prototype,{getBounds:function(t){var e;null!=t?(e=this.__getWorldTransform().clone(),e.concat(t.__getWorldTransform().clone().invert())):(e=Ke.__temp,e.identity());var i=new Gi;return this.__getBounds(i,e),i},globalToLocal:function(t){return t=t.clone(),this.__getWorldTransform().__transformInversePoint(t),t},localToGlobal:function(t){return this.__getWorldTransform().transformPoint(t)},__broadcast:function(t,e){if(null!=this.__eventMap&&this.hasEventListener(t.type)){var i=l.prototype.__dispatchEvent.call(this,t);return t.__isCancelled?!0:i}return!1},__dispatchEvent:function(t){var e=l.prototype.__dispatchEvent.call(this,t);return t.__isCancelled?!0:(t.bubbles&&null!=this.parent&&this.parent!=this&&(t.eventPhase=Fs.BUBBLING_PHASE,null==t.target&&(t.target=this),this.parent.__dispatchEvent(t)),e)},__enterFrame:function(t){},__getBounds:function(t,e){null!=this.__graphics&&this.__graphics.__getBounds(t,e)},__getRenderBounds:function(t,e){if(null==this.__scrollRect)this.__getBounds(t,e);else{var i=Gi.__temp;i.copyFrom(this.__scrollRect),i.__transform(i,e),t.__expand(e.tx,e.ty,i.width,i.height)}},__getCursor:function(){return null},__getInteractive:function(t){return!1},__getWorldTransform:function(){if(this.__transformDirty||c.__worldTransformDirty>0){var t=[],e=this,i=this.__transformDirty;if(null==this.parent)i&&this.__update(!0,!1);else for(;null!=e.parent;)t.push(e),e=e.parent,e.__transformDirty&&(i=!0);if(i)for(var s=t.length;--s>=0;)t[s].__update(!0,!1)}return this.__worldTransform},__hitTest:function(t,e,i,s,n){if(null!=this.__graphics){if(!this.get_visible()||this.__isMask)return!1;if(null!=this.get_mask()&&!this.get_mask().__hitTestMask(t,e))return!1;if(this.__graphics.__hitTest(t,e,i,this.__getWorldTransform()))return null==s||n||s.push(this),!0}return!1},__hitTestMask:function(t,e){return null!=this.__graphics&&this.__graphics.__hitTest(t,e,!0,this.__getWorldTransform())?!0:!1},__renderCairo:function(t){null!=this.__graphics&&li.render(this,t)},__renderCairoMask:function(t){null!=this.__graphics&&oi.renderMask(this.__graphics,t)},__renderCanvas:function(t){null!=this.__graphics&&gi.render(this,t)},__renderCanvasMask:function(t){null!=this.__graphics&&fi.renderMask(this.__graphics,t)},__renderDOM:function(t){null!=this.__graphics&&wi.render(this,t)},__renderGL:function(t){if(this.__renderable&&!(this.__worldAlpha<=0)){if(this.__cacheAsBitmap)return void this.__cacheGL(t);null!=this.__scrollRect&&t.maskManager.pushRect(this.__scrollRect,this.__renderTransform),null!=this.__mask&&null!=this.__maskGraphics&&this.__maskGraphics.__commands.get_length()>0&&t.maskManager.pushMask(this),null!=this.__graphics&&(this.__graphics.__hardware?Wi.render(this,t):(fi.render(this.__graphics,t),Pi.renderBitmap(this,t))),null!=this.__mask&&null!=this.__maskGraphics&&this.__maskGraphics.__commands.get_length()>0&&t.maskManager.popMask(),null!=this.__scrollRect&&t.maskManager.popRect()}},__cacheGL:function(t){var e=null!=this.__cacheAsBitmapMatrix,i=this.__cachedBitmapBounds.x,s=this.__cachedBitmapBounds.y,n=this.__cachedBitmapBounds.width,r=this.__cachedBitmapBounds.height;if(null==this.__cacheGLMatrix&&(this.__cacheGLMatrix=new Ke),e){var a=Gi.__temp;this.__cachedBitmapBounds.__transform(a,this.__cacheAsBitmapMatrix),i=a.x,s=a.y,n=a.width,r=a.height,this.__cacheGLMatrix=this.__cacheAsBitmapMatrix.clone()}else this.__cacheGLMatrix.identity();if(0>=n&&0>=r)throw new it("Error creating a cached bitmap. The texture size is "+n+"x"+r);if(this.__updateCachedBitmap||this.__updateFilters){null!=this.__cachedFilterBounds&&(n+=Math.abs(this.__cachedFilterBounds.x)+Math.abs(this.__cachedFilterBounds.width),r+=Math.abs(this.__cachedFilterBounds.y)+Math.abs(this.__cachedFilterBounds.height)),null==this.__cachedBitmap&&(this.__cachedBitmap=os.__asRenderTexture()),this.__cachedBitmap.__resize(Math.ceil(n),Math.ceil(r));var o=this.__cacheGLMatrix.clone();o.translate(-i,-s);var _=this.__shader;this.__shader=null,this.__cachedBitmap.__drawGL(t,this,o,null,null,null,!0,!1,!0),this.__shader=_,this.__updateCachedBitmap=!1}this.__updateFilters&&(Ks.__applyFilters(this.__filters,t,this.__cachedBitmap,this.__cachedBitmap,null,null),this.__updateFilters=!1),this.__cacheGLMatrix.invert(),this.__cacheGLMatrix.__translateTransformed(i,s),this.__cacheGLMatrix.concat(this.__renderTransform),this.__cacheGLMatrix.translate(this.__offset.x,this.__offset.y),t.spriteBatch.renderBitmapData(this.__cachedBitmap,this.__cacheAsBitmapSmooth,this.__cacheGLMatrix,this.__worldColorTransform,this.__worldAlpha,this.blendMode,this.__shader,bs.ALWAYS)},__setStageReference:function(t){this.stage!=t&&(null!=this.stage&&(this.stage.get_focus()==this&&this.stage.set_focus(null),this.dispatchEvent(new Ds(Ds.REMOVED_FROM_STAGE,!1,!1))),this.stage=t,null!=t&&this.dispatchEvent(new Ds(Ds.ADDED_TO_STAGE,!1,!1)))},__setRenderDirty:function(){this.__renderDirty||(this.__updateCachedBitmap=!0,this.__updateFilters=null!=this.get_filters()&&this.get_filters().length>0,this.__renderDirty=!0,c.__worldRenderDirty++)},__updateTransforms:function(t){var e,i=null!=t;if(e=i?new Ke(t.a,t.b,t.c,t.d,t.tx,t.ty):this.__transform,i||null==this.parent)this.__worldTransform.copyFrom(e),this.__worldOffset.setTo(0,0);else{var s=this.parent.__worldTransform;this.__worldTransform.a=e.a*s.a+e.b*s.c,this.__worldTransform.b=e.a*s.b+e.b*s.d,this.__worldTransform.c=e.c*s.a+e.d*s.c,this.__worldTransform.d=e.c*s.b+e.d*s.d,this.__worldTransform.tx=e.tx*s.a+e.ty*s.c+s.tx,this.__worldTransform.ty=e.tx*s.b+e.ty*s.d+s.ty,this.__worldOffset.copyFrom(this.parent.__worldOffset)}null!=this.__scrollRect?(this.__offset=this.__worldTransform.deltaTransformPoint(this.__scrollRect.get_topLeft()),this.__worldOffset.offset(this.__offset.x,this.__offset.y)):this.__offset.setTo(0,0),this.__renderTransform.copyFrom(this.__worldTransform),this.__renderTransform.translate(-this.__worldOffset.x,-this.__worldOffset.y)},__update:function(t,e,i){this.__renderable=this.get_visible()&&0!=this.get_scaleX()&&0!=this.get_scaleY()&&!this.__isMask,this.__updateTransforms(),null!=this.parent&&this.__isMask&&(this.__maskCached=!1),e&&this.__transformDirty&&(this.__transformDirty=!1,c.__worldTransformDirty--),t||null==this.__mask||this.__mask.__maskCached||(null==this.__maskGraphics&&(this.__maskGraphics=new fs),this.__maskGraphics.clear(),this.__mask.__update(!0,!0,this.__maskGraphics),this.__mask.__maskCached=!0),null!=i&&this.__updateMask(i),!t&&this.__cacheAsBitmap&&(this.__updateCachedBitmap||this.__updateFilters)&&(null==this.__cachedBitmapBounds&&(this.__cachedBitmapBounds=new Gi),null!=this.cacheAsBitmapBounds?this.__cachedBitmapBounds.copyFrom(this.cacheAsBitmapBounds):(this.__cachedBitmapBounds.setEmpty(),this.__getRenderBounds(this.__cachedBitmapBounds,Ke.__identity)),null!=this.__filters&&(null==this.__cachedFilterBounds&&(this.__cachedFilterBounds=new Gi),this.__cachedFilterBounds.setEmpty(),Ks.__expandBounds(this.__filters,this.__cachedFilterBounds,Ke.__identity),this.__cachedBitmapBounds.x+=this.__cachedFilterBounds.x,this.__cachedBitmapBounds.y+=this.__cachedFilterBounds.y)),t||(this.__worldColorTransform.__equals(this.get_transform().get_colorTransform())||(this.__worldColorTransform=this.get_transform().get_colorTransform().__clone()),null!=this.parent?(this.__worldAlpha=this.get_alpha()*this.parent.__worldAlpha,this.__worldColorTransform.__combine(this.parent.__worldColorTransform),(null==this.blendMode||this.blendMode==hs.NORMAL)&&(this.__blendMode=this.parent.__blendMode),null==this.shader&&(this.__shader=this.parent.__shader)):this.__worldAlpha=this.get_alpha(),e&&this.__renderDirty&&(this.__renderDirty=!1))},__updateChildren:function(t){this.__renderable=this.get_visible()&&0!=this.get_scaleX()&&0!=this.get_scaleY()&&!this.__isMask,(this.__renderable||this.__isMask)&&(this.__worldAlpha=this.get_alpha(),this.__transformDirty&&(this.__transformDirty=!1,c.__worldTransformDirty--))},__updateMask:function(t){null!=this.__graphics&&(t.__commands.overrideMatrix(this.__worldTransform),t.__commands.append(this.__graphics.__commands),t.set___dirty(!0),t.__visible=!0,null==t.__bounds&&(t.__bounds=new Gi),this.__graphics.__getBounds(t.__bounds,Ke.__identity))},get_alpha:function(){return this.__alpha},get_cacheAsBitmap:function(){return this.__cacheAsBitmap},get_filters:function(){return null==this.__filters?[]:this.__filters.slice()},set_filters:function(t){return null!=t&&t.length>0?(this.__filters=t,this.__forceCacheAsBitmap=!0,this.__cacheAsBitmap=!0,this.__updateFilters=!0):(this.__filters=null,this.__forceCacheAsBitmap=!1,this.__cacheAsBitmap=!1,this.__updateFilters=!1),this.__renderDirty||(this.__updateCachedBitmap=!0,this.__updateFilters=null!=this.get_filters()&&this.get_filters().length>0,this.__renderDirty=!0,c.__worldRenderDirty++),t},get_height:function(){var t=new Gi;return this.__getBounds(t,this.__transform),t.height},set_height:function(t){var e=new Gi,i=Ke.__temp;return i.identity(),this.__getBounds(e,i),t!=e.height?this.set_scaleY(t/e.height):this.set_scaleY(1),t},get_mask:function(){return this.__mask},get_mouseX:function(){var t;t=null!=this.stage?this.stage.__mouseX:Ze.current.stage.__mouseX;var e;return e=null!=this.stage?this.stage.__mouseY:Ze.current.stage.__mouseY,this.__getWorldTransform().__transformInverseX(t,e)},get_mouseY:function(){var t;t=null!=this.stage?this.stage.__mouseX:Ze.current.stage.__mouseX;var e;return e=null!=this.stage?this.stage.__mouseY:Ze.current.stage.__mouseY,this.__getWorldTransform().__transformInverseY(t,e)},get_name:function(){return this.__name},set_name:function(t){return this.__name=t},get_rotation:function(){return this.__rotation},set_rotation:function(t){if(t!=this.__rotation){this.__rotation=t;var e=this.__rotation*(Math.PI/180);this.__rotationSine=Math.sin(e),this.__rotationCosine=Math.cos(e);var i=this.get_scaleX(),s=this.get_scaleY();this.__transform.a=this.__rotationCosine*i,this.__transform.b=this.__rotationSine*i,this.__transform.c=-this.__rotationSine*s,this.__transform.d=this.__rotationCosine*s,this.__transformDirty||(this.__transformDirty=!0,c.__worldTransformDirty++)}return t},get_scaleX:function(){return 0==this.__transform.b?this.__transform.a:Math.sqrt(this.__transform.a*this.__transform.a+this.__transform.b*this.__transform.b)},set_scaleX:function(t){if(0==this.__transform.c)t!=this.__transform.a&&(this.__transformDirty||(this.__transformDirty=!0,c.__worldTransformDirty++)),this.__transform.a=t;else{var e=this.__rotationCosine*t,i=this.__rotationSine*t;(this.__transform.a!=e||this.__transform.b!=i)&&(this.__transformDirty||(this.__transformDirty=!0,c.__worldTransformDirty++)),this.__transform.a=e,this.__transform.b=i}return t},get_scaleY:function(){return 0==this.__transform.c?this.__transform.d:Math.sqrt(this.__transform.c*this.__transform.c+this.__transform.d*this.__transform.d)},set_scaleY:function(t){if(0==this.__transform.c)t!=this.__transform.d&&(this.__transformDirty||(this.__transformDirty=!0,c.__worldTransformDirty++)),this.__transform.d=t;else{var e=-this.__rotationSine*t,i=this.__rotationCosine*t;(this.__transform.d!=i||this.__transform.c!=e)&&(this.__transformDirty||(this.__transformDirty=!0,c.__worldTransformDirty++)),this.__transform.c=e,this.__transform.d=i}return t},get_scrollRect:function(){return null==this.__scrollRect?null:this.__scrollRect.clone()},set_scrollRect:function(t){return t!=this.__scrollRect&&(this.__transformDirty||(this.__transformDirty=!0,c.__worldTransformDirty++)),this.__scrollRect=t},get_transform:function(){return null==this.__objectTransform&&(this.__objectTransform=new Zs(this)),this.__objectTransform},get_visible:function(){return this.__visible},set_visible:function(t){return t!=this.__visible&&(this.__renderDirty||(this.__updateCachedBitmap=!0,this.__updateFilters=null!=this.get_filters()&&this.get_filters().length>0,this.__renderDirty=!0,c.__worldRenderDirty++)),this.__visible=t},get_width:function(){var t=new Gi;return this.__getBounds(t,this.__transform),t.width},get_x:function(){return this.__transform.tx},set_x:function(t){return t!=this.__transform.tx&&(this.__transformDirty||(this.__transformDirty=!0,c.__worldTransformDirty++)),this.__transform.tx=t},get_y:function(){return this.__transform.ty},set_y:function(t){return t!=this.__transform.ty&&(this.__transformDirty||(this.__transformDirty=!0,c.__worldTransformDirty++)),this.__transform.ty=t},__class__:c,__properties__:{get_mouseY:"get_mouseY",get_mouseX:"get_mouseX",set_y:"set_y",get_y:"get_y",set_x:"set_x",get_x:"get_x",get_width:"get_width",set_visible:"set_visible",get_visible:"get_visible",get_transform:"get_transform",set_scrollRect:"set_scrollRect",get_scrollRect:"get_scrollRect",set_scaleY:"set_scaleY",get_scaleY:"get_scaleY",set_scaleX:"set_scaleX",get_scaleX:"get_scaleX",set_rotation:"set_rotation",get_rotation:"get_rotation",set_name:"set_name",get_name:"get_name",get_mask:"get_mask",set_height:"set_height",get_height:"get_height",set_filters:"set_filters",get_filters:"get_filters",get_cacheAsBitmap:"get_cacheAsBitmap",get_alpha:"get_alpha"}});var f=function(){c.call(this),this.doubleClickEnabled=!1,this.mouseEnabled=!0,this.needsSoftKeyboard=!1,this.__tabEnabled=!1,this.tabIndex=-1};a["openfl.display.InteractiveObject"]=f,f.__name__=!0,f.__super__=c,f.prototype=s(c.prototype,{__getInteractive:function(t){return null!=t&&(t.push(this),null!=this.parent&&this.parent.__getInteractive(t)),!0},__hitTest:function(t,e,i,s,n){return!this.get_visible()||this.__isMask||n&&!this.mouseEnabled?!1:c.prototype.__hitTest.call(this,t,e,i,s,n)},get_tabEnabled:function(){return this.__tabEnabled},__class__:f,__properties__:s(c.prototype.__properties__,{get_tabEnabled:"get_tabEnabled"})});var d=function(){f.call(this),this.mouseChildren=!0,this.__children=[],this.__removedChildren=[]};a["openfl.display.DisplayObjectContainer"]=d,d.__name__=!0,d.__super__=f,d.prototype=s(f.prototype,{addChild:function(t){if(null!=t){null!=t.parent&&t.parent.removeChild(t),this.__children.push(t),t.parent=this,null!=this.stage&&t.__setStageReference(this.stage),t.__transformDirty||(t.__transformDirty=!0,c.__worldTransformDirty++),t.__renderDirty||(t.__updateCachedBitmap=!0,t.__updateFilters=null!=t.get_filters()&&t.get_filters().length>0,t.__renderDirty=!0,c.__worldRenderDirty++),this.__renderDirty||(this.__updateCachedBitmap=!0,this.__updateFilters=null!=this.get_filters()&&this.get_filters().length>0,this.__renderDirty=!0,c.__worldRenderDirty++);var e=new Ds(Ds.ADDED,!0);e.target=t,t.__dispatchEvent(e)}return t},getChildAt:function(t){return t>=0&&t<this.__children.length?this.__children[t]:null},getObjectsUnderPoint:function(t){var e=[];return this.__hitTest(t.x,t.y,!1,e,!1),e.reverse(),e},removeChild:function(t){return null!=t&&t.parent==this&&(t.__dispatchEvent(new Ds(Ds.REMOVED,!0)),null!=this.stage&&t.__setStageReference(null),t.parent=null,C.remove(this.__children,t),this.__removedChildren.push(t),t.__transformDirty||(t.__transformDirty=!0,c.__worldTransformDirty++),t.__renderDirty||(t.__updateCachedBitmap=!0,t.__updateFilters=null!=t.get_filters()&&t.get_filters().length>0,t.__renderDirty=!0,c.__worldRenderDirty++),this.__renderDirty||(this.__updateCachedBitmap=!0,this.__updateFilters=null!=this.get_filters()&&this.get_filters().length>0,this.__renderDirty=!0,c.__worldRenderDirty++)),t},removeChildAt:function(t){return t>=0&&t<this.__children.length?this.removeChild(this.__children[t]):null},__broadcast:function(t,e){null==t.target&&(t.target=this);var i=f.prototype.__broadcast.call(this,t,e);if(!t.__isCancelled&&e)for(var s=0,n=this.__children;s<n.length;){var r=n[s];if(++s,r.__broadcast(t,!0),t.__isCancelled)return!0}return i},__enterFrame:function(t){for(var e=0,i=this.__children;e<i.length;){var s=i[e];++e,s.__enterFrame(t)}},__getBounds:function(t,e){if(f.prototype.__getBounds.call(this,t,e),0!=this.__children.length){null!=e&&(this.__updateTransforms(e),this.__updateChildren(!0));for(var i=0,s=this.__children;i<s.length;){var n=s[i];++i,0==n.get_scaleX()||0==n.get_scaleY()||n.__isMask||n.__getBounds(t,n.__worldTransform)}null!=e&&(this.__updateTransforms(),this.__updateChildren(!0))}},__getRenderBounds:function(t,e){if(null!=this.__scrollRect)return void f.prototype.__getRenderBounds.call(this,t,e);if(f.prototype.__getBounds.call(this,t,e),0!=this.__children.length){null!=e&&(this.__updateTransforms(e),this.__updateChildren(!0));for(var i=0,s=this.__children;i<s.length;){var n=s[i];++i,0==n.get_scaleX()||0==n.get_scaleY()||n.__isMask||n.__getRenderBounds(t,n.__worldTransform)}null!=e&&(this.__updateTransforms(),this.__updateChildren(!0))}},__hitTest:function(t,e,i,s,n){if(!this.get_visible()||this.__isMask||n&&!this.mouseEnabled&&!this.mouseChildren)return!1;if(null!=this.get_mask()&&!this.get_mask().__hitTestMask(t,e))return!1;if(null!=this.get_scrollRect()&&!this.get_scrollRect().containsPoint(this.globalToLocal(new g(t,e))))return!1;var r=this.__children.length;if(n){if(null!=s&&this.mouseChildren){if(null!=s){for(var a=s.length,o=!1,_=!1;--r>=0&&(o=this.__children[r].__getInteractive(null),!((o||this.mouseEnabled&&!_)&&this.__children[r].__hitTest(t,e,i,s,!0)&&(_=!0,o))););if(_)return s.splice(a,0,this),!0}}else for(;--r>=0;)if(this.__children[r].__hitTest(t,e,i,null,!0))return null!=s&&s.push(this),!0}else for(;--r>=0;)this.__children[r].__hitTest(t,e,i,s,!1);return!1},__hitTestMask:function(t,e){for(var i=this.__children.length;--i>=0;)if(this.__children[i].__hitTestMask(t,e))return!0;return!1},__renderCairo:function(t){if(this.__renderable&&!(this.__worldAlpha<=0)){f.prototype.__renderCairo.call(this,t),null!=this.get_scrollRect()&&t.maskManager.pushRect(this.get_scrollRect(),this.__worldTransform),null!=this.__mask&&t.maskManager.pushMask(this.__mask);for(var e=0,i=this.__children;e<i.length;){var s=i[e];++e,s.__renderCairo(t)}this.__removedChildren.length>0&&this.__removedChildren.splice(0,this.__removedChildren.length),null!=this.__mask&&t.maskManager.popMask(),null!=this.get_scrollRect()&&t.maskManager.popRect()}},__renderCairoMask:function(t){null!=this.__graphics&&oi.renderMask(this.__graphics,t);for(var e=0,i=this.__children;e<i.length;){var s=i[e];++e,s.__renderCairoMask(t)}},__renderCanvas:function(t){if(this.__renderable&&!(this.__worldAlpha<=0)){f.prototype.__renderCanvas.call(this,t),null!=this.get_scrollRect()&&t.maskManager.pushRect(this.get_scrollRect(),this.__worldTransform),null!=this.__mask&&t.maskManager.pushMask(this.__mask);for(var e=0,i=this.__children;e<i.length;){var s=i[e];++e,s.__renderCanvas(t)}this.__removedChildren.length>0&&this.__removedChildren.splice(0,this.__removedChildren.length),null!=this.__mask&&t.maskManager.popMask(),null!=this.get_scrollRect()&&t.maskManager.popRect()}},__renderCanvasMask:function(t){null!=this.__graphics&&fi.renderMask(this.__graphics,t);var e=new Gi;this.__getBounds(e,this.__transform),t.context.rect(0,0,e.width,e.height)},__renderDOM:function(t){f.prototype.__renderDOM.call(this,t),null!=this.__mask&&t.maskManager.pushMask(this.__mask);for(var e=0,i=this.__children;e<i.length;){var s=i[e];++e,s.__renderDOM(t)}for(var n=0,r=this.__removedChildren;n<r.length;){var a=r[n];++n,null==a.stage&&a.__renderDOM(t)}this.__removedChildren.length>0&&this.__removedChildren.splice(0,this.__removedChildren.length),null!=this.__mask&&t.maskManager.popMask()},__renderGL:function(t){if(this.__renderable&&!(this.__worldAlpha<=0)){if(this.__cacheAsBitmap)return void this.__cacheGL(t);null!=this.__scrollRect&&t.maskManager.pushRect(this.__scrollRect,this.__renderTransform),null!=this.__mask&&null!=this.__maskGraphics&&this.__maskGraphics.__commands.get_length()>0&&t.maskManager.pushMask(this),null!=this.__graphics&&(this.__graphics.__hardware?Wi.render(this,t):(fi.render(this.__graphics,t),Pi.renderBitmap(this,t)));for(var e=0,i=this.__children;e<i.length;){var s=i[e];++e,s.__renderGL(t)}null!=this.__mask&&null!=this.__maskGraphics&&this.__maskGraphics.__commands.get_length()>0&&t.maskManager.popMask(),null!=this.__scrollRect&&t.maskManager.popRect(),this.__removedChildren.length>0&&this.__removedChildren.splice(0,this.__removedChildren.length)}},__setStageReference:function(t){if(this.stage!=t&&(null!=this.stage&&this.__dispatchEvent(new Ds(Ds.REMOVED_FROM_STAGE,!1,!1)),this.stage=t,null!=t&&this.__dispatchEvent(new Ds(Ds.ADDED_TO_STAGE,!1,!1)),null!=this.__children))for(var e=0,i=this.__children;e<i.length;){var s=i[e];++e,s.__setStageReference(t)}},__update:function(t,e,i){if(f.prototype.__update.call(this,t,e,i),(this.__renderable||this.__isMask)&&e)for(var s=0,n=this.__children;s<n.length;){var r=n[s];++s,r.__update(t,!0,i)}},__updateChildren:function(t){f.prototype.__updateChildren.call(this,t);for(var e=0,i=this.__children;e<i.length;){var s=i[e];++e,s.__update(t,!0)}},get_numChildren:function(){return this.__children.length},__class__:d,__properties__:s(f.prototype.__properties__,{get_numChildren:"get_numChildren"})});var p=function(){d.call(this),this.buttonMode=!1,this.useHandCursor=!0,this.loaderInfo=Xe.create(null)};a["openfl.display.Sprite"]=p,p.__name__=!0,p.__super__=d,p.prototype=s(d.prototype,{startDrag:function(t,e){null==t&&(t=!1),null!=this.stage&&this.stage.__startDrag(this,t,e)},stopDrag:function(){null!=this.stage&&this.stage.__stopDrag(this)},__getCursor:function(){return this.buttonMode&&this.useHandCursor?Ee.POINTER:null},__hitTest:function(t,e,i,s,n){return!this.get_visible()||this.__isMask||n&&!this.mouseEnabled&&!this.mouseChildren?!1:null==this.get_mask()||this.get_mask().__hitTestMask(t,e)?d.prototype.__hitTest.call(this,t,e,i,s,n)?n:n&&!this.mouseEnabled||null==this.__graphics||!this.__graphics.__hitTest(t,e,i,this.__getWorldTransform())?!1:(null!=s&&s.push(this),!0):!1},__hitTestMask:function(t,e){return d.prototype.__hitTestMask.call(this,t,e)?!0:null!=this.__graphics&&this.__graphics.__hitTest(t,e,!0,this.__getWorldTransform())?!0:!1},get_graphics:function(){return null==this.__graphics&&(this.__graphics=new fs,this.__graphics.__owner=this),this.__graphics},get_tabEnabled:function(){return this.__tabEnabled||this.buttonMode},__class__:p,__properties__:s(d.prototype.__properties__,{get_graphics:"get_graphics"})});var g=function(t,e){null==e&&(e=0),null==t&&(t=0),this.x=t,this.y=e};a["openfl.geom.Point"]=g,g.__name__=!0,g.prototype={clone:function(){return new g(this.x,this.y)},copyFrom:function(t){this.x=t.x,this.y=t.y},offset:function(t,e){this.x+=t,this.y+=e},setTo:function(t,e){this.x=t,this.y=e},toString:function(){return"(x="+this.x+", y="+this.y+")"},__class__:g};var m=e.ru.octasoft.oem.designer.Main=function(){var e=this;p.call(this),m.messages=new Pn(null),m.view=this,m.undo=new M,m.redo=new M,m.toolbar=new Cn,this.addChild(m.toolbar),this.set_name("main"),m.cont=new p,m.cont.set_name("cont"),m.cont.set_x(6),m.cont.set_y(m.toolbar.get_height()+m.GRID_PADDING),m.cont.set_scrollRect(new Gi(-6,-6,m.clipSize+12,m.clipSize+12)),this.addChild(m.cont),m.grid=new xn,m.gridScale=m.grid.scale,m.cont.addChild(m.grid),m.cont.addEventListener(Ys.MOUSE_DOWN,function(t){m.click.x=t.stageX,m.click.y=t.stageY,m.draggable&&(De.stop(m.grid),m.grid.startDrag())}),m.cont.addEventListener(Ys.MOUSE_MOVE,function(t){m.gridDown&&!m.dragged&&(m.dragged=!0)}),m.cont.addEventListener(Ys.MOUSE_UP,function(t){if(m.click.x==t.stageX&&m.click.y==t.stageY){var i=new g(t.stageX,t.stageY),s=e.stage.getObjectsUnderPoint(i);1==s.length&&null!=m.selected&&m.selected.get_selected()&&(m.selected.set_selected(!1),m.selected=null,e.showPopup(m.selected,!1))}m.dragged=!1,m.grid.stopDrag(),m.validateEditor(),m.gridDown=!1}),m.cont.addEventListener(Ys.MOUSE_OUT,function(t){m.stopDragging()}),m.toolbar.addEventListener(Gn.ZOOM_IN,function(t){m.shelfPopup.set_visible(!1),m.grid.zoomIn(),m.validateEditor()}),m.toolbar.addEventListener(Gn.ZOOM_OUT,function(t){m.shelfPopup.set_visible(!1),m.grid.zoomOut(),m.validateEditor()}),m.toolbar.addEventListener(In.NAME,function(t){m.reset(!1)}),m.toolbar.addEventListener(Mn.NAME,function(t){null!=m.selected&&(m.grid.dispatchEvent(new Dn(m.selected,new g(m.selected.get_x(),m.selected.get_y()),An.DIRECT)),m.selected=null)}),m.toolbar.addEventListener(Un.NAME,r(this,this.onUndo)),m.toolbar.addEventListener(Nn.NAME,r(this,this.onRedo));var i=this.stage.stageWidth-m.RIGHTCOL_WIDTH,s=m.RIGHTCOL_WIDTH;m.rightTitle=new p,m.rightTitle.set_x(i),this.addChild(m.rightTitle),m.rightTitle.get_graphics().beginBitmapFill(He.getBitmapData("assets/images/border2.png")),m.rightTitle.get_graphics().drawRect(0,0,s,m.TOOLBAR_HEIGHT),m.rightTitle.get_graphics().endFill();var n=He.getFont(m.FONT_BOLD),a=new fn(n.name,21,0);a.align=dn.LEFT,m.label=new ln,m.label.set_defaultTextFormat(a),m.label.set_embedFonts(!0),m.label.set_autoSize(un.CENTER),m.label.set_text(m.messages.rightColumnLabel),m.label.set_x(i+s/2-m.label.get_width()/2),m.label.set_y(m.TOOLBAR_HEIGHT/2-m.label.get_height()/2),this.addChild(m.label),m.eq=new bn(m.grid),m.eq.set_x(i),m.eq.set_y(m.TOOLBAR_HEIGHT+30),this.addChild(m.eq),m.grid.addEventListener(Dn.NAME,function(e){t.log("FigureDeletedEvent"+D.string(e.from)),m.shelfPopup.set_visible(!1);var i=e.figure,s=e.from;m.grid.removeChild(i),i.set_selected(!1);for(var n=0,r=m.eq.body.get_numChildren();r>n;){var a,o=n++;if(a=st.__cast(m.eq.body.getChildAt(o),En),a.figure.id==e.figure.id){var _=a,h=_.usedQty;_.set_usedQty(h-1)}}var l=e.context;switch(l[1]){case 1:m.redo.push(new Ln(i,s,An.REDO));break;case 2:m.undo.push(new Ln(i,s,An.UNDO));break;default:m.redo.clear(),m.undo.push(new Ln(i,s,An.UNDO))}}),m.grid.addEventListener(Ln.NAME,function(i){t.log("FigureAddedEvent "+D.string(i.to));var s=i.figure,n=i.to;if(s.set_x(n.x),s.set_y(n.y),m.grid.addChild(s),i.shift){var r=s.picture.getBounds(e),a=s;a.set_x(a.get_x()+r.width/2);var o=s;o.set_y(o.get_y()+r.height/2)}if(!e.validateDrop(s))return void m.grid.removeChild(s);e.validatePosition(s),e.validateBounds(s);for(var _=0,h=m.eq.body.get_numChildren();h>_;){var l,u=_++;if(l=st.__cast(m.eq.body.getChildAt(u),En),
l.figure.id==i.figure.id){var c=l,f=c.usedQty;c.set_usedQty(f+1)}}var d=i.context;switch(d[1]){case 1:m.redo.push(new Dn(s,n,An.REDO));break;case 2:m.undo.push(new Dn(s,n,An.UNDO));break;default:m.redo.clear(),m.undo.push(new Dn(s,n,An.UNDO))}e.showPopup(s,!0)}),m.grid.addEventListener(kn.NAME,function(i){t.log("FigureMovedEvent"+D.string(i.from)+" -> "+D.string(i.to));var s=i.figure,n=i.to;if(s.set_x(n.x),s.set_y(n.y),!e.validateDrop(s))return s.set_x(i.from.x),void s.set_y(i.from.y);e.validatePosition(s),e.validateBounds(s),m.grid.addChild(s);var r=i.context;switch(r[1]){case 1:m.redo.push(new kn(s,i.to,i.from,An.REDO));break;case 2:m.undo.push(new kn(s,i.to,i.from,An.UNDO));break;default:m.redo.clear(),m.undo.push(new kn(s,i.to,i.from,An.UNDO))}}),m.grid.addEventListener(Bn.NAME,function(e){t.log("FigureRotateEvent "+e.from+" "+e.to);var i=e.figure;i.set_rotation(e.to);var s=e.context;switch(s[1]){case 1:m.redo.push(new Bn(i,e.to,e.from,An.REDO));break;case 2:m.undo.push(new Bn(i,e.to,e.from,An.UNDO));break;default:m.redo.clear(),m.undo.push(new Bn(i,e.to,e.from,An.UNDO))}}),m.grid.addEventListener(On.NAME,function(t){e.validateBounds(t.figure)}),m.grid.addEventListener(Fn.NAME,r(this,this.onSelect)),this.stage.addEventListener(Hs.KEY_UP,function(t){var i=t.keyCode;switch(i){case 37:e.keyboardNav(!1);break;case 39:e.keyboardNav(!0)}}),m.shelfPopup=new Rn,m.cont.addChild(m.shelfPopup),window.onEditorReady()};a["ru.octasoft.oem.designer.Main"]=m,m.__name__=!0,m.messages=null,m.view=null,m.rightTitle=null,m.label=null,m.toolbar=null,m.cont=null,m.grid=null,m.eq=null,m.dragged=null,m.gridDown=null,m.shelfPopup=null,m.selected=null,m.undo=null,m.redo=null,m.gridScale=null,m.compare2=function(t,e,i){return Math.abs(t-e)<=i},m.compare=function(t,e){return m.compare2(t,e,.5)},m.validateEditor=function(){m.grid.get_x()>0&&De.tween(m.grid,1,{x:0}),m.grid.get_x()+m.grid.scaledW<=m.clipSize&&m.grid.scaledW>=m.clipSize&&De.tween(m.grid,1,{x:m.clipSize-m.grid.scaledW}),m.grid.get_y()>0&&De.tween(m.grid,1,{y:0})},m.stopDragging=function(){m.dragged&&(m.dragged=!1,m.grid.stopDrag(),m.validateEditor())},m.updateLanguage=function(){m.label.set_text(m.messages.rightColumnLabel),m.shelfPopup.updateLanguage()},m.init=function(t){m.reset(),t.hideControls&&(m.eq.set_visible(m.toolbar.set_visible(m.label.set_visible(m.rightTitle.set_visible(!1)))),m.cont.set_scrollRect(null),m.cont.set_y(6),m.draggable=!1),t.language&&(m.messages=new Pn(t.language),m.updateLanguage()),m.grid.init(t.w,t.h,k.createEnum(yn,t.type),m.clipSize);var e=I.array(t.items);m.load(e,function(){if(null!=t.placedItems)for(var e=t.placedItems,i=0;i<e.length;){var s=e[i];++i;var n=m.eq.findItemById(s.id);null!=n&&m.grid.add(n,s.x,s.y,s.rotation,s.lift)}})},m.load=function(t,e){if(0==t.length)return void e();var i=t.shift();m.eq.addObject(i,function(){m.load(t,e)})},m.scroll=function(t,e,i){if(0==m.prev&&(m.prev=t),t!=e){var s=m.prev-i;t>i&&s>0&&(i=t),i>e&&0>s&&(i=e);var n=(i-t)/(e-t);m.view.set_y((e-t)*n),m.eq.scroll(n),m.prev=i}},m.reset=function(t){for(null==t&&(t=!0);m.grid.get_numChildren()>0;)m.grid.removeChildAt(0);if(t){for(;m.eq.body.get_numChildren()>0;)m.eq.body.removeChildAt(0);m.eq.items=[],m.eq.offY=0,m.eq.body.set_y(0),m.eq.body.set_height(0)}for(var e=0,i=m.eq.body.get_numChildren();i>e;){var s,n=e++;s=st.__cast(m.eq.body.getChildAt(n),En),s.set_usedQty(0)}m.undo.clear(),m.redo.clear()},m.placeItem=function(t){var e=m.eq.findItemById(t.id);null!=e&&m.grid.add(e,t.x,t.y,t.rotation,t.lift)},m.saveJPG=function(){var t=m.shelfPopup.get_visible();m.shelfPopup.set_visible(!1),null!=m.selected&&m.selected.set_selected(!1);var e=m.grid.scale;m.grid.setScale(m.gridScale);var i=new os(D["int"](m.grid.get_width())-6,D["int"](m.grid.get_height())-6,!1,16777215);i.draw(m.grid,new Ke(1,0,0,1,6,6));for(var s=i.getPixels(new Gi(0,0,i.width+6,i.height+6)),n=G.alloc(s.length),r=0,a=s.length;a>r;){var o=r++;n.set(o,s.readByte())}var _=new J,h={width:i.width,height:i.height,quality:100,pixels:n};return new Vn(_).write(h),m.grid.setScale(e),m.shelfPopup.set_visible(t),null!=m.selected&&m.selected.set_selected(!0),W.encode(_.getBytes())},m.getScene=function(){for(var t={objects:[]},e=0,i=m.grid.get_numChildren();i>e;){var s=e++,n=m.grid.getChildAt(s);if(st.__instanceof(n,Wn)){var r=n,a=r.picture.getBounds(m.grid),o=r.get_x()-a.width/2,_=r.get_y()-a.height/2,h={id:r.id,x:Math.max(0,Sn.pixelsToUnits(o/m.grid.scale)),y:Math.max(0,Sn.pixelsToUnits(_/m.grid.scale)),rotation:r.get_rotation()};t.objects.push(h),r.type==Tn.shelf&&L.setField(h,"lift",r.get_lift())}}return t},m.__super__=p,m.prototype=s(p.prototype,{keyboardNav:function(t){if(null!=m.selected&&m.selected.type==Tn.shelf){for(var e=[],i=0,s=m.grid.get_numChildren();s>i;){var n=i++,r=m.grid.getChildAt(n);if(st.__instanceof(r,Wn)){var a=r;a.type==m.selected.type&&e.push(a)}}if(!(e.length<=1)){e.sort(function(t,e){return t.number-e.number});var o=C.indexOf(e,m.selected,0);t?(o++,o==e.length&&(o=0)):(o--,-1==o&&(o=e.length-1)),m.selected.set_selected(!1),m.selected=e[o],m.selected.set_selected(!0),m.selected.parent.addChild(m.selected),this.showPopup(m.selected,!0)}}},showPopup:function(t,e){e&&t.type==Tn.shelf?(m.shelfPopup.set_visible(!0),m.shelfPopup.update(t)):m.shelfPopup.set_visible(!1)},nearWall:function(t){var e=t.picture.getBounds(m.grid);return m.compare(t.get_x(),e.width/2)||m.compare(t.get_y(),e.height/2)||m.compare(t.get_x(),m.grid.scaledW-e.width/2)||m.compare(t.get_y(),m.grid.scaledH-e.height/2)},validateBounds:function(t){var e=t.picture.getBounds(m.grid);e.x<0&&t.set_x(e.width/2),e.y<0&&t.set_y(e.height/2),e.get_right()>m.grid.scaledW&&t.set_x(m.grid.scaledW-e.width/2),e.get_bottom()>m.grid.scaledH&&t.set_y(m.grid.scaledH-e.height/2),t.set_x(Math.round(t.get_x())),t.set_y(Math.round(t.get_y()))},validatePosition:function(t){var e=t.picture.getBounds(m.grid);e.x<0&&t.set_x(e.width/2),e.y<0&&t.set_y(e.height/2),e.get_right()>m.grid.scaledW&&t.set_x(m.grid.scaledW-e.width/2),e.get_bottom()>m.grid.scaledH&&t.set_y(m.grid.scaledH-e.height/2);var i=t.type;switch(i[1]){case 1:var s=t.get_x(),n=t.get_y(),r=m.grid.scaledW-t.get_x(),a=m.grid.scaledH-t.get_y(),o=Math.min(s,Math.min(n,Math.min(r,a)));o==s&&t.set_x(e.width/2),o==n&&t.set_y(e.height/2),o==r&&t.set_x(m.grid.scaledW-e.width/2),o==a&&t.set_y(m.grid.scaledH-e.height/2);break;case 3:var _=t.get_x(),h=t.get_y(),l=m.grid.scaledW-t.get_x(),u=0,c=m.grid.gridType;switch(c[1]){case 0:u=Math.min(_,Math.min(h,l));break;case 1:u=Math.min(h,l);break;case 2:u=h;break;case 3:}u==_&&t.set_x(e.width/2),u==h&&t.set_y(e.height/2),u==l&&t.set_x(m.grid.scaledW-e.width/2)}t.set_x(Math.round(t.get_x())),t.set_y(Math.round(t.get_y()))},validateDrop:function(t){if((t.type==Tn.light||t.type==Tn.shelf)&&m.grid.gridType==yn.island)return!1;for(var e=0,i=m.grid.get_numChildren();i>e;){var s=e++,n=m.grid.getChildAt(m.grid.get_numChildren()-s-1);if(st.__instanceof(n,Wn)&&t!=n){var r=n,a=t.picture.getBounds(m.grid),o=r.picture.getBounds(m.grid);if(a.intersects(o)&&t.type!=Tn.plug&&t.type!=Tn.shelf&&(t.type!=Tn.light||!this.nearWall(r)))return!1}}return!0},onUndo:function(t){if(0!=m.undo.length){var e=m.undo.pop();m.grid.dispatchEvent(e)}},onRedo:function(t){if(0!=m.redo.length){var e=m.redo.pop();m.grid.dispatchEvent(e)}},onSelect:function(t){t.figure==m.selected?(m.selected=null,t.figure.set_selected(!1),this.showPopup(m.selected,!1)):(null!=m.selected&&m.selected.set_selected(!1),m.selected=t.figure,m.selected.set_selected(!0),this.showPopup(m.selected,!0))},listObjectsUnderMouse:function(t){var e=new g(t.stageX,t.stageY),i=this.stage.getObjectsUnderPoint(e);if(i.length>0&&i[0]!=t.target){var s;s=st.__cast(i[0],p),s.get_graphics().beginFill(16711680),s.get_graphics().drawRect(0,0,100,100)}},__class__:m});var v=function(){Ze.current.addChild(this),m.call(this),this.dispatchEvent(new Ds(Ds.ADDED_TO_STAGE,!1,!1))};a.DocumentClass=v,v.__name__=!0,v.__super__=m,v.prototype=s(m.prototype,{__class__:v});var b=function(){this.onChange=new _t};a["lime.AssetLibrary"]=b,b.__name__=!0,b.prototype={exists:function(t,e){return!1},getFont:function(t){return null},getImage:function(t){return null},isLocal:function(t,e){return!0},unload:function(){},__class__:b};var x=function(){this.type=new j,this.path=new j,this.className=new j,b.call(this),T.registerFont(P),T.registerFont(R);var t;t="assets/fonts/gothaprobol-webfont.ttf",this.className.set(t,w),this.type.set(t,"FONT"),t="assets/fonts/gothaproreg-webfont.ttf",this.className.set(t,E),this.type.set(t,"FONT"),t="assets/images/border1.png",this.path.set(t,t),this.type.set(t,"IMAGE"),t="assets/images/border2.png",this.path.set(t,t),this.type.set(t,"IMAGE"),t="assets/images/decor.png",this.path.set(t,t),this.type.set(t,"IMAGE"),t="assets/images/delete.png",this.path.set(t,t),this.type.set(t,"IMAGE"),t="assets/images/popup_left.png",this.path.set(t,t),this.type.set(t,"IMAGE"),t="assets/images/popup_right.png",this.path.set(t,t),this.type.set(t,"IMAGE"),t="assets/images/popup_top.png",this.path.set(t,t),this.type.set(t,"IMAGE"),t="assets/images/redo.png",this.path.set(t,t),this.type.set(t,"IMAGE"),t="assets/images/rotate.png",this.path.set(t,t),this.type.set(t,"IMAGE"),t="assets/images/shelf_bg1.png",this.path.set(t,t),this.type.set(t,"IMAGE"),t="assets/images/undo.png",this.path.set(t,t),this.type.set(t,"IMAGE"),t="assets/images/zoomIn.png",this.path.set(t,t),this.type.set(t,"IMAGE"),t="assets/images/zoomOut.png",this.path.set(t,t),this.type.set(t,"IMAGE");var e=null;if(null!=_.config&&Object.prototype.hasOwnProperty.call(_.config,"assetsPrefix")&&(e=_.config.assetsPrefix),null!=e)for(var i=this.path.keys();i.hasNext();){var s=i.next(),n=e+this.path.get(s);this.path.set(s,n)}};a.DefaultAssetLibrary=x,x.__name__=!0,x.__super__=b,x.prototype=s(b.prototype,{exists:function(t,e){var i;i=null!=e?st.__cast(e,String):null;var s=this.type.get(t);if(null!=s){if(s==i||("SOUND"==i||"MUSIC"==i)&&("MUSIC"==s||"SOUND"==s))return!0;if("BINARY"==i||null==i||"BINARY"==s&&"TEXT"==i)return!0}return!1},getFont:function(t){return st.__cast(k.createInstance(this.className.get(t),[]),y)},getImage:function(t){return zt.fromImageElement(function(e){var i,s=e.path.get(t);return i=Bt.images.get(s)}(this))},isLocal:function(t,e){var i;return i=null!=e?st.__cast(e,String):null,!0},__class__:x});var y=function(t){null!=t&&(this.name=t),null!=this.__fontPath&&this.__fromFile(this.__fontPath)};a["lime.text.Font"]=y,y.__name__=!0,y.prototype={__fromFile:function(t){this.__fontPath=t},__class__:y};var w=function(){y.call(this),this.name="Gotham Pro Bold"};a.__ASSET__assets_fonts_gothaprobol_webfont_ttf=w,w.__name__=!0,w.__super__=y,w.prototype=s(y.prototype,{__class__:w});var E=function(){y.call(this),this.name="Gotham Pro Regular"};a.__ASSET__assets_fonts_gothaproreg_webfont_ttf=E,E.__name__=!0,E.__super__=y,E.prototype=s(y.prototype,{__class__:E});var T=function(t){y.call(this,t)};a["openfl.text.Font"]=T,T.__name__=!0,T.registerFont=function(t){var e;e=st.__cast(k.createInstance(t,[]),T),null!=e&&T.__registeredFonts.push(e)},T.__fromLimeFont=function(t){var e=new T;return e.name=t.name,e.src=t.src,e},T.__super__=y,T.prototype=s(y.prototype,{__class__:T});var P=function(){var t=new w;this.src=t.src,this.name=t.name,T.call(this)};a.__ASSET__OPENFL__assets_fonts_gothaprobol_webfont_ttf=P,P.__name__=!0,P.__super__=T,P.prototype=s(T.prototype,{__class__:P});var R=function(){var t=new E;this.src=t.src,this.name=t.name,T.call(this)};a.__ASSET__OPENFL__assets_fonts_gothaproreg_webfont_ttf=R,R.__name__=!0,R.__super__=T,R.prototype=s(T.prototype,{__class__:R});var S=function(t,e){e=e.split("u").join(""),this.r=new RegExp(t,e)};a.EReg=S,S.__name__=!0,S.prototype={match:function(t){return this.r.global&&(this.r.lastIndex=0),this.r.m=this.r.exec(t),this.r.s=t,null!=this.r.m},replace:function(t,e){return t.replace(this.r,e)},__class__:S};var C=function(){};a.HxOverrides=C,C.__name__=!0,C.cca=function(t,e){var i=t.charCodeAt(e);if(i==i)return i},C.substr=function(t,e,i){return null!=e&&0!=e&&null!=i&&0>i?"":(null==i&&(i=t.length),0>e?(e=t.length+e,0>e&&(e=0)):0>i&&(i=t.length+i-e),t.substr(e,i))},C.indexOf=function(t,e,i){var s=t.length;for(0>i&&(i+=s,0>i&&(i=0));s>i;){if(t[i]===e)return i;i++}return-1},C.remove=function(t,e){var i=C.indexOf(t,e,0);return-1==i?!1:(t.splice(i,1),!0)},C.iter=function(t){return{cur:0,arr:t,hasNext:function(){return this.cur<this.arr.length},next:function(){return this.arr[this.cur++]}}};var I=function(){};a.Lambda=I,I.__name__=!0,I.array=function(t){for(var e=[],i=n(t)();i.hasNext();){var s=i.next();e.push(s)}return e},I.count=function(t,e){var i=0;if(null==e)for(var s=n(t)();s.hasNext();){s.next();i++}else for(var r=n(t)();r.hasNext();){var a=r.next();e(a)&&i++}return i};var M=function(){this.length=0};a.List=M,M.__name__=!0,M.prototype={add:function(t){var e=[t];null==this.h?this.h=e:this.q[1]=e,this.q=e,this.length++},push:function(t){var e=[t,this.h];this.h=e,null==this.q&&(this.q=e),this.length++},pop:function(){if(null==this.h)return null;var t=this.h[0];return this.h=this.h[1],null==this.h&&(this.q=null),this.length--,t},clear:function(){this.h=null,this.q=null,this.length=0},__class__:M},Math.__name__=!0;var A=function(){p.call(this);var t=this.getBackgroundColor(),e=t>>16&255,i=t>>8&255,s=255&t,n=.299*e+.587*i+.114*s,r=0;70>n&&(r=16777215);var a=30,o=7,_=this.getHeight()/2-o/2,h=this.getWidth()-2*a,l=2;this.outline=new p,this.outline.get_graphics().beginFill(r,.07),this.outline.get_graphics().drawRect(0,0,h,o),this.outline.set_x(a),this.outline.set_y(_),this.addChild(this.outline),this.progress=new p,this.progress.get_graphics().beginFill(r,.35),this.progress.get_graphics().drawRect(0,0,h-2*l,o-2*l),this.progress.set_x(a+l),this.progress.set_y(_+l),this.progress.set_scaleX(0),this.addChild(this.progress)};a.NMEPreloader=A,A.__name__=!0,A.__super__=p,A.prototype=s(p.prototype,{getBackgroundColor:function(){return 16777215},getHeight:function(){var t=0;return t>0?t:Ze.current.stage.stageHeight},getWidth:function(){var t=0;return t>0?t:Ze.current.stage.stageWidth},onInit:function(){},onLoaded:function(){this.dispatchEvent(new Ds(Ds.COMPLETE))},onUpdate:function(t,e){var i=t/e;i>1&&(i=1),this.progress.set_scaleX(i)},__class__:A});var L=function(){};a.Reflect=L,L.__name__=!0,L.hasField=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},L.field=function(t,e){try{return t[e]}catch(i){return i instanceof it&&(i=i.val),null}},L.setField=function(t,e,i){t[e]=i},L.getProperty=function(t,e){var i;return null==t?null:t.__properties__&&(i=t.__properties__["get_"+e])?t[i]():t[e]},L.setProperty=function(t,e,i){var s;t.__properties__&&(s=t.__properties__["set_"+e])?t[s](i):t[e]=i},L.callMethod=function(t,e,i){return e.apply(t,i)},L.fields=function(t){var e=[];if(null!=t){var i=Object.prototype.hasOwnProperty;for(var s in t)"__id__"!=s&&"hx__closures__"!=s&&i.call(t,s)&&e.push(s)}return e},L.isFunction=function(t){return"function"==typeof t&&!(t.__name__||t.__ename__)},L.compareMethods=function(t,e){return t==e?!0:L.isFunction(t)&&L.isFunction(e)?t.scope==e.scope&&t.method==e.method&&null!=t.method:!1};var D=function(){};a.Std=D,D.__name__=!0,D.string=function(t){return st.__string_rec(t,"")},D["int"]=function(t){return 0|t},D.parseInt=function(t){var e=parseInt(t,10);return 0!=e||120!=C.cca(t,1)&&88!=C.cca(t,1)||(e=parseInt(t)),isNaN(e)?null:e};var O=function(){};a.StringTools=O,O.__name__=!0,O.urlEncode=function(t){return encodeURIComponent(t)},O.startsWith=function(t,e){return t.length>=e.length&&C.substr(t,0,e.length)==e},O.isSpace=function(t,e){var i=C.cca(t,e);return i>8&&14>i||32==i},O.ltrim=function(t){for(var e=t.length,i=0;e>i&&O.isSpace(t,i);)i++;return i>0?C.substr(t,i,e-i):t},O.rtrim=function(t){for(var e=t.length,i=0;e>i&&O.isSpace(t,e-i-1);)i++;return i>0?C.substr(t,0,e-i):t},O.trim=function(t){return O.ltrim(O.rtrim(t))},O.replace=function(t,e,i){return t.split(e).join(i)},O.hex=function(t,e){var i="",s="0123456789ABCDEF";do i=s.charAt(15&t)+i,t>>>=4;while(t>0);if(null!=e)for(;i.length<e;)i="0"+i;return i},O.fastCodeAt=function(t,e){return t.charCodeAt(e)};var k=function(){};a.Type=k,k.__name__=!0,k.resolveClass=function(t){var e=a[t];return null!=e&&e.__name__?e:null},k.resolveEnum=function(t){var e=a[t];return null!=e&&e.__ename__?e:null},k.createInstance=function(t,e){var i=e.length;switch(i){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6]);case 8:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]);default:throw new it("Too many arguments")}return null},k.createEnum=function(t,e,i){var s=L.field(t,e);if(null==s)throw new it("No such constructor "+e);if(L.isFunction(s)){if(null==i)throw new it("Constructor "+e+" need parameters");return L.callMethod(t,s,i)}if(null!=i&&0!=i.length)throw new it("Constructor "+e+" does not need parameters");return s},k.getClassFields=function(t){var e=L.fields(t);return C.remove(e,"__name__"),C.remove(e,"__interfaces__"),C.remove(e,"__properties__"),C.remove(e,"__super__"),C.remove(e,"__meta__"),C.remove(e,"prototype"),e};var B={};a["_UInt.UInt_Impl_"]=B,B.__name__=!0,B.toFloat=function(t){var e=t;return 0>e?4294967296+e:e+0};var F=function(){};a["haxe.IMap"]=F,F.__name__=!0;var N=function(t,e){this.high=t,this.low=e};a["haxe._Int64.___Int64"]=N,N.__name__=!0,N.prototype={__class__:N};var U=function(t){var e=this;this.id=setInterval(function(){e.run()},t)};a["haxe.Timer"]=U,U.__name__=!0,U.delay=function(t,e){var i=new U(e);return i.run=function(){i.stop(),t()},i},U.prototype={stop:function(){null!=this.id&&(clearInterval(this.id),this.id=null)},run:function(){},__class__:U};var G=function(t){this.length=t.byteLength,this.b=new ir(t),this.b.bufferValue=t,t.hxBytes=this,t.bytes=this.b};a["haxe.io.Bytes"]=G,G.__name__=!0,G.alloc=function(t){return new G(new $n(t))},G.ofString=function(t){for(var e=[],i=0;i<t.length;){var s=O.fastCodeAt(t,i++);s>=55296&&56319>=s&&(s=s-55232<<10|1023&O.fastCodeAt(t,i++)),127>=s?e.push(s):2047>=s?(e.push(192|s>>6),e.push(128|63&s)):65535>=s?(e.push(224|s>>12),e.push(128|s>>6&63),e.push(128|63&s)):(e.push(240|s>>18),e.push(128|s>>12&63),e.push(128|s>>6&63),e.push(128|63&s))}return new G(new ir(e).buffer)},G.ofData=function(t){var e=t.hxBytes;return null!=e?e:new G(t)},G.prototype={get:function(t){return this.b[t]},set:function(t,e){this.b[t]=255&e},getString:function(t,e){if(0>t||0>e||t+e>this.length)throw new it($.OutsideBounds);for(var i="",s=this.b,n=String.fromCharCode,r=t,a=t+e;a>r;){var o=s[r++];if(128>o){if(0==o)break;i+=n(o)}else if(224>o)i+=n((63&o)<<6|127&s[r++]);else if(240>o){var _=s[r++];i+=n((31&o)<<12|(127&_)<<6|127&s[r++])}else{var h=s[r++],l=s[r++],u=(15&o)<<18|(127&h)<<12|(127&l)<<6|127&s[r++];i+=n((u>>10)+55232),i+=n(1023&u|56320)}}return i},toString:function(){return this.getString(0,this.length)},__class__:G};var W=function(){};a["haxe.crypto.Base64"]=W,W.__name__=!0,W.encode=function(t,e){null==e&&(e=!0);var i=new V(W.BYTES).encodeBytes(t).toString();if(e){var s=t.length%3;switch(s){case 1:i+="==";break;case 2:i+="="}}return i};var V=function(t){for(var e=t.length,i=1;e>1<<i;)i++;if(i>8||e!=1<<i)throw new it("BaseCode : base length must be a power of two.");this.base=t,this.nbits=i};a["haxe.crypto.BaseCode"]=V,V.__name__=!0,V.prototype={encodeBytes:function(t){for(var e=this.nbits,i=this.base,s=8*t.length/e|0,n=G.alloc(s+(8*t.length%e==0?0:1)),r=0,a=0,o=(1<<e)-1,_=0,h=0;s>h;){for(;e>a;)a+=8,r<<=8,r|=t.get(_++);a-=e,n.set(h++,i.b[r>>a&o])}return a>0&&n.set(h++,i.b[r<<e-a&o]),n},__class__:V};var H=function(){};a["haxe.crypto.Md5"]=H,H.__name__=!0,H.encode=function(t){var e=new H,i=e.doEncode(H.str2blks(t));return e.hex(i)},H.str2blks=function(t){for(var e=(t.length+8>>6)+1,i=[],s=16*e,n=0;s>n;){var r=n++;i[r]=0}for(var a=0;a<t.length;)i[a>>2]|=C.cca(t,a)<<(8*t.length+a)%4*8,a++;i[a>>2]|=128<<(8*t.length+a)%4*8;var o=8*t.length,_=16*e-2;return i[_]=255&o,i[_]|=(o>>>8&255)<<8,i[_]|=(o>>>16&255)<<16,i[_]|=(o>>>24&255)<<24,i},H.prototype={bitOR:function(t,e){var i=1&t|1&e,s=t>>>1|e>>>1;return s<<1|i},bitXOR:function(t,e){var i=1&t^1&e,s=t>>>1^e>>>1;return s<<1|i},bitAND:function(t,e){var i=1&t&(1&e),s=t>>>1&e>>>1;return s<<1|i},addme:function(t,e){var i=(65535&t)+(65535&e),s=(t>>16)+(e>>16)+(i>>16);return s<<16|65535&i},hex:function(t){for(var e="",i="0123456789abcdef",s=0;s<t.length;){var n=t[s];++s;for(var r=0;4>r;){var a=r++;e+=i.charAt(n>>8*a+4&15)+i.charAt(n>>8*a&15)}}return e},rol:function(t,e){return t<<e|t>>>32-e},cmn:function(t,e,i,s,n,r){return this.addme(this.rol(this.addme(this.addme(e,t),this.addme(s,r)),n),i)},ff:function(t,e,i,s,n,r,a){return this.cmn(this.bitOR(this.bitAND(e,i),this.bitAND(~e,s)),t,e,n,r,a)},gg:function(t,e,i,s,n,r,a){return this.cmn(this.bitOR(this.bitAND(e,s),this.bitAND(i,~s)),t,e,n,r,a)},hh:function(t,e,i,s,n,r,a){return this.cmn(this.bitXOR(this.bitXOR(e,i),s),t,e,n,r,a)},ii:function(t,e,i,s,n,r,a){return this.cmn(this.bitXOR(i,this.bitOR(e,~s)),t,e,n,r,a)},doEncode:function(t){for(var e,i=1732584193,s=-271733879,n=-1732584194,r=271733878,a=0;a<t.length;){var o=i,_=s,h=n,l=r;e=0,i=this.ff(i,s,n,r,t[a],7,-680876936),r=this.ff(r,i,s,n,t[a+1],12,-389564586),n=this.ff(n,r,i,s,t[a+2],17,606105819),s=this.ff(s,n,r,i,t[a+3],22,-1044525330),i=this.ff(i,s,n,r,t[a+4],7,-176418897),r=this.ff(r,i,s,n,t[a+5],12,1200080426),n=this.ff(n,r,i,s,t[a+6],17,-1473231341),s=this.ff(s,n,r,i,t[a+7],22,-45705983),i=this.ff(i,s,n,r,t[a+8],7,1770035416),r=this.ff(r,i,s,n,t[a+9],12,-1958414417),n=this.ff(n,r,i,s,t[a+10],17,-42063),s=this.ff(s,n,r,i,t[a+11],22,-1990404162),i=this.ff(i,s,n,r,t[a+12],7,1804603682),r=this.ff(r,i,s,n,t[a+13],12,-40341101),n=this.ff(n,r,i,s,t[a+14],17,-1502002290),s=this.ff(s,n,r,i,t[a+15],22,1236535329),i=this.gg(i,s,n,r,t[a+1],5,-165796510),r=this.gg(r,i,s,n,t[a+6],9,-1069501632),n=this.gg(n,r,i,s,t[a+11],14,643717713),s=this.gg(s,n,r,i,t[a],20,-373897302),i=this.gg(i,s,n,r,t[a+5],5,-701558691),r=this.gg(r,i,s,n,t[a+10],9,38016083),n=this.gg(n,r,i,s,t[a+15],14,-660478335),s=this.gg(s,n,r,i,t[a+4],20,-405537848),i=this.gg(i,s,n,r,t[a+9],5,568446438),r=this.gg(r,i,s,n,t[a+14],9,-1019803690),n=this.gg(n,r,i,s,t[a+3],14,-187363961),s=this.gg(s,n,r,i,t[a+8],20,1163531501),i=this.gg(i,s,n,r,t[a+13],5,-1444681467),r=this.gg(r,i,s,n,t[a+2],9,-51403784),n=this.gg(n,r,i,s,t[a+7],14,1735328473),s=this.gg(s,n,r,i,t[a+12],20,-1926607734),i=this.hh(i,s,n,r,t[a+5],4,-378558),r=this.hh(r,i,s,n,t[a+8],11,-2022574463),n=this.hh(n,r,i,s,t[a+11],16,1839030562),s=this.hh(s,n,r,i,t[a+14],23,-35309556),i=this.hh(i,s,n,r,t[a+1],4,-1530992060),r=this.hh(r,i,s,n,t[a+4],11,1272893353),n=this.hh(n,r,i,s,t[a+7],16,-155497632),s=this.hh(s,n,r,i,t[a+10],23,-1094730640),i=this.hh(i,s,n,r,t[a+13],4,681279174),r=this.hh(r,i,s,n,t[a],11,-358537222),n=this.hh(n,r,i,s,t[a+3],16,-722521979),s=this.hh(s,n,r,i,t[a+6],23,76029189),i=this.hh(i,s,n,r,t[a+9],4,-640364487),r=this.hh(r,i,s,n,t[a+12],11,-421815835),n=this.hh(n,r,i,s,t[a+15],16,530742520),s=this.hh(s,n,r,i,t[a+2],23,-995338651),i=this.ii(i,s,n,r,t[a],6,-198630844),r=this.ii(r,i,s,n,t[a+7],10,1126891415),n=this.ii(n,r,i,s,t[a+14],15,-1416354905),s=this.ii(s,n,r,i,t[a+5],21,-57434055),i=this.ii(i,s,n,r,t[a+12],6,1700485571),r=this.ii(r,i,s,n,t[a+3],10,-1894986606),n=this.ii(n,r,i,s,t[a+10],15,-1051523),s=this.ii(s,n,r,i,t[a+1],21,-2054922799),i=this.ii(i,s,n,r,t[a+8],6,1873313359),r=this.ii(r,i,s,n,t[a+15],10,-30611744),n=this.ii(n,r,i,s,t[a+6],15,-1560198380),s=this.ii(s,n,r,i,t[a+13],21,1309151649),i=this.ii(i,s,n,r,t[a+4],6,-145523070),r=this.ii(r,i,s,n,t[a+11],10,-1120210379),n=this.ii(n,r,i,s,t[a+2],15,718787259),s=this.ii(s,n,r,i,t[a+9],21,-343485551),i=this.addme(i,o),s=this.addme(s,_),n=this.addme(n,h),r=this.addme(r,l),a+=16}return[i,s,n,r]},__class__:H};var Y=function(){this.h={}};a["haxe.ds.IntMap"]=Y,Y.__name__=!0,Y.__interfaces__=[F],Y.prototype={remove:function(t){return this.h.hasOwnProperty(t)?(delete this.h[t],!0):!1},__class__:Y};var X=function(){this.h={},this.h.__keys__={}};a["haxe.ds.ObjectMap"]=X,X.__name__=!0,X.__interfaces__=[F],X.prototype={set:function(t,e){var i=t.__id__||(t.__id__=++X.count);this.h[i]=e,this.h.__keys__[i]=t},remove:function(t){var e=t.__id__;return null==this.h.__keys__[e]?!1:(delete this.h[e],delete this.h.__keys__[e],!0)},keys:function(){var t=[];for(var e in this.h.__keys__)this.h.hasOwnProperty(e)&&t.push(this.h.__keys__[e]);return C.iter(t)},iterator:function(){return{ref:this.h,it:this.keys(),hasNext:function(){return this.it.hasNext()},next:function(){var t=this.it.next();return this.ref[t.__id__]}}},__class__:X};var z=function(t,e){this.map=t,this.keys=e,this.index=0,this.count=e.length};a["haxe.ds._StringMap.StringMapIterator"]=z,z.__name__=!0,z.prototype={hasNext:function(){return this.index<this.count},next:function(){return this.map.get(this.keys[this.index++])},__class__:z};var j=function(){this.h={}};a["haxe.ds.StringMap"]=j,j.__name__=!0,j.__interfaces__=[F],j.prototype={set:function(t,e){null!=Qn[t]?this.setReserved(t,e):this.h[t]=e},get:function(t){return null!=Qn[t]?this.getReserved(t):this.h[t]},exists:function(t){return null!=Qn[t]?this.existsReserved(t):this.h.hasOwnProperty(t)},setReserved:function(t,e){null==this.rh&&(this.rh={}),this.rh["$"+t]=e},getReserved:function(t){return null==this.rh?null:this.rh["$"+t]},existsReserved:function(t){return null==this.rh?!1:this.rh.hasOwnProperty("$"+t)},remove:function(t){return null!=Qn[t]?(t="$"+t,null!=this.rh&&this.rh.hasOwnProperty(t)?(delete this.rh[t],!0):!1):this.h.hasOwnProperty(t)?(delete this.h[t],!0):!1},keys:function(){var t=this.arrayKeys();return C.iter(t)},arrayKeys:function(){var t=[];for(var e in this.h)this.h.hasOwnProperty(e)&&t.push(e);if(null!=this.rh)for(var e in this.rh)36==e.charCodeAt(0)&&t.push(e.substr(1));return t},iterator:function(){return new z(this,this.arrayKeys())},__class__:j};var K={};a["haxe.ds._Vector.Vector_Impl_"]=K,K.__name__=!0,K.blit=function(t,e,i,s,n){for(var r=0;n>r;){var a=r++;i[s+a]=t[e+a]}};var q=function(){this.b=[]};a["haxe.io.BytesBuffer"]=q,q.__name__=!0,q.prototype={addBytes:function(t,e,i){if(0>e||0>i||e+i>t.length)throw new it($.OutsideBounds);for(var s=(this.b,t.b),n=e,r=e+i;r>n;){var a=n++;this.b.push(s[a])}},getBytes:function(){var t=new G(new ir(this.b).buffer);return this.b=null,t},__class__:q};var Z=function(){};a["haxe.io.Output"]=Z,Z.__name__=!0,Z.prototype={writeByte:function(t){throw new it("Not implemented")},writeBytes:function(t,e,i){var s=i,n=t.b.bufferValue;if(0>e||0>i||e+i>t.length)throw new it($.OutsideBounds);for(;s>0;)this.writeByte(n[e]),e++,s--;return i},write:function(t){for(var e=t.length,i=0;e>0;){var s=this.writeBytes(t,i,e);if(0==s)throw new it($.Blocked);i+=s,e-=s}},__class__:Z};var J=function(){this.b=new q};a["haxe.io.BytesOutput"]=J,J.__name__=!0,J.__super__=Z,J.prototype=s(Z.prototype,{writeByte:function(t){this.b.b.push(t)},writeBytes:function(t,e,i){return this.b.addBytes(t,e,i),i},getBytes:function(){return this.b.getBytes()},__class__:J});var Q=function(){};a["haxe.io.Eof"]=Q,Q.__name__=!0,Q.prototype={toString:function(){return"Eof"},__class__:Q};var $=a["haxe.io.Error"]={__ename__:!0,__constructs__:["Blocked","Overflow","OutsideBounds","Custom"]};$.Blocked=["Blocked",0],$.Blocked.toString=o,$.Blocked.__enum__=$,$.Overflow=["Overflow",1],$.Overflow.toString=o,$.Overflow.__enum__=$,$.OutsideBounds=["OutsideBounds",2],$.OutsideBounds.toString=o,$.OutsideBounds.__enum__=$,$.Custom=function(t){var e=["Custom",3,t];return e.__enum__=$,e.toString=o,e};var tt=function(){};a["haxe.io.FPHelper"]=tt,tt.__name__=!0,tt.i32ToFloat=function(t){var e=1-(t>>>31<<1),i=t>>>23&255,s=8388607&t;return 0==s&&0==i?0:e*(1+Math.pow(2,-23)*s)*Math.pow(2,i-127)},tt.floatToI32=function(t){if(0==t)return 0;var e;e=0>t?-t:t;var i=Math.floor(Math.log(e)/.6931471805599453);-127>i?i=-127:i>128&&(i=128);var s=8388607&Math.round(8388608*(e/Math.pow(2,i)-1));return(0>t?-2147483648:0)|i+127<<23|s},tt.i64ToDouble=function(t,e){var i=1-(e>>>31<<1),s=(e>>20&2047)-1023,n=4294967296*(1048575&e)+2147483648*(t>>>31)+(2147483647&t);return 0==n&&-1023==s?0:i*(1+Math.pow(2,-52)*n)*Math.pow(2,s)},tt.doubleToI64=function(t){var e=tt.i64tmp;if(0==t)e.low=0,e.high=0;else{var i;i=0>t?-t:t;var s,n=Math.floor(Math.log(i)/.6931471805599453),r=4503599627370496*(i/Math.pow(2,n)-1);s=Math.round(r);var a=0|s,o=s/4294967296|0;e.low=a,e.high=(0>t?-2147483648:0)|n+1023<<20|o}return e};var et=function(t){switch(t){case".":case"..":return this.dir=t,void(this.file="")}var e=t.lastIndexOf("/"),i=t.lastIndexOf("\\");i>e?(this.dir=C.substr(t,0,i),t=C.substr(t,i+1,null),this.backslash=!0):e>i?(this.dir=C.substr(t,0,e),t=C.substr(t,e+1,null)):this.dir=null;var s=t.lastIndexOf(".");-1!=s?(this.ext=C.substr(t,s+1,null),this.file=C.substr(t,0,s)):(this.ext=null,this.file=t)};a["haxe.io.Path"]=et,et.__name__=!0,et.withoutExtension=function(t){var e=new et(t);return e.ext=null,e.toString()},et.prototype={toString:function(){return(null==this.dir?"":this.dir+(this.backslash?"\\":"/"))+this.file+(null==this.ext?"":"."+this.ext)},__class__:et};var it=function(t){Error.call(this),this.val=t,Object.prototype.hasOwnProperty.call(t,"name")?this.name=L.field(t,"name"):this.name="Error",Object.prototype.hasOwnProperty.call(t,"message")?this.message=L.field(t,"message"):this.message=D.string(t),Error.captureStackTrace&&Error.captureStackTrace(this,it)};a["js._Boot.HaxeError"]=it,it.__name__=!0,it.__super__=Error,it.prototype=s(Error.prototype,{__class__:it});var st=function(){};a["js.Boot"]=st,st.__name__=!0,st.getClass=function(t){if(t instanceof Array&&null==t.__enum__)return Array;var e=t.__class__;if(null!=e)return e;var i=st.__nativeClassName(t);return null!=i?st.__resolveNativeClass(i):null},st.__string_rec=function(t,e){if(null==t)return"null";if(e.length>=5)return"<...>";var i=typeof t;switch("function"==i&&(t.__name__||t.__ename__)&&(i="object"),i){case"object":if(t instanceof Array){if(t.__enum__){if(2==t.length)return t[0];var s=t[0]+"(";e+="	";for(var n=2,r=t.length;r>n;){var a=n++;s+=2!=a?","+st.__string_rec(t[a],e):st.__string_rec(t[a],e)}return s+")"}var o=t.length,_="[";e+="	";for(var h=0;o>h;){var l=h++;_+=(l>0?",":"")+st.__string_rec(t[l],e)}return _+="]"}var u;try{u=t.toString}catch(c){return c instanceof it&&(c=c.val),"???"}if(null!=u&&u!=Object.toString&&"function"==typeof u){var f=t.toString();if("[object Object]"!=f)return f}var d=null,p="{\n";e+="	";var g=null!=t.hasOwnProperty;for(var d in t)(!g||t.hasOwnProperty(d))&&"prototype"!=d&&"__class__"!=d&&"__super__"!=d&&"__interfaces__"!=d&&"__properties__"!=d&&(2!=p.length&&(p+=", \n"),p+=e+d+" : "+st.__string_rec(t[d],e));return e=e.substring(1),p+="\n"+e+"}";case"function":return"<function>";case"string":return t;default:return String(t)}},st.__interfLoop=function(t,e){if(null==t)return!1;if(t==e)return!0;var i=t.__interfaces__;if(null!=i)for(var s=0,n=i.length;n>s;){var r=s++,a=i[r];if(a==e||st.__interfLoop(a,e))return!0}return st.__interfLoop(t.__super__,e)},st.__instanceof=function(t,e){if(null==e)return!1;switch(e){case zn:return(0|t)===t;case Kn:return"number"==typeof t;case qn:return"boolean"==typeof t;case String:return"string"==typeof t;case Array:return t instanceof Array&&null==t.__enum__;case jn:return!0;default:if(null==t)return!1;if("function"==typeof e){if(t instanceof e)return!0;if(st.__interfLoop(st.getClass(t),e))return!0}else if("object"==typeof e&&st.__isNativeObj(e)&&t instanceof e)return!0;return e==Zn&&null!=t.__name__?!0:e==Jn&&null!=t.__ename__?!0:t.__enum__==e}},st.__cast=function(t,e){if(st.__instanceof(t,e))return t;throw new it("Cannot cast "+D.string(t)+" to "+D.string(e))},st.__nativeClassName=function(t){var e=st.__toStr.call(t).slice(8,-1);return"Object"==e||"Function"==e||"Math"==e||"JSON"==e?null:e},st.__isNativeObj=function(t){
return null!=st.__nativeClassName(t)},st.__resolveNativeClass=function(t){return Function("return typeof "+t+' != "undefined" ? '+t+" : null")()};var nt=function(t){if(t instanceof Array&&null==t.__enum__)this.a=t,this.byteLength=t.length;else{var e=t;this.a=[];for(var i=0;e>i;){var s=i++;this.a[s]=0}this.byteLength=e}};a["js.html.compat.ArrayBuffer"]=nt,nt.__name__=!0,nt.sliceImpl=function(t,e){var i=new ir(this,t,null==e?null:e-t),s=new $n(i.byteLength),n=new ir(s);return n.set(i),s},nt.prototype={slice:function(t,e){return new nt(this.a.slice(t,e))},__class__:nt};var rt=function(t,e,i){if(this.buf=t,null==e?this.offset=0:this.offset=e,null==i?this.length=t.byteLength-this.offset:this.length=i,this.offset<0||this.length<0||this.offset+this.length>t.byteLength)throw new it($.OutsideBounds)};a["js.html.compat.DataView"]=rt,rt.__name__=!0,rt.prototype={getInt8:function(t){var e=this.buf.a[this.offset+t];return e>=128?e-256:e},getUint8:function(t){return this.buf.a[this.offset+t]},getInt16:function(t,e){var i=this.getUint16(t,e);return i>=32768?i-65536:i},getUint16:function(t,e){return e?this.buf.a[this.offset+t]|this.buf.a[this.offset+t+1]<<8:this.buf.a[this.offset+t]<<8|this.buf.a[this.offset+t+1]},getInt32:function(t,e){var i=this.offset+t,s=this.buf.a[i++],n=this.buf.a[i++],r=this.buf.a[i++],a=this.buf.a[i++];return e?s|n<<8|r<<16|a<<24:a|r<<8|n<<16|s<<24},getUint32:function(t,e){var i=this.getInt32(t,e);return 0>i?i+4294967296:i},getFloat32:function(t,e){return tt.i32ToFloat(this.getInt32(t,e))},getFloat64:function(t,e){var i=this.getInt32(t,e),s=this.getInt32(t+4,e);return tt.i64ToDouble(e?i:s,e?s:i)},setInt8:function(t,e){0>e?this.buf.a[t+this.offset]=e+128&255:this.buf.a[t+this.offset]=255&e},setUint8:function(t,e){this.buf.a[t+this.offset]=255&e},setInt16:function(t,e,i){this.setUint16(t,0>e?e+65536:e,i)},setUint16:function(t,e,i){var s=t+this.offset;i?(this.buf.a[s]=255&e,this.buf.a[s++]=e>>8&255):(this.buf.a[s++]=e>>8&255,this.buf.a[s]=255&e)},setInt32:function(t,e,i){this.setUint32(t,e,i)},setUint32:function(t,e,i){var s=t+this.offset;i?(this.buf.a[s++]=255&e,this.buf.a[s++]=e>>8&255,this.buf.a[s++]=e>>16&255,this.buf.a[s++]=e>>>24):(this.buf.a[s++]=e>>>24,this.buf.a[s++]=e>>16&255,this.buf.a[s++]=e>>8&255,this.buf.a[s++]=255&e)},setFloat32:function(t,e,i){this.setUint32(t,tt.floatToI32(e),i)},setFloat64:function(t,e,i){var s=tt.doubleToI64(e);i?(this.setUint32(t,s.low),this.setUint32(t,s.high)):(this.setUint32(t,s.high),this.setUint32(t,s.low))},__class__:rt};var at=function(){};a["js.html.compat.Uint8Array"]=at,at.__name__=!0,at._new=function(t,e,i){var s;if("number"==typeof t){s=[];for(var n=0;t>n;){var r=n++;s[r]=0}s.byteLength=s.length,s.byteOffset=0,s.buffer=new nt(s)}else if(st.__instanceof(t,nt)){var a=t;null==e&&(e=0),null==i&&(i=a.byteLength-e),s=0==e?a.a:a.a.slice(e,e+i),s.byteLength=s.length,s.byteOffset=e,s.buffer=a}else{if(!(t instanceof Array&&null==t.__enum__))throw new it("TODO "+D.string(t));s=t.slice(),s.byteLength=s.length,s.byteOffset=0,s.buffer=new nt(s)}return s.subarray=at._subarray,s.set=at._set,s},at._set=function(t,e){var i=this;if(st.__instanceof(t.buffer,nt)){var s=t;if(t.byteLength+e>i.byteLength)throw new it("set() outside of range");for(var n=0,r=t.byteLength;r>n;){var a=n++;i[a+e]=s[a]}}else{if(!(t instanceof Array&&null==t.__enum__))throw new it("TODO");var o=t;if(o.length+e>i.byteLength)throw new it("set() outside of range");for(var _=0,h=o.length;h>_;){var l=_++;i[l+e]=o[l]}}},at._subarray=function(t,e){var i=this,s=at._new(i.slice(t,e));return s.byteOffset=t,s};var ot=function(){this.enabled=!0,this.audio=new j,this.font=new j,this.image=new j};a["lime.AssetCache"]=ot,ot.__name__=!0,ot.prototype={clear:function(t){if(null==t)this.audio=new j,this.font=new j,this.image=new j;else{for(var e=this.audio.keys();e.hasNext();){var i=e.next();O.startsWith(i,t)&&this.audio.remove(i)}for(var s=this.font.keys();s.hasNext();){var n=s.next();O.startsWith(n,t)&&this.font.remove(n)}for(var r=this.image.keys();r.hasNext();){var a=r.next();O.startsWith(a,t)&&this.image.remove(a)}}},__class__:ot};var _t=function(){this.listeners=[],this.priorities=[],this.repeat=[]};a["lime.app.Event_Void_Void"]=_t,_t.__name__=!0,_t.prototype={add:function(t,e,i){null==i&&(i=0),null==e&&(e=!1);for(var s=0,n=this.priorities.length;n>s;){var r=s++;if(i>this.priorities[r])return this.listeners.splice(r,0,t),this.priorities.splice(r,0,i),void this.repeat.splice(r,0,!e)}this.listeners.push(t),this.priorities.push(i),this.repeat.push(!e)},remove:function(t){for(var e=this.listeners.length;--e>=0;)L.compareMethods(this.listeners[e],t)&&(this.listeners.splice(e,1),this.priorities.splice(e,1),this.repeat.splice(e,1))},dispatch:function(){for(var t=this.listeners,e=this.repeat,i=0;i<t.length;)t[i](),e[i]?i++:this.remove(t[i])},__class__:_t};var ht=function(){};a["lime.Assets"]=ht,ht.__name__=!0,ht.getFont=function(e,i){if(null==i&&(i=!0),ht.initialize(),i&&ht.cache.enabled&&ht.cache.font.exists(e))return ht.cache.font.get(e);var s,n=e.substring(0,e.indexOf(":")),r=e.indexOf(":")+1;s=C.substr(e,r,null);var a=ht.getLibrary(n);if(null!=a)if(a.exists(s,"FONT")){if(a.isLocal(s,"FONT")){var o=a.getFont(s);return i&&ht.cache.enabled&&ht.cache.font.set(e,o),o}t.log('[Assets] Font asset "'+e+'" exists, but only asynchronously')}else t.log('[Assets] There is no Font asset with an ID of "'+e+'"');else t.log('[Assets] There is no asset library named "'+n+'"');return null},ht.getImage=function(e,i){if(null==i&&(i=!0),ht.initialize(),i&&ht.cache.enabled&&ht.cache.image.exists(e)){var s=ht.cache.image.get(e);if(ht.isValidImage(s))return s}var n,r=e.substring(0,e.indexOf(":")),a=e.indexOf(":")+1;n=C.substr(e,a,null);var o=ht.getLibrary(r);if(null!=o)if(o.exists(n,"IMAGE")){if(o.isLocal(n,"IMAGE")){var _=o.getImage(n);return i&&ht.cache.enabled&&ht.cache.image.set(e,_),_}t.log('[Assets] Image asset "'+e+'" exists, but only asynchronously')}else t.log('[Assets] There is no Image asset with an ID of "'+e+'"');else t.log('[Assets] There is no asset library named "'+r+'"');return null},ht.getLibrary=function(t){return(null==t||""==t)&&(t="default"),ht.libraries.get(t)},ht.initialize=function(){ht.initialized||(ht.registerLibrary("default",new x),ht.initialized=!0)},ht.isValidImage=function(t){return!0},ht.registerLibrary=function(t,e){if(ht.libraries.exists(t)){if(ht.libraries.get(t)==e)return;ht.unloadLibrary(t)}null!=e&&e.onChange.add(ht.library_onChange),ht.libraries.set(t,e)},ht.unloadLibrary=function(t){ht.initialize();var e=ht.libraries.get(t);null!=e&&(ht.cache.clear(t+":"),e.onChange.remove(ht.library_onChange),e.unload()),ht.libraries.remove(t)},ht.library_onChange=function(){ht.cache.clear(),ht.onChange.dispatch()};var lt=function(t){this.parent=t,this.currentUpdate=0,this.lastUpdate=0,this.nextUpdate=0,this.framePeriod=-1,Wt.init()};a["lime._backend.html5.HTML5Application"]=lt,lt.__name__=!0,lt.prototype={convertKeyCode:function(t){if(t>=65&&90>=t)return t+32;switch(t){case 16:return 1073742049;case 17:return 1073742048;case 18:return 1073742050;case 20:return 1073741881;case 144:return 1073741907;case 37:return 1073741904;case 38:return 1073741906;case 39:return 1073741903;case 40:return 1073741905;case 45:return 1073741897;case 46:return 127;case 36:return 1073741898;case 35:return 1073741901;case 33:return 1073741899;case 34:return 1073741902;case 112:return 1073741882;case 113:return 1073741883;case 114:return 1073741884;case 115:return 1073741885;case 116:return 1073741886;case 117:return 1073741887;case 118:return 1073741888;case 119:return 1073741889;case 120:return 1073741890;case 121:return 1073741891;case 122:return 1073741892;case 123:return 1073741893;case 124:return 1073741928;case 125:return 1073741929;case 126:return 1073741930;case 186:return 59;case 187:return 61;case 188:return 44;case 189:return 45;case 190:return 46;case 191:return 47;case 192:return 96;case 219:return 91;case 220:return 92;case 221:return 93;case 222:return 39}return t},create:function(t){},exec:function(){window.addEventListener("keydown",r(this,this.handleKeyEvent),!1),window.addEventListener("keyup",r(this,this.handleKeyEvent),!1),window.addEventListener("focus",r(this,this.handleWindowEvent),!1),window.addEventListener("blur",r(this,this.handleWindowEvent),!1),window.addEventListener("resize",r(this,this.handleWindowEvent),!1),window.addEventListener("beforeunload",r(this,this.handleWindowEvent),!1);for(var t=0,e=["ms","moz","webkit","o"],i=0;i<e.length&&!window.requestAnimationFrame;++i)window.requestAnimationFrame=window[e[i]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[e[i]+"CancelAnimationFrame"]||window[e[i]+"CancelRequestAnimationFrame"];return window.requestAnimationFrame||(window.requestAnimationFrame=function(e,i){var s=(new Date).getTime(),n=Math.max(0,16-(s-t)),r=window.setTimeout(function(){e(s+n)},n);return t=s+n,r}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){clearTimeout(t)}),window.requestAnimFrame=window.requestAnimationFrame,this.lastUpdate=(new Date).getTime(),this.handleApplicationEvent(),0},exit:function(){},handleApplicationEvent:function(t){this.currentUpdate=(new Date).getTime(),this.currentUpdate>=this.nextUpdate&&(this.deltaTime=this.currentUpdate-this.lastUpdate,this.parent.onUpdate.dispatch(0|this.deltaTime),null!=this.parent.renderers[0]&&(this.parent.renderers[0].onRender.dispatch(),this.parent.renderers[0].flip()),this.framePeriod<0?(this.nextUpdate=this.currentUpdate,this.nextUpdate=this.currentUpdate):this.nextUpdate=this.currentUpdate+this.framePeriod,this.lastUpdate=this.currentUpdate),window.requestAnimationFrame(r(this,this.handleApplicationEvent))},handleKeyEvent:function(t){if(null!=this.parent.windows[0]){var e,i=this.convertKeyCode(null!=t.keyCode?t.keyCode:t.which);e=(t.shiftKey?3:0)|(t.ctrlKey?192:0)|(t.altKey?768:0)|(t.metaKey?3072:0),"keydown"==t.type?this.parent.windows[0].onKeyDown.dispatch(i,e):this.parent.windows[0].onKeyUp.dispatch(i,e)}},handleWindowEvent:function(t){if(null!=this.parent.windows[0]){var e=t.type;switch(e){case"focus":this.parent.windows[0].onFocusIn.dispatch(),this.parent.windows[0].onActivate.dispatch();break;case"blur":this.parent.windows[0].onFocusOut.dispatch(),this.parent.windows[0].onDeactivate.dispatch();break;case"resize":var i=this.parent.windows[0].__width,s=this.parent.windows[0].__height;this.parent.windows[0].backend.handleResize(),(this.parent.windows[0].__width!=i||this.parent.windows[0].__height!=s)&&this.parent.windows[0].onResize.dispatch(this.parent.windows[0].__width,this.parent.windows[0].__height);break;case"beforeunload":this.parent.windows[0].onClose.dispatch()}}},setFrameRate:function(t){return t>=60?this.framePeriod=-1:t>0?this.framePeriod=1e3/t:this.framePeriod=1e3,t},__class__:lt};var ut=function(){};a["lime._backend.html5.HTML5Mouse"]=ut,ut.__name__=!0,ut.__cursor=null,ut.__hidden=null,ut.set_cursor=function(t){if(ut.__cursor!=t){if(!ut.__hidden)for(var e=0,i=gt.current.windows;e<i.length;){var s=i[e];switch(++e,t[1]){case 0:s.backend.element.style.cursor="default";break;case 1:s.backend.element.style.cursor="crosshair";break;case 3:s.backend.element.style.cursor="move";break;case 4:s.backend.element.style.cursor="pointer";break;case 5:s.backend.element.style.cursor="nesw-resize";break;case 6:s.backend.element.style.cursor="ns-resize";break;case 7:s.backend.element.style.cursor="nwse-resize";break;case 8:s.backend.element.style.cursor="ew-resize";break;case 9:s.backend.element.style.cursor="text";break;case 10:s.backend.element.style.cursor="wait";break;case 11:s.backend.element.style.cursor="wait";break;default:s.backend.element.style.cursor="auto"}}ut.__cursor=t}return ut.__cursor};var ct=function(t){this.parent=t};a["lime._backend.html5.HTML5Renderer"]=ct,ct.__name__=!0,ct.prototype={create:function(){this.createContext();var t=this.parent.context;switch(t[1]){case 0:this.parent.window.backend.canvas.addEventListener("webglcontextlost",r(this,this.handleEvent),!1),this.parent.window.backend.canvas.addEventListener("webglcontextrestored",r(this,this.handleEvent),!1)}},createContext:function(){if(null!=this.parent.window.backend.div)this.parent.context=qt.DOM(this.parent.window.backend.div),this.parent.type=Jt.DOM;else if(null!=this.parent.window.backend.canvas){var t=null;null==t?(this.parent.context=qt.CANVAS(this.parent.window.backend.canvas.getContext("2d")),this.parent.type=Jt.CANVAS):(ie.context=t,this.parent.context=qt.OPENGL(ie.context),this.parent.type=Jt.OPENGL)}},flip:function(){},handleEvent:function(t){var e=t.type;switch(e){case"webglcontextlost":t.preventDefault(),this.parent.context=null,this.parent.onContextLost.dispatch();break;case"webglcontextrestored":this.createContext(),this.parent.onContextRestored.dispatch(this.parent.context)}},__class__:ct};var ft=function(t){this.unusedTouchesPool=new M,this.currentTouches=new Y,this.parent=t,null!=t.config&&Object.prototype.hasOwnProperty.call(t.config,"element")&&(this.element=t.config.element)};a["lime._backend.html5.HTML5Window"]=ft,ft.__name__=!0,ft.textInput=null,ft.prototype={close:function(){this.parent.application.removeWindow(this.parent)},create:function(t){if(this.setWidth=this.parent.__width,this.setHeight=this.parent.__height,this.parent.id=ft.windowID++,st.__instanceof(this.element,HTMLCanvasElement)?this.canvas=this.element:this.canvas=window.document.createElement("canvas"),null!=this.canvas){var e=this.canvas.style;e.setProperty("-webkit-transform","translateZ(0)",null),e.setProperty("transform","translateZ(0)",null)}else if(null!=this.div){var i=this.div.style;i.setProperty("-webkit-transform","translate3D(0,0,0)",null),i.setProperty("transform","translate3D(0,0,0)",null),i.position="relative",i.overflow="hidden",i.setProperty("-webkit-user-select","none",null),i.setProperty("-moz-user-select","none",null),i.setProperty("-ms-user-select","none",null),i.setProperty("-o-user-select","none",null)}if(0==this.parent.__width&&0==this.parent.__height&&(null!=this.element?(this.parent.set_width(this.element.clientWidth),this.parent.set_height(this.element.clientHeight)):(this.parent.set_width(window.innerWidth),this.parent.set_height(window.innerHeight)),this.parent.set_fullscreen(!0)),null!=this.canvas?(this.canvas.width=this.parent.__width,this.canvas.height=this.parent.__height):(this.div.style.width=this.parent.__width+"px",this.div.style.height=this.parent.__height+"px"),this.handleResize(),null!=this.element){null!=this.canvas?this.element!=this.canvas&&this.element.appendChild(this.canvas):this.element.appendChild(this.div);for(var s=["mousedown","mouseenter","mouseleave","mousemove","mouseup","wheel"],n=0;n<s.length;){var a=s[n];++n,this.element.addEventListener(a,r(this,this.handleMouseEvent),!0)}window.document.addEventListener("dragstart",function(t){return"img"==t.target.nodeName.toLowerCase()?(t.preventDefault(),!1):!0},!1),this.element.addEventListener("touchstart",r(this,this.handleTouchEvent),!0),this.element.addEventListener("touchmove",r(this,this.handleTouchEvent),!0),this.element.addEventListener("touchend",r(this,this.handleTouchEvent),!0)}},handleFocusEvent:function(t){this.enableTextEvents&&U.delay(function(){ft.textInput.focus()},20)},handleInputEvent:function(t){""!=ft.textInput.value&&(this.parent.onTextInput.dispatch(ft.textInput.value),ft.textInput.value="")},handleMouseEvent:function(t){var e=0,i=0;if("wheel"!=t.type){if(null!=this.element)if(null!=this.canvas){var s=this.canvas.getBoundingClientRect();e=(t.clientX-s.left)*(this.parent.__width/s.width),i=(t.clientY-s.top)*(this.parent.__height/s.height)}else if(null!=this.div){var n=this.div.getBoundingClientRect();e=t.clientX-n.left,i=t.clientY-n.top}else{var r=this.element.getBoundingClientRect();e=(t.clientX-r.left)*(this.parent.__width/r.width),i=(t.clientY-r.top)*(this.parent.__height/r.height)}else e=t.clientX,i=t.clientY;var a=t.type;switch(a){case"mousedown":this.parent.onMouseDown.dispatch(e,i,t.button);break;case"mouseenter":this.parent.onEnter.dispatch();break;case"mouseleave":this.parent.onLeave.dispatch();break;case"mouseup":this.parent.onMouseUp.dispatch(e,i,t.button);break;case"mousemove":this.parent.onMouseMove.dispatch(e,i)}}else this.parent.onMouseWheel.dispatch(t.deltaX,-t.deltaY)},handleResize:function(){var t=this.parent.__fullscreen||0==this.setWidth&&0==this.setHeight;if(null!=this.element&&(null==this.div||null!=this.div&&t))if(t)(this.parent.__width!=this.element.clientWidth||this.parent.__height!=this.element.clientHeight)&&(this.parent.set_width(this.element.clientWidth),this.parent.set_height(this.element.clientHeight),null!=this.canvas?this.element!=this.canvas&&(this.canvas.width=this.element.clientWidth,this.canvas.height=this.element.clientHeight):(this.div.style.width=this.element.clientWidth+"px",this.div.style.height=this.element.clientHeight+"px"));else{var e=this.element.clientWidth/this.setWidth,i=this.element.clientHeight/this.setHeight,s=Math.min(e,i);null!=this.canvas?this.element!=this.canvas&&(this.canvas.style.width=this.setWidth*s+"px",this.canvas.style.height=this.setHeight*s+"px",this.canvas.style.marginLeft=(this.element.clientWidth-this.setWidth*s)/2+"px",this.canvas.style.marginTop=(this.element.clientHeight-this.setHeight*s)/2+"px"):(this.div.style.width=this.setWidth*s+"px",this.div.style.height=this.setHeight*s+"px",this.div.style.marginLeft=(this.element.clientWidth-this.setWidth*s)/2+"px",this.div.style.marginTop=(this.element.clientHeight-this.setHeight*s)/2+"px")}},handleTouchEvent:function(t){t.preventDefault();var e=null;null!=this.element&&(e=null!=this.canvas?this.canvas.getBoundingClientRect():null!=this.div?this.div.getBoundingClientRect():this.element.getBoundingClientRect());for(var i=0,s=t.changedTouches;i<s.length;){var n=s[i];++i;var r=0,a=0;null!=e?(r=(n.clientX-e.left)*(this.parent.__width/e.width),a=(n.clientY-e.top)*(this.parent.__height/e.height)):(r=n.clientX,a=n.clientY);var o=t.type;switch(o){case"touchstart":var _=this.unusedTouchesPool.pop();null==_?_=new Te(r/this.setWidth,a/this.setHeight,n.identifier,0,0,n.force,this.parent.id):(_.x=r/this.setWidth,_.y=a/this.setHeight,_.id=n.identifier,_.dx=0,_.dy=0,_.pressure=n.force,_.device=this.parent.id),this.currentTouches.h[n.identifier]=_,Te.onStart.dispatch(_),null==this.primaryTouch&&(this.primaryTouch=_),_==this.primaryTouch&&this.parent.onMouseDown.dispatch(r,a,0);break;case"touchend":var h=this.currentTouches.h[n.identifier];if(null!=h){var l=h.x,u=h.y;h.x=r/this.setWidth,h.y=a/this.setHeight,h.dx=h.x-l,h.dy=h.y-u,h.pressure=n.force,Te.onEnd.dispatch(h),this.currentTouches.remove(n.identifier),this.unusedTouchesPool.add(h),h==this.primaryTouch&&(this.parent.onMouseUp.dispatch(r,a,0),this.primaryTouch=null)}break;case"touchmove":var c=this.currentTouches.h[n.identifier];if(null!=c){var f=c.x,d=c.y;c.x=r/this.setWidth,c.y=a/this.setHeight,c.dx=c.x-f,c.dy=c.y-d,c.pressure=n.force,Te.onMove.dispatch(c),c==this.primaryTouch&&this.parent.onMouseMove.dispatch(r,a)}}}},resize:function(t,e){},setEnableTextEvents:function(t){return t?(null==ft.textInput&&(ft.textInput=window.document.createElement("input"),ft.textInput.type="text",ft.textInput.style.position="fixed",ft.textInput.style.opacity="0",ft.textInput.style.color="transparent",ft.textInput.value="",ft.textInput.autocapitalize="off",ft.textInput.autocorrect="off",ft.textInput.autocomplete="off",ft.textInput.style.left="0px",ft.textInput.style.top="50%",new S("(iPad|iPhone|iPod).*OS 8_","gi").match(window.navigator.userAgent)?(ft.textInput.style.fontSize="0px",ft.textInput.style.width="0px",ft.textInput.style.height="0px"):(ft.textInput.style.width="1px",ft.textInput.style.height="1px"),ft.textInput.style.pointerEvents="none",ft.textInput.style.zIndex="-10000000",window.document.body.appendChild(ft.textInput)),this.enableTextEvents||(ft.textInput.addEventListener("input",r(this,this.handleInputEvent),!0),ft.textInput.addEventListener("blur",r(this,this.handleFocusEvent),!0)),ft.textInput.focus()):null!=ft.textInput&&(ft.textInput.removeEventListener("input",r(this,this.handleInputEvent),!0),ft.textInput.removeEventListener("blur",r(this,this.handleFocusEvent),!0),ft.textInput.blur()),this.enableTextEvents=t},setFullscreen:function(t){return!1},__class__:ft};var dt=function(){};a["lime.app.IModule"]=dt,dt.__name__=!0,dt.prototype={__class__:dt};var pt=function(){this.onExit=new yt};a["lime.app.Module"]=pt,pt.__name__=!0,pt.__interfaces__=[dt],pt.prototype={onGamepadAxisMove:function(t,e,i){},onGamepadButtonDown:function(t,e){},onGamepadButtonUp:function(t,e){},onGamepadConnect:function(t){},onGamepadDisconnect:function(t){},onJoystickAxisMove:function(t,e,i){},onJoystickButtonDown:function(t,e){},onJoystickButtonUp:function(t,e){},onJoystickConnect:function(t){},onJoystickDisconnect:function(t){},onJoystickHatMove:function(t,e,i){},onJoystickTrackballMove:function(t,e,i){},onKeyDown:function(t,e,i){},onKeyUp:function(t,e,i){},onModuleExit:function(t){},onMouseDown:function(t,e,i,s){},onMouseMove:function(t,e,i){},onMouseMoveRelative:function(t,e,i){},onMouseUp:function(t,e,i,s){},onMouseWheel:function(t,e,i){},onPreloadComplete:function(){},onPreloadProgress:function(t,e){},onRenderContextLost:function(t){},onRenderContextRestored:function(t,e){},onTextEdit:function(t,e,i,s){},onTextInput:function(t,e){},onTouchEnd:function(t){},onTouchMove:function(t){},onTouchStart:function(t){},onWindowActivate:function(t){},onWindowClose:function(t){},onWindowCreate:function(t){},onWindowDeactivate:function(t){},onWindowEnter:function(t){},onWindowFocusIn:function(t){},onWindowFocusOut:function(t){},onWindowFullscreen:function(t){},onWindowLeave:function(t){},onWindowMove:function(t,e,i){},onWindowMinimize:function(t){},onWindowResize:function(t,e,i){},onWindowRestore:function(t){},render:function(t){},update:function(t){},__class__:pt};var gt=function(){this.onUpdate=new yt,pt.call(this),null==gt.current&&(gt.current=this),this.modules=[],this.renderers=[],this.windows=[],this.windowByID=new Y,this.backend=new lt(this),this.onExit.add(r(this,this.onModuleExit)),this.onUpdate.add(r(this,this.update)),be.onConnect.add(r(this,this.onGamepadConnect)),xe.onConnect.add(r(this,this.onJoystickConnect)),Te.onStart.add(r(this,this.onTouchStart)),Te.onMove.add(r(this,this.onTouchMove)),Te.onEnd.add(r(this,this.onTouchEnd))};a["lime.app.Application"]=gt,gt.__name__=!0,gt.current=null,gt.__super__=pt,gt.prototype=s(pt.prototype,{addModule:function(t){if(this.modules.push(t),this.windows.length>0){for(var e=0,i=this.windows;e<i.length;){var s=i[e];++e,t.onWindowCreate(s)}(null==this.preloader||this.preloader.complete)&&t.onPreloadComplete()}},addRenderer:function(t){t.onRender.add(function(t,e){return function(){t(e)}}(r(this,this.render),t)),t.onContextLost.add(function(t,e){return function(){t(e)}}(r(this,this.onRenderContextLost),t)),t.onContextRestored.add(function(t,e){return function(i){t(e,i)}}(r(this,this.onRenderContextRestored),t)),this.renderers.push(t)},createWindow:function(t){if(t.onActivate.add(function(t,e){return function(){t(e)}}(r(this,this.onWindowActivate),t)),t.onClose.add(function(t,e){return function(){t(e)}}(r(this,this.onWindowClose),t)),t.onCreate.add(function(t,e){return function(){t(e)}}(r(this,this.onWindowCreate),t)),t.onDeactivate.add(function(t,e){return function(){t(e)}}(r(this,this.onWindowDeactivate),t)),t.onEnter.add(function(t,e){return function(){t(e)}}(r(this,this.onWindowEnter),t)),t.onFocusIn.add(function(t,e){return function(){t(e)}}(r(this,this.onWindowFocusIn),t)),t.onFocusOut.add(function(t,e){return function(){t(e)}}(r(this,this.onWindowFocusOut),t)),t.onFullscreen.add(function(t,e){return function(){t(e)}}(r(this,this.onWindowFullscreen),t)),t.onKeyDown.add(function(t,e){return function(i,s){t(e,i,s)}}(r(this,this.onKeyDown),t)),t.onKeyUp.add(function(t,e){return function(i,s){t(e,i,s)}}(r(this,this.onKeyUp),t)),t.onLeave.add(function(t,e){return function(){t(e)}}(r(this,this.onWindowLeave),t)),t.onMinimize.add(function(t,e){return function(){t(e)}}(r(this,this.onWindowMinimize),t)),t.onMouseDown.add(function(t,e){return function(i,s,n){t(e,i,s,n)}}(r(this,this.onMouseDown),t)),t.onMouseMove.add(function(t,e){return function(i,s){t(e,i,s)}}(r(this,this.onMouseMove),t)),t.onMouseMoveRelative.add(function(t,e){return function(i,s){t(e,i,s)}}(r(this,this.onMouseMoveRelative),t)),t.onMouseUp.add(function(t,e){return function(i,s,n){t(e,i,s,n)}}(r(this,this.onMouseUp),t)),t.onMouseWheel.add(function(t,e){return function(i,s){t(e,i,s)}}(r(this,this.onMouseWheel),t)),t.onMove.add(function(t,e){return function(i,s){t(e,i,s)}}(r(this,this.onWindowMove),t)),t.onResize.add(function(t,e){return function(i,s){t(e,i,s)}}(r(this,this.onWindowResize),t)),t.onRestore.add(function(t,e){return function(){t(e)}}(r(this,this.onWindowRestore),t)),t.onTextEdit.add(function(t,e){return function(i,s,n){t(e,i,s,n)}}(r(this,this.onTextEdit),t)),t.onTextInput.add(function(t,e){return function(i){t(e,i)}}(r(this,this.onTextInput),t)),null==t.renderer){var e=new Zt(t);this.addRenderer(e)}t.create(this),this.windows.push(t),this.windowByID.h[t.id]=t,t.onCreate.dispatch()},exec:function(){return gt.current=this,this.backend.exec()},onGamepadAxisMove:function(t,e,i){for(var s=0,n=this.modules;s<n.length;){var r=n[s];++s,r.onGamepadAxisMove(t,e,i)}},onGamepadButtonDown:function(t,e){for(var i=0,s=this.modules;i<s.length;){var n=s[i];++i,n.onGamepadButtonDown(t,e)}},onGamepadButtonUp:function(t,e){for(var i=0,s=this.modules;i<s.length;){var n=s[i];++i,n.onGamepadButtonUp(t,e)}},onGamepadConnect:function(t){for(var e=0,i=this.modules;e<i.length;){var s=i[e];++e,s.onGamepadConnect(t)}t.onAxisMove.add(function(t,e){return function(i,s){t(e,i,s)}}(r(this,this.onGamepadAxisMove),t)),t.onButtonDown.add(function(t,e){return function(i){t(e,i)}}(r(this,this.onGamepadButtonDown),t)),t.onButtonUp.add(function(t,e){return function(i){t(e,i)}}(r(this,this.onGamepadButtonUp),t)),t.onDisconnect.add(function(t,e){return function(){t(e)}}(r(this,this.onGamepadDisconnect),t))},onGamepadDisconnect:function(t){for(var e=0,i=this.modules;e<i.length;){var s=i[e];++e,s.onGamepadDisconnect(t)}},onJoystickAxisMove:function(t,e,i){for(var s=0,n=this.modules;s<n.length;){var r=n[s];++s,r.onJoystickAxisMove(t,e,i)}},onJoystickButtonDown:function(t,e){for(var i=0,s=this.modules;i<s.length;){var n=s[i];++i,n.onJoystickButtonDown(t,e)}},onJoystickButtonUp:function(t,e){for(var i=0,s=this.modules;i<s.length;){var n=s[i];++i,n.onJoystickButtonUp(t,e)}},onJoystickConnect:function(t){for(var e=0,i=this.modules;e<i.length;){var s=i[e];++e,s.onJoystickConnect(t)}t.onAxisMove.add(function(t,e){return function(i,s){t(e,i,s)}}(r(this,this.onJoystickAxisMove),t)),t.onButtonDown.add(function(t,e){return function(i){t(e,i)}}(r(this,this.onJoystickButtonDown),t)),t.onButtonUp.add(function(t,e){return function(i){t(e,i)}}(r(this,this.onJoystickButtonUp),t)),t.onDisconnect.add(function(t,e){return function(){t(e)}}(r(this,this.onJoystickDisconnect),t)),t.onHatMove.add(function(t,e){return function(i,s){t(e,i,s)}}(r(this,this.onJoystickHatMove),t)),t.onTrackballMove.add(function(t,e){return function(i,s){t(e,i,s)}}(r(this,this.onJoystickTrackballMove),t))},onJoystickDisconnect:function(t){for(var e=0,i=this.modules;e<i.length;){var s=i[e];++e,s.onJoystickDisconnect(t)}},onJoystickHatMove:function(t,e,i){for(var s=0,n=this.modules;s<n.length;){var r=n[s];++s,r.onJoystickHatMove(t,e,i)}},onJoystickTrackballMove:function(t,e,i){for(var s=0,n=this.modules;s<n.length;){var r=n[s];++s,r.onJoystickTrackballMove(t,e,i)}},onKeyDown:function(t,e,i){for(var s=0,n=this.modules;s<n.length;){var r=n[s];++s,r.onKeyDown(t,e,i)}},onKeyUp:function(t,e,i){for(var s=0,n=this.modules;s<n.length;){var r=n[s];++s,r.onKeyUp(t,e,i)}},onModuleExit:function(t){for(var e=0,i=this.modules;e<i.length;){var s=i[e];++e,s.onModuleExit(t)}this.backend.exit()},onMouseDown:function(t,e,i,s){for(var n=0,r=this.modules;n<r.length;){var a=r[n];++n,a.onMouseDown(t,e,i,s)}},onMouseMove:function(t,e,i){for(var s=0,n=this.modules;s<n.length;){var r=n[s];++s,r.onMouseMove(t,e,i)}},onMouseMoveRelative:function(t,e,i){for(var s=0,n=this.modules;s<n.length;){var r=n[s];++s,r.onMouseMoveRelative(t,e,i)}},onMouseUp:function(t,e,i,s){for(var n=0,r=this.modules;n<r.length;){var a=r[n];++n,a.onMouseUp(t,e,i,s)}},onMouseWheel:function(t,e,i){for(var s=0,n=this.modules;s<n.length;){var r=n[s];++s,r.onMouseWheel(t,e,i)}},onPreloadComplete:function(){for(var t=0,e=this.modules;t<e.length;){var i=e[t];++t,i.onPreloadComplete()}},onPreloadProgress:function(t,e){for(var i=0,s=this.modules;i<s.length;){var n=s[i];++i,n.onPreloadProgress(t,e)}},onRenderContextLost:function(t){for(var e=0,i=this.modules;e<i.length;){var s=i[e];++e,s.onRenderContextLost(t)}},onRenderContextRestored:function(t,e){for(var i=0,s=this.modules;i<s.length;){var n=s[i];++i,n.onRenderContextRestored(t,e)}},onTextEdit:function(t,e,i,s){for(var n=0,r=this.modules;n<r.length;){var a=r[n];++n,a.onTextEdit(t,e,i,s)}},onTextInput:function(t,e){for(var i=0,s=this.modules;i<s.length;){var n=s[i];++i,n.onTextInput(t,e)}},onTouchEnd:function(t){for(var e=0,i=this.modules;e<i.length;){var s=i[e];++e,s.onTouchEnd(t)}},onTouchMove:function(t){for(var e=0,i=this.modules;e<i.length;){var s=i[e];++e,s.onTouchMove(t)}},onTouchStart:function(t){for(var e=0,i=this.modules;e<i.length;){var s=i[e];++e,s.onTouchStart(t)}},onWindowActivate:function(t){for(var e=0,i=this.modules;e<i.length;){var s=i[e];++e,s.onWindowActivate(t)}},onWindowClose:function(t){for(var e=0,i=this.modules;e<i.length;){var s=i[e];++e,s.onWindowClose(t)}this.removeWindow(t)},onWindowCreate:function(t){for(var e=0,i=this.modules;e<i.length;){var s=i[e];++e,s.onWindowCreate(t)}},onWindowDeactivate:function(t){for(var e=0,i=this.modules;e<i.length;){var s=i[e];++e,s.onWindowDeactivate(t)}},onWindowEnter:function(t){for(var e=0,i=this.modules;e<i.length;){var s=i[e];++e,s.onWindowEnter(t)}},onWindowFocusIn:function(t){for(var e=0,i=this.modules;e<i.length;){var s=i[e];++e,s.onWindowFocusIn(t)}},onWindowFocusOut:function(t){for(var e=0,i=this.modules;e<i.length;){var s=i[e];++e,s.onWindowFocusOut(t)}},onWindowFullscreen:function(t){for(var e=0,i=this.modules;e<i.length;){var s=i[e];++e,s.onWindowFullscreen(t)}},onWindowLeave:function(t){for(var e=0,i=this.modules;e<i.length;){var s=i[e];++e,s.onWindowLeave(t)}},onWindowMinimize:function(t){for(var e=0,i=this.modules;e<i.length;){var s=i[e];++e,s.onWindowMinimize(t)}},onWindowMove:function(t,e,i){for(var s=0,n=this.modules;s<n.length;){var r=n[s];++s,r.onWindowMove(t,e,i)}},onWindowResize:function(t,e,i){for(var s=0,n=this.modules;s<n.length;){var r=n[s];++s,r.onWindowResize(t,e,i)}},onWindowRestore:function(t){for(var e=0,i=this.modules;e<i.length;){var s=i[e];++e,s.onWindowRestore(t)}},removeWindow:function(t){null!=t&&this.windowByID.h.hasOwnProperty(t.id)&&(C.remove(this.windows,t),this.windowByID.remove(t.id),t.close(),this.windows[0]==t&&(this.window=null))},render:function(t){for(var e=0,i=this.modules;e<i.length;){var s=i[e];++e,s.render(t)}},setPreloader:function(t){null!=this.preloader&&(this.preloader.onProgress.remove(r(this,this.onPreloadProgress)),this.preloader.onComplete.remove(r(this,this.onPreloadComplete))),this.preloader=t,t.complete?this.onPreloadComplete():(t.onProgress.add(r(this,this.onPreloadProgress)),t.onComplete.add(r(this,this.onPreloadComplete)))},update:function(t){for(var e=0,i=this.modules;e<i.length;){var s=i[e];++e,s.update(t)}},__class__:gt});var mt=function(){this.listeners=[],this.priorities=[],this.repeat=[]};a["lime.app.Event_Float_Float_Int_Void"]=mt,mt.__name__=!0,mt.prototype={add:function(t,e,i){null==i&&(i=0),null==e&&(e=!1);for(var s=0,n=this.priorities.length;n>s;){var r=s++;if(i>this.priorities[r])return this.listeners.splice(r,0,t),this.priorities.splice(r,0,i),void this.repeat.splice(r,0,!e)}this.listeners.push(t),this.priorities.push(i),
this.repeat.push(!e)},remove:function(t){for(var e=this.listeners.length;--e>=0;)L.compareMethods(this.listeners[e],t)&&(this.listeners.splice(e,1),this.priorities.splice(e,1),this.repeat.splice(e,1))},dispatch:function(t,e,i){for(var s=this.listeners,n=this.repeat,r=0;r<s.length;)s[r](t,e,i),n[r]?r++:this.remove(s[r])},__class__:mt};var vt=function(){this.listeners=[],this.priorities=[],this.repeat=[]};a["lime.app.Event_Float_Float_Void"]=vt,vt.__name__=!0,vt.prototype={add:function(t,e,i){null==i&&(i=0),null==e&&(e=!1);for(var s=0,n=this.priorities.length;n>s;){var r=s++;if(i>this.priorities[r])return this.listeners.splice(r,0,t),this.priorities.splice(r,0,i),void this.repeat.splice(r,0,!e)}this.listeners.push(t),this.priorities.push(i),this.repeat.push(!e)},remove:function(t){for(var e=this.listeners.length;--e>=0;)L.compareMethods(this.listeners[e],t)&&(this.listeners.splice(e,1),this.priorities.splice(e,1),this.repeat.splice(e,1))},dispatch:function(t,e){for(var i=this.listeners,s=this.repeat,n=0;n<i.length;)i[n](t,e),s[n]?n++:this.remove(i[n])},__class__:vt};var bt=function(){this.listeners=[],this.priorities=[],this.repeat=[]};a["lime.app.Event_Int_Float_Void"]=bt,bt.__name__=!0,bt.prototype={add:function(t,e,i){null==i&&(i=0),null==e&&(e=!1);for(var s=0,n=this.priorities.length;n>s;){var r=s++;if(i>this.priorities[r])return this.listeners.splice(r,0,t),this.priorities.splice(r,0,i),void this.repeat.splice(r,0,!e)}this.listeners.push(t),this.priorities.push(i),this.repeat.push(!e)},__class__:bt};var xt=function(){this.listeners=[],this.priorities=[],this.repeat=[]};a["lime.app.Event_Int_Int_Void"]=xt,xt.__name__=!0,xt.prototype={add:function(t,e,i){null==i&&(i=0),null==e&&(e=!1);for(var s=0,n=this.priorities.length;n>s;){var r=s++;if(i>this.priorities[r])return this.listeners.splice(r,0,t),this.priorities.splice(r,0,i),void this.repeat.splice(r,0,!e)}this.listeners.push(t),this.priorities.push(i),this.repeat.push(!e)},remove:function(t){for(var e=this.listeners.length;--e>=0;)L.compareMethods(this.listeners[e],t)&&(this.listeners.splice(e,1),this.priorities.splice(e,1),this.repeat.splice(e,1))},dispatch:function(t,e){for(var i=this.listeners,s=this.repeat,n=0;n<i.length;)i[n](t,e),s[n]?n++:this.remove(i[n])},__class__:xt};var yt=function(){this.listeners=[],this.priorities=[],this.repeat=[]};a["lime.app.Event_Int_Void"]=yt,yt.__name__=!0,yt.prototype={add:function(t,e,i){null==i&&(i=0),null==e&&(e=!1);for(var s=0,n=this.priorities.length;n>s;){var r=s++;if(i>this.priorities[r])return this.listeners.splice(r,0,t),this.priorities.splice(r,0,i),void this.repeat.splice(r,0,!e)}this.listeners.push(t),this.priorities.push(i),this.repeat.push(!e)},remove:function(t){for(var e=this.listeners.length;--e>=0;)L.compareMethods(this.listeners[e],t)&&(this.listeners.splice(e,1),this.priorities.splice(e,1),this.repeat.splice(e,1))},dispatch:function(t){for(var e=this.listeners,i=this.repeat,s=0;s<e.length;)e[s](t),i[s]?s++:this.remove(e[s])},__class__:yt};var wt=function(){this.listeners=[],this.priorities=[],this.repeat=[]};a["lime.app.Event_Int_lime_ui_JoystickHatPosition_Void"]=wt,wt.__name__=!0,wt.prototype={add:function(t,e,i){null==i&&(i=0),null==e&&(e=!1);for(var s=0,n=this.priorities.length;n>s;){var r=s++;if(i>this.priorities[r])return this.listeners.splice(r,0,t),this.priorities.splice(r,0,i),void this.repeat.splice(r,0,!e)}this.listeners.push(t),this.priorities.push(i),this.repeat.push(!e)},__class__:wt};var Et=function(){this.listeners=[],this.priorities=[],this.repeat=[]};a["lime.app.Event_String_Int_Int_Void"]=Et,Et.__name__=!0,Et.prototype={add:function(t,e,i){null==i&&(i=0),null==e&&(e=!1);for(var s=0,n=this.priorities.length;n>s;){var r=s++;if(i>this.priorities[r])return this.listeners.splice(r,0,t),this.priorities.splice(r,0,i),void this.repeat.splice(r,0,!e)}this.listeners.push(t),this.priorities.push(i),this.repeat.push(!e)},__class__:Et};var Tt=function(){this.listeners=[],this.priorities=[],this.repeat=[]};a["lime.app.Event_String_Void"]=Tt,Tt.__name__=!0,Tt.prototype={add:function(t,e,i){null==i&&(i=0),null==e&&(e=!1);for(var s=0,n=this.priorities.length;n>s;){var r=s++;if(i>this.priorities[r])return this.listeners.splice(r,0,t),this.priorities.splice(r,0,i),void this.repeat.splice(r,0,!e)}this.listeners.push(t),this.priorities.push(i),this.repeat.push(!e)},has:function(t){for(var e=0,i=this.listeners;e<i.length;){var s=i[e];if(++e,L.compareMethods(s,t))return!0}return!1},remove:function(t){for(var e=this.listeners.length;--e>=0;)L.compareMethods(this.listeners[e],t)&&(this.listeners.splice(e,1),this.priorities.splice(e,1),this.repeat.splice(e,1))},dispatch:function(t){for(var e=this.listeners,i=this.repeat,s=0;s<e.length;)e[s](t),i[s]?s++:this.remove(e[s])},__class__:Tt};var Pt=function(){this.listeners=[],this.priorities=[],this.repeat=[]};a["lime.app.Event_lime_graphics_RenderContext_Void"]=Pt,Pt.__name__=!0,Pt.prototype={add:function(t,e,i){null==i&&(i=0),null==e&&(e=!1);for(var s=0,n=this.priorities.length;n>s;){var r=s++;if(i>this.priorities[r])return this.listeners.splice(r,0,t),this.priorities.splice(r,0,i),void this.repeat.splice(r,0,!e)}this.listeners.push(t),this.priorities.push(i),this.repeat.push(!e)},remove:function(t){for(var e=this.listeners.length;--e>=0;)L.compareMethods(this.listeners[e],t)&&(this.listeners.splice(e,1),this.priorities.splice(e,1),this.repeat.splice(e,1))},dispatch:function(t){for(var e=this.listeners,i=this.repeat,s=0;s<e.length;)e[s](t),i[s]?s++:this.remove(e[s])},__class__:Pt};var Rt=function(){this.listeners=[],this.priorities=[],this.repeat=[]};a["lime.app.Event_lime_net_URLLoader_Int_Int_Void"]=Rt,Rt.__name__=!0,Rt.prototype={remove:function(t){for(var e=this.listeners.length;--e>=0;)L.compareMethods(this.listeners[e],t)&&(this.listeners.splice(e,1),this.priorities.splice(e,1),this.repeat.splice(e,1))},dispatch:function(t,e,i){for(var s=this.listeners,n=this.repeat,r=0;r<s.length;)s[r](t,e,i),n[r]?r++:this.remove(s[r])},__class__:Rt};var St=function(){this.listeners=[],this.priorities=[],this.repeat=[]};a["lime.app.Event_lime_net_URLLoader_Int_Void"]=St,St.__name__=!0,St.prototype={remove:function(t){for(var e=this.listeners.length;--e>=0;)L.compareMethods(this.listeners[e],t)&&(this.listeners.splice(e,1),this.priorities.splice(e,1),this.repeat.splice(e,1))},dispatch:function(t,e){for(var i=this.listeners,s=this.repeat,n=0;n<i.length;)i[n](t,e),s[n]?n++:this.remove(i[n])},__class__:St};var Ct=function(){this.listeners=[],this.priorities=[],this.repeat=[]};a["lime.app.Event_lime_net_URLLoader_String_Void"]=Ct,Ct.__name__=!0,Ct.prototype={remove:function(t){for(var e=this.listeners.length;--e>=0;)L.compareMethods(this.listeners[e],t)&&(this.listeners.splice(e,1),this.priorities.splice(e,1),this.repeat.splice(e,1))},dispatch:function(t,e){for(var i=this.listeners,s=this.repeat,n=0;n<i.length;)i[n](t,e),s[n]?n++:this.remove(i[n])},__class__:Ct};var It=function(){this.listeners=[],this.priorities=[],this.repeat=[]};a["lime.app.Event_lime_net_URLLoader_Void"]=It,It.__name__=!0,It.prototype={add:function(t,e,i){null==i&&(i=0),null==e&&(e=!1);for(var s=0,n=this.priorities.length;n>s;){var r=s++;if(i>this.priorities[r])return this.listeners.splice(r,0,t),this.priorities.splice(r,0,i),void this.repeat.splice(r,0,!e)}this.listeners.push(t),this.priorities.push(i),this.repeat.push(!e)},remove:function(t){for(var e=this.listeners.length;--e>=0;)L.compareMethods(this.listeners[e],t)&&(this.listeners.splice(e,1),this.priorities.splice(e,1),this.repeat.splice(e,1))},dispatch:function(t){for(var e=this.listeners,i=this.repeat,s=0;s<e.length;)e[s](t),i[s]?s++:this.remove(e[s])},__class__:It};var Mt=function(){this.listeners=[],this.priorities=[],this.repeat=[]};a["lime.app.Event_lime_ui_GamepadAxis_Float_Void"]=Mt,Mt.__name__=!0,Mt.prototype={add:function(t,e,i){null==i&&(i=0),null==e&&(e=!1);for(var s=0,n=this.priorities.length;n>s;){var r=s++;if(i>this.priorities[r])return this.listeners.splice(r,0,t),this.priorities.splice(r,0,i),void this.repeat.splice(r,0,!e)}this.listeners.push(t),this.priorities.push(i),this.repeat.push(!e)},__class__:Mt};var At=function(){this.listeners=[],this.priorities=[],this.repeat=[]};a["lime.app.Event_lime_ui_GamepadButton_Void"]=At,At.__name__=!0,At.prototype={add:function(t,e,i){null==i&&(i=0),null==e&&(e=!1);for(var s=0,n=this.priorities.length;n>s;){var r=s++;if(i>this.priorities[r])return this.listeners.splice(r,0,t),this.priorities.splice(r,0,i),void this.repeat.splice(r,0,!e)}this.listeners.push(t),this.priorities.push(i),this.repeat.push(!e)},__class__:At};var Lt=function(){this.listeners=[],this.priorities=[],this.repeat=[]};a["lime.app.Event_lime_ui_Gamepad_Void"]=Lt,Lt.__name__=!0,Lt.prototype={add:function(t,e,i){null==i&&(i=0),null==e&&(e=!1);for(var s=0,n=this.priorities.length;n>s;){var r=s++;if(i>this.priorities[r])return this.listeners.splice(r,0,t),this.priorities.splice(r,0,i),void this.repeat.splice(r,0,!e)}this.listeners.push(t),this.priorities.push(i),this.repeat.push(!e)},__class__:Lt};var Dt=function(){this.listeners=[],this.priorities=[],this.repeat=[]};a["lime.app.Event_lime_ui_Joystick_Void"]=Dt,Dt.__name__=!0,Dt.prototype={add:function(t,e,i){null==i&&(i=0),null==e&&(e=!1);for(var s=0,n=this.priorities.length;n>s;){var r=s++;if(i>this.priorities[r])return this.listeners.splice(r,0,t),this.priorities.splice(r,0,i),void this.repeat.splice(r,0,!e)}this.listeners.push(t),this.priorities.push(i),this.repeat.push(!e)},__class__:Dt};var Ot=function(){this.listeners=[],this.priorities=[],this.repeat=[]};a["lime.app.Event_lime_ui_KeyCode_lime_ui_KeyModifier_Void"]=Ot,Ot.__name__=!0,Ot.prototype={add:function(t,e,i){null==i&&(i=0),null==e&&(e=!1);for(var s=0,n=this.priorities.length;n>s;){var r=s++;if(i>this.priorities[r])return this.listeners.splice(r,0,t),this.priorities.splice(r,0,i),void this.repeat.splice(r,0,!e)}this.listeners.push(t),this.priorities.push(i),this.repeat.push(!e)},remove:function(t){for(var e=this.listeners.length;--e>=0;)L.compareMethods(this.listeners[e],t)&&(this.listeners.splice(e,1),this.priorities.splice(e,1),this.repeat.splice(e,1))},dispatch:function(t,e){for(var i=this.listeners,s=this.repeat,n=0;n<i.length;)i[n](t,e),s[n]?n++:this.remove(i[n])},__class__:Ot};var kt=function(){this.listeners=[],this.priorities=[],this.repeat=[]};a["lime.app.Event_lime_ui_Touch_Void"]=kt,kt.__name__=!0,kt.prototype={add:function(t,e,i){null==i&&(i=0),null==e&&(e=!1);for(var s=0,n=this.priorities.length;n>s;){var r=s++;if(i>this.priorities[r])return this.listeners.splice(r,0,t),this.priorities.splice(r,0,i),void this.repeat.splice(r,0,!e)}this.listeners.push(t),this.priorities.push(i),this.repeat.push(!e)},remove:function(t){for(var e=this.listeners.length;--e>=0;)L.compareMethods(this.listeners[e],t)&&(this.listeners.splice(e,1),this.priorities.splice(e,1),this.repeat.splice(e,1))},dispatch:function(t){for(var e=this.listeners,i=this.repeat,s=0;s<e.length;)e[s](t),i[s]?s++:this.remove(e[s])},__class__:kt};var Bt=function(){this.total=0,this.loaded=0,this.onProgress=new xt,this.onComplete=new _t,this.onProgress.add(r(this,this.update))};a["lime.app.Preloader"]=Bt,Bt.__name__=!0,Bt.prototype={create:function(t){},load:function(t,e){for(var i=null,s=0,n=t.length;n>s;){var a=s++;i=t[a];var o=e[a];switch(o){case"IMAGE":if(!Bt.images.exists(i)){var _=new Image;Bt.images.set(i,_),_.onload=r(this,this.image_onLoad),_.src=i,this.total++}break;case"BINARY":if(!Bt.loaders.exists(i)){var h=new ce;h.set_dataFormat(fe.BINARY),Bt.loaders.set(i,h),this.total++}break;case"TEXT":if(!Bt.loaders.exists(i)){var l=new ce;Bt.loaders.set(i,l),this.total++}break;case"FONT":this.total++,this.loadFont(i)}}for(var u=Bt.loaders.keys();u.hasNext();){var c=u.next(),f=Bt.loaders.get(c);f.onComplete.add(r(this,this.loader_onComplete)),f.load(new de(c))}0==this.total&&this.start()},loadFont:function(t){var e=this;if(window.document.fonts&&(Yn=window.document.fonts,r(Yn,Yn.load)))window.document.fonts.load("1em '"+t+"'").then(function(t){e.loaded++,e.onProgress.dispatch(e.loaded,e.total),e.loaded==e.total&&e.start()});else{var i=window.document.createElement("span");i.innerHTML="giItT1WQy@!-/#";var s=i.style;s.position="absolute",s.left="-10000px",s.top="-10000px",s.fontSize="300px",s.fontFamily="sans-serif",s.fontVariant="normal",s.fontStyle="normal",s.fontWeight="normal",s.letterSpacing="0",window.document.body.appendChild(i);var n=i.offsetWidth;s.fontFamily="'"+t+"', sans-serif";var a=null,o=!1,_=function(){return i.offsetWidth!=n?o?(e.loaded++,null!=a&&window.clearInterval(a),i.parentNode.removeChild(i),i=null,e.onProgress.dispatch(e.loaded,e.total),e.loaded==e.total&&e.start(),!0):(o=!0,!1):!1};_()||(a=window.setInterval(_,50))}},start:function(){this.complete=!0,this.onComplete.dispatch()},update:function(t,e){},image_onLoad:function(t){this.loaded++,this.onProgress.dispatch(this.loaded,this.total),this.loaded==this.total&&this.start()},loader_onComplete:function(t){this.loaded++,this.onProgress.dispatch(this.loaded,this.total),this.loaded==this.total&&this.start()},__class__:Bt};var Ft=function(){};a["lime.audio.ALAudioContext"]=Ft,Ft.__name__=!0;var Nt=function(){};a["lime.audio.ALCAudioContext"]=Nt,Nt.__name__=!0;var Ut=function(){};a["lime.audio.AudioBuffer"]=Ut,Ut.__name__=!0;var Gt=a["lime.audio.AudioContext"]={__ename__:!0,__constructs__:["OPENAL","HTML5","WEB","FLASH","CUSTOM"]};Gt.OPENAL=function(t,e){var i=["OPENAL",0,t,e];return i.__enum__=Gt,i.toString=o,i},Gt.HTML5=function(t){var e=["HTML5",1,t];return e.__enum__=Gt,e.toString=o,e},Gt.WEB=function(t){var e=["WEB",2,t];return e.__enum__=Gt,e.toString=o,e},Gt.FLASH=function(t){var e=["FLASH",3,t];return e.__enum__=Gt,e.toString=o,e},Gt.CUSTOM=function(t){var e=["CUSTOM",4,t];return e.__enum__=Gt,e.toString=o,e};var Wt=function(){};a["lime.audio.AudioManager"]=Wt,Wt.__name__=!0,Wt.context=null,Wt.init=function(t){if(null==Wt.context)if(null==t)try{window.AudioContext=window.AudioContext||window.webkitAudioContext,Wt.context=Gt.WEB(new AudioContext)}catch(e){e instanceof it&&(e=e.val),Wt.context=Gt.HTML5(new Ht)}else Wt.context=t};var Vt=function(){};a["lime.audio.FlashAudioContext"]=Vt,Vt.__name__=!0;var Ht=function(){};a["lime.audio.HTML5AudioContext"]=Ht,Ht.__name__=!0,Ht.prototype={__class__:Ht};var Yt=function(){};a["lime.graphics.ConsoleRenderContext"]=Yt,Yt.__name__=!0,Yt.prototype={__class__:Yt};var Xt=function(){};a["lime.graphics.FlashRenderContext"]=Xt,Xt.__name__=!0;var zt=function(t,e,i,s,n,r,a){if(null==n&&(n=-1),null==s&&(s=-1),null==i&&(i=0),null==e&&(e=0),this.offsetX=e,this.offsetY=i,this.width=s,this.height=n,null==a)if(null!=gt.current&&null!=gt.current.renderers[0]){var o=gt.current.renderers[0].context;switch(o[1]){case 2:case 1:this.type=Kt.CANVAS;break;case 3:this.type=Kt.FLASH;break;default:this.type=Kt.DATA}}else this.type=Kt.DATA;else this.type=a;if(null==t){if(s>0&&n>0){var _=this.type;switch(_[1]){case 0:this.buffer=new jt(null,s,n),se.createCanvas(this,s,n),null!=r&&this.fillRect(new _e(0,0,s,n),r);break;case 1:this.buffer=new jt(function(t){var e,i,r=s*n*4;return i=null!=r?new ir(r):null,e=i}(this),s,n),null!=r&&this.fillRect(new _e(0,0,s,n),r);break;case 2:}}}else this.__fromImageBuffer(t)};a["lime.graphics.Image"]=zt,zt.__name__=!0,zt.__base64Encoder=null,zt.fromBytes=function(t,e){if(null==t)return null;var i=new zt;return i.__fromBytes(t,e),i},zt.fromCanvas=function(t){if(null==t)return null;var e=new jt(null,t.width,t.height);return e.set_src(t),new zt(e)},zt.fromImageElement=function(t){if(null==t)return null;var e=new jt(null,t.width,t.height);return e.set_src(t),new zt(e)},zt.__base64Encode=function(t){var e,i=t.length%3;switch(i){case 1:e="==";break;case 2:e="=";break;default:e=""}return null==zt.__base64Encoder&&(zt.__base64Encoder=new V(G.ofString(zt.__base64Chars))),zt.__base64Encoder.encodeBytes(G.ofData(t.byteView)).toString()+e},zt.__isJPG=function(t){return t.position=0,255==t.readUnsignedByte()&&216==t.readUnsignedByte()},zt.__isPNG=function(t){return t.position=0,137==t.readUnsignedByte()&&80==t.readUnsignedByte()&&78==t.readUnsignedByte()&&71==t.readUnsignedByte()&&13==t.readUnsignedByte()&&10==t.readUnsignedByte()&&26==t.readUnsignedByte()&&10==t.readUnsignedByte()},zt.__isGIF=function(t){if(t.position=0,71==t.readUnsignedByte()&&73==t.readUnsignedByte()&&70==t.readUnsignedByte()&&56==t.readUnsignedByte()){var e=t.readUnsignedByte();return(55==e||57==e)&&97==t.readUnsignedByte()}return!1},zt.prototype={clone:function(){if(null!=this.buffer){this.type==Kt.CANVAS&&null==this.buffer.__srcImage&&(se.convertToCanvas(this),se.sync(this,!0));var t=new zt(this.buffer.clone(),this.offsetX,this.offsetY,this.width,this.height,null,this.type);return t.dirty=this.dirty,t}return new zt(null,this.offsetX,this.offsetY,this.width,this.height,null,this.type)},colorTransform:function(t,e){if(t=this.__clipRect(t),null!=this.buffer&&null!=t){var i=this.type;switch(i[1]){case 0:se.colorTransform(this,t,e);break;case 1:se.convertToData(this),ne.colorTransform(this,t,e);break;case 2:t.offset(this.offsetX,this.offsetY),this.buffer.__srcBitmapData.colorTransform(t.__toFlashRectangle(),ae.__toFlashColorTransform(e))}}},fillRect:function(t,e,i){if(t=this.__clipRect(t),null!=this.buffer&&null!=t){var s=this.type;switch(s[1]){case 0:se.fillRect(this,t,e,i);break;case 1:if(se.convertToData(this),0==this.buffer.data.length)return;ne.fillRect(this,t,e,i);break;case 2:t.offset(this.offsetX,this.offsetY);var n;if(null!=i)switch(i){case 1:n=e;break;case 2:var r=e,a=0;a=(255&r&255)<<24|(r>>8&255&255)<<16|(r>>16&255&255)<<8|r>>24&255&255,n=a;break;default:var o=e,_=0;_=(255&o&255)<<24|(o>>24&255&255)<<16|(o>>16&255&255)<<8|o>>8&255&255,n=_}else{var h=e,l=0;l=(255&h&255)<<24|(h>>24&255&255)<<16|(h>>16&255&255)<<8|h>>8&255&255,n=l}this.buffer.__srcBitmapData.fillRect(t.__toFlashRectangle(),n)}}},getPixels:function(t,e){if(null==this.buffer)return null;var i=this.type;switch(i[1]){case 0:return se.getPixels(this,t,e);case 1:return se.convertToData(this),ne.getPixels(this,t,e);case 2:t.offset(this.offsetX,this.offsetY);var s=this.buffer.__srcBitmapData.getPixels(t.__toFlashRectangle());if(null!=e)switch(e){case 1:break;case 2:for(var n,r=s.length/4|0,a=0;r>a;){var o=(a++,s.readUnsignedInt()),_=0;_=(255&o&255)<<24|(o>>8&255&255)<<16|(o>>16&255&255)<<8|o>>24&255&255,n=_,s.position-=4,s.writeUnsignedInt(n)}s.position=0;break;default:for(var h,l=s.length/4|0,u=0;l>u;){var c=(u++,s.readUnsignedInt()),f=0;f=(c>>16&255&255)<<24|(c>>8&255&255)<<16|(255&c&255)<<8|c>>24&255&255,h=f,s.position-=4,s.writeUnsignedInt(function(t){var e,i=0;return i=(h>>8&255&255)<<24|(h>>16&255&255)<<16|(h>>24&255&255)<<8|255&h&255,e=i}(this))}s.position=0}else{for(var d,p=s.length/4|0,g=0;p>g;){var m=(g++,s.readUnsignedInt()),v=0;v=(m>>16&255&255)<<24|(m>>8&255&255)<<16|(255&m&255)<<8|m>>24&255&255,d=v,s.position-=4,s.writeUnsignedInt(function(t){var e,i=0;return i=(d>>8&255&255)<<24|(d>>16&255&255)<<16|(d>>24&255&255)<<8|255&d&255,e=i}(this))}s.position=0}return s;default:return null}},resize:function(t,e){var i=this.type;switch(i[1]){case 0:se.resize(this,t,e);break;case 1:ne.resize(this,t,e);break;case 2:}this.buffer.width=t,this.buffer.height=e,this.offsetX=0,this.offsetY=0,this.width=t,this.height=e},__clipRect:function(t){return null==t?null:t.x<0&&(t.width-=-t.x,t.x=0,t.x+t.width<=0)?null:t.y<0&&(t.height-=-t.y,t.y=0,t.y+t.height<=0)?null:t.x+t.width>=this.width&&(t.width-=t.x+t.width-this.width,t.width<=0)?null:t.y+t.height>=this.height&&(t.height-=t.y+t.height-this.height,t.height<=0)?null:t},__fromBase64:function(t,e,i){var s=this,n=new Image,r=function(t){s.buffer=new jt(null,n.width,n.height),s.buffer.__srcImage=n,s.offsetX=0,s.offsetY=0,s.width=s.buffer.width,s.height=s.buffer.height,null!=i&&i(s)};n.addEventListener("load",r,!1),n.src="data:"+e+";base64,"+t},__fromBytes:function(t,e){var i="";if(zt.__isPNG(t))i="image/png";else if(zt.__isJPG(t))i="image/jpeg";else{if(!zt.__isGIF(t))throw new it("Image tried to read a PNG/JPG ByteArray, but found an invalid header.");i="image/gif"}this.__fromBase64(zt.__base64Encode(t),i,e)},__fromImageBuffer:function(t){this.buffer=t,null!=t&&(-1==this.width&&(this.width=t.width),-1==this.height&&(this.height=t.height))},get_data:function(){return null==this.buffer.data&&this.buffer.width>0&&this.buffer.height>0&&(se.convertToCanvas(this),se.sync(this,!1),se.createImageData(this)),this.buffer.data},get_format:function(){return this.buffer.format},set_format:function(t){if(this.buffer.format!=t){var e=this.type;switch(e[1]){case 1:ne.setFormat(this,t)}}return this.buffer.format=t},get_powerOfTwo:function(){return 0!=this.buffer.width&&(this.buffer.width&~this.buffer.width+1)==this.buffer.width&&0!=this.buffer.height&&(this.buffer.height&~this.buffer.height+1)==this.buffer.height},get_premultiplied:function(){return this.buffer.premultiplied},set_premultiplied:function(t){if(t&&!this.buffer.premultiplied){var e=this.type;switch(e[1]){case 1:se.convertToData(this),ne.multiplyAlpha(this)}}else if(!t&&this.buffer.premultiplied){var i=this.type;switch(i[1]){case 1:se.convertToData(this),ne.unmultiplyAlpha(this)}}return t},get_rect:function(){return new _e(0,0,this.width,this.height)},get_src:function(){return null==this.buffer.__srcCanvas&&se.convertToCanvas(this),this.buffer.get_src()},get_transparent:function(){return null==this.buffer?!1:this.buffer.transparent},set_transparent:function(t){return null==this.buffer?!1:this.buffer.transparent=t},__class__:zt,__properties__:{get_rect:"get_rect",set_transparent:"set_transparent",get_transparent:"get_transparent",get_src:"get_src",set_premultiplied:"set_premultiplied",get_premultiplied:"get_premultiplied",get_powerOfTwo:"get_powerOfTwo",set_format:"set_format",get_format:"get_format",get_data:"get_data"}};var jt=function(t,e,i,s,n){null==s&&(s=32),null==i&&(i=0),null==e&&(e=0),this.data=t,this.width=e,this.height=i,this.bitsPerPixel=s,null==n?this.format=0:this.format=n,this.transparent=!0};a["lime.graphics.ImageBuffer"]=jt,jt.__name__=!0,jt.prototype={clone:function(){var t=new jt(this.data,this.width,this.height,this.bitsPerPixel);if(null!=this.data){var e,i=this.data.byteLength;e=null!=i?new ir(i):null,t.data=e;var s,n,r=this.data;n=null!=r?new ir(r):null,s=n,t.data.set(s)}else if(null!=this.__srcImageData){t.__srcCanvas=window.document.createElement("canvas"),t.__srcContext=t.__srcCanvas.getContext("2d"),t.__srcCanvas.width=this.__srcImageData.width,t.__srcCanvas.height=this.__srcImageData.height,t.__srcImageData=t.__srcContext.createImageData(this.__srcImageData.width,this.__srcImageData.height);var a=new Uint8ClampedArray(this.__srcImageData.data);t.__srcImageData.data.set(a)}else null!=this.__srcCanvas?(t.__srcCanvas=window.document.createElement("canvas"),t.__srcContext=t.__srcCanvas.getContext("2d"),t.__srcCanvas.width=this.__srcCanvas.width,t.__srcCanvas.height=this.__srcCanvas.height,t.__srcContext.drawImage(this.__srcCanvas,0,0)):t.__srcImage=this.__srcImage;return t.bitsPerPixel=this.bitsPerPixel,t.format=this.format,t.premultiplied=this.premultiplied,t.transparent=this.transparent,t},get_src:function(){return null!=this.__srcImage?this.__srcImage:this.__srcCanvas},set_src:function(t){return st.__instanceof(t,Image)?this.__srcImage=t:st.__instanceof(t,HTMLCanvasElement)&&(this.__srcCanvas=t,this.__srcContext=this.__srcCanvas.getContext("2d")),t},get_stride:function(){return 4*this.width},__class__:jt,__properties__:{get_stride:"get_stride",set_src:"set_src",get_src:"get_src"}};var Kt=a["lime.graphics.ImageType"]={__ename__:!0,__constructs__:["CANVAS","DATA","FLASH","CUSTOM"]};Kt.CANVAS=["CANVAS",0],Kt.CANVAS.toString=o,Kt.CANVAS.__enum__=Kt,Kt.DATA=["DATA",1],Kt.DATA.toString=o,Kt.DATA.__enum__=Kt,Kt.FLASH=["FLASH",2],Kt.FLASH.toString=o,Kt.FLASH.__enum__=Kt,Kt.CUSTOM=["CUSTOM",3],Kt.CUSTOM.toString=o,Kt.CUSTOM.__enum__=Kt;var qt=a["lime.graphics.RenderContext"]={__ename__:!0,__constructs__:["OPENGL","CANVAS","DOM","FLASH","CAIRO","CONSOLE","CUSTOM","NONE"]};qt.OPENGL=function(t){var e=["OPENGL",0,t];return e.__enum__=qt,e.toString=o,e},qt.CANVAS=function(t){var e=["CANVAS",1,t];return e.__enum__=qt,e.toString=o,e},qt.DOM=function(t){var e=["DOM",2,t];return e.__enum__=qt,e.toString=o,e},qt.FLASH=function(t){var e=["FLASH",3,t];return e.__enum__=qt,e.toString=o,e},qt.CAIRO=function(t){var e=["CAIRO",4,t];return e.__enum__=qt,e.toString=o,e},qt.CONSOLE=function(t){var e=["CONSOLE",5,t];return e.__enum__=qt,e.toString=o,e},qt.CUSTOM=function(t){var e=["CUSTOM",6,t];return e.__enum__=qt,e.toString=o,e},qt.NONE=["NONE",7],qt.NONE.toString=o,qt.NONE.__enum__=qt;var Zt=function(t){this.onRender=new _t,this.onContextRestored=new Pt,this.onContextLost=new _t,this.window=t,this.backend=new ct(this),this.window.renderer=this};a["lime.graphics.Renderer"]=Zt,Zt.__name__=!0,Zt.prototype={create:function(){this.backend.create()},flip:function(){this.backend.flip()},__class__:Zt};var Jt=a["lime.graphics.RendererType"]={__ename__:!0,__constructs__:["OPENGL","CANVAS","DOM","FLASH","CAIRO","CONSOLE","CUSTOM"]};Jt.OPENGL=["OPENGL",0],Jt.OPENGL.toString=o,Jt.OPENGL.__enum__=Jt,Jt.CANVAS=["CANVAS",1],Jt.CANVAS.toString=o,Jt.CANVAS.__enum__=Jt,Jt.DOM=["DOM",2],Jt.DOM.toString=o,Jt.DOM.__enum__=Jt,Jt.FLASH=["FLASH",3],Jt.FLASH.toString=o,Jt.FLASH.__enum__=Jt,Jt.CAIRO=["CAIRO",4],Jt.CAIRO.toString=o,Jt.CAIRO.__enum__=Jt,Jt.CONSOLE=["CONSOLE",5],Jt.CONSOLE.toString=o,Jt.CONSOLE.__enum__=Jt,Jt.CUSTOM=["CUSTOM",6],Jt.CUSTOM.toString=o,Jt.CUSTOM.__enum__=Jt;var Qt=function(){};a["lime.graphics.cairo.Cairo"]=Qt,Qt.__name__=!0,Qt.prototype={arc:function(t,e,i,s,n){},clip:function(){},curveTo:function(t,e,i,s,n,r){},fill:function(){},identityMatrix:function(){},lineTo:function(t,e){},moveTo:function(t,e){},newPath:function(){},paint:function(){},paintWithAlpha:function(t){},popGroupToSource:function(){},pushGroup:function(){},rectangle:function(t,e,i,s){},restore:function(){},save:function(){},setSourceRGB:function(t,e,i){},get_currentPoint:function(){return null},get_hasCurrentPoint:function(){return!1},set_matrix:function(t){return t},set_source:function(t){return t},__class__:Qt,__properties__:{set_source:"set_source",set_matrix:"set_matrix",get_hasCurrentPoint:"get_hasCurrentPoint",get_currentPoint:"get_currentPoint"}};var $t={};a["lime.graphics.cairo._CairoImageSurface.CairoImageSurface_Impl_"]=$t,$t.__name__=!0,$t.fromImage=function(t){return null};var te={};a["lime.graphics.cairo._CairoPattern.CairoPattern_Impl_"]=te,te.__name__=!0,te.__properties__={set_filter:"set_filter"},te.createForSurface=function(t){return 0},te.set_filter=function(t,e){return e};var ee={};a["lime.graphics.cairo._CairoSurface.CairoSurface_Impl_"]=ee,ee.__name__=!0,ee.flush=function(t){};var ie=function(){};a["lime.graphics.opengl.GL"]=ie,ie.__name__=!0,ie.context=null;var se=function(){};a["lime.graphics.utils.ImageCanvasUtil"]=se,se.__name__=!0,se.colorTransform=function(t,e,i){se.convertToCanvas(t),se.createImageData(t),ne.colorTransform(t,e,i)},se.convertToCanvas=function(t){var e=t.buffer;null!=e.__srcImage?(null==e.__srcCanvas&&(se.createCanvas(t,e.__srcImage.width,e.__srcImage.height),e.__srcContext.drawImage(e.__srcImage,0,0)),e.__srcImage=null):null!=e.data&&null==e.__srcCanvas?(se.createCanvas(t,e.width,e.height),se.createImageData(t)):null==e.data&&null!=e.__srcImageData&&(e.data=e.__srcImageData.data)},se.convertToData=function(t){null==t.buffer.data&&(se.convertToCanvas(t),se.sync(t,!1),se.createImageData(t),t.buffer.__srcCanvas=null,t.buffer.__srcContext=null)},se.createCanvas=function(t,e,i){var s=t.buffer;null==s.__srcCanvas&&(s.__srcCanvas=window.document.createElement("canvas"),s.__srcCanvas.width=e,s.__srcCanvas.height=i,t.get_transparent()?s.__srcContext=s.__srcCanvas.getContext("2d"):(t.get_transparent()||s.__srcCanvas.setAttribute("moz-opaque","true"),s.__srcContext=s.__srcCanvas.getContext("2d",{alpha:!1})),s.__srcContext.mozImageSmoothingEnabled=!1,s.__srcContext.msImageSmoothingEnabled=!1,s.__srcContext.imageSmoothingEnabled=!1)},se.createImageData=function(t){var e=t.buffer;if(null==e.__srcImageData){null==e.data?e.__srcImageData=e.__srcContext.getImageData(0,0,e.width,e.height):(e.__srcImageData=e.__srcContext.createImageData(e.width,e.height),e.__srcImageData.data.set(e.data));var i,s=e.__srcImageData.data.buffer;i=null!=s?new ir(s):null,e.data=i}},se.fillRect=function(t,e,i,s){if(se.convertToCanvas(t),se.sync(t,!0),0==e.x&&0==e.y&&e.width==t.width&&e.height==t.height&&t.get_transparent()&&0==(255&i))return void(t.buffer.__srcCanvas.width=t.buffer.width);var n,r,a,o;1==s?(n=i>>16&255,r=i>>8&255,a=255&i,o=t.get_transparent()?i>>24&255:255):(n=i>>24&255,r=i>>16&255,a=i>>8&255,o=t.get_transparent()?255&i:255),t.buffer.__srcContext.fillStyle="rgba("+n+", "+r+", "+a+", "+o/255+")",t.buffer.__srcContext.fillRect(e.x+t.offsetX,e.y+t.offsetY,e.width+t.offsetX,e.height+t.offsetY)},se.getPixels=function(t,e,i){return se.convertToCanvas(t),se.createImageData(t),ne.getPixels(t,e,i)},se.resize=function(t,e,i){var s=t.buffer;if(null==s.__srcCanvas)se.createCanvas(t,e,i),s.__srcContext.drawImage(s.get_src(),0,0,e,i);else{se.sync(t,!0);var n=s.__srcCanvas;s.__srcCanvas=null,se.createCanvas(t,e,i),s.__srcContext.drawImage(n,0,0,e,i)}},se.sync=function(t,e){t.dirty&&null!=t.buffer.__srcImageData&&t.type!=Kt.DATA&&(t.buffer.__srcContext.putImageData(t.buffer.__srcImageData,0,0),t.buffer.data=null,t.dirty=!1),e&&(t.buffer.__srcImageData=null,t.buffer.data=null)};var ne=function(){};a["lime.graphics.utils.ImageDataUtil"]=ne,ne.__name__=!0,ne.colorTransform=function(t,e,i){var s=t.buffer.data;if(null!=s){for(var n,r,a,o=t.buffer.format,_=t.buffer.premultiplied,h=new re(t,e),l=ae.getAlphaTable(i),u=ae.getRedTable(i),c=ae.getGreenTable(i),f=ae.getBlueTable(i),d=0,p=h.height;p>d;){var g=d++;n=h.offset+h.stride*g;for(var m=0,v=h.width;v>m;){var b=m++;switch(r=n+4*b,o){case 2:a=(255&s[r+2])<<24|(255&s[r+1])<<16|(255&s[r])<<8|255&s[r+3];break;case 0:a=(255&s[r])<<24|(255&s[r+1])<<16|(255&s[r+2])<<8|255&s[r+3];break;case 1:a=(255&s[r+1])<<24|(255&s[r+2])<<16|(255&s[r+3])<<8|255&s[r]}if(_&&0!=(255&a)&&255!=(255&a)){ue.unmult=255/(255&a);var x,y=Math.round((a>>24&255)*ue.unmult);x=ue.__clamp[y];var w,E=Math.round((a>>16&255)*ue.unmult);w=ue.__clamp[E];var T,P=Math.round((a>>8&255)*ue.unmult);T=ue.__clamp[P],a=(255&x)<<24|(255&w)<<16|(255&T)<<8|255&a&255}switch(a=(255&u[a>>24&255])<<24|(255&c[a>>16&255])<<16|(255&f[a>>8&255])<<8|255&l[255&a],_&&(0==(255&a)?0!=a&&(a=0):255!=(255&a)&&(ue.a16=ue.__alpha16[255&a],a=((a>>24&255)*ue.a16>>16&255)<<24|((a>>16&255)*ue.a16>>16&255)<<16|((a>>8&255)*ue.a16>>16&255)<<8|255&a&255)),o){case 2:s[r]=a>>8&255,s[r+1]=a>>16&255,s[r+2]=a>>24&255,s[r+3]=255&a;break;case 0:s[r]=a>>24&255,s[r+1]=a>>16&255,s[r+2]=a>>8&255,s[r+3]=255&a;break;case 1:s[r]=255&a,s[r+1]=a>>24&255,s[r+2]=a>>16&255,s[r+3]=a>>8&255}}}t.dirty=!0}},ne.fillRect=function(t,e,i,s){var n;switch(s){case 1:var r=i,a=0;a=(r>>16&255&255)<<24|(r>>8&255&255)<<16|(255&r&255)<<8|r>>24&255&255,n=a;break;case 2:var o=i,_=0;_=(o>>8&255&255)<<24|(o>>16&255&255)<<16|(o>>24&255&255)<<8|255&o&255,n=_;break;default:n=i}t.get_transparent()||(n=(n>>24&255&255)<<24|(n>>16&255&255)<<16|(n>>8&255&255)<<8|255);var h=t.buffer.data;if(null!=h){for(var l,u=t.buffer.format,c=t.buffer.premultiplied,f=new re(t,e),d=0,p=f.height;p>d;){var g=d++;l=f.offset+f.stride*g;for(var m=0,v=f.width;v>m;){var b=m++,x=l+4*b;switch(c&&(0==(255&n)?0!=n&&(n=0):255!=(255&n)&&(ue.a16=ue.__alpha16[255&n],n=((n>>24&255)*ue.a16>>16&255)<<24|((n>>16&255)*ue.a16>>16&255)<<16|((n>>8&255)*ue.a16>>16&255)<<8|255&n&255)),u){case 2:h[x]=n>>8&255,h[x+1]=n>>16&255,h[x+2]=n>>24&255,h[x+3]=255&n;break;case 0:h[x]=n>>24&255,h[x+1]=n>>16&255,h[x+2]=n>>8&255,h[x+3]=255&n;break;case 1:h[x]=255&n,h[x+1]=n>>24&255,h[x+2]=n>>16&255,h[x+3]=n>>8&255}}}t.dirty=!0}},ne.getPixels=function(t,e,i){if(null==t.buffer.data)return null;var s=e.width*e.height|0,n=new Re(4*s);n.position=0;for(var r,a,o,_,h=t.buffer.data,l=t.buffer.format,u=t.buffer.premultiplied,c=new re(t,e),f=0,d=0,p=c.height;p>d;){
var g=d++;r=c.offset+c.stride*g;for(var m=0,v=c.width;v>m;){m++;switch(l){case 2:_=(255&h[r+2])<<24|(255&h[r+1])<<16|(255&h[r])<<8|255&h[r+3];break;case 0:_=(255&h[r])<<24|(255&h[r+1])<<16|(255&h[r+2])<<8|255&h[r+3];break;case 1:_=(255&h[r+1])<<24|(255&h[r+2])<<16|(255&h[r+3])<<8|255&h[r]}if(u&&0!=(255&_)&&255!=(255&_)){ue.unmult=255/(255&_);var b,x=Math.round((_>>24&255)*ue.unmult);b=ue.__clamp[x];var y,w=Math.round((_>>16&255)*ue.unmult);y=ue.__clamp[w];var E,T=Math.round((_>>8&255)*ue.unmult);E=ue.__clamp[T],_=(255&b)<<24|(255&y)<<16|(255&E)<<8|255&_&255}switch(i){case 1:var P=0;P=(255&_&255)<<24|(_>>24&255&255)<<16|(_>>16&255&255)<<8|_>>8&255&255,a=P,_=a;break;case 2:var R=0;R=(_>>8&255&255)<<24|(_>>16&255&255)<<16|(_>>24&255&255)<<8|255&_&255,o=R,_=o}n.__set(f++,_>>24&255),n.__set(f++,_>>16&255),n.__set(f++,_>>8&255),n.__set(f++,255&_),r+=4}}return n.position=0,n},ne.multiplyAlpha=function(t){var e=t.buffer.data;if(null!=e&&t.buffer.transparent){for(var i,s=t.buffer.format,n=e.length/4|0,r=0;n>r;){var a=r++,o=4*a;switch(s){case 2:i=(255&e[o+2])<<24|(255&e[o+1])<<16|(255&e[o])<<8|255&e[o+3];break;case 0:i=(255&e[o])<<24|(255&e[o+1])<<16|(255&e[o+2])<<8|255&e[o+3];break;case 1:i=(255&e[o+1])<<24|(255&e[o+2])<<16|(255&e[o+3])<<8|255&e[o]}var _=4*a;switch(0==(255&i)?0!=i&&(i=0):255!=(255&i)&&(ue.a16=ue.__alpha16[255&i],i=((i>>24&255)*ue.a16>>16&255)<<24|((i>>16&255)*ue.a16>>16&255)<<16|((i>>8&255)*ue.a16>>16&255)<<8|255&i&255),s){case 2:e[_]=i>>8&255,e[_+1]=i>>16&255,e[_+2]=i>>24&255,e[_+3]=255&i;break;case 0:e[_]=i>>24&255,e[_+1]=i>>16&255,e[_+2]=i>>8&255,e[_+3]=255&i;break;case 1:e[_]=255&i,e[_+1]=i>>24&255,e[_+2]=i>>16&255,e[_+3]=i>>8&255}}t.buffer.premultiplied=!0,t.dirty=!0}},ne.resize=function(t,e,i){var s=t.buffer;if(s.width!=e||s.height!=i){for(var n,r,a,o,_,h,l,u,c,f,d,p,g,m=new jt(function(t){var s,n,r=e*i*4;return n=null!=r?new ir(r):null,s=n}(this),e,i),v=t.width,b=t.height,x=t.get_data(),y=m.data,w=0;i>w;)for(var E=w++,T=0;e>T;){var P=T++;u=(P+.5)/e*v-.5,c=(E+.5)/i*b-.5,h=0|u,l=0|c,n=4*(l*v+h),r=v-1>h?n+4:n,a=b-1>l?n+4*v:n,o=r!=n?a+4:a,_=4*(E*e+P),f=u-h,d=c-l,p=1-f,g=1-d;var R=D["int"]((B.toFloat(x[n])*p+B.toFloat(x[r])*f)*g+(B.toFloat(x[a])*p+B.toFloat(x[o])*f)*d);y[_]=R;var S=D["int"]((B.toFloat(x[n+1])*p+B.toFloat(x[r+1])*f)*g+(B.toFloat(x[a+1])*p+B.toFloat(x[o+1])*f)*d);y[_+1]=S;var C=D["int"]((B.toFloat(x[n+2])*p+B.toFloat(x[r+2])*f)*g+(B.toFloat(x[a+2])*p+B.toFloat(x[o+2])*f)*d);y[_+2]=C,0==x[r+3]||0==x[a+3]||0==x[o+3]?y[_+3]=0:y[_+3]=x[n+3]}s.data=m.data,s.width=e,s.height=i}},ne.setFormat=function(t,e){var i=t.buffer.data;if(null!=i){var s,n,r,a,o,_,h,l,u,c,f,d,p,g=i.length/4|0,m=t.get_format();switch(m){case 0:n=0,r=1,a=2,o=3;break;case 1:n=1,r=2,a=3,o=0;break;case 2:n=2,r=1,a=0,o=3}switch(e){case 0:_=0,h=1,l=2,u=3;break;case 1:_=1,h=2,l=3,u=0;break;case 2:_=2,h=1,l=0,u=3}for(var v=0;g>v;){var b=v++;s=4*b,c=i[s+n],f=i[s+r],d=i[s+a],p=i[s+o],i[s+_]=c,i[s+h]=f,i[s+l]=d,i[s+u]=p}t.buffer.format=e,t.dirty=!0}},ne.unmultiplyAlpha=function(t){var e=t.buffer.data;if(null!=e){for(var i,s=t.buffer.format,n=e.length/4|0,r=0;n>r;){var a=r++,o=4*a;switch(s){case 2:i=(255&e[o+2])<<24|(255&e[o+1])<<16|(255&e[o])<<8|255&e[o+3];break;case 0:i=(255&e[o])<<24|(255&e[o+1])<<16|(255&e[o+2])<<8|255&e[o+3];break;case 1:i=(255&e[o+1])<<24|(255&e[o+2])<<16|(255&e[o+3])<<8|255&e[o]}if(0!=(255&i)&&255!=(255&i)){ue.unmult=255/(255&i);var _,h=Math.round((i>>24&255)*ue.unmult);_=ue.__clamp[h];var l,u=Math.round((i>>16&255)*ue.unmult);l=ue.__clamp[u];var c,f=Math.round((i>>8&255)*ue.unmult);c=ue.__clamp[f],i=(255&_)<<24|(255&l)<<16|(255&c)<<8|255&i&255}var d=4*a;switch(s){case 2:e[d]=i>>8&255,e[d+1]=i>>16&255,e[d+2]=i>>24&255,e[d+3]=255&i;break;case 0:e[d]=i>>24&255,e[d+1]=i>>16&255,e[d+2]=i>>8&255,e[d+3]=255&i;break;case 1:e[d]=255&i,e[d+1]=i>>24&255,e[d+2]=i>>16&255,e[d+3]=i>>8&255}}t.buffer.premultiplied=!1,t.dirty=!0}};var re=function(t,e){this.image=t,null==e?this.rect=t.get_rect():(e.x<0&&(e.x=0),e.y<0&&(e.y=0),e.x+e.width>t.width&&(e.width=t.width-e.x),e.y+e.height>t.height&&(e.height=t.height-e.y),e.width<0&&(e.width=0),e.height<0&&(e.height=0),this.rect=e),this.stride=t.buffer.get_stride(),this.x=Math.ceil(this.rect.x),this.y=Math.ceil(this.rect.y),this.width=Math.floor(this.rect.width),this.height=Math.floor(this.rect.height),this.offset=this.stride*(this.y+t.offsetY)+4*(this.x+t.offsetX)};a["lime.graphics.utils._ImageDataUtil.ImageDataView"]=re,re.__name__=!0,re.prototype={__class__:re};var ae={};a["lime.math._ColorMatrix.ColorMatrix_Impl_"]=ae,ae.__name__=!0,ae.getAlphaTable=function(t){var e,i;i=new ir(256),e=i;for(var s,n=t[18],r=255*t[19],a=0;256>a;){var o=a++;s=Math.floor(o*n+r),s>255&&(s=255),0>s&&(s=0),e[o]=s}return e},ae.getBlueTable=function(t){var e,i;i=new ir(256),e=i;for(var s,n=t[12],r=255*t[14],a=0;256>a;){var o=a++;s=Math.floor(o*n+r),s>255&&(s=255),0>s&&(s=0),e[o]=s}return e},ae.getGreenTable=function(t){var e,i;i=new ir(256),e=i;for(var s,n=t[6],r=255*t[9],a=0;256>a;){var o=a++;s=Math.floor(o*n+r),s>255&&(s=255),0>s&&(s=0),e[o]=s}return e},ae.getRedTable=function(t){var e,i;i=new ir(256),e=i;for(var s,n=t[0],r=255*t[4],a=0;256>a;){var o=a++;s=Math.floor(o*n+r),s>255&&(s=255),0>s&&(s=0),e[o]=s}return e},ae.__toFlashColorTransform=function(t){return null};var oe=function(t,e,i,s,n,r){null==r&&(r=0),null==n&&(n=0),null==s&&(s=1),null==i&&(i=0),null==e&&(e=0),null==t&&(t=1),this.a=t,this.b=e,this.c=i,this.d=s,this.tx=n,this.ty=r};a["lime.math.Matrix3"]=oe,oe.__name__=!0,oe.prototype={__class__:oe};var _e=function(t,e,i,s){null==s&&(s=0),null==i&&(i=0),null==e&&(e=0),null==t&&(t=0),this.x=t,this.y=e,this.width=i,this.height=s};a["lime.math.Rectangle"]=_e,_e.__name__=!0,_e.prototype={offset:function(t,e){this.x+=t,this.y+=e},__toFlashRectangle:function(){return null},__class__:_e};var he=function(t,e){null==e&&(e=0),null==t&&(t=0),this.x=t,this.y=e};a["lime.math.Vector2"]=he,he.__name__=!0,he.prototype={__class__:he};var le=function(){};a["lime.math.Vector4"]=le,le.__name__=!0;var ue={};a["lime.math.color._RGBA.RGBA_Impl_"]=ue,ue.__name__=!0,ue.__alpha16=null,ue.__clamp=null,ue.a16=null,ue.unmult=null;var ce=function(t){this.onSecurityError=new Ct,this.onProgress=new Rt,this.onOpen=new It,this.onIOError=new Ct,this.onHTTPStatus=new St,this.onComplete=new It,this.bytesLoaded=0,this.bytesTotal=0,this.set_dataFormat(fe.TEXT),null!=t&&this.load(t)};a["lime.net.URLLoader"]=ce,ce.__name__=!0,ce.prototype={getData:function(){return null},load:function(t){this.requestUrl(t.url,t.method,t.data,t.formatRequestHeaders())},registerEvents:function(t){var e=this,i=this;"undefined"!=typeof XMLHttpRequestProgressEvent&&t.addEventListener("progress",r(this,this.__onProgress),!1),t.onreadystatechange=function(){if(4==t.readyState){var s;try{s=t.status}catch(n){n instanceof it&&(n=n.val),s=null}void 0==s&&(s=null),null!=s&&i.onHTTPStatus.dispatch(e,s),null!=s&&s>=200&&400>s?i.__onData(t.response):null==s?i.onIOError.dispatch(e,"Failed to connect or resolve host"):12029==s?i.onIOError.dispatch(e,"Failed to connect to host"):12007==s?i.onIOError.dispatch(e,"Unknown host"):0==s?(i.onIOError.dispatch(e,"Unable to make request (may be blocked due to cross-domain permissions)"),i.onSecurityError.dispatch(e,"Unable to make request (may be blocked due to cross-domain permissions)")):i.onIOError.dispatch(e,"Http Error #"+t.status)}}},requestUrl:function(t,e,i,s){var n=new XMLHttpRequest;this.registerEvents(n);var r="";if(st.__instanceof(i,Re)){var a=i,o=this.dataFormat;switch(o[1]){case 0:r=a.data.buffer;break;default:r=a.readUTFBytes(a.length)}}else if(st.__instanceof(i,ge))for(var _=i,h=0,l=L.fields(_);h<l.length;){var u=l[h];++h,0!=r.length&&(r+="&"),r+=encodeURIComponent(u)+"="+O.urlEncode(L.field(_,u))}else null!=i&&(r=i.toString());try{if("GET"==e&&null!=r&&""!=r){var c=t.split("?").length<=1;n.open("GET",t+(c?"?":"&")+D.string(r),!0),r=""}else n.open(st.__cast(e,String),t,!0)}catch(f){return f instanceof it&&(f=f.val),void this.onIOError.dispatch(this,f.toString())}var d=this.dataFormat;switch(d[1]){case 0:n.responseType="arraybuffer"}for(var p=0;p<s.length;){var g=s[p];++p,n.setRequestHeader(g.name,g.value)}n.send(r),this.onOpen.dispatch(this),this.getData=function(){return null!=n.response?n.response:n.responseText}},__onData:function(t){var e=this.getData(),i=this.dataFormat;switch(i[1]){case 0:this.data=Re.__ofBuffer(e);break;default:this.data=D.string(e)}this.onComplete.dispatch(this)},__onProgress:function(t){this.bytesLoaded=t.loaded,this.bytesTotal=t.total,this.onProgress.dispatch(this,this.bytesLoaded,this.bytesTotal)},set_dataFormat:function(t){return t!=fe.BINARY||L.hasField(window,"ArrayBuffer")?this.dataFormat=t:this.dataFormat=fe.TEXT,this.dataFormat},__class__:ce,__properties__:{set_dataFormat:"set_dataFormat"}};var fe=a["lime.net.URLLoaderDataFormat"]={__ename__:!0,__constructs__:["BINARY","TEXT","VARIABLES"]};fe.BINARY=["BINARY",0],fe.BINARY.toString=o,fe.BINARY.__enum__=fe,fe.TEXT=["TEXT",1],fe.TEXT.toString=o,fe.TEXT.__enum__=fe,fe.VARIABLES=["VARIABLES",2],fe.VARIABLES.toString=o,fe.VARIABLES.__enum__=fe;var de=function(t){null!=t&&(this.url=t),this.requestHeaders=[],this.method="GET",this.contentType=null};a["lime.net.URLRequest"]=de,de.__name__=!0,de.prototype={formatRequestHeaders:function(){var t=this.requestHeaders;return null==t&&(t=[]),"GET"==this.method||null==this.data?t:(("string"==typeof this.data||st.__instanceof(this.data,Re))&&(t=t.slice(),t.push(new pe("Content-Type",null!=this.contentType?this.contentType:"application/x-www-form-urlencoded"))),t)},__class__:de};var pe=function(t,e){null==e&&(e=""),null==t&&(t=""),this.name=t,this.value=e};a["lime.net.URLRequestHeader"]=pe,pe.__name__=!0,pe.prototype={__class__:pe};var ge=function(){};a["lime.net.URLVariables"]=ge,ge.__name__=!0;var me=function(){};a["lime.system.Clipboard"]=me,me.__name__=!0,me.__properties__={set_text:"set_text",get_text:"get_text"},me.get_text=function(){return null},me.set_text=function(t){return null};var ve=function(){};a["lime.system.System"]=ve,ve.__name__=!0,ve.embed=e.lime.embed=function(t,e,i,s,n){var r=null;r="string"==typeof t?window.document.getElementById(st.__cast(t,String)):null==t?window.document.createElement("div"):t;var a=null;null!=s&&(s=O.replace(s,"#",""),a=s.indexOf("0x")>-1?D.parseInt(s):D.parseInt("0x"+s)),null==e&&(e=0),null==i&&(i=0),_.config.windows[0].background=a,_.config.windows[0].element=r,_.config.windows[0].width=e,_.config.windows[0].height=i,_.config.assetsPrefix=n,_.create()},ve.getTimer=function(){return(new Date).getTime()};var be=function(){this.onDisconnect=new _t,this.onButtonUp=new At,this.onButtonDown=new At,this.onAxisMove=new Mt};a["lime.ui.Gamepad"]=be,be.__name__=!0,be.prototype={__class__:be};var xe=function(){this.onTrackballMove=new bt,this.onHatMove=new wt,this.onDisconnect=new _t,this.onButtonUp=new yt,this.onButtonDown=new yt,this.onAxisMove=new bt};a["lime.ui.Joystick"]=xe,xe.__name__=!0,xe.prototype={__class__:xe};var ye={};a["lime.ui._KeyModifier.KeyModifier_Impl_"]=ye,ye.__name__=!0,ye.__properties__={get_shiftKey:"get_shiftKey",get_metaKey:"get_metaKey",get_ctrlKey:"get_ctrlKey",get_altKey:"get_altKey"},ye.get_altKey=function(t){return(256&t)>0||(512&t)>0},ye.get_ctrlKey=function(t){return(64&t)>0||(128&t)>0},ye.get_metaKey=function(t){return(1024&t)>0||(2048&t)>0},ye.get_shiftKey=function(t){return(1&t)>0||(2&t)>0};var we=function(){};a["lime.ui.Mouse"]=we,we.__name__=!0,we.__properties__={set_cursor:"set_cursor"},we.set_cursor=function(t){return ut.set_cursor(t)};var Ee=a["lime.ui.MouseCursor"]={__ename__:!0,__constructs__:["ARROW","CROSSHAIR","DEFAULT","MOVE","POINTER","RESIZE_NESW","RESIZE_NS","RESIZE_NWSE","RESIZE_WE","TEXT","WAIT","WAIT_ARROW","CUSTOM"]};Ee.ARROW=["ARROW",0],Ee.ARROW.toString=o,Ee.ARROW.__enum__=Ee,Ee.CROSSHAIR=["CROSSHAIR",1],Ee.CROSSHAIR.toString=o,Ee.CROSSHAIR.__enum__=Ee,Ee.DEFAULT=["DEFAULT",2],Ee.DEFAULT.toString=o,Ee.DEFAULT.__enum__=Ee,Ee.MOVE=["MOVE",3],Ee.MOVE.toString=o,Ee.MOVE.__enum__=Ee,Ee.POINTER=["POINTER",4],Ee.POINTER.toString=o,Ee.POINTER.__enum__=Ee,Ee.RESIZE_NESW=["RESIZE_NESW",5],Ee.RESIZE_NESW.toString=o,Ee.RESIZE_NESW.__enum__=Ee,Ee.RESIZE_NS=["RESIZE_NS",6],Ee.RESIZE_NS.toString=o,Ee.RESIZE_NS.__enum__=Ee,Ee.RESIZE_NWSE=["RESIZE_NWSE",7],Ee.RESIZE_NWSE.toString=o,Ee.RESIZE_NWSE.__enum__=Ee,Ee.RESIZE_WE=["RESIZE_WE",8],Ee.RESIZE_WE.toString=o,Ee.RESIZE_WE.__enum__=Ee,Ee.TEXT=["TEXT",9],Ee.TEXT.toString=o,Ee.TEXT.__enum__=Ee,Ee.WAIT=["WAIT",10],Ee.WAIT.toString=o,Ee.WAIT.__enum__=Ee,Ee.WAIT_ARROW=["WAIT_ARROW",11],Ee.WAIT_ARROW.toString=o,Ee.WAIT_ARROW.__enum__=Ee,Ee.CUSTOM=["CUSTOM",12],Ee.CUSTOM.toString=o,Ee.CUSTOM.__enum__=Ee;var Te=function(t,e,i,s,n,r,a){this.x=t,this.y=e,this.id=i,this.dx=s,this.dy=n,this.pressure=r,this.device=a};a["lime.ui.Touch"]=Te,Te.__name__=!0,Te.prototype={__class__:Te};var Pe=function(t){this.onTextInput=new Tt,this.onTextEdit=new Et,this.onRestore=new _t,this.onResize=new xt,this.onMove=new vt,this.onMouseWheel=new vt,this.onMouseUp=new mt,this.onMouseMoveRelative=new vt,this.onMouseMove=new vt,this.onMouseDown=new mt,this.onMinimize=new _t,this.onLeave=new _t,this.onKeyUp=new Ot,this.onKeyDown=new Ot,this.onFullscreen=new _t,this.onFocusOut=new _t,this.onFocusIn=new _t,this.onEnter=new _t,this.onDeactivate=new _t,this.onCreate=new _t,this.onClose=new _t,this.onActivate=new _t,this.config=t,this.__width=0,this.__height=0,this.__fullscreen=!1,this.__scale=1,this.__x=0,this.__y=0,this.__title="",this.id=-1,null!=t&&(Object.prototype.hasOwnProperty.call(t,"width")&&(this.__width=t.width),Object.prototype.hasOwnProperty.call(t,"height")&&(this.__height=t.height),Object.prototype.hasOwnProperty.call(t,"x")&&(this.__x=t.x),Object.prototype.hasOwnProperty.call(t,"y")&&(this.__y=t.y),Object.prototype.hasOwnProperty.call(t,"fullscreen")&&(this.__fullscreen=t.fullscreen),Object.prototype.hasOwnProperty.call(t,"title")&&(this.__title=t.title)),this.backend=new ft(this)};a["lime.ui.Window"]=Pe,Pe.__name__=!0,Pe.prototype={close:function(){this.backend.close()},create:function(t){this.application=t,this.backend.create(t),null!=this.renderer&&this.renderer.create()},resize:function(t,e){this.backend.resize(t,e),this.__width=t,this.__height=e},set_fullscreen:function(t){return this.__fullscreen=this.backend.setFullscreen(t)},set_height:function(t){return this.resize(this.__width,t),this.__height},set_width:function(t){return this.resize(t,this.__height),this.__width},__class__:Pe,__properties__:{set_width:"set_width",set_height:"set_height",set_fullscreen:"set_fullscreen"}};var Re=function(t){null==t&&(t=0),this.allocated=0,this.position=0,this.length=0,t>0&&(this.allocated=t),this.___resizeBuffer(this.allocated),this.set_length(this.allocated)};a["lime.utils.ByteArray"]=Re,Re.__name__=!0,Re.__ofBuffer=function(t){var e=new Re;return e.set_length(e.allocated=t.byteLength),e.data=new er(t),e.byteView=new ir(t),e},Re.prototype={readByte:function(){var t=this.data;return t.getInt8(this.position++)},readUnsignedByte:function(){var t=this.data;return t.getUint8(this.position++)},readUTFBytes:function(t){for(var e="",i=this.position+t;this.position<i;){var s=this.data,n=s.getUint8(this.position++);if(128>n){if(0==n)break;e+=String.fromCharCode(n)}else if(224>n)e+=String.fromCharCode((63&n)<<6|127&s.getUint8(this.position++));else if(240>n){var r=s.getUint8(this.position++);e+=String.fromCharCode((31&n)<<12|(127&r)<<6|127&s.getUint8(this.position++))}else{var a=s.getUint8(this.position++),o=s.getUint8(this.position++);e+=String.fromCharCode((15&n)<<18|(127&a)<<12|o<<6&127|127&s.getUint8(this.position++))}}return e},__get:function(t){return this.data.getInt8(t)},___resizeBuffer:function(t){var e=this.byteView,i=new ir(t);null!=e&&(e.length<=t?i.set(e):i.set(e.subarray(0,t))),this.byteView=i,this.data=new er(i.buffer)},__set:function(t,e){this.data.setUint8(t,e)},set_length:function(t){return this.allocated<t?this.___resizeBuffer(this.allocated=D["int"](Math.max(t,2*this.allocated))):this.allocated>2*t&&this.___resizeBuffer(this.allocated=t),this.length=t,t},__class__:Re,__properties__:{set_length:"set_length"}};var Se=function(){};a["motion.actuators.IGenericActuator"]=Se,Se.__name__=!0,Se.prototype={__class__:Se};var Ce=function(t,e,i){this._autoVisible=!0,this._delay=0,this._reflect=!1,this._repeat=0,this._reverse=!1,this._smartRotation=!1,this._snapping=!1,this.special=!1,this.target=t,this.properties=i,this.duration=e,this._ease=De.defaultEase};a["motion.actuators.GenericActuator"]=Ce,Ce.__name__=!0,Ce.__interfaces__=[Se],Ce.prototype={apply:function(){for(var t=0,e=L.fields(this.properties);t<e.length;){var i=e[t];++t,Object.prototype.hasOwnProperty.call(this.target,i)?L.setField(this.target,i,L.field(this.properties,i)):L.setProperty(this.target,i,L.field(this.properties,i))}},autoVisible:function(t){return null==t&&(t=!0),this._autoVisible=t,this},callMethod:function(t,e){return null==e&&(e=[]),L.callMethod(t,t,e)},change:function(){null!=this._onUpdate&&this.callMethod(this._onUpdate,this._onUpdateParams)},complete:function(t){null==t&&(t=!0),t&&(this.change(),null!=this._onComplete&&this.callMethod(this._onComplete,this._onCompleteParams)),De.unload(this)},delay:function(t){return this._delay=t,this},ease:function(t){return this._ease=t,this},move:function(){},onComplete:function(t,e){return this._onComplete=t,null==e?this._onCompleteParams=[]:this._onCompleteParams=e,0==this.duration&&this.complete(),this},onRepeat:function(t,e){return this._onRepeat=t,null==e?this._onRepeatParams=[]:this._onRepeatParams=e,this},onUpdate:function(t,e){return this._onUpdate=t,null==e?this._onUpdateParams=[]:this._onUpdateParams=e,this},onPause:function(t,e){return this._onPause=t,null==e?this._onPauseParams=[]:this._onPauseParams=e,this},onResume:function(t,e){return this._onResume=t,null==e?this._onResumeParams=[]:this._onResumeParams=e,this},pause:function(){null!=this._onPause&&this.callMethod(this._onPause,this._onPauseParams)},reflect:function(t){return null==t&&(t=!0),this._reflect=t,this.special=!0,this},repeat:function(t){return null==t&&(t=-1),this._repeat=t,this},resume:function(){null!=this._onResume&&this.callMethod(this._onResume,this._onResumeParams)},reverse:function(t){return null==t&&(t=!0),this._reverse=t,this.special=!0,this},smartRotation:function(t){return null==t&&(t=!0),this._smartRotation=t,this.special=!0,this},snapping:function(t){return null==t&&(t=!0),this._snapping=t,this.special=!0,this},stop:function(t,e,i){},__class__:Ce};var Ie=function(t,e,i){this.active=!0,this.propertyDetails=[],this.sendChange=!1,this.paused=!1,this.cacheVisible=!1,this.initialized=!1,this.setVisible=!1,this.toggleVisible=!1,this.startTime=Ze.getTimer()/1e3,Ce.call(this,t,e,i),Ie.addedEvent||(Ie.addedEvent=!0,Ze.current.stage.addEventListener(Ds.ENTER_FRAME,Ie.stage_onEnterFrame))};a["motion.actuators.SimpleActuator"]=Ie,Ie.__name__=!0,Ie.stage_onEnterFrame=function(t){for(var e,i=Ze.getTimer()/1e3,s=0,n=0,r=Ie.actuatorsLength;r>n;){n++;e=Ie.actuators[s],null!=e&&e.active?(i>=e.timeOffset&&e.update(i),s++):(Ie.actuators.splice(s,1),--Ie.actuatorsLength)}},Ie.__super__=Ce,Ie.prototype=s(Ce.prototype,{setField_openfl_geom_Transform:function(t,e,i){Object.prototype.hasOwnProperty.call(t,e)?t[e]=i:L.setProperty(t,e,i)},setField_motion_actuators_TransformActuator_T:function(t,e,i){Object.prototype.hasOwnProperty.call(t,e)?t[e]=i:L.setProperty(t,e,i)},setField_motion_actuators_MotionPathActuator_T:function(t,e,i){Object.prototype.hasOwnProperty.call(t,e)?t[e]=i:L.setProperty(t,e,i)},setField_openfl_display_DisplayObject:function(t,e,i){Object.prototype.hasOwnProperty.call(t,e)?t[e]=i:L.setProperty(t,e,i)},setField_motion_actuators_SimpleActuator_T:function(t,e,i){Object.prototype.hasOwnProperty.call(t,e)?t[e]=i:L.setProperty(t,e,i)},autoVisible:function(t){return null==t&&(t=!0),this._autoVisible=t,t||(this.toggleVisible=!1,this.setVisible&&this.setField_motion_actuators_SimpleActuator_T(this.target,"visible",this.cacheVisible)),this},delay:function(t){return this._delay=t,this.timeOffset=this.startTime+t,this},getField:function(t,e){var i=null;return i=Object.prototype.hasOwnProperty.call(t,e)?L.field(t,e):L.getProperty(t,e)},initialize:function(){for(var t,e,i=0,s=L.fields(this.properties);i<s.length;){var n=s[i];++i;var r=!0;if(!Object.prototype.hasOwnProperty.call(this.target,n)||this.target.__properties__&&this.target.__properties__["set_"+n]?(r=!1,e=L.getProperty(this.target,n)):e=L.field(this.target,n),"number"==typeof e){var a=this.getField(this.properties,n);null==e&&(e=0),null==a&&(a=0),t=new Ne(this.target,n,e,a-e,r),this.propertyDetails.push(t)}}this.detailsLength=this.propertyDetails.length,this.initialized=!0},move:function(){this.toggleVisible=Object.prototype.hasOwnProperty.call(this.properties,"alpha")&&st.__instanceof(this.target,c),this.toggleVisible&&0!=this.properties.alpha&&!this.getField(this.target,"visible")&&(this.setVisible=!0,this.cacheVisible=this.getField(this.target,"visible"),this.setField_motion_actuators_SimpleActuator_T(this.target,"visible",!0)),this.timeOffset=this.startTime,Ie.actuators.push(this),++Ie.actuatorsLength},onUpdate:function(t,e){return this._onUpdate=t,null==e?this._onUpdateParams=[]:this._onUpdateParams=e,this.sendChange=!0,this},pause:function(){this.paused||(this.paused=!0,Ce.prototype.pause.call(this),this.pauseTime=Ze.getTimer())},resume:function(){this.paused&&(this.paused=!1,this.timeOffset+=(Ze.getTimer()-this.pauseTime)/1e3,Ce.prototype.resume.call(this))},setProperty:function(t,e){t.isField?t.target[t.propertyName]=e:L.setProperty(t.target,t.propertyName,e)},stop:function(t,e,i){if(this.active){if(null==t)return this.active=!1,e&&this.apply(),void this.complete(i);for(var s=0,n=L.fields(t);s<n.length;){var r=n[s];if(++s,Object.prototype.hasOwnProperty.call(this.properties,r))return this.active=!1,e&&this.apply(),void this.complete(i)}}},update:function(t){if(!this.paused){var e,i,s=(t-this.timeOffset)/this.duration;if(s>1&&(s=1),this.initialized||this.initialize(),this.special){i=this._reverse?this._ease.calculate(1-s):this._ease.calculate(s);for(var n,r=0,a=this.detailsLength;a>r;){var o=r++;if(e=this.propertyDetails[o],!this._smartRotation||"rotation"!=e.propertyName&&"rotationX"!=e.propertyName&&"rotationY"!=e.propertyName&&"rotationZ"!=e.propertyName)n=e.start+e.change*i;else{var _=e.change%360;_>180?_-=360:-180>_&&(_+=360),n=e.start+_*i}this._snapping?this.setProperty(e,Math.round(n)):e.isField?e.target[e.propertyName]=n:L.setProperty(e.target,e.propertyName,n)}}else{i=this._ease.calculate(s);for(var h=0,l=this.detailsLength;l>h;){var u=h++;e=this.propertyDetails[u],this.setProperty(e,e.start+e.change*i)}}if(1==s){if(0==this._repeat)return this.active=!1,this.toggleVisible&&0==this.getField(this.target,"alpha")&&this.setField_motion_actuators_SimpleActuator_T(this.target,"visible",!1),void this.complete(!0);null!=this._onRepeat&&this.callMethod(this._onRepeat,this._onRepeatParams),this._reflect&&(this._reverse=!this._reverse),this.startTime=t,this.timeOffset=this.startTime+this._delay,this._repeat>0&&this._repeat--}this.sendChange&&this.change()}},__class__:Ie});var Me=function(){};a["motion.easing.Expo"]=Me,Me.__name__=!0,Me.__properties__={get_easeOut:"get_easeOut"},Me.get_easeOut=function(){return new Le};var Ae=function(){};a["motion.easing.IEasing"]=Ae,Ae.__name__=!0,Ae.prototype={__class__:Ae};var Le=function(){};a["motion.easing.ExpoEaseOut"]=Le,Le.__name__=!0,Le.__interfaces__=[Ae],Le.prototype={calculate:function(t){return 1==t?1:1-Math.pow(2,-10*t)},__class__:Le};var De=function(){};a["motion.Actuate"]=De,De.__name__=!0,De.apply=function(t,e,i){De.stop(t,e),null==i&&(i=De.defaultActuator);var s=k.createInstance(i,[t,0,e]);return s.apply(),s},De.getLibrary=function(t,e){return null==e&&(e=!0),null==De.targetLibraries.h.__keys__[t.__id__]&&e&&De.targetLibraries.set(t,[]),De.targetLibraries.h[t.__id__]},De.stop=function(t,e,i,s){if(null==s&&(s=!0),null==i&&(i=!1),null!=t)if(st.__instanceof(t,Se)){var n=t;n.stop(null,i,s)}else{var r=De.getLibrary(t,!1);if(null!=r){if("string"==typeof e){var a={};L.setField(a,e,null),e=a}else if(e instanceof Array&&null==e.__enum__){var o,_={},h=0;for(o=st.__cast(e,Array);h<o.length;){var l=o[h];++h,L.setField(_,l,null)}e=_}for(var u=r.length-1;u>=0;)r[u].stop(e,i,s),u--}}},De.tween=function(t,e,i,s,n){if(null==s&&(s=!0),null!=t){if(e>0){null==n&&(n=De.defaultActuator);var r=k.createInstance(n,[t,e,i]),a=De.getLibrary(r.target);if(s){for(var o=a.length-1;o>=0;)a[o].stop(r.properties,!1,!1),o--;a=De.getLibrary(r.target)}return a.push(r),r.move(),r}return De.apply(t,i,n)}return null},De.unload=function(t){var e=t.target;null!=De.targetLibraries.h.__keys__[e.__id__]&&(C.remove(De.targetLibraries.h[e.__id__],t),0==De.targetLibraries.h[e.__id__].length&&De.targetLibraries.remove(e))};var Oe=function(){};a["motion.IComponentPath"]=Oe,Oe.__name__=!0,Oe.prototype={__class__:Oe,__properties__:{get_end:"get_end"}};var ke=function(t,e,i){if(this.filterIndex=-1,Ie.call(this,t,e,i),st.__instanceof(i.filter,Zn)){this.filterClass=i.filter,0==t.get_filters().length&&t.set_filters([k.createInstance(this.filterClass,[])]);for(var s=0,n=t.get_filters();s<n.length;){var r=n[s];++s,st.__instanceof(r,this.filterClass)&&(this.filter=r)}}else this.filterIndex=i.filter,this.filter=t.get_filters()[this.filterIndex]};a["motion.actuators.FilterActuator"]=ke,ke.__name__=!0,ke.__super__=Ie,ke.prototype=s(Ie.prototype,{apply:function(){for(var t=0,e=L.fields(this.properties);t<e.length;){var i=e[t];++t,"filter"!=i&&L.setField(this.filter,i,L.field(this.properties,i))}var s=this.getField(this.target,"filters");L.setField(s,this.properties.filter,this.filter),this.setField_openfl_display_DisplayObject(this.target,"filters",s)},initialize:function(){for(var t,e,i=0,s=L.fields(this.properties);i<s.length;){var n=s[i];++i,"filter"!=n&&(e=this.getField(this.filter,n),t=new Ne(this.filter,n,e,L.field(this.properties,n)-e),this.propertyDetails.push(t))}this.detailsLength=this.propertyDetails.length,this.initialized=!0},update:function(t){Ie.prototype.update.call(this,t);var e=this.target.get_filters();if(this.filterIndex>-1)L.setField(e,this.properties.filter,this.filter);else for(var i=0,s=e.length;s>i;){var n=i++;st.__instanceof(e[n],this.filterClass)&&(e[n]=this.filter)}this.setField_openfl_display_DisplayObject(this.target,"filters",e)},__class__:ke});var Be=function(t,e,i){this.currentParameters=[],this.tweenProperties={},Ie.call(this,t,e,i),Object.prototype.hasOwnProperty.call(i,"start")||(this.properties.start=[]),Object.prototype.hasOwnProperty.call(i,"end")||(this.properties.end=this.properties.start);for(var s=0,n=this.properties.start.length;n>s;){var r=s++;this.currentParameters.push(this.properties.start[r])}};a["motion.actuators.MethodActuator"]=Be,Be.__name__=!0,Be.__super__=Ie,Be.prototype=s(Ie.prototype,{apply:function(){this.callMethod(this.target,this.properties.end)},complete:function(t){null==t&&(t=!0);for(var e=0,i=this.properties.start.length;i>e;){var s=e++;this.currentParameters[s]=L.field(this.tweenProperties,"param"+s)}this.callMethod(this.target,this.currentParameters),Ie.prototype.complete.call(this,t)},initialize:function(){for(var t,e,i,s=0,n=this.properties.start.length;n>s;){var r=s++;e="param"+r,i=this.properties.start[r],this.tweenProperties[e]=i,("number"==typeof i||(0|i)===i)&&(t=new Ne(this.tweenProperties,e,i,this.properties.end[r]-i),this.propertyDetails.push(t))}this.detailsLength=this.propertyDetails.length,this.initialized=!0},update:function(t){if(Ie.prototype.update.call(this,t),this.active&&!this.paused){for(var e=0,i=this.properties.start.length;i>e;){var s=e++;this.currentParameters[s]=L.field(this.tweenProperties,"param"+s)}this.callMethod(this.target,this.currentParameters)}},__class__:Be});var Fe=function(t,e,i){Ie.call(this,t,e,i)};a["motion.actuators.MotionPathActuator"]=Fe,Fe.__name__=!0,Fe.__super__=Ie,Fe.prototype=s(Ie.prototype,{apply:function(){for(var t=0,e=L.fields(this.properties);t<e.length;){var i=e[t];++t,Object.prototype.hasOwnProperty.call(this.target,i)?L.setField(this.target,i,st.__cast(L.field(this.properties,i),Oe).get_end()):L.setProperty(this.target,i,st.__cast(L.field(this.properties,i),Oe).get_end())}},initialize:function(){for(var t,e,i=0,s=L.fields(this.properties);i<s.length;){var n=s[i];if(++i,e=st.__cast(L.field(this.properties,n),Oe),null!=e){var r=!0;Object.prototype.hasOwnProperty.call(this.target,n)?e.start=L.field(this.target,n):(r=!1,e.start=L.getProperty(this.target,n)),t=new Ue(this.target,n,e,r),this.propertyDetails.push(t)}}this.detailsLength=this.propertyDetails.length,this.initialized=!0},update:function(t){if(!this.paused){var e,i=(t-this.timeOffset)/this.duration;if(i>1&&(i=1),this.initialized||this.initialize(),this.special){e=this._reverse?this._ease.calculate(1-i):this._ease.calculate(i);for(var s=0,n=this.propertyDetails;s<n.length;){var r=n[s];++s,this._snapping?r.isField?L.setField(r.target,r.propertyName,Math.round(st.__cast(r,Ue).path.calculate(e))):L.setProperty(r.target,r.propertyName,Math.round(st.__cast(r,Ue).path.calculate(e))):r.isField?L.setField(r.target,r.propertyName,st.__cast(r,Ue).path.calculate(e)):L.setProperty(r.target,r.propertyName,st.__cast(r,Ue).path.calculate(e))}}else{e=this._ease.calculate(i);for(var a=0,o=this.propertyDetails;a<o.length;){var _=o[a];++a,_.isField?L.setField(_.target,_.propertyName,st.__cast(_,Ue).path.calculate(e)):L.setProperty(_.target,_.propertyName,st.__cast(_,Ue).path.calculate(e))}}if(1==i){if(0==this._repeat)return this.active=!1,this.toggleVisible&&0==this.getField(this.target,"alpha")&&this.setField_motion_actuators_MotionPathActuator_T(this.target,"visible",!1),void this.complete(!0);null!=this._onRepeat&&this.callMethod(this._onRepeat,this._onRepeatParams),this._reflect&&(this._reverse=!this._reverse),this.startTime=t,this.timeOffset=this.startTime+this._delay,this._repeat>0&&this._repeat--}this.sendChange&&this.change()}},__class__:Fe});var Ne=function(t,e,i,s,n){null==n&&(n=!0),this.target=t,this.propertyName=e,this.start=i,this.change=s,this.isField=n};a["motion.actuators.PropertyDetails"]=Ne,Ne.__name__=!0,Ne.prototype={__class__:Ne};var Ue=function(t,e,i,s){null==s&&(s=!0),Ne.call(this,t,e,0,0,s),this.path=i};a["motion.actuators.PropertyPathDetails"]=Ue,Ue.__name__=!0,Ue.__super__=Ne,Ue.prototype=s(Ne.prototype,{__class__:Ue});var Ge=function(t,e,i){Ie.call(this,t,e,i)};a["motion.actuators.TransformActuator"]=Ge,Ge.__name__=!0,Ge.__super__=Ie,Ge.prototype=s(Ie.prototype,{apply:function(){if(this.initialize(),null!=this.endColorTransform){var t=this.getField(this.target,"transform");this.setField_openfl_geom_Transform(t,"colorTransform",this.endColorTransform)}null!=this.endSoundTransform&&this.setField_motion_actuators_TransformActuator_T(this.target,"soundTransform",this.endSoundTransform)},initialize:function(){Object.prototype.hasOwnProperty.call(this.properties,"colorValue")&&st.__instanceof(this.target,c)&&this.initializeColor(),(Object.prototype.hasOwnProperty.call(this.properties,"soundVolume")||Object.prototype.hasOwnProperty.call(this.properties,"soundPan"))&&this.initializeSound(),this.detailsLength=this.propertyDetails.length,this.initialized=!0},initializeColor:function(){this.endColorTransform=new qe;var t=this.properties.colorValue,e=this.properties.colorStrength;if(1>e){var i,s;.5>e?(i=1,s=2*e):(i=1-2*(e-.5),s=1),this.endColorTransform.redMultiplier=i,this.endColorTransform.greenMultiplier=i,this.endColorTransform.blueMultiplier=i,this.endColorTransform.redOffset=s*(t>>16&255),this.endColorTransform.greenOffset=s*(t>>8&255),this.endColorTransform.blueOffset=s*(255&t)}else this.endColorTransform.redMultiplier=0,this.endColorTransform.greenMultiplier=0,this.endColorTransform.blueMultiplier=0,this.endColorTransform.redOffset=t>>16&255,this.endColorTransform.greenOffset=t>>8&255,this.endColorTransform.blueOffset=255&t;var n=["redMultiplier","greenMultiplier","blueMultiplier","redOffset","greenOffset","blueOffset"];
Object.prototype.hasOwnProperty.call(this.properties,"colorAlpha")?(this.endColorTransform.alphaMultiplier=this.properties.colorAlpha,n.push("alphaMultiplier")):this.endColorTransform.alphaMultiplier=this.getField(this.target,"alpha");var r=this.getField(this.target,"transform"),a=this.getField(r,"colorTransform");this.tweenColorTransform=new qe;for(var o,_,h=0;h<n.length;){var l=n[h];++h,_=this.getField(a,l),o=new Ne(this.tweenColorTransform,l,_,this.getField(this.endColorTransform,l)-_),this.propertyDetails.push(o)}},initializeSound:function(){null==this.getField(this.target,"soundTransform")&&this.setField_motion_actuators_TransformActuator_T(this.target,"soundTransform",new en);var t=this.getField(this.target,"soundTransform");this.endSoundTransform=this.getField(this.target,"soundTransform"),this.tweenSoundTransform=new en,Object.prototype.hasOwnProperty.call(this.properties,"soundVolume")&&(this.endSoundTransform.volume=this.properties.soundVolume,this.propertyDetails.push(new Ne(this.tweenSoundTransform,"volume",t.volume,this.endSoundTransform.volume-t.volume))),Object.prototype.hasOwnProperty.call(this.properties,"soundPan")&&(this.endSoundTransform.pan=this.properties.soundPan,this.propertyDetails.push(new Ne(this.tweenSoundTransform,"pan",t.pan,this.endSoundTransform.pan-t.pan)))},update:function(t){if(Ie.prototype.update.call(this,t),null!=this.endColorTransform){var e=this.getField(this.target,"transform");this.setField_openfl_geom_Transform(e,"colorTransform",this.tweenColorTransform)}null!=this.endSoundTransform&&this.setField_motion_actuators_TransformActuator_T(this.target,"soundTransform",this.tweenSoundTransform)},__class__:Ge});var We=function(){};a["openfl.IAssetCache"]=We,We.__name__=!0,We.prototype={__class__:We,__properties__:{get_enabled:"get_enabled"}};var Ve=function(){this.__enabled=!0,this.bitmapData=new j,this.font=new j,this.sound=new j};a["openfl.AssetCache"]=Ve,Ve.__name__=!0,Ve.__interfaces__=[We],Ve.prototype={getBitmapData:function(t){return this.bitmapData.get(t)},getFont:function(t){return this.font.get(t)},hasBitmapData:function(t){return this.bitmapData.exists(t)},hasFont:function(t){return this.font.exists(t)},setBitmapData:function(t,e){this.bitmapData.set(t,e)},setFont:function(t,e){this.font.set(t,e)},get_enabled:function(){return this.__enabled},__class__:Ve,__properties__:{get_enabled:"get_enabled"}};var He=function(){};a["openfl.Assets"]=He,He.__name__=!0,He.getBitmapData=function(t,e){if(null==e&&(e=!0),e&&He.cache.get_enabled()&&He.cache.hasBitmapData(t)){var i=He.cache.getBitmapData(t);if(He.isValidBitmapData(i))return i}var s=ht.getImage(t,!1);if(null!=s){var n=os.fromImage(s);return e&&He.cache.get_enabled()&&He.cache.setBitmapData(t,n),n}return null},He.getFont=function(t,e){if(null==e&&(e=!0),e&&He.cache.get_enabled()&&He.cache.hasFont(t))return He.cache.getFont(t);var i=ht.getFont(t,!1);if(null!=i){var s=T.__fromLimeFont(i);return e&&He.cache.get_enabled()&&He.cache.setFont(t,s),s}return new T},He.isValidBitmapData=function(t){return null!=t&&null!=t.image};var Ye=function(){p.call(this),this.__currentFrame=0,this.__currentLabels=[],this.__totalFrames=0,this.enabled=!0};a["openfl.display.MovieClip"]=Ye,Ye.__name__=!0,Ye.__super__=p,Ye.prototype=s(p.prototype,{__class__:Ye});var Xe=function(){l.call(this),this.applicationDomain=ze.currentDomain,this.bytesLoaded=0,this.bytesTotal=0,this.childAllowsParent=!0,this.parameters={}};a["openfl.display.LoaderInfo"]=Xe,Xe.__name__=!0,Xe.create=function(t){var e=new Xe;return e.uncaughtErrorEvents=new je,null!=t?e.loader=t:e.url=Xe.__rootURL,e},Xe.__super__=l,Xe.prototype=s(l.prototype,{__class__:Xe});var ze=function(t){null!=t?this.parentDomain=t:this.parentDomain=ze.currentDomain};a["openfl.system.ApplicationDomain"]=ze,ze.__name__=!0,ze.prototype={__class__:ze};var je=function(t){l.call(this,t)};a["openfl.events.UncaughtErrorEvents"]=je,je.__name__=!0,je.__super__=l,je.prototype=s(l.prototype,{__class__:je});var Ke=function(t,e,i,s,n,r){null==r&&(r=0),null==n&&(n=0),null==s&&(s=1),null==i&&(i=0),null==e&&(e=0),null==t&&(t=1),this.a=t,this.b=e,this.c=i,this.d=s,this.tx=n,this.ty=r};a["openfl.geom.Matrix"]=Ke,Ke.__name__=!0,Ke.prototype={clone:function(){return new Ke(this.a,this.b,this.c,this.d,this.tx,this.ty)},concat:function(t){var e=this.a*t.a+this.b*t.c;this.b=this.a*t.b+this.b*t.d,this.a=e;var i=this.c*t.a+this.d*t.c;this.d=this.c*t.b+this.d*t.d,this.c=i;var s=this.tx*t.a+this.ty*t.c+t.tx;this.ty=this.tx*t.b+this.ty*t.d+t.ty,this.tx=s},copyFrom:function(t){this.a=t.a,this.b=t.b,this.c=t.c,this.d=t.d,this.tx=t.tx,this.ty=t.ty},deltaTransformPoint:function(t){return new g(t.x*this.a+t.y*this.c,t.x*this.b+t.y*this.d)},identity:function(){this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0},invert:function(){var t=this.a*this.d-this.b*this.c;if(0==t)this.a=this.b=this.c=this.d=0,this.tx=-this.tx,this.ty=-this.ty;else{t=1/t;var e=this.d*t;this.d=this.a*t,this.a=e,this.b*=-t,this.c*=-t;var i=-this.a*this.tx-this.c*this.ty;this.ty=-this.b*this.tx-this.d*this.ty,this.tx=i}return this},scale:function(t,e){this.a*=t,this.b*=e,this.c*=t,this.d*=e,this.tx*=t,this.ty*=e},to3DString:function(t){return null==t&&(t=!1),t?"matrix3d("+this.a+", "+this.b+", 0, 0, "+this.c+", "+this.d+", 0, 0, 0, 0, 1, 0, "+(0|this.tx)+", "+(0|this.ty)+", 0, 1)":"matrix3d("+this.a+", "+this.b+", 0, 0, "+this.c+", "+this.d+", 0, 0, 0, 0, 1, 0, "+this.tx+", "+this.ty+", 0, 1)"},transformPoint:function(t){return new g(t.x*this.a+t.y*this.c+this.tx,t.x*this.b+t.y*this.d+this.ty)},translate:function(t,e){this.tx+=t,this.ty+=e},toArray:function(t){if(null==t&&(t=!1),null==this.__array){var e;e=new Float32Array(9),this.__array=e}return t?(this.__array[0]=this.a,this.__array[1]=this.b,this.__array[2]=0,this.__array[3]=this.c,this.__array[4]=this.d,this.__array[5]=0,this.__array[6]=this.tx,this.__array[7]=this.ty,this.__array[8]=1):(this.__array[0]=this.a,this.__array[1]=this.c,this.__array[2]=this.tx,this.__array[3]=this.b,this.__array[4]=this.d,this.__array[5]=this.ty,this.__array[6]=0,this.__array[7]=0,this.__array[8]=1),this.__array},__toMatrix3:function(){return new oe(this.a,this.b,this.c,this.d,this.tx,this.ty)},__transformInversePoint:function(t){var e=this.a*this.d-this.b*this.c;if(0==e)t.x=-this.tx,t.y=-this.ty;else{var i=1/e*(this.c*(this.ty-t.y)+this.d*(t.x-this.tx));t.y=1/e*(this.a*(t.y-this.ty)+this.b*(this.tx-t.x)),t.x=i}},__transformInverseX:function(t,e){var i=this.a*this.d-this.b*this.c;return 0==i?-this.tx:1/i*(this.c*(this.ty-e)+this.d*(t-this.tx))},__transformInverseY:function(t,e){var i=this.a*this.d-this.b*this.c;return 0==i?-this.ty:1/i*(this.a*(e-this.ty)+this.b*(this.tx-t))},__translateTransformed:function(t,e){this.tx=t*this.a+e*this.c+this.tx,this.ty=t*this.b+e*this.d+this.ty},__class__:Ke};var qe=function(t,e,i,s,n,r,a,o){null==o&&(o=0),null==a&&(a=0),null==r&&(r=0),null==n&&(n=0),null==s&&(s=1),null==i&&(i=1),null==e&&(e=1),null==t&&(t=1),this.redMultiplier=t,this.greenMultiplier=e,this.blueMultiplier=i,this.alphaMultiplier=s,this.redOffset=n,this.greenOffset=r,this.blueOffset=a,this.alphaOffset=o};a["openfl.geom.ColorTransform"]=qe,qe.__name__=!0,qe.prototype={__clone:function(){return new qe(this.redMultiplier,this.greenMultiplier,this.blueMultiplier,this.alphaMultiplier,this.redOffset,this.greenOffset,this.blueOffset,this.alphaOffset)},__combine:function(t){this.redMultiplier*=t.redMultiplier,this.greenMultiplier*=t.greenMultiplier,this.blueMultiplier*=t.blueMultiplier,this.alphaMultiplier*=t.alphaMultiplier,this.redOffset+=t.redOffset,this.greenOffset+=t.greenOffset,this.blueOffset+=t.blueOffset,this.alphaOffset+=t.alphaOffset},__equals:function(t,e){return null==e&&(e=!1),null!=t&&this.redMultiplier==t.redMultiplier&&this.greenMultiplier==t.greenMultiplier&&this.blueMultiplier==t.blueMultiplier&&(e||this.alphaMultiplier==t.alphaMultiplier)&&this.redOffset==t.redOffset&&this.greenOffset==t.greenOffset&&this.blueOffset==t.blueOffset&&this.alphaOffset==t.alphaOffset},__isDefault:function(){return 1==this.redMultiplier&&1==this.greenMultiplier&&1==this.blueMultiplier&&1==this.alphaMultiplier&&0==this.redOffset&&0==this.greenOffset&&0==this.blueOffset&&0==this.alphaOffset},__toLimeColorMatrix:function(){return function(t){var e,i,s=[t.redMultiplier,0,0,0,t.redOffset/255,0,t.greenMultiplier,0,0,t.greenOffset/255,0,0,t.blueMultiplier,0,t.blueOffset/255,0,0,0,t.alphaMultiplier,t.alphaOffset/255];return i=null!=s?new Float32Array(s):null,e=i}(this)},__class__:qe};var Ze=function(){};a["openfl.Lib"]=Ze,Ze.__name__=!0,Ze.application=null,Ze.embed=e.openfl.embed=function(t,e,i,s,n){ve.embed(t,e,i,s,n)},Ze.getTimer=function(){return ve.getTimer()};var Je=function(){this.length=0};a["openfl.VectorData"]=Je,Je.__name__=!0,Je.prototype={__class__:Je};var Qe=function(t){this.renderSession=t};a["openfl._internal.renderer.AbstractMaskManager"]=Qe,Qe.__name__=!0,Qe.prototype={pushMask:function(t){},pushRect:function(t,e){},popMask:function(){},popRect:function(){},saveState:function(){},restoreState:function(){},__class__:Qe};var $e=function(t,e){this.width=t,this.height=e};a["openfl._internal.renderer.AbstractRenderer"]=$e,$e.__name__=!0,$e.prototype={render:function(t){},setViewport:function(t,e,i,s){},resize:function(t,e){},__class__:$e};var ti=function(){this.types=[],this.b=[],this.i=[],this.f=[],this.o=[],this.ff=[],this.ii=[],this.ts=[]};a["openfl._internal.renderer.DrawCommandBuffer"]=ti,ti.__name__=!0,ti.prototype={append:function(t){for(var e=new ei(t),i=0,s=t.types;i<s.length;){var n=s[i];switch(++i,n[1]){case 0:var r;e.advance(),e.prev=ii.BEGIN_BITMAP_FILL,r=e,this.beginBitmapFill(r.buffer.o[r.oPos],r.buffer.o[r.oPos+1],r.buffer.b[r.bPos],r.buffer.b[r.bPos+1]);break;case 1:var a;e.advance(),e.prev=ii.BEGIN_FILL,a=e,this.beginFill(a.buffer.i[a.iPos],a.buffer.f[a.fPos]);break;case 2:var o;e.advance(),e.prev=ii.BEGIN_GRADIENT_FILL,o=e,this.beginGradientFill(o.buffer.o[o.oPos],o.buffer.ii[o.iiPos],o.buffer.ff[o.ffPos],o.buffer.ii[o.iiPos+1],o.buffer.o[o.oPos+1],o.buffer.o[o.oPos+2],o.buffer.o[o.oPos+3],o.buffer.o[o.oPos+4]);break;case 3:var _;e.advance(),e.prev=ii.CUBIC_CURVE_TO,_=e,this.cubicCurveTo(_.buffer.f[_.fPos],_.buffer.f[_.fPos+1],_.buffer.f[_.fPos+3],_.buffer.f[_.fPos+4],_.buffer.f[_.fPos+5],_.buffer.f[_.fPos+6]);break;case 4:var h;e.advance(),e.prev=ii.CURVE_TO,h=e,this.curveTo(h.buffer.f[h.fPos],h.buffer.f[h.fPos+1],h.buffer.f[h.fPos+2],h.buffer.f[h.fPos+3]);break;case 5:var l;e.advance(),e.prev=ii.DRAW_CIRCLE,l=e,this.drawCircle(l.buffer.f[l.fPos],l.buffer.f[l.fPos+1],l.buffer.f[l.fPos+2]);break;case 6:var u;e.advance(),e.prev=ii.DRAW_ELLIPSE,u=e,this.drawEllipse(u.buffer.f[u.fPos],u.buffer.f[u.fPos+1],u.buffer.f[u.fPos+2],u.buffer.f[u.fPos+3]);break;case 7:var c;e.advance(),e.prev=ii.DRAW_PATH,c=e,this.drawPath(c.buffer.o[c.oPos],c.buffer.o[c.oPos+1],c.buffer.o[c.oPos+2]);break;case 8:var f;e.advance(),e.prev=ii.DRAW_RECT,f=e,this.drawRect(f.buffer.f[f.fPos],f.buffer.f[f.fPos+1],f.buffer.f[f.fPos+2],f.buffer.f[f.fPos+3]);break;case 9:var d;e.advance(),e.prev=ii.DRAW_ROUND_RECT,d=e,this.drawRoundRect(d.buffer.f[d.fPos],d.buffer.f[d.fPos+1],d.buffer.f[d.fPos+2],d.buffer.f[d.fPos+3],d.buffer.f[d.fPos+4],d.buffer.f[d.fPos+5]);break;case 10:var p;e.advance(),e.prev=ii.DRAW_TILES,p=e,this.drawTiles(p.buffer.ts[p.tsPos],p.buffer.ff[p.ffPos],p.buffer.b[p.bPos],p.buffer.i[p.iPos],p.buffer.o[p.oPos],p.buffer.i[p.iPos+1]);break;case 11:var g;e.advance(),e.prev=ii.DRAW_TRIANGLES,g=e,this.drawTriangles(g.buffer.o[g.oPos],g.buffer.o[g.oPos+1],g.buffer.o[g.oPos+2],g.buffer.o[g.oPos+3],g.buffer.o[g.oPos+4],g.buffer.i[g.iPos]);break;case 12:var m;e.advance(),e.prev=ii.END_FILL,m=e,this.endFill();break;case 13:var v;e.advance(),e.prev=ii.LINE_BITMAP_STYLE,v=e,this.lineBitmapStyle(v.buffer.o[v.oPos],v.buffer.o[v.oPos+1],v.buffer.b[v.bPos],v.buffer.b[v.bPos+1]);break;case 14:var b;e.advance(),e.prev=ii.LINE_GRADIENT_STYLE,b=e,this.lineGradientStyle(b.buffer.o[b.oPos],b.buffer.ii[b.iiPos],b.buffer.ff[b.ffPos],b.buffer.ii[b.iiPos+1],b.buffer.o[b.oPos+1],b.buffer.o[b.oPos+2],b.buffer.o[b.oPos+3],b.buffer.o[b.oPos+4]);break;case 15:var x;e.advance(),e.prev=ii.LINE_STYLE,x=e,this.lineStyle(x.buffer.o[x.oPos],x.buffer.o[x.oPos+1],x.buffer.o[x.oPos+2],x.buffer.o[x.oPos+3],x.buffer.o[x.oPos+4],x.buffer.o[x.oPos+5],x.buffer.o[x.oPos+6],x.buffer.o[x.oPos+7]);break;case 16:var y;e.advance(),e.prev=ii.LINE_TO,y=e,this.lineTo(y.buffer.f[y.fPos],y.buffer.f[y.fPos+1]);break;case 17:var w;e.advance(),e.prev=ii.MOVE_TO,w=e,this.moveTo(w.buffer.f[w.fPos],w.buffer.f[w.fPos+1]);break;case 18:var E;e.advance(),e.prev=ii.OVERRIDE_MATRIX,E=e,this.overrideMatrix(E.buffer.o[E.oPos])}}return e.destroy(),t},beginBitmapFill:function(t,e,i,s){this.types.push(ii.BEGIN_BITMAP_FILL),this.o.push(t),this.o.push(e),this.b.push(i),this.b.push(s)},beginFill:function(t,e){this.types.push(ii.BEGIN_FILL),this.i.push(t),this.f.push(e)},beginGradientFill:function(t,e,i,s,n,r,a,o){this.types.push(ii.BEGIN_GRADIENT_FILL),this.o.push(t),this.ii.push(e),this.ff.push(i),this.ii.push(s),this.o.push(n),this.o.push(r),this.o.push(a),this.o.push(o)},clear:function(){this.types.splice(0,this.types.length),this.b.splice(0,this.b.length),this.i.splice(0,this.i.length),this.f.splice(0,this.f.length),this.o.splice(0,this.o.length),this.ff.splice(0,this.ff.length),this.ii.splice(0,this.ii.length),this.ts.splice(0,this.ts.length)},cubicCurveTo:function(t,e,i,s,n,r){this.types.push(ii.CUBIC_CURVE_TO),this.f.push(t),this.f.push(e),this.f.push(i),this.f.push(s),this.f.push(n),this.f.push(r)},curveTo:function(t,e,i,s){this.types.push(ii.CURVE_TO),this.f.push(t),this.f.push(e),this.f.push(i),this.f.push(s)},drawCircle:function(t,e,i){this.types.push(ii.DRAW_CIRCLE),this.f.push(t),this.f.push(e),this.f.push(i)},drawEllipse:function(t,e,i,s){this.types.push(ii.DRAW_ELLIPSE),this.f.push(t),this.f.push(e),this.f.push(i),this.f.push(s)},drawPath:function(t,e,i){this.types.push(ii.DRAW_PATH),this.o.push(t),this.o.push(e),this.o.push(i)},drawRect:function(t,e,i,s){this.types.push(ii.DRAW_RECT),this.f.push(t),this.f.push(e),this.f.push(i),this.f.push(s)},drawRoundRect:function(t,e,i,s,n,r){this.types.push(ii.DRAW_ROUND_RECT),this.f.push(t),this.f.push(e),this.f.push(i),this.f.push(s),this.f.push(n),this.f.push(r)},drawTiles:function(t,e,i,s,n,r){this.types.push(ii.DRAW_TILES),this.ts.push(t),this.ff.push(e),this.b.push(i),this.i.push(s),this.o.push(n),this.i.push(r)},drawTriangles:function(t,e,i,s,n,r){this.types.push(ii.DRAW_TRIANGLES),this.o.push(t),this.o.push(e),this.o.push(i),this.o.push(s),this.o.push(n),this.i.push(r)},endFill:function(){this.types.push(ii.END_FILL)},lineBitmapStyle:function(t,e,i,s){this.types.push(ii.LINE_BITMAP_STYLE),this.o.push(t),this.o.push(e),this.b.push(i),this.b.push(s)},lineGradientStyle:function(t,e,i,s,n,r,a,o){this.types.push(ii.LINE_GRADIENT_STYLE),this.o.push(t),this.ii.push(e),this.ff.push(i),this.ii.push(s),this.o.push(n),this.o.push(r),this.o.push(a),this.o.push(o)},lineStyle:function(t,e,i,s,n,r,a,o){this.types.push(ii.LINE_STYLE),this.o.push(t),this.o.push(e),this.o.push(i),this.o.push(s),this.o.push(n),this.o.push(r),this.o.push(a),this.o.push(o)},lineTo:function(t,e){this.types.push(ii.LINE_TO),this.f.push(t),this.f.push(e)},moveTo:function(t,e){this.types.push(ii.MOVE_TO),this.f.push(t),this.f.push(e)},overrideMatrix:function(t){this.types.push(ii.OVERRIDE_MATRIX),this.o.push(t)},get_length:function(){return this.types.length},__class__:ti,__properties__:{get_length:"get_length"}};var ei=function(t){this.buffer=t,this.bPos=this.iPos=this.fPos=this.oPos=this.ffPos=this.iiPos=this.tsPos=0,this.prev=ii.UNKNOWN};a["openfl._internal.renderer.DrawCommandReader"]=ei,ei.__name__=!0,ei.prototype={advance:function(){var t=this.prev;switch(t[1]){case 0:this.oPos+=2,this.bPos+=2;break;case 1:this.iPos+=1,this.fPos+=1;break;case 2:this.oPos+=5,this.iiPos+=2,this.ffPos+=1;break;case 3:this.fPos+=6;break;case 4:this.fPos+=4;break;case 5:this.fPos+=3;break;case 6:this.fPos+=4;break;case 7:this.oPos+=3;break;case 8:this.fPos+=4;break;case 9:this.fPos+=6;break;case 10:this.tsPos+=1,this.ffPos+=1,this.bPos+=1,this.iPos+=2,this.oPos+=1;break;case 11:this.oPos+=5,this.iPos+=1;break;case 12:break;case 13:this.oPos+=2,this.bPos+=2;break;case 14:this.oPos+=5,this.iiPos+=2,this.ffPos+=1;break;case 15:this.oPos+=8;break;case 16:this.fPos+=2;break;case 17:this.fPos+=2;break;case 18:this.oPos+=1}},destroy:function(){this.buffer=null,this.reset()},reset:function(){this.bPos=this.iPos=this.fPos=this.oPos=this.ffPos=this.iiPos=this.tsPos=0},__class__:ei};var ii=a["openfl._internal.renderer.DrawCommandType"]={__ename__:!0,__constructs__:["BEGIN_BITMAP_FILL","BEGIN_FILL","BEGIN_GRADIENT_FILL","CUBIC_CURVE_TO","CURVE_TO","DRAW_CIRCLE","DRAW_ELLIPSE","DRAW_PATH","DRAW_RECT","DRAW_ROUND_RECT","DRAW_TILES","DRAW_TRIANGLES","END_FILL","LINE_BITMAP_STYLE","LINE_GRADIENT_STYLE","LINE_STYLE","LINE_TO","MOVE_TO","OVERRIDE_MATRIX","UNKNOWN"]};ii.BEGIN_BITMAP_FILL=["BEGIN_BITMAP_FILL",0],ii.BEGIN_BITMAP_FILL.toString=o,ii.BEGIN_BITMAP_FILL.__enum__=ii,ii.BEGIN_FILL=["BEGIN_FILL",1],ii.BEGIN_FILL.toString=o,ii.BEGIN_FILL.__enum__=ii,ii.BEGIN_GRADIENT_FILL=["BEGIN_GRADIENT_FILL",2],ii.BEGIN_GRADIENT_FILL.toString=o,ii.BEGIN_GRADIENT_FILL.__enum__=ii,ii.CUBIC_CURVE_TO=["CUBIC_CURVE_TO",3],ii.CUBIC_CURVE_TO.toString=o,ii.CUBIC_CURVE_TO.__enum__=ii,ii.CURVE_TO=["CURVE_TO",4],ii.CURVE_TO.toString=o,ii.CURVE_TO.__enum__=ii,ii.DRAW_CIRCLE=["DRAW_CIRCLE",5],ii.DRAW_CIRCLE.toString=o,ii.DRAW_CIRCLE.__enum__=ii,ii.DRAW_ELLIPSE=["DRAW_ELLIPSE",6],ii.DRAW_ELLIPSE.toString=o,ii.DRAW_ELLIPSE.__enum__=ii,ii.DRAW_PATH=["DRAW_PATH",7],ii.DRAW_PATH.toString=o,ii.DRAW_PATH.__enum__=ii,ii.DRAW_RECT=["DRAW_RECT",8],ii.DRAW_RECT.toString=o,ii.DRAW_RECT.__enum__=ii,ii.DRAW_ROUND_RECT=["DRAW_ROUND_RECT",9],ii.DRAW_ROUND_RECT.toString=o,ii.DRAW_ROUND_RECT.__enum__=ii,ii.DRAW_TILES=["DRAW_TILES",10],ii.DRAW_TILES.toString=o,ii.DRAW_TILES.__enum__=ii,ii.DRAW_TRIANGLES=["DRAW_TRIANGLES",11],ii.DRAW_TRIANGLES.toString=o,ii.DRAW_TRIANGLES.__enum__=ii,ii.END_FILL=["END_FILL",12],ii.END_FILL.toString=o,ii.END_FILL.__enum__=ii,ii.LINE_BITMAP_STYLE=["LINE_BITMAP_STYLE",13],ii.LINE_BITMAP_STYLE.toString=o,ii.LINE_BITMAP_STYLE.__enum__=ii,ii.LINE_GRADIENT_STYLE=["LINE_GRADIENT_STYLE",14],ii.LINE_GRADIENT_STYLE.toString=o,ii.LINE_GRADIENT_STYLE.__enum__=ii,ii.LINE_STYLE=["LINE_STYLE",15],ii.LINE_STYLE.toString=o,ii.LINE_STYLE.__enum__=ii,ii.LINE_TO=["LINE_TO",16],ii.LINE_TO.toString=o,ii.LINE_TO.__enum__=ii,ii.MOVE_TO=["MOVE_TO",17],ii.MOVE_TO.toString=o,ii.MOVE_TO.__enum__=ii,ii.OVERRIDE_MATRIX=["OVERRIDE_MATRIX",18],ii.OVERRIDE_MATRIX.toString=o,ii.OVERRIDE_MATRIX.__enum__=ii,ii.UNKNOWN=["UNKNOWN",19],ii.UNKNOWN.toString=o,ii.UNKNOWN.__enum__=ii;var si=function(){};a["openfl._internal.renderer.GraphicsPaths"]=si,si.__name__=!0,si.ellipse=function(t,e,i,s,n,r){for(var a=2*Math.PI/r,o=0,_=r+1;_>o;){var h=o++;t.push(e+Math.sin(a*h)*s),t.push(i+Math.cos(a*h)*n)}},si.cubicCurveTo=function(t,e,i,s,n,r,a){for(var o=20,_=0,h=0,l=0,u=0,c=0,f=t[t.length-2],d=t[t.length-1],p=0,g=0,m=0,v=1,b=o+1;b>v;){var x=v++;m=x/o,_=1-m,h=_*_,l=h*_,u=m*m,c=u*m,p=l*f+3*h*m*e+3*_*u*s+c*r,g=l*d+3*h*m*i+3*_*u*n+c*a,t.push(p),t.push(g)}},si.curveTo=function(t,e,i,s,n){for(var r=0,a=0,o=20,_=t[t.length-2],h=t[t.length-1],l=0,u=0,c=0,f=1,d=o+1;d>f;){var p=f++;c=p/o,r=_+(e-_)*c,a=h+(i-h)*c,l=r+(e+(s-e)*c-r)*c,u=a+(i+(n-i)*c-a)*c,t.push(l),t.push(u)}},si.roundRectangle=function(t,e,i,s,n,r,a){var o=e+s,_=i+n,h=-r+r*si.SIN45,l=-r+r*si.TAN22,u=-a+a*si.SIN45,c=-a+a*si.TAN22;t.push(o),t.push(_-a),si.curveTo(t,o,_+c,o+h,_+u),si.curveTo(t,o+l,_,o-r,_),t.push(e+r),t.push(_),si.curveTo(t,e-l,_,e-h,_+u),si.curveTo(t,e,_+c,e,_-a),t.push(e),t.push(i+a),si.curveTo(t,e,i-c,e-h,i-u),si.curveTo(t,e-l,i,e+r,i),t.push(o-r),t.push(i),si.curveTo(t,o+l,i,o+h,i-u),si.curveTo(t,o,i-c,o,i+a),t.push(o),t.push(_-a)};var ni=function(){};a["openfl._internal.renderer.PolyK"]=ni,ni.__name__=!0,ni.triangulate=function(e,i){var s=!0,n=i.length>>1;if(3>n)return[];for(var r,a=[],o=0;n>o;){var _=o++;a.push(_)}r=a;for(var h=0,l=n,u=!1;l>3;){var c=r[h%l],f=r[(h+1)%l],d=r[(h+2)%l],p=i[2*c],g=i[2*c+1],m=i[2*f],v=i[2*f+1],b=i[2*d],x=i[2*d+1];if(u=!1,ni._convex(p,g,m,v,b,x,s)){u=!0;for(var y=0;l>y;){var w=y++,E=r[w];if(E!=c&&E!=f&&E!=d&&ni._PointInTriangle(i[2*E],i[2*E+1],p,g,m,v,b,x)){u=!1;break}}}if(u)e.push(c),e.push(f),e.push(d),r.splice((h+1)%l,1),l--,h=0;else if(h++>3*l){if(!s)return t.log("Warning: shape too complex to fill"),[];e=[];for(var T=[],P=0;n>P;){var R=P++;T.push(R)}r=T,h=0,l=n,s=!1}}return e.push(r[0]),e.push(r[1]),e.push(r[2]),e},ni._PointInTriangle=function(t,e,i,s,n,r,a,o){var _=a-i|0,h=o-s|0,l=n-i|0,u=r-s|0,c=t-i|0,f=e-s|0,d=_*_+h*h,p=_*l+h*u,g=_*c+h*f,m=l*l+u*u,v=l*c+u*f,b=1/(d*m-p*p),x=(m*g-p*v)*b,y=(d*v-p*g)*b;return x>=0&&y>=0&&1>x+y},ni._convex=function(t,e,i,s,n,r,a){return(e-s)*(n-i)+(i-t)*(r-s)>=0==a};var ri=function(){this.activeTextures=0};a["openfl._internal.renderer.RenderSession"]=ri,ri.__name__=!0,ri.prototype={__class__:ri};var ai=function(){};a["openfl._internal.renderer.cairo.CairoBitmap"]=ai,ai.__name__=!0,ai.render=function(t,e){if(t.__renderable&&!(t.__worldAlpha<=0)){var i=e.cairo;if(null!=t.bitmapData&&t.bitmapData.__isValid){null!=t.__mask&&e.maskManager.pushMask(t.__mask);var s=t.__worldTransform,n=t.get_scrollRect();if(e.roundPixels){var r=s.__toMatrix3();r.tx=Math.round(r.tx),r.ty=Math.round(r.ty),i.set_matrix(r)}else i.set_matrix(s.__toMatrix3());var a=t.bitmapData.getSurface();if(null!=a){var o=te.createForSurface(a);te.set_filter(o,t.smoothing?1:3),null!=n?(i.pushGroup(),i.set_source(o),i.newPath(),i.rectangle(n.x,n.y,n.width,n.height),i.fill(),i.popGroupToSource()):i.set_source(o),1==t.__worldAlpha?i.paint():i.paintWithAlpha(t.__worldAlpha)}null!=t.__mask&&e.maskManager.popMask()}}};var oi=function(){};a["openfl._internal.renderer.cairo.CairoGraphics"]=oi,oi.__name__=!0,oi.cairo=null,oi.drawRoundRect=function(t,e,i,s,n,r){-1==r&&(r=n),n*=.5,r*=.5,n>i/2&&(n=i/2),r>s/2&&(r=s/2);var a=t+i,o=e+s,_=-n+n*oi.SIN45,h=-n+n*oi.TAN22,l=-r+r*oi.SIN45,u=-r+r*oi.TAN22;oi.cairo.moveTo(a,o-r),oi.quadraticCurveTo(a,o+u,a+_,o+l),oi.quadraticCurveTo(a+h,o,a-n,o),oi.cairo.lineTo(t+n,o),oi.quadraticCurveTo(t-h,o,t-_,o+l),oi.quadraticCurveTo(t,o+u,t,o-r),oi.cairo.lineTo(t,e+r),oi.quadraticCurveTo(t,e-u,t-_,e-l),oi.quadraticCurveTo(t-h,e,t+n,e),oi.cairo.lineTo(a-n,e),oi.quadraticCurveTo(a+h,e,a+_,e-l),oi.quadraticCurveTo(a,e-u,a,e+r),oi.cairo.lineTo(a,o-r)},oi.quadraticCurveTo=function(t,e,i,s){var n=null;oi.cairo.get_hasCurrentPoint()?n=oi.cairo.get_currentPoint():(oi.cairo.moveTo(t,e),n=new he(t,e));var r=n.x+.6666666666666666*(t-n.x),a=n.y+.6666666666666666*(e-n.y),o=i+.6666666666666666*(t-i),_=s+.6666666666666666*(e-s);oi.cairo.curveTo(r,a,o,_,i,s)},oi.renderMask=function(t,e){if(0!=t.__commands.get_length()){for(var i=e.cairo,s=0,n=0,r=0,a=0,o=new ei(t.__commands),_=0,h=t.__commands.types;_<h.length;){var l=h[_];switch(++_,l[1]){case 3:var u;o.advance(),o.prev=ii.CUBIC_CURVE_TO,u=o,i.curveTo(u.buffer.f[u.fPos]-r,u.buffer.f[u.fPos+1]-a,u.buffer.f[u.fPos+3]-r,u.buffer.f[u.fPos+4]-a,u.buffer.f[u.fPos+5]-r,u.buffer.f[u.fPos+6]-a),s=u.buffer.f[u.fPos+5],n=u.buffer.f[u.fPos+5];break;case 4:var c;o.advance(),o.prev=ii.CURVE_TO,c=o,oi.quadraticCurveTo(c.buffer.f[c.fPos]-r,c.buffer.f[c.fPos+1]-a,c.buffer.f[c.fPos+2]-r,c.buffer.f[c.fPos+3]-a),s=c.buffer.f[c.fPos+2],n=c.buffer.f[c.fPos+3];break;case 5:var f;o.advance(),o.prev=ii.DRAW_CIRCLE,f=o,i.arc(f.buffer.f[f.fPos]-r,f.buffer.f[f.fPos+1]-a,f.buffer.f[f.fPos+2],0,2*Math.PI);break;case 6:var d;o.advance(),o.prev=ii.DRAW_ELLIPSE,d=o;var p=d.buffer.f[d.fPos],g=d.buffer.f[d.fPos+1],m=d.buffer.f[d.fPos+2],v=d.buffer.f[d.fPos+3];p-=r,g-=a;var b=.5522848,x=m/2*b,y=v/2*b,w=p+m,E=g+v,T=p+m/2,P=g+v/2;i.moveTo(p,P),i.curveTo(p,P-y,T-x,g,T,g),i.curveTo(T+x,g,w,P-y,w,P),i.curveTo(w,P+y,T+x,E,T,E),i.curveTo(T-x,E,p,P+y,p,P);break;case 8:var R;o.advance(),o.prev=ii.DRAW_RECT,R=o,i.rectangle(R.buffer.f[R.fPos]-r,R.buffer.f[R.fPos+1]-a,R.buffer.f[R.fPos+2],R.buffer.f[R.fPos+3]);break;case 9:var S;o.advance(),o.prev=ii.DRAW_ROUND_RECT,S=o,oi.drawRoundRect(S.buffer.f[S.fPos]-r,S.buffer.f[S.fPos+1]-a,S.buffer.f[S.fPos+2],S.buffer.f[S.fPos+3],S.buffer.f[S.fPos+4],S.buffer.f[S.fPos+5]);break;case 16:var C;o.advance(),o.prev=ii.LINE_TO,C=o,i.lineTo(C.buffer.f[C.fPos]-r,C.buffer.f[C.fPos+1]-a),s=C.buffer.f[C.fPos],n=C.buffer.f[C.fPos+1];break;case 17:var I;o.advance(),o.prev=ii.MOVE_TO,I=o,i.moveTo(I.buffer.f[I.fPos]-r,I.buffer.f[I.fPos+1]-a),s=I.buffer.f[I.fPos],n=I.buffer.f[I.fPos+1];break;default:o.advance(),o.prev=l}}o.destroy()}};var _i=function(t){Qe.call(this,t)};a["openfl._internal.renderer.cairo.CairoMaskManager"]=_i,_i.__name__=!0,_i.__super__=Qe,_i.prototype=s(Qe.prototype,{pushMask:function(t){var e=this.renderSession.cairo;e.save();var i=t.__getWorldTransform();e.set_matrix(i.__toMatrix3()),e.newPath(),t.__renderCairoMask(this.renderSession),e.clip()},pushRect:function(t,e){var i=this.renderSession.cairo;i.save(),i.set_matrix(new oe(e.a,e.c,e.b,e.d,e.tx,e.ty)),i.newPath(),i.rectangle(t.x,t.y,t.width,t.height),i.clip()},popMask:function(){this.renderSession.cairo.restore()},popRect:function(){this.renderSession.context.restore()},__class__:_i});var hi=function(t,e,i){$e.call(this,t,e),this.cairo=i,this.renderSession=new ri,this.renderSession.cairo=i,this.renderSession.roundPixels=!0,this.renderSession.renderer=this,this.renderSession.maskManager=new _i(this.renderSession)};a["openfl._internal.renderer.cairo.CairoRenderer"]=hi,hi.__name__=!0,hi.__super__=$e,hi.prototype=s($e.prototype,{render:function(t){this.cairo.identityMatrix(),t.__clearBeforeRender&&(this.cairo.setSourceRGB(t.__colorSplit[0],t.__colorSplit[1],t.__colorSplit[2]),this.cairo.paint()),t.__renderCairo(this.renderSession)},__class__:hi});var li=function(){};a["openfl._internal.renderer.cairo.CairoShape"]=li,li.__name__=!0,li.render=function(t,e){};var ui=function(){};a["openfl._internal.renderer.cairo.CairoTextField"]=ui,ui.__name__=!0,ui.render=function(t,e){};var ci=function(){};a["openfl._internal.renderer.canvas.CanvasBitmap"]=ci,ci.__name__=!0,ci.render=function(t,e){if(t.__renderable&&!(t.__worldAlpha<=0)){var i=e.context;if(null!=t.bitmapData&&t.bitmapData.__isValid){null!=t.__mask&&e.maskManager.pushMask(t.__mask),t.bitmapData.__sync(),i.globalAlpha=t.__worldAlpha;var s=t.__worldTransform,n=t.get_scrollRect();e.roundPixels?i.setTransform(s.a,s.b,s.c,s.d,0|s.tx,0|s.ty):i.setTransform(s.a,s.b,s.c,s.d,s.tx,s.ty),t.smoothing||(i.mozImageSmoothingEnabled=!1,i.msImageSmoothingEnabled=!1,i.imageSmoothingEnabled=!1),null==n?i.drawImage(t.bitmapData.image.get_src(),0,0):i.drawImage(t.bitmapData.image.get_src(),n.x,n.y,n.width,n.height,n.x,n.y,n.width,n.height),t.smoothing||(i.mozImageSmoothingEnabled=!0,i.msImageSmoothingEnabled=!0,i.imageSmoothingEnabled=!0),null!=t.__mask&&e.maskManager.popMask()}}};var fi=function(){};a["openfl._internal.renderer.canvas.CanvasGraphics"]=fi,fi.__name__=!0,fi.bitmapFill=null,fi.bitmapRepeat=null,fi.bounds=null,fi.graphics=null,fi.hasFill=null,fi.hasStroke=null,fi.hitTesting=null,fi.inversePendingMatrix=null,fi.pendingMatrix=null,fi.context=null,fi.closePath=function(){null!=fi.context.strokeStyle&&(fi.context.closePath(),fi.context.stroke(),fi.context.beginPath())},fi.createBitmapFill=function(t,e){return t.__sync(),fi.context.createPattern(t.image.get_src(),e?"repeat":"no-repeat")},fi.createGradientPattern=function(t,e,i,s,n,r,a,o){var _=null;switch(t[1]){case 0:null==n&&(n=new Ke);var h=n.transformPoint(new g(1638.4,0));_=fi.context.createRadialGradient(n.tx,n.ty,0,n.tx,n.ty,(h.x-n.tx)/2);break;case 1:var l;l=null!=n?n:new Ke;var u=l.transformPoint(new g(-819.2,0)),c=l.transformPoint(new g(819.2,0));_=fi.context.createLinearGradient(u.x,u.y,c.x,c.y)}for(var f=0,d=e.length;d>f;){var p=f++,m=e[p],v=i[p],b=(16711680&m)>>>16,x=(65280&m)>>>8,y=255&m,w=s[p]/255;0>w&&(w=0),w>1&&(w=1),_.addColorStop(w,"rgba("+b+", "+x+", "+y+", "+v+")")}return _},fi.createTempPatternCanvas=function(t,e,i,s){var n=window.document.createElement("canvas"),r=n.getContext("2d");return n.width=i,n.height=s,r.fillStyle=r.createPattern(t.image.get_src(),e?"repeat":"no-repeat"),r.beginPath(),r.moveTo(0,0),r.lineTo(0,s),r.lineTo(i,s),r.lineTo(i,0),r.lineTo(0,0),r.closePath(),fi.hitTesting||r.fill(),n},fi.drawRoundRect=function(t,e,i,s,n,r){-1==r&&(r=n),n*=.5,r*=.5,n>i/2&&(n=i/2),r>s/2&&(r=s/2);var a=t+i,o=e+s,_=-n+n*fi.SIN45,h=-n+n*fi.TAN22,l=-r+r*fi.SIN45,u=-r+r*fi.TAN22;fi.context.moveTo(a,o-r),fi.context.quadraticCurveTo(a,o+u,a+_,o+l),fi.context.quadraticCurveTo(a+h,o,a-n,o),fi.context.lineTo(t+n,o),fi.context.quadraticCurveTo(t-h,o,t-_,o+l),fi.context.quadraticCurveTo(t,o+u,t,o-r),fi.context.lineTo(t,e+r),fi.context.quadraticCurveTo(t,e-u,t-_,e-l),fi.context.quadraticCurveTo(t-h,e,t+n,e),fi.context.lineTo(a-n,e),fi.context.quadraticCurveTo(a+h,e,a+_,e-l),fi.context.quadraticCurveTo(a,e-u,a,e+r),fi.context.lineTo(a,o-r)},fi.endFill=function(){fi.context.beginPath(),fi.playCommands(fi.fillCommands,!1),fi.fillCommands.clear()},fi.endStroke=function(){fi.context.beginPath(),fi.playCommands(fi.strokeCommands,!0),fi.context.closePath(),fi.strokeCommands.clear()},fi.hitTest=function(t,e,i){if(0==t.__commands.get_length()||null==fi.bounds||fi.bounds.width<=0||fi.bounds.height<=0)return!1;fi.hitTesting=!0,e-=fi.bounds.x,i-=fi.bounds.y,null==t.__canvas&&(t.__canvas=window.document.createElement("canvas"),t.__context=t.__canvas.getContext("2d")),fi.context=t.__context,fi.fillCommands.clear(),fi.strokeCommands.clear(),fi.hasFill=!1,fi.hasStroke=!1,fi.bitmapFill=null,fi.bitmapRepeat=!1,fi.context.beginPath();for(var s=new ei(t.__commands),n=0,r=t.__commands.types;n<r.length;){var a=r[n];switch(++n,a[1]){case 3:var o;s.advance(),s.prev=ii.CUBIC_CURVE_TO,o=s,fi.fillCommands.cubicCurveTo(o.buffer.f[o.fPos],o.buffer.f[o.fPos+1],o.buffer.f[o.fPos+3],o.buffer.f[o.fPos+4],o.buffer.f[o.fPos+5],o.buffer.f[o.fPos+6]),fi.strokeCommands.cubicCurveTo(o.buffer.f[o.fPos],o.buffer.f[o.fPos+1],o.buffer.f[o.fPos+3],o.buffer.f[o.fPos+4],o.buffer.f[o.fPos+5],o.buffer.f[o.fPos+6]);break;case 4:var _;s.advance(),s.prev=ii.CURVE_TO,_=s,fi.fillCommands.curveTo(_.buffer.f[_.fPos],_.buffer.f[_.fPos+1],_.buffer.f[_.fPos+2],_.buffer.f[_.fPos+3]),fi.strokeCommands.curveTo(_.buffer.f[_.fPos],_.buffer.f[_.fPos+1],_.buffer.f[_.fPos+2],_.buffer.f[_.fPos+3]);break;case 16:var h;s.advance(),s.prev=ii.LINE_TO,h=s,fi.fillCommands.lineTo(h.buffer.f[h.fPos],h.buffer.f[h.fPos+1]),fi.strokeCommands.lineTo(h.buffer.f[h.fPos],h.buffer.f[h.fPos+1]);break;case 17:var l;s.advance(),s.prev=ii.MOVE_TO,l=s,fi.fillCommands.moveTo(l.buffer.f[l.fPos],l.buffer.f[l.fPos+1]),fi.strokeCommands.moveTo(l.buffer.f[l.fPos],l.buffer.f[l.fPos+1]);break;case 14:var u;s.advance(),s.prev=ii.LINE_GRADIENT_STYLE,u=s,fi.strokeCommands.lineGradientStyle(u.buffer.o[u.oPos],u.buffer.ii[u.iiPos],u.buffer.ff[u.ffPos],u.buffer.ii[u.iiPos+1],u.buffer.o[u.oPos+1],u.buffer.o[u.oPos+2],u.buffer.o[u.oPos+3],u.buffer.o[u.oPos+4]);break;case 13:var c;s.advance(),s.prev=ii.LINE_BITMAP_STYLE,c=s,fi.strokeCommands.lineBitmapStyle(c.buffer.o[c.oPos],c.buffer.o[c.oPos+1],c.buffer.b[c.bPos],c.buffer.b[c.bPos+1]);break;case 15:var f;s.advance(),s.prev=ii.LINE_STYLE,f=s,fi.strokeCommands.lineStyle(f.buffer.o[f.oPos],f.buffer.o[f.oPos+1],1,f.buffer.o[f.oPos+3],f.buffer.o[f.oPos+4],f.buffer.o[f.oPos+5],f.buffer.o[f.oPos+6],f.buffer.o[f.oPos+7]);break;case 12:if(s.advance(),s.prev=ii.END_FILL,fi.endFill(),fi.endStroke(),fi.hasFill&&fi.context.isPointInPath(e,i))return s.destroy(),!0;if(fi.hasStroke&&fi.context.isPointInStroke(e,i))return s.destroy(),!0;fi.hasFill=!1,fi.bitmapFill=null;break;case 0:case 1:case 2:if(fi.endFill(),fi.endStroke(),fi.hasFill&&fi.context.isPointInPath(e,i))return s.destroy(),!0;if(fi.hasStroke&&fi.context.isPointInStroke(e,i))return s.destroy(),!0;if(a==ii.BEGIN_BITMAP_FILL){var d;s.advance(),s.prev=ii.BEGIN_BITMAP_FILL,
d=s,fi.fillCommands.beginBitmapFill(d.buffer.o[d.oPos],d.buffer.o[d.oPos+1],d.buffer.b[d.bPos],d.buffer.b[d.bPos+1]),fi.strokeCommands.beginBitmapFill(d.buffer.o[d.oPos],d.buffer.o[d.oPos+1],d.buffer.b[d.bPos],d.buffer.b[d.bPos+1])}else if(a==ii.BEGIN_GRADIENT_FILL){var p;s.advance(),s.prev=ii.BEGIN_GRADIENT_FILL,p=s,fi.fillCommands.beginGradientFill(p.buffer.o[p.oPos],p.buffer.ii[p.iiPos],p.buffer.ff[p.ffPos],p.buffer.ii[p.iiPos+1],p.buffer.o[p.oPos+1],p.buffer.o[p.oPos+2],p.buffer.o[p.oPos+3],p.buffer.o[p.oPos+4]),fi.strokeCommands.beginGradientFill(p.buffer.o[p.oPos],p.buffer.ii[p.iiPos],p.buffer.ff[p.ffPos],p.buffer.ii[p.iiPos+1],p.buffer.o[p.oPos+1],p.buffer.o[p.oPos+2],p.buffer.o[p.oPos+3],p.buffer.o[p.oPos+4])}else{var g;s.advance(),s.prev=ii.BEGIN_FILL,g=s,fi.fillCommands.beginFill(g.buffer.i[g.iPos],1),fi.strokeCommands.beginFill(g.buffer.i[g.iPos],1)}break;case 5:var m;s.advance(),s.prev=ii.DRAW_CIRCLE,m=s,fi.fillCommands.drawCircle(m.buffer.f[m.fPos],m.buffer.f[m.fPos+1],m.buffer.f[m.fPos+2]),fi.strokeCommands.drawCircle(m.buffer.f[m.fPos],m.buffer.f[m.fPos+1],m.buffer.f[m.fPos+2]);break;case 6:var v;s.advance(),s.prev=ii.DRAW_ELLIPSE,v=s,fi.fillCommands.drawEllipse(v.buffer.f[v.fPos],v.buffer.f[v.fPos+1],v.buffer.f[v.fPos+2],v.buffer.f[v.fPos+3]),fi.strokeCommands.drawEllipse(v.buffer.f[v.fPos],v.buffer.f[v.fPos+1],v.buffer.f[v.fPos+2],v.buffer.f[v.fPos+3]);break;case 8:var b;s.advance(),s.prev=ii.DRAW_RECT,b=s,fi.fillCommands.drawRect(b.buffer.f[b.fPos],b.buffer.f[b.fPos+1],b.buffer.f[b.fPos+2],b.buffer.f[b.fPos+3]),fi.strokeCommands.drawRect(b.buffer.f[b.fPos],b.buffer.f[b.fPos+1],b.buffer.f[b.fPos+2],b.buffer.f[b.fPos+3]);break;case 9:var x;s.advance(),s.prev=ii.DRAW_ROUND_RECT,x=s,fi.fillCommands.drawRoundRect(x.buffer.f[x.fPos],x.buffer.f[x.fPos+1],x.buffer.f[x.fPos+2],x.buffer.f[x.fPos+3],x.buffer.f[x.fPos+4],x.buffer.f[x.fPos+5]),fi.strokeCommands.drawRoundRect(x.buffer.f[x.fPos],x.buffer.f[x.fPos+1],x.buffer.f[x.fPos+2],x.buffer.f[x.fPos+3],x.buffer.f[x.fPos+4],x.buffer.f[x.fPos+5]);break;default:s.advance(),s.prev=a}}return fi.fillCommands.get_length()>0&&fi.endFill(),fi.strokeCommands.get_length()>0&&fi.endStroke(),s.destroy(),fi.hasFill&&fi.context.isPointInPath(e,i)?!0:fi.hasStroke&&fi.context.isPointInStroke(e,i)?!0:!1},fi.normalizeUVT=function(t,e){null==e&&(e=!1);for(var i=-(1/0),s=-(1/0),n=t.length,r=1,a=n+1;a>r;){var o=r++;e&&o%3==0||(s=t.data[o-1],s>i&&(i=s))}var _,h;h=new Je;var l;l=new Array(0),h.data=l,h.length=0,h.fixed=!1,_=h;for(var u=1,c=n+1;c>u;){var f=u++;if(!e||f%3!=0){if(!_.fixed){if(_.length++,_.data.length<_.length){var d,p;p=new Array(_.data.length+10),d=p,K.blit(_.data,0,d,0,_.data.length),_.data=d}_.data[_.length-1]=t.data[f-1]/i}_.length}}return{max:i,uvt:_}},fi.playCommands=function(t,e){null==e&&(e=!1),fi.bounds=fi.graphics.__bounds;for(var i=fi.bounds.x,s=fi.bounds.y,n=0,r=0,a=!1,o=0,_=0,h=new ei(t),l=0,u=t.types;l<u.length;){var c=u[l];switch(++l,c[1]){case 3:var f;h.advance(),h.prev=ii.CUBIC_CURVE_TO,f=h,fi.context.bezierCurveTo(f.buffer.f[f.fPos]-i,f.buffer.f[f.fPos+1]-s,f.buffer.f[f.fPos+3]-i,f.buffer.f[f.fPos+4]-s,f.buffer.f[f.fPos+5]-i,f.buffer.f[f.fPos+6]-s);break;case 4:var d;h.advance(),h.prev=ii.CURVE_TO,d=h,fi.context.quadraticCurveTo(d.buffer.f[d.fPos]-i,d.buffer.f[d.fPos+1]-s,d.buffer.f[d.fPos+2]-i,d.buffer.f[d.fPos+3]-s);break;case 5:var p;h.advance(),h.prev=ii.DRAW_CIRCLE,p=h,fi.context.moveTo(p.buffer.f[p.fPos]-i+p.buffer.f[p.fPos+2],p.buffer.f[p.fPos+1]-s),fi.context.arc(p.buffer.f[p.fPos]-i,p.buffer.f[p.fPos+1]-s,p.buffer.f[p.fPos+2],0,2*Math.PI,!0);break;case 6:var m;h.advance(),h.prev=ii.DRAW_ELLIPSE,m=h;var v=m.buffer.f[m.fPos],b=m.buffer.f[m.fPos+1],x=m.buffer.f[m.fPos+2],y=m.buffer.f[m.fPos+3];v-=i,b-=s;var w=.5522848,E=x/2*w,T=y/2*w,P=v+x,R=b+y,S=v+x/2,C=b+y/2;fi.context.moveTo(v,C),fi.context.bezierCurveTo(v,C-T,S-E,b,S,b),fi.context.bezierCurveTo(S+E,b,P,C-T,P,C),fi.context.bezierCurveTo(P,C+T,S+E,R,S,R),fi.context.bezierCurveTo(S-E,R,v,C+T,v,C);break;case 9:var I;h.advance(),h.prev=ii.DRAW_ROUND_RECT,I=h,fi.drawRoundRect(I.buffer.f[I.fPos]-i,I.buffer.f[I.fPos+1]-s,I.buffer.f[I.fPos+2],I.buffer.f[I.fPos+3],I.buffer.f[I.fPos+4],I.buffer.f[I.fPos+5]);break;case 16:var M;h.advance(),h.prev=ii.LINE_TO,M=h,fi.context.lineTo(M.buffer.f[M.fPos]-i,M.buffer.f[M.fPos+1]-s),n=M.buffer.f[M.fPos],r=M.buffer.f[M.fPos+1];break;case 17:var A;h.advance(),h.prev=ii.MOVE_TO,A=h,fi.context.moveTo(A.buffer.f[A.fPos]-i,A.buffer.f[A.fPos+1]-s),n=A.buffer.f[A.fPos],r=A.buffer.f[A.fPos+1],a=!0,o=A.buffer.f[A.fPos],_=A.buffer.f[A.fPos+1];break;case 15:var L;if(h.advance(),h.prev=ii.LINE_STYLE,L=h,e&&fi.hasStroke&&(fi.context.closePath(),fi.hitTesting||fi.context.stroke(),fi.context.beginPath()),fi.context.moveTo(n-i,r-s),null==L.buffer.o[L.oPos])fi.hasStroke=!1;else{if(L.buffer.o[L.oPos]>0?fi.context.lineWidth=L.buffer.o[L.oPos]:fi.context.lineWidth=1,null==L.buffer.o[L.oPos+6]?fi.context.lineJoin="round":fi.context.lineJoin=D.string(L.buffer.o[L.oPos+6]).toLowerCase(),null==L.buffer.o[L.oPos+5])fi.context.lineCap="round";else{var k=L.buffer.o[L.oPos+5];switch(k[1]){case 0:fi.context.lineCap="butt";break;default:fi.context.lineCap=D.string(L.buffer.o[L.oPos+5]).toLowerCase()}}if(null==L.buffer.o[L.oPos+7]?fi.context.miterLimit=3:fi.context.miterLimit=L.buffer.o[L.oPos+7],1==L.buffer.o[L.oPos+2]||null==L.buffer.o[L.oPos+2])null==L.buffer.o[L.oPos+1]?fi.context.strokeStyle="#000000":fi.context.strokeStyle="#"+O.hex(16777215&L.buffer.o[L.oPos+1],6);else{var B=(16711680&L.buffer.o[L.oPos+1])>>>16,F=(65280&L.buffer.o[L.oPos+1])>>>8,N=255&L.buffer.o[L.oPos+1];null==L.buffer.o[L.oPos+1]?fi.context.strokeStyle="#000000":fi.context.strokeStyle="rgba("+B+", "+F+", "+N+", "+L.buffer.o[L.oPos+2]+")"}fi.hasStroke=!0}break;case 14:var U;h.advance(),h.prev=ii.LINE_GRADIENT_STYLE,U=h,e&&fi.hasStroke&&fi.closePath(),fi.context.moveTo(n-i,r-s),fi.context.strokeStyle=fi.createGradientPattern(U.buffer.o[U.oPos],U.buffer.ii[U.iiPos],U.buffer.ff[U.ffPos],U.buffer.ii[U.iiPos+1],U.buffer.o[U.oPos+1],U.buffer.o[U.oPos+2],U.buffer.o[U.oPos+3],U.buffer.o[U.oPos+4]),fi.hasStroke=!0;break;case 13:var G;h.advance(),h.prev=ii.LINE_BITMAP_STYLE,G=h,e&&fi.hasStroke&&fi.closePath(),fi.context.moveTo(n-i,r-s),fi.context.strokeStyle=fi.createBitmapFill(G.buffer.o[G.oPos],G.buffer.b[G.bPos]),fi.hasStroke=!0;break;case 0:var W;h.advance(),h.prev=ii.BEGIN_BITMAP_FILL,W=h,fi.context.fillStyle=fi.createBitmapFill(W.buffer.o[W.oPos],!0),fi.hasFill=!0,null!=W.buffer.o[W.oPos+1]?(fi.pendingMatrix=W.buffer.o[W.oPos+1],fi.inversePendingMatrix=W.buffer.o[W.oPos+1].clone(),fi.inversePendingMatrix.invert()):(fi.pendingMatrix=null,fi.inversePendingMatrix=null);break;case 1:var V;if(h.advance(),h.prev=ii.BEGIN_FILL,V=h,V.buffer.f[V.fPos]<.005)fi.hasFill=!1;else{if(1==V.buffer.f[V.fPos])fi.context.fillStyle="#"+O.hex(V.buffer.i[V.iPos],6);else{var H=(16711680&V.buffer.i[V.iPos])>>>16,Y=(65280&V.buffer.i[V.iPos])>>>8,X=255&V.buffer.i[V.iPos];fi.context.fillStyle="rgba("+H+", "+Y+", "+X+", "+V.buffer.f[V.fPos]+")"}fi.bitmapFill=null,fi.hasFill=!0}break;case 2:var z;h.advance(),h.prev=ii.BEGIN_GRADIENT_FILL,z=h,fi.context.fillStyle=fi.createGradientPattern(z.buffer.o[z.oPos],z.buffer.ii[z.iiPos],z.buffer.ff[z.ffPos],z.buffer.ii[z.iiPos+1],z.buffer.o[z.oPos+1],z.buffer.o[z.oPos+2],z.buffer.o[z.oPos+3],z.buffer.o[z.oPos+4]),fi.bitmapFill=null,fi.hasFill=!0;break;case 8:var j;h.advance(),h.prev=ii.DRAW_RECT,j=h;var K=!1;if(null!=fi.bitmapFill){var q=0,Z=0,J=0,Q=0,$=!0;if(null!=fi.pendingMatrix)if(0!=fi.pendingMatrix.b||0!=fi.pendingMatrix.c)$=!1;else{var tt=fi.inversePendingMatrix.transformPoint(new g(j.buffer.f[j.fPos],j.buffer.f[j.fPos+1])),et=fi.inversePendingMatrix.transformPoint(new g(j.buffer.f[j.fPos]+j.buffer.f[j.fPos+2],j.buffer.f[j.fPos+1]+j.buffer.f[j.fPos+3]));q=tt.y,Q=tt.x,J=et.y,Z=et.x}else q=j.buffer.f[j.fPos+1],Q=j.buffer.f[j.fPos],J=j.buffer.f[j.fPos+1]+j.buffer.f[j.fPos+3],Z=j.buffer.f[j.fPos]+j.buffer.f[j.fPos+2];$&&q>=0&&Q>=0&&Z<=fi.bitmapFill.width&&J<=fi.bitmapFill.height&&(K=!0,fi.hitTesting||fi.context.drawImage(fi.bitmapFill.image.get_src(),Q,q,Z-Q,J-q,j.buffer.f[j.fPos]-i,j.buffer.f[j.fPos+1]-s,j.buffer.f[j.fPos+2],j.buffer.f[j.fPos+3]))}K||fi.context.rect(j.buffer.f[j.fPos]-i,j.buffer.f[j.fPos+1]-s,j.buffer.f[j.fPos+2],j.buffer.f[j.fPos+3]);break;default:h.advance(),h.prev=c}}h.destroy(),e&&fi.hasStroke&&(fi.hasFill&&a?fi.context.lineTo(o-i,_-s):a&&n==o&&r==_&&fi.context.closePath(),fi.hitTesting||fi.context.stroke()),e||(fi.hasFill||null!=fi.bitmapFill)&&(fi.context.translate(-fi.bounds.x,-fi.bounds.y),null!=fi.pendingMatrix?(fi.context.transform(fi.pendingMatrix.a,fi.pendingMatrix.b,fi.pendingMatrix.c,fi.pendingMatrix.d,fi.pendingMatrix.tx,fi.pendingMatrix.ty),fi.hitTesting||fi.context.fill(),fi.context.transform(fi.inversePendingMatrix.a,fi.inversePendingMatrix.b,fi.inversePendingMatrix.c,fi.inversePendingMatrix.d,fi.inversePendingMatrix.tx,fi.inversePendingMatrix.ty)):fi.hitTesting||fi.context.fill(),fi.context.translate(fi.bounds.x,fi.bounds.y),fi.context.closePath())},fi.render=function(t,e){var i=!1;if(t.__dirty||i){if(fi.hitTesting=!1,fi.graphics=t,fi.bounds=t.__bounds,!t.__visible||0==t.__commands.get_length()||null==fi.bounds||fi.bounds.width<=0||fi.bounds.height<=0)t.__canvas=null,t.__context=null,t.__bitmap=null;else{i?(fi.context=e.context,fi.bounds.setTo(0,0,fi.context.canvas.width,fi.context.canvas.width)):(null==t.__canvas&&(t.__canvas=window.document.createElement("canvas"),t.__context=t.__canvas.getContext("2d")),fi.context=t.__context,t.__canvas.width=Math.ceil(fi.bounds.width),t.__canvas.height=Math.ceil(fi.bounds.height)),fi.fillCommands.clear(),fi.strokeCommands.clear(),fi.hasFill=!1,fi.hasStroke=!1,fi.bitmapFill=null,fi.bitmapRepeat=!1;var s=new ei(t.__commands),n=0,r=t.__commands.types;try{for(;n<r.length;){var a=r[n];switch(++n,a[1]){case 3:var o;s.advance(),s.prev=ii.CUBIC_CURVE_TO,o=s,fi.fillCommands.cubicCurveTo(o.buffer.f[o.fPos],o.buffer.f[o.fPos+1],o.buffer.f[o.fPos+3],o.buffer.f[o.fPos+4],o.buffer.f[o.fPos+5],o.buffer.f[o.fPos+6]),fi.strokeCommands.cubicCurveTo(o.buffer.f[o.fPos],o.buffer.f[o.fPos+1],o.buffer.f[o.fPos+3],o.buffer.f[o.fPos+4],o.buffer.f[o.fPos+5],o.buffer.f[o.fPos+6]);break;case 4:var _;s.advance(),s.prev=ii.CURVE_TO,_=s,fi.fillCommands.curveTo(_.buffer.f[_.fPos],_.buffer.f[_.fPos+1],_.buffer.f[_.fPos+2],_.buffer.f[_.fPos+3]),fi.strokeCommands.curveTo(_.buffer.f[_.fPos],_.buffer.f[_.fPos+1],_.buffer.f[_.fPos+2],_.buffer.f[_.fPos+3]);break;case 16:var h;s.advance(),s.prev=ii.LINE_TO,h=s,fi.fillCommands.lineTo(h.buffer.f[h.fPos],h.buffer.f[h.fPos+1]),fi.strokeCommands.lineTo(h.buffer.f[h.fPos],h.buffer.f[h.fPos+1]);break;case 17:var l;s.advance(),s.prev=ii.MOVE_TO,l=s,fi.fillCommands.moveTo(l.buffer.f[l.fPos],l.buffer.f[l.fPos+1]),fi.strokeCommands.moveTo(l.buffer.f[l.fPos],l.buffer.f[l.fPos+1]);break;case 12:s.advance(),s.prev=ii.END_FILL,fi.endFill(),fi.endStroke(),fi.hasFill=!1,fi.bitmapFill=null;break;case 15:var u;s.advance(),s.prev=ii.LINE_STYLE,u=s,fi.strokeCommands.lineStyle(u.buffer.o[u.oPos],u.buffer.o[u.oPos+1],u.buffer.o[u.oPos+2],u.buffer.o[u.oPos+3],u.buffer.o[u.oPos+4],u.buffer.o[u.oPos+5],u.buffer.o[u.oPos+6],u.buffer.o[u.oPos+7]);break;case 14:var c;s.advance(),s.prev=ii.LINE_GRADIENT_STYLE,c=s,fi.strokeCommands.lineGradientStyle(c.buffer.o[c.oPos],c.buffer.ii[c.iiPos],c.buffer.ff[c.ffPos],c.buffer.ii[c.iiPos+1],c.buffer.o[c.oPos+1],c.buffer.o[c.oPos+2],c.buffer.o[c.oPos+3],c.buffer.o[c.oPos+4]);break;case 13:var f;s.advance(),s.prev=ii.LINE_BITMAP_STYLE,f=s,fi.strokeCommands.lineBitmapStyle(f.buffer.o[f.oPos],f.buffer.o[f.oPos+1],f.buffer.b[f.bPos],f.buffer.b[f.bPos+1]);break;case 0:case 1:case 2:if(fi.endFill(),fi.endStroke(),a==ii.BEGIN_BITMAP_FILL){var d;s.advance(),s.prev=ii.BEGIN_BITMAP_FILL,d=s,fi.fillCommands.beginBitmapFill(d.buffer.o[d.oPos],d.buffer.o[d.oPos+1],d.buffer.b[d.bPos],d.buffer.b[d.bPos+1]),fi.strokeCommands.beginBitmapFill(d.buffer.o[d.oPos],d.buffer.o[d.oPos+1],d.buffer.b[d.bPos],d.buffer.b[d.bPos+1])}else if(a==ii.BEGIN_GRADIENT_FILL){var p;s.advance(),s.prev=ii.BEGIN_GRADIENT_FILL,p=s,fi.fillCommands.beginGradientFill(p.buffer.o[p.oPos],p.buffer.ii[p.iiPos],p.buffer.ff[p.ffPos],p.buffer.ii[p.iiPos+1],p.buffer.o[p.oPos+1],p.buffer.o[p.oPos+2],p.buffer.o[p.oPos+3],p.buffer.o[p.oPos+4]),fi.strokeCommands.beginGradientFill(p.buffer.o[p.oPos],p.buffer.ii[p.iiPos],p.buffer.ff[p.ffPos],p.buffer.ii[p.iiPos+1],p.buffer.o[p.oPos+1],p.buffer.o[p.oPos+2],p.buffer.o[p.oPos+3],p.buffer.o[p.oPos+4])}else{var g;s.advance(),s.prev=ii.BEGIN_FILL,g=s,fi.fillCommands.beginFill(g.buffer.i[g.iPos],g.buffer.f[g.fPos]),fi.strokeCommands.beginFill(g.buffer.i[g.iPos],g.buffer.f[g.fPos])}break;case 5:var m;s.advance(),s.prev=ii.DRAW_CIRCLE,m=s,fi.fillCommands.drawCircle(m.buffer.f[m.fPos],m.buffer.f[m.fPos+1],m.buffer.f[m.fPos+2]),fi.strokeCommands.drawCircle(m.buffer.f[m.fPos],m.buffer.f[m.fPos+1],m.buffer.f[m.fPos+2]);break;case 6:var v;s.advance(),s.prev=ii.DRAW_ELLIPSE,v=s,fi.fillCommands.drawEllipse(v.buffer.f[v.fPos],v.buffer.f[v.fPos+1],v.buffer.f[v.fPos+2],v.buffer.f[v.fPos+3]),fi.strokeCommands.drawEllipse(v.buffer.f[v.fPos],v.buffer.f[v.fPos+1],v.buffer.f[v.fPos+2],v.buffer.f[v.fPos+3]);break;case 8:var b;s.advance(),s.prev=ii.DRAW_RECT,b=s,fi.fillCommands.drawRect(b.buffer.f[b.fPos],b.buffer.f[b.fPos+1],b.buffer.f[b.fPos+2],b.buffer.f[b.fPos+3]),fi.strokeCommands.drawRect(b.buffer.f[b.fPos],b.buffer.f[b.fPos+1],b.buffer.f[b.fPos+2],b.buffer.f[b.fPos+3]);break;case 9:var x;s.advance(),s.prev=ii.DRAW_ROUND_RECT,x=s,fi.fillCommands.drawRoundRect(x.buffer.f[x.fPos],x.buffer.f[x.fPos+1],x.buffer.f[x.fPos+2],x.buffer.f[x.fPos+3],x.buffer.f[x.fPos+4],x.buffer.f[x.fPos+5]),fi.strokeCommands.drawRoundRect(x.buffer.f[x.fPos],x.buffer.f[x.fPos+1],x.buffer.f[x.fPos+2],x.buffer.f[x.fPos+3],x.buffer.f[x.fPos+4],x.buffer.f[x.fPos+5]);break;case 11:fi.endFill(),fi.endStroke();var y;s.advance(),s.prev=ii.DRAW_TRIANGLES,y=s;var w=y.buffer.o[y.oPos],E=y.buffer.o[y.oPos+1],T=y.buffer.o[y.oPos+2],P=null,R=null==fi.bitmapFill;if(R&&null!=T)throw"__break__";if(!R){if(null==T){var S;S=new Je;var C;C=new Array(0),S.data=C,S.length=0,S.fixed=!1,T=S;for(var I=0,M=w.length/2|0;M>I;){var A=I++;if(!T.fixed){if(T.length++,T.data.length<T.length){var L,D;D=new Array(T.data.length+10),L=D,K.blit(T.data,0,L,0,T.data.length),T.data=L}T.data[T.length-1]=w.data[2*A]/fi.bitmapFill.width}if(T.length,!T.fixed){if(T.length++,T.data.length<T.length){var O,k;k=new Array(T.data.length+10),O=k,K.blit(T.data,0,O,0,T.data.length),T.data=O}T.data[T.length-1]=w.data[2*A+1]/fi.bitmapFill.height}T.length}}var B=T.length!=w.length,F=fi.normalizeUVT(T,B),N=F.max;T=F.uvt,P=N>1?fi.createTempPatternCanvas(fi.bitmapFill,fi.bitmapRepeat,0|fi.bounds.width,0|fi.bounds.height):fi.createTempPatternCanvas(fi.bitmapFill,fi.bitmapRepeat,fi.bitmapFill.width,fi.bitmapFill.height)}for(var U,G,W,V,H,Y,X,z,j,q,Z,J,Q,$,tt,et,it,st,nt,rt,at,ot,_t,ht,lt,ut,ct,ft,dt=0,pt=E.length;pt>dt;){U=dt,G=dt+1,W=dt+2,V=2*E.data[U],H=2*E.data[U]+1,Y=2*E.data[G],X=2*E.data[G]+1,z=2*E.data[W],j=2*E.data[W]+1,q=w.data[V],Z=w.data[H],J=w.data[Y],Q=w.data[X],$=w.data[z],tt=w.data[j];var gt=y.buffer.o[y.oPos+3];switch(gt[1]){case 2:if(!(0>(J-q)*(tt-Z)-(Q-Z)*($-q))){dt+=3;continue}break;case 0:if(0>(J-q)*(tt-Z)-(Q-Z)*($-q)){dt+=3;continue}}R?(fi.context.beginPath(),fi.context.moveTo(q,Z),fi.context.lineTo(J,Q),fi.context.lineTo($,tt),fi.context.closePath(),fi.hitTesting||fi.context.fill(),dt+=3):(fi.context.save(),fi.context.beginPath(),fi.context.moveTo(q,Z),fi.context.lineTo(J,Q),fi.context.lineTo($,tt),fi.context.closePath(),fi.context.clip(),et=T.data[V]*P.width,st=T.data[Y]*P.width,rt=T.data[z]*P.width,it=T.data[H]*P.height,nt=T.data[X]*P.height,at=T.data[j]*P.height,ot=et*(at-nt)-st*at+rt*nt+(st-rt)*it,0!=ot?(_t=-(it*($-J)-nt*$+at*J+(nt-at)*q)/ot,ht=(nt*tt+it*(Q-tt)-at*Q+(at-nt)*Z)/ot,lt=(et*($-J)-st*$+rt*J+(st-rt)*q)/ot,ut=-(st*tt+et*(Q-tt)-rt*Q+(rt-st)*Z)/ot,ct=(et*(at*J-nt*$)+it*(st*$-rt*J)+(rt*nt-st*at)*q)/ot,ft=(et*(at*Q-nt*tt)+it*(st*tt-rt*Q)+(rt*nt-st*at)*Z)/ot,fi.context.transform(_t,ht,lt,ut,ct,ft),fi.context.drawImage(P,0,0),fi.context.restore(),dt+=3):dt+=3)}break;case 10:var mt;s.advance(),s.prev=ii.DRAW_TILES,mt=s;var vt=(1&mt.buffer.i[mt.iPos])>0,bt=fi.bounds.x,xt=fi.bounds.y,yt=(2&mt.buffer.i[mt.iPos])>0,wt=(16&mt.buffer.i[mt.iPos])>0,Et=(4&mt.buffer.i[mt.iPos])>0,Tt=(8&mt.buffer.i[mt.iPos])>0,Pt=(32&mt.buffer.i[mt.iPos])>0,Rt=(64&mt.buffer.i[mt.iPos])>0,St=(65536&mt.buffer.i[mt.iPos])>0;wt&&(vt=!1,yt=!1);var Ct=0,It=0,Mt=0,At=0,Lt=0,Dt=3;Pt&&(Dt=Rt?8:6),vt&&(Ct=Dt,Dt++),yt&&(It=Dt,Dt++),wt&&(Lt=Dt,Dt+=4),Et&&(Mt=Dt,Dt+=3),Tt&&(At=Dt,Dt++);var Ot=mt.buffer.ff[mt.ffPos].length;mt.buffer.i[mt.iPos+1]>=0&&Ot>mt.buffer.i[mt.iPos+1]&&(Ot=mt.buffer.i[mt.iPos+1]);var kt,Bt=0,Ft=null,Nt=null,Ut=-1;for(mt.buffer.ts[mt.tsPos].__bitmap.__sync(),kt=mt.buffer.ts[mt.tsPos].__bitmap.image.get_src(),St&&(fi.context.globalCompositeOperation="lighter");Ot>Bt;){var Gt;if(Gt=Pt?-1:0|mt.buffer.ff[mt.ffPos][Bt+2],Pt||Gt==Ut?Pt&&(Ft=mt.buffer.ts[mt.tsPos].__rectTile,Ft.setTo(mt.buffer.ff[mt.ffPos][Bt+2],mt.buffer.ff[mt.ffPos][Bt+3],mt.buffer.ff[mt.ffPos][Bt+4],mt.buffer.ff[mt.ffPos][Bt+5]),Nt=mt.buffer.ts[mt.tsPos].__point,Rt?(Nt.x=mt.buffer.ff[mt.ffPos][Bt+6],Nt.y=mt.buffer.ff[mt.ffPos][Bt+7]):(Nt.x=0,Nt.y=0)):(Ft=mt.buffer.ts[mt.tsPos].__tileRects[Gt],Nt=mt.buffer.ts[mt.tsPos].__centerPoints[Gt],Ut=Gt),null!=Ft&&Ft.width>0&&Ft.height>0&&null!=Nt){fi.context.save(),fi.context.translate(mt.buffer.ff[mt.ffPos][Bt]-bt,mt.buffer.ff[mt.ffPos][Bt+1]-xt),yt&&fi.context.rotate(mt.buffer.ff[mt.ffPos][Bt+It]);var Wt=1;vt&&(Wt=mt.buffer.ff[mt.ffPos][Bt+Ct]),wt&&fi.context.transform(mt.buffer.ff[mt.ffPos][Bt+Lt],mt.buffer.ff[mt.ffPos][Bt+Lt+1],mt.buffer.ff[mt.ffPos][Bt+Lt+2],mt.buffer.ff[mt.ffPos][Bt+Lt+3],0,0),Tt&&(fi.context.globalAlpha=mt.buffer.ff[mt.ffPos][Bt+At]),fi.context.drawImage(kt,Ft.x,Ft.y,Ft.width,Ft.height,-Nt.x*Wt,-Nt.y*Wt,Ft.width*Wt,Ft.height*Wt),fi.context.restore()}Bt+=Dt}St&&(fi.context.globalCompositeOperation="source-over");break;default:s.advance(),s.prev=a}}}catch(Vt){if("__break__"!=Vt)throw Vt}fi.fillCommands.get_length()>0&&fi.endFill(),fi.strokeCommands.get_length()>0&&fi.endStroke(),s.destroy(),t.__bitmap=os.fromCanvas(t.__canvas)}t.set___dirty(!1)}},fi.renderMask=function(t,e){if(0!=t.__commands.get_length()){fi.context=e.context;for(var i=0,s=0,n=0,r=0,a=new ei(t.__commands),o=0,_=t.__commands.types;o<_.length;){var h=_[o];switch(++o,h[1]){case 3:var l;a.advance(),a.prev=ii.CUBIC_CURVE_TO,l=a,fi.context.bezierCurveTo(l.buffer.f[l.fPos]-n,l.buffer.f[l.fPos+1]-r,l.buffer.f[l.fPos+3]-n,l.buffer.f[l.fPos+4]-r,l.buffer.f[l.fPos+5]-n,l.buffer.f[l.fPos+6]-r),i=l.buffer.f[l.fPos+5],s=l.buffer.f[l.fPos+6];break;case 4:var u;a.advance(),a.prev=ii.CURVE_TO,u=a,fi.context.quadraticCurveTo(u.buffer.f[u.fPos]-n,u.buffer.f[u.fPos+1]-r,u.buffer.f[u.fPos+2]-n,u.buffer.f[u.fPos+3]-r),i=u.buffer.f[u.fPos+2],s=u.buffer.f[u.fPos+3];break;case 5:var c;a.advance(),a.prev=ii.DRAW_CIRCLE,c=a,fi.context.arc(c.buffer.f[c.fPos]-n,c.buffer.f[c.fPos+1]-r,c.buffer.f[c.fPos+2],0,2*Math.PI,!0);break;case 6:var f;a.advance(),a.prev=ii.DRAW_ELLIPSE,f=a;var d=f.buffer.f[f.fPos],p=f.buffer.f[f.fPos+1],g=f.buffer.f[f.fPos+2],m=f.buffer.f[f.fPos+3];d-=n,p-=r;var v=.5522848,b=g/2*v,x=m/2*v,y=d+g,w=p+m,E=d+g/2,T=p+m/2;fi.context.moveTo(d,T),fi.context.bezierCurveTo(d,T-x,E-b,p,E,p),fi.context.bezierCurveTo(E+b,p,y,T-x,y,T),fi.context.bezierCurveTo(y,T+x,E+b,w,E,w),fi.context.bezierCurveTo(E-b,w,d,T+x,d,T);break;case 8:var P;a.advance(),a.prev=ii.DRAW_RECT,P=a,fi.context.rect(P.buffer.f[P.fPos]-n,P.buffer.f[P.fPos+1]-r,P.buffer.f[P.fPos+2],P.buffer.f[P.fPos+3]);break;case 9:var R;a.advance(),a.prev=ii.DRAW_ROUND_RECT,R=a,fi.drawRoundRect(R.buffer.f[R.fPos]-n,R.buffer.f[R.fPos+1]-r,R.buffer.f[R.fPos+2],R.buffer.f[R.fPos+3],R.buffer.f[R.fPos+4],R.buffer.f[R.fPos+5]);break;case 16:var S;a.advance(),a.prev=ii.LINE_TO,S=a,fi.context.lineTo(S.buffer.f[S.fPos]-n,S.buffer.f[S.fPos+1]-r),i=S.buffer.f[S.fPos],s=S.buffer.f[S.fPos+1];break;case 17:var C;a.advance(),a.prev=ii.MOVE_TO,C=a,fi.context.moveTo(C.buffer.f[C.fPos]-n,C.buffer.f[C.fPos+1]-r),i=C.buffer.f[C.fPos],s=C.buffer.f[C.fPos+1];break;default:a.advance(),a.prev=h}}a.destroy()}};var di=function(t){Qe.call(this,t)};a["openfl._internal.renderer.canvas.CanvasMaskManager"]=di,di.__name__=!0,di.__super__=Qe,di.prototype=s(Qe.prototype,{pushMask:function(t){var e=this.renderSession.context;e.save();var i=t.__getWorldTransform();e.setTransform(i.a,i.b,i.c,i.d,i.tx,i.ty),e.beginPath(),t.__renderCanvasMask(this.renderSession),e.clip()},pushRect:function(t,e){var i=this.renderSession.context;i.save(),i.setTransform(e.a,e.b,e.c,e.d,e.tx,e.ty),i.beginPath(),i.rect(t.x,t.y,t.width,t.height),i.clip()},popMask:function(){this.renderSession.context.restore()},popRect:function(){this.renderSession.context.restore()},__class__:di});var pi=function(t,e,i){$e.call(this,t,e),this.context=i,this.renderSession=new ri,this.renderSession.context=i,this.renderSession.roundPixels=!0,this.renderSession.renderer=this,this.renderSession.maskManager=new di(this.renderSession)};a["openfl._internal.renderer.canvas.CanvasRenderer"]=pi,pi.__name__=!0,pi.__super__=$e,pi.prototype=s($e.prototype,{render:function(t){this.context.setTransform(1,0,0,1,0,0),this.context.globalAlpha=1,!t.__transparent&&t.__clearBeforeRender?(this.context.fillStyle=t.__colorString,this.context.fillRect(0,0,t.stageWidth,t.stageHeight)):t.__transparent&&t.__clearBeforeRender&&this.context.clearRect(0,0,t.stageWidth,t.stageHeight),t.__renderCanvas(this.renderSession)},__class__:pi});var gi=function(){};a["openfl._internal.renderer.canvas.CanvasShape"]=gi,gi.__name__=!0,gi.render=function(t,e){if(t.__renderable&&!(t.__worldAlpha<=0)){var i=t.__graphics;if(null!=i&&(fi.render(i,e),null!=i.__canvas)){var s=e.context,n=t.get_scrollRect();if(i.__bounds.width>0&&i.__bounds.height>0&&(null==n||n.width>0&&n.height>0)){null!=t.__mask&&e.maskManager.pushMask(t.__mask),s.globalAlpha=t.__worldAlpha;var r=t.__worldTransform;e.roundPixels?s.setTransform(r.a,r.b,r.c,r.d,0|r.tx,0|r.ty):s.setTransform(r.a,r.b,r.c,r.d,r.tx,r.ty),null==n?s.drawImage(i.__canvas,i.__bounds.x,i.__bounds.y):s.drawImage(i.__canvas,Math.ceil(i.__bounds.x+n.x),Math.ceil(i.__bounds.y+n.y),n.width,n.height,Math.ceil(i.__bounds.x+n.x),Math.ceil(i.__bounds.y+n.y),n.width,n.height),null!=t.__mask&&e.maskManager.popMask()}}}};var mi=function(){};a["openfl._internal.renderer.canvas.CanvasTextField"]=mi,mi.__name__=!0,mi.context=null,mi.render=function(t,e){if(t.__dirty){var i=t.__textEngine;if(t.__updateLayout(),(null==i.text||""==i.text)&&!i.background&&!i.border&&!i.__hasFocus||(i.width<=0||i.height<=0)&&i.autoSize!=un.NONE)t.__graphics.__canvas=null,t.__graphics.__context=null,t.__graphics.set___dirty(!1),t.__dirty=!1;else{var s=i.bounds;(null==t.__graphics||null==t.__graphics.__canvas)&&(null==t.__graphics&&(t.__graphics=new fs),t.__graphics.__canvas=window.document.createElement("canvas"),t.__graphics.__context=t.__graphics.__canvas.getContext("2d"),t.__graphics.__bounds=new Gi(0,0,s.width,s.height));var n=t.__graphics;if(mi.context=n.__context,null!=i.text&&""!=i.text||i.__hasFocus){var r=i.text;if(i.displayAsPassword){for(var a=r.length,o="",_=0;a>_;){_++;o+="*"}r=o}n.__canvas.width=Math.ceil(s.width),n.__canvas.height=Math.ceil(s.height),i.antiAliasType!=_n.ADVANCED||i.gridFitType!=hn.PIXEL?(n.__context.mozImageSmoothingEnabled=!0,n.__context.msImageSmoothingEnabled=!0,n.__context.imageSmoothingEnabled=!0):(n.__context.mozImageSmoothingEnabled=!1,n.__context.msImageSmoothingEnabled=!1,n.__context.imageSmoothingEnabled=!1),(i.border||i.background)&&(mi.context.rect(.5,.5,s.width-1,s.height-1),i.background&&(mi.context.fillStyle="#"+O.hex(i.backgroundColor,6),mi.context.fill()),i.border&&(mi.context.lineWidth=1,mi.context.strokeStyle="#"+O.hex(i.borderColor,6),mi.context.stroke())),mi.context.textBaseline="top",mi.context.textAlign="start";for(var h=-t.get_scrollH(),l=0,u=0,c=t.get_scrollV()-1;c>u;){var f=u++;l-=i.lineHeights[f]}for(var d,p=0,g=new S("(iPad|iPhone|iPod|Firefox)","g").match(window.navigator.userAgent),m=0,v=i.layoutGroups;m<v.length;){var b=v[m];if(++m,!(b.lineIndex<t.get_scrollV()-1)){if(b.lineIndex>t.get_scrollV()+i.bottomScrollV-2)break;if(mi.context.font=is.getFont(b.format),mi.context.fillStyle="#"+O.hex(b.format.color,6),g&&(p=.185*b.format.size),mi.context.fillText(r.substring(b.startIndex,b.endIndex),b.offsetX+h,b.offsetY+p+l),t.__caretIndex>-1&&i.selectable)if(t.__selectionIndex==t.__caretIndex){if(t.__showCursor&&b.startIndex<=t.__caretIndex&&b.endIndex>=t.__caretIndex){d=0;for(var x=0,y=t.__caretIndex-b.startIndex;y>x;){var w=x++;if(b.advances.length<=w)break;d+=b.advances[w]}mi.context.fillRect(b.offsetX+d,b.offsetY,1,b.height)}}else if(b.startIndex<=t.__caretIndex&&b.endIndex>=t.__caretIndex||b.startIndex<=t.__selectionIndex&&b.endIndex>=t.__selectionIndex){var E=D["int"](Math.min(t.__selectionIndex,t.__caretIndex)),T=D["int"](Math.max(t.__selectionIndex,t.__caretIndex));b.startIndex>E&&(E=b.startIndex),b.endIndex<T&&(T=b.endIndex);var P,R;P=t.getCharBoundaries(E),T>=i.text.length?(R=t.getCharBoundaries(i.text.length-1),R.x+=R.width+2):R=t.getCharBoundaries(T),null!=P&&null!=R&&(mi.context.fillStyle="#000000",mi.context.fillRect(P.x,P.y,R.x-P.x,b.height),mi.context.fillStyle="#FFFFFF",mi.context.fillText(r.substring(E,T),h+P.x,b.offsetY+p+l))}}}}else n.__canvas.width=Math.ceil(s.width),n.__canvas.height=Math.ceil(s.height),(i.border||i.background)&&(i.border?mi.context.rect(.5,.5,s.width-1,s.height-1):mi.context.rect(0,0,s.width,s.height),i.background&&(mi.context.fillStyle="#"+O.hex(i.backgroundColor,6),mi.context.fill()),i.border&&(mi.context.lineWidth=1,mi.context.lineCap="square",mi.context.strokeStyle="#"+O.hex(i.borderColor,6),mi.context.stroke()));n.__bitmap=os.fromCanvas(t.__graphics.__canvas),t.__dirty=!1,n.set___dirty(!1)}}};var vi=function(t,e,i){throw $e.call(this,t,e),new it("ConsoleRenderer not supported")};a["openfl._internal.renderer.console.ConsoleRenderer"]=vi,vi.__name__=!0,vi.__super__=$e,vi.prototype=s($e.prototype,{render:function(t){},__class__:vi});var bi=function(){};a["openfl._internal.renderer.dom.DOMBitmap"]=bi,bi.__name__=!0,bi.renderCanvas=function(t,e){null!=t.__image&&(e.element.removeChild(t.__image),t.__image=null),null==t.__canvas&&(t.__canvas=window.document.createElement("canvas"),t.__context=t.__canvas.getContext("2d"),t.smoothing||(t.__context.mozImageSmoothingEnabled=!1,t.__context.msImageSmoothingEnabled=!1,t.__context.imageSmoothingEnabled=!1),yi.initializeElement(t,t.__canvas,e)),t.bitmapData.__sync(),t.__canvas.width=t.bitmapData.width,t.__canvas.height=t.bitmapData.height,t.__context.globalAlpha=t.__worldAlpha,t.__context.drawImage(t.bitmapData.image.buffer.__srcCanvas,0,0),yi.applyStyle(t,e,!0,!1,!0)},bi.renderImage=function(t,e){null!=t.__canvas&&(e.element.removeChild(t.__canvas),t.__canvas=null),null==t.__image&&(t.__image=window.document.createElement("img"),t.__image.src=t.bitmapData.image.buffer.__srcImage.src,yi.initializeElement(t,t.__image,e)),yi.applyStyle(t,e,!0,!0,!0)};var xi=function(t){Qe.call(this,t)};a["openfl._internal.renderer.dom.DOMMaskManager"]=xi,xi.__name__=!0,xi.__super__=Qe,xi.prototype=s(Qe.prototype,{pushMask:function(t){},pushRect:function(t,e){},popMask:function(){},__class__:xi});var yi=function(t,e,i){$e.call(this,t,e),this.element=i,this.renderSession=new ri,this.renderSession.element=i,this.renderSession.roundPixels=!0;var s=function(){var t=window.getComputedStyle(document.documentElement,""),e=(Array.prototype.slice.call(t).join("").match(/-(moz|webkit|ms)-/)||""===t.OLink&&["","o"])[1],i="WebKit|Moz|MS|O".match(new RegExp("("+e+")","i"))[1];return{dom:i,lowercase:e,css:"-"+e+"-",js:e[0].toUpperCase()+e.substr(1)}}();this.renderSession.vendorPrefix=s.lowercase,"webkit"==s.lowercase?this.renderSession.transformProperty="-webkit-transform":this.renderSession.transformProperty="transform","webkit"==s.lowercase?this.renderSession.transformOriginProperty="-webkit-transform-origin":this.renderSession.transformOriginProperty="transform-origin",this.renderSession.maskManager=new xi(this.renderSession),this.renderSession.renderer=this};a["openfl._internal.renderer.dom.DOMRenderer"]=yi,yi.__name__=!0,yi.applyStyle=function(t,e,i,s,n){var r=t.__style;if(i&&t.__worldTransformChanged&&r.setProperty(e.transformProperty,t.__worldTransform.to3DString(e.roundPixels),null),t.__worldZ!=++e.z&&(t.__worldZ=e.z,r.setProperty("z-index",null==t.__worldZ?"null":""+t.__worldZ,null)),s&&t.__worldAlphaChanged&&(t.__worldAlpha<1?r.setProperty("opacity",null==t.__worldAlpha?"null":""+t.__worldAlpha,null):r.removeProperty("opacity")),n&&t.__worldClipChanged)if(null==t.__worldClip)r.removeProperty("clip");else{var a=Gi.__temp,o=Ke.__temp;o.copyFrom(t.__worldTransform),o.invert(),t.__worldClip.__transform(a,o),r.setProperty("clip","rect("+a.y+"px, "+a.get_right()+"px, "+a.get_bottom()+"px, "+a.x+"px)",null)}},yi.initializeElement=function(t,e,i){var s=t.__style=e.style;s.setProperty("position","absolute",null),s.setProperty("top","0",null),s.setProperty("left","0",null),s.setProperty(i.transformOriginProperty,"0 0 0",null),i.element.appendChild(e),t.__worldAlphaChanged=!0,t.__worldClipChanged=!0,t.__worldTransformChanged=!0,t.__worldVisibleChanged=!0,t.__worldZ=-1},yi.__super__=$e,yi.prototype=s($e.prototype,{render:function(t){this.element.style.background=t.__colorString,this.renderSession.z=1,t.__renderDOM(this.renderSession)},__class__:yi});var wi=function(){};a["openfl._internal.renderer.dom.DOMShape"]=wi,wi.__name__=!0,wi.render=function(t,e){var i=t.__graphics;if(null!=t.stage&&t.__worldVisible&&t.__renderable&&null!=i){if((i.__dirty||t.__worldAlphaChanged||null==t.__canvas&&null!=i.__canvas)&&(fi.render(i,e),null!=i.__canvas?(null==t.__canvas&&(t.__canvas=window.document.createElement("canvas"),t.__context=t.__canvas.getContext("2d"),yi.initializeElement(t,t.__canvas,e)),t.__canvas.width=i.__canvas.width,t.__canvas.height=i.__canvas.height,t.__context.globalAlpha=t.__worldAlpha,t.__context.drawImage(i.__canvas,0,0)):null!=t.__canvas&&(e.element.removeChild(t.__canvas),t.__canvas=null,t.__style=null)),null!=t.__canvas){if(t.__worldTransformChanged||i.__transformDirty){i.__transformDirty=!1;var s=Ke.__temp;s.identity(),s.translate(i.__bounds.x,i.__bounds.y),s.concat(t.__worldTransform),t.__style.setProperty(e.transformProperty,e.roundPixels?"matrix3d("+s.a+", "+s.b+", 0, 0, "+s.c+", "+s.d+", 0, 0, 0, 0, 1, 0, "+(0|s.tx)+", "+(0|s.ty)+", 0, 1)":"matrix3d("+s.a+", "+s.b+", 0, 0, "+s.c+", "+s.d+", 0, 0, 0, 0, 1, 0, "+s.tx+", "+s.ty+", 0, 1)",null)}yi.applyStyle(t,e,!1,!1,!0)}}else null!=t.__canvas&&(e.element.removeChild(t.__canvas),t.__canvas=null,t.__style=null)};var Ei=function(){};a["openfl._internal.renderer.dom.DOMTextField"]=Ei,Ei.__name__=!0,Ei.render=function(t,e){var i=t.__textEngine;if(null!=t.stage&&t.__worldVisible&&t.__renderable){if(t.__dirty||null==t.__div)if(""!=i.text||i.background||i.border||i.type==cn.INPUT){null==t.__div&&(t.__div=window.document.createElement("div"),yi.initializeElement(t,t.__div,e),t.__style.setProperty("outline","none",null),t.__div.addEventListener("input",function(e){e.preventDefault(),t.get_htmlText()!=t.__div.innerHTML&&(t.set_htmlText(t.__div.innerHTML),t.__dirty=!1)},!0)),i.selectable?t.__style.setProperty("cursor","text",null):t.__style.setProperty("cursor","inherit",null),t.__div.contentEditable=i.type==cn.INPUT;var s=t.__style;t.__div.innerHTML=i.text,i.background?s.setProperty("background-color","#"+O.hex(i.backgroundColor,6),null):s.removeProperty("background-color"),i.border?s.setProperty("border","solid 1px #"+O.hex(i.borderColor,6),null):s.removeProperty("border"),s.setProperty("font",is.getFont(t.__textFormat),null),s.setProperty("color","#"+O.hex(t.__textFormat.color,6),null),i.autoSize!=un.NONE?s.setProperty("width","auto",null):s.setProperty("width",i.width+"px",null),
s.setProperty("height",i.height+"px",null);var n=t.__textFormat.align;switch(n[1]){case 3:s.setProperty("text-align","center",null);break;case 1:s.setProperty("text-align","right",null);break;default:s.setProperty("text-align","left",null)}t.__dirty=!1}else null!=t.__div&&(e.element.removeChild(t.__div),t.__div=null);null!=t.__div&&yi.applyStyle(t,e,!0,!0,!1)}else null!=t.__div&&(e.element.removeChild(t.__div),t.__div=null,t.__style=null)};var Ti=function(){};a["openfl._internal.renderer.opengl.GLBitmap"]=Ti,Ti.__name__=!0,Ti.pushFramebuffer=function(t,e,i,s,n,r,a){null==a&&(a=!0),null==r&&(r=!1),null==n&&(n=!0);var o=t.gl;if(null==o)return null;var _=t.renderer,h=t.spriteBatch,l=0|i.x,u=0|i.y,c=0|i.width,f=0|i.height;return h.finish(),Ti.fbData.length<=0&&Ti.fbData.push({texture:null,viewPort:null,transparent:_.transparent}),null==e&&(e=new qi(o,c,f,s,a)),e.resize(c,f),_.transparent=n,t.maskManager.saveState(),o.bindFramebuffer(o.FRAMEBUFFER,(e.__swapped?e.__texture1:e.__texture0).frameBuffer),_.setViewport(l,u,c,f),o.colorMask(!0,!0,!0,!0),t.blendModeManager.setBlendMode(hs.NORMAL),r&&(e.__swapped?e.__texture1:e.__texture0).clear(0,0,0,0,null),Ti.fbData.push({texture:e,viewPort:i,transparent:n}),e},Ti.drawBitmapDrawable=function(t,e,i,s,n,r,a){var o=Ti.fbData[Ti.fbData.length-1];if(null==o)throw new it("No data to draw to");var _=t.gl;if(null!=_){var h,l=o.viewPort,u=(t.renderer,t.spriteBatch),f=null!=e;h=null==a?new Gi(l.x,l.y,l.width,l.height):a.clone(),u.begin(t,f?null:h),f&&(e.__worldTransform.identity(),Ti.flipMatrix(e.__worldTransform,l.height),e.__renderGL(t),u.stop(),null!=e.__texture&&_.deleteTexture(e.__texture),e.__texture=null,u.start(h));var d,p=i.__worldColorTransform,g=i.__blendMode,m=i.__cacheAsBitmap;d=null!=s?new Ke(s.a,s.b,s.c,s.d,s.tx,s.ty):new Ke,Ti.flipMatrix(d,l.height),null!=n?i.__worldColorTransform=n:i.__worldColorTransform=new qe,i.__blendMode=r,c.__cacheAsBitmapMode=!0,i.__updateTransforms(d),i.__updateChildren(!1),i.__cacheAsBitmap=!1,i.__renderGL(t),i.__cacheAsBitmap=m,i.__worldColorTransform=p,i.__blendMode=g,c.__cacheAsBitmapMode=!1,i.__updateTransforms(),i.__updateChildren(!1)}},Ti.popFramebuffer=function(t,e){var i=t.gl;if(null!=i){t.spriteBatch.finish(),Ti.fbData.pop();var s=Ti.fbData[Ti.fbData.length-1];if(null==s)throw new it("oh");var n,r,a,o;null==s.viewPort?(n=r=0,a=t.renderer.width,o=t.renderer.height):(n=Math.floor(s.viewPort.x),r=Math.floor(s.viewPort.y),a=Math.ceil(s.viewPort.width),o=Math.ceil(s.viewPort.height)),null!=e&&((e.width!=a||e.height!=o)&&e.resize(a,o),i.readPixels(n,r,a,o,i.RGBA,i.UNSIGNED_BYTE,e.buffer.data),e.dirty=!1,e.set_premultiplied(!0)),i.bindFramebuffer(i.FRAMEBUFFER,null==s.texture?t.defaultFramebuffer:s.texture.get_framebuffer()),t.renderer.setViewport(n,r,a,o),t.renderer.transparent=s.transparent,t.maskManager.restoreState()}},Ti.flipMatrix=function(t,e){var i=t.tx,s=t.ty;t.tx=0,t.ty=0,t.scale(1,-1),t.translate(0,e),t.tx+=i,t.ty-=s};var Pi=function(t,e,i,s,n,r){null==r&&(r=!1),null==n&&(n=!1),null==s&&(s=!1),null==e&&(e=600),null==t&&(t=800),this.vpHeight=0,this.vpWidth=0,this.vpY=0,this.vpX=0,$e.call(this,t,e),this.transparent=s,this.preserveDrawingBuffer=r,this.width=t,this.height=e,this.viewport=new Gi,this.options={alpha:s,antialias:n,premultipliedAlpha:s,stencil:!0,preserveDrawingBuffer:r},this._glContextId=Pi.glContextId++,this.gl=i,this.defaultFramebuffer=null,Pi.glContexts[this._glContextId]=i,this.projectionMatrix=new Ke,this.projection=new g,this.projection.x=this.width/2,this.projection.y=-this.height/2,this.offset=new g(0,0),this.resize(this.width,this.height),this.contextLost=!1,this.shaderManager=new Ji(i),this.spriteBatch=new Qi(i),this.filterManager=new Fi(i,this.transparent),this.stencilManager=new ts(i),this.blendModeManager=new Li(i),this.renderSession=new ri,this.renderSession.gl=this.gl,this.renderSession.drawCount=0,this.renderSession.shaderManager=this.shaderManager,this.renderSession.filterManager=this.filterManager,this.renderSession.blendModeManager=this.blendModeManager,this.renderSession.spriteBatch=this.spriteBatch,this.renderSession.stencilManager=this.stencilManager,this.renderSession.renderer=this,this.renderSession.defaultFramebuffer=this.defaultFramebuffer,this.renderSession.projectionMatrix=this.projectionMatrix,this.maskManager=new Ni(this.renderSession),this.renderSession.maskManager=this.maskManager,this.shaderManager.setShader(this.shaderManager.defaultShader),i.disable(i.DEPTH_TEST),i.disable(i.CULL_FACE),i.enable(i.BLEND),i.colorMask(!0,!0,!0,this.transparent)};a["openfl._internal.renderer.opengl.GLRenderer"]=Pi,Pi.__name__=!0,Pi.renderBitmap=function(t,e,i){if(null==i&&(i=!0),t.__renderable&&!(t.__worldAlpha<=0)&&null!=t.__graphics&&null!=t.__graphics.__bitmap){var s=Gi.__temp,n=Ke.__temp;s.setEmpty(),n.identity(),t.__getBounds(s,n);var r=t.__graphics.__bitmap;n.translate(t.__graphics.__bounds.x,t.__graphics.__bounds.y),n.concat(t.__renderTransform),e.spriteBatch.renderBitmapData(r,i,n,t.__worldColorTransform,t.__worldAlpha,t.__blendMode,null,bs.ALWAYS)}},Pi.__super__=$e,Pi.prototype=s($e.prototype,{setViewport:function(t,e,i,s){(this.vpX!=t||this.vpY!=e||this.vpWidth!=i||this.vpHeight!=s)&&(this.vpX=t,this.vpY=e,this.vpWidth=i,this.vpHeight=s,this.gl.viewport(t,e,i,s),this.setOrtho(t,e,i,s),this.viewport.setTo(t,e,i,s))},setOrtho:function(t,e,i,s){var n=this.projectionMatrix;n.identity(),n.a=1/i*2,n.d=-1/s*2,n.tx=-1-t*n.a,n.ty=1-e*n.d},render:function(t){if(!this.contextLost){var e=this.gl;this.setViewport(0,0,this.width,this.height),e.bindFramebuffer(e.FRAMEBUFFER,this.defaultFramebuffer),this.transparent?e.clearColor(0,0,0,0):e.clearColor(t.__colorSplit[0],t.__colorSplit[1],t.__colorSplit[2],1),e.clear(e.COLOR_BUFFER_BIT),this.renderDisplayObject(t,this.projection)}},renderDisplayObject:function(t,e,i){this.renderSession.blendModeManager.setBlendMode(hs.NORMAL),this.renderSession.drawCount=0,this.renderSession.currentBlendMode=null,this.spriteBatch.begin(this.renderSession),this.filterManager.begin(this.renderSession,i),t.__renderGL(this.renderSession),this.spriteBatch.finish()},resize:function(t,e){this.width=t,this.height=e,$e.prototype.resize.call(this,t,e),this.setViewport(0,0,t,e),this.projection.x=t/2,this.projection.y=-e/2},__class__:Pi});var Ri=function(t){this.wrapT=33071,this.wrapS=33071,this.compiled=!1,this.uniforms=new j,this.attributes=new j,this.ID=Ri.UID++,this.gl=t,this.program=null};a["openfl._internal.renderer.opengl.shaders2.Shader"]=Ri,Ri.__name__=!0,Ri.compileProgram=function(e,i,s){var n=Ji.compiledShadersCache,r=H.encode(i+s);if(null!=Qn[r]?n.existsReserved(r):n.h.hasOwnProperty(r))return null!=Qn[r]?n.getReserved(r):n.h[r];var a=Ri.compileShader(e,i,e.VERTEX_SHADER),o=Ri.compileShader(e,s,e.FRAGMENT_SHADER),_=e.createProgram();return null!=a&&null!=o&&(e.attachShader(_,a),e.attachShader(_,o),e.linkProgram(_),e.deleteShader(a),e.deleteShader(o),0==e.getProgramParameter(_,e.LINK_STATUS))?(t.log("Could not compile the program:\n	"+e.getProgramInfoLog(_)),t.log("VERTEX:\n"+i+"\nFRAGMENT:\n"+s),null):(null!=Qn[r]?n.setReserved(r,_):n.h[r]=_,_)},Ri.compileShader=function(e,i,s){var n=i,r=e.createShader(s);return e.shaderSource(r,n),e.compileShader(r),0==e.getShaderParameter(r,e.COMPILE_STATUS)?(t.log("Could not compile the shader:\n	"+e.getShaderInfoLog(r)),t.log(i),null):r},Ri.prototype={init:function(t){if(null==t&&(t=!1),!this.compiled||t){if(null!=this.vertexSrc&&(this.vertexString=this.vertexSrc.join("\n")),null!=this.fragmentSrc&&(this.fragmentString=this.fragmentSrc.join("\n")),null==this.vertexString||null==this.fragmentString)throw new it("No vertex or fragment source provided");this.program=Ri.compileProgram(this.gl,this.vertexString,this.fragmentString),null!=this.program&&(this.compiled=!0)}},destroy:function(){null!=this.program&&this.gl.deleteProgram(this.program),this.compiled=!1,this.attributes=null},applyData:function(t,e){if(null!=t)for(var i,s,n,r,a=t.keys();a.hasNext();){var o=a.next();if(s=this.getUniformLocation(o),i=null!=Qn[o]?t.getReserved(o):t.h[o],null!=i&&(n=i.value,r=i.bitmap,null!=n||null!=r)){var _=i.internalType;switch(_){case 1:var h=i.size;switch(h){case 1:this.gl.uniform1i(s,0|n[0]);break;case 2:this.gl.uniform2i(s,0|n[0],0|n[1]);break;case 3:this.gl.uniform3i(s,0|n[0],0|n[1],0|n[2]);break;case 4:this.gl.uniform4i(s,0|n[0],0|n[1],0|n[2],0|n[3])}break;case 2:var l=i.size;switch(l){case 1:this.gl.uniform1f(s,n[0]);break;case 2:this.gl.uniform2f(s,n[0],n[1]);break;case 3:this.gl.uniform3f(s,n[0],n[1],n[2]);break;case 4:this.gl.uniform4f(s,n[0],n[1],n[2],n[3])}break;case 3:var u=i.size;switch(u){case 2:this.gl.uniformMatrix2fv(s,i.transpose,function(t){var e,s,n=i.value;return s=null!=n?new Float32Array(n):null,e=s}(this));break;case 3:this.gl.uniformMatrix3fv(s,i.transpose,function(t){var e,s,n=i.value;return s=null!=n?new Float32Array(n):null,e=s}(this));break;case 4:this.gl.uniformMatrix4fv(s,i.transpose,function(t){var e,s,n=i.value;return s=null!=n?new Float32Array(n):null,e=s}(this))}break;case 4:if(null==r||!r.__isValid)continue;this.gl.activeTexture(this.gl.TEXTURE0+e.activeTextures),this.gl.bindTexture(this.gl.TEXTURE_2D,r.getTexture(this.gl)),this.gl.uniform1i(s,e.activeTextures),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MAG_FILTER,i.smooth?this.gl.LINEAR:this.gl.NEAREST),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MIN_FILTER,i.smooth?this.gl.LINEAR:this.gl.NEAREST),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,i.repeatX),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,i.repeatY),e.activeTextures++}}}},getAttribLocation:function(t){if(null==this.program)throw new it("Shader isn't initialized");if(this.attributes.exists(t))return this.attributes.get(t);var e=this.gl.getAttribLocation(this.program,t);return this.attributes.set(t,e),e},getUniformLocation:function(t){if(null==this.program)throw new it("Shader isn't initialized");if(this.uniforms.exists(t))return this.uniforms.get(t);var e=this.gl.getUniformLocation(this.program,t);return this.uniforms.set(t,e),e},enableVertexAttribute:function(t,e,i){var s=this.getAttribLocation(t.name);this.gl.enableVertexAttribArray(s),this.gl.vertexAttribPointer(s,t.components,t.type,t.normalized,e,4*i)},disableVertexAttribute:function(t,e){null==e&&(e=!0);var i=this.getAttribLocation(t.name);if(this.gl.disableVertexAttribArray(i),e){var s=t.components;switch(s){case 1:this.gl.vertexAttrib1fv(i,t.defaultValue.subarray(0,1));break;case 2:this.gl.vertexAttrib2fv(i,t.defaultValue.subarray(0,2));break;case 3:this.gl.vertexAttrib3fv(i,t.defaultValue.subarray(0,3));break;default:this.gl.vertexAttrib4fv(i,t.defaultValue.subarray(0,4))}}},bindVertexArray:function(t){for(var e=0,i=t.get_stride(),s=0,n=t.attributes;s<n.length;){var r=n[s];++s,r.enabled?(this.enableVertexAttribute(r,i,e),e+=Math.floor(r.components*r.getElementsBytes()/4)):this.disableVertexAttribute(r,!0)}},__class__:Ri};var Si=function(t){Ri.call(this,t),this.vertexSrc=Si.VERTEX_SRC,this.fragmentSrc=["#ifdef GL_ES","precision lowp float;","#endif","uniform sampler2D openfl_uSampler0;","uniform vec4 openfl_uColorMultiplier;","uniform vec4 openfl_uColorOffset;","uniform bool openfl_uUseColorTransform;","varying vec2 openfl_vTexCoord;","varying vec4 openfl_vColor;","vec4 colorTransform(const vec4 color, const vec4 tint, const vec4 multiplier, const vec4 offset) {","	if(!openfl_uUseColorTransform) {","		return color * tint;","	}","	vec4 unmultiply;","	if (color.a == 0.0) {","		unmultiply = vec4(0.0, 0.0, 0.0, 0.0);","	} else {","   	unmultiply = vec4(color.rgb / color.a, color.a);","	}","   vec4 result = unmultiply * tint * multiplier;","   result = result + offset;","   result = clamp(result, 0., 1.);","   result = vec4(result.rgb * result.a, result.a);","   return result;","}","void main(void) {","   vec4 tc = texture2D(openfl_uSampler0, openfl_vTexCoord);","   gl_FragColor = colorTransform(tc, openfl_vColor, openfl_uColorMultiplier, openfl_uColorOffset);","}"],this.init()};a["openfl._internal.renderer.opengl.shaders2.DefaultShader"]=Si,Si.__name__=!0,Si.__super__=Ri,Si.prototype=s(Ri.prototype,{init:function(t){null==t&&(t=!1),Ri.prototype.init.call(this,t),this.getAttribLocation("openfl_aPosition"),this.getAttribLocation("openfl_aTexCoord0"),this.getAttribLocation("openfl_aColor"),this.getUniformLocation("openfl_uProjectionMatrix"),this.getUniformLocation("openfl_uSampler0"),this.getUniformLocation("openfl_uColorMultiplier"),this.getUniformLocation("openfl_uColorOffset"),this.getUniformLocation("openfl_uUseColorTransform")},__class__:Si});var Ci=function(t){Ri.call(this,t),this.vertexSrc=["attribute vec2 openfl_aPosition;","attribute vec2 openfl_aTexCoord0;","attribute vec4 openfl_aColor;","uniform mat3 openfl_uProjectionMatrix;","varying vec2 vTexCoord;","varying vec4 vColor;","void main(void) {","   gl_Position = vec4((openfl_uProjectionMatrix * vec3(openfl_aPosition, 1.0)).xy, 0.0, 1.0);","   vTexCoord = openfl_aTexCoord0;","   vColor = openfl_aColor.bgra;","}"],this.fragmentSrc=["#ifdef GL_ES","precision lowp float;","#endif","uniform sampler2D openfl_uSampler0;","uniform vec3 openfl_uColor;","uniform bool openfl_uUseTexture;","uniform float openfl_uAlpha;","uniform vec4 openfl_uColorMultiplier;","uniform vec4 openfl_uColorOffset;","varying vec2 vTexCoord;","varying vec4 vColor;","vec4 tmp;","vec4 colorTransform(const vec4 color, const vec4 tint, const vec4 multiplier, const vec4 offset) {","   vec4 unmultiply = vec4(color.rgb / color.a, color.a);","   vec4 result = unmultiply * tint * multiplier;","   result = result + offset;","   result = clamp(result, 0., 1.);","   result = vec4(result.rgb * result.a, result.a);","   return result;","}","void main(void) {","   if(openfl_uUseTexture) {","       tmp = texture2D(openfl_uSampler0, vTexCoord);","   } else {","       tmp = vec4(openfl_uColor, 1.);","   }","   gl_FragColor = colorTransform(tmp, vColor, openfl_uColorMultiplier, openfl_uColorOffset);","}"],this.init()};a["openfl._internal.renderer.opengl.shaders2.DrawTrianglesShader"]=Ci,Ci.__name__=!0,Ci.__super__=Ri,Ci.prototype=s(Ri.prototype,{init:function(t){null==t&&(t=!1),Ri.prototype.init.call(this,t),this.getAttribLocation("openfl_aPosition"),this.getAttribLocation("openfl_aTexCoord0"),this.getAttribLocation("openfl_aColor"),this.getUniformLocation("openfl_uSampler0"),this.getUniformLocation("openfl_uProjectionMatrix"),this.getUniformLocation("openfl_uColor"),this.getUniformLocation("openfl_uAlpha"),this.getUniformLocation("openfl_uUseTexture"),this.getUniformLocation("openfl_uColorMultiplier"),this.getUniformLocation("openfl_uColorOffset")},__class__:Ci});var Ii=function(t){Ri.call(this,t),this.vertexSrc=["attribute vec2 openfl_aPosition;","uniform mat3 openfl_uTranslationMatrix;","uniform mat3 openfl_uProjectionMatrix;","uniform vec4 openfl_uColor;","uniform float openfl_uAlpha;","uniform vec4 openfl_uColorMultiplier;","uniform vec4 openfl_uColorOffset;","varying vec4 vColor;","vec4 colorTransform(const vec4 color, const float alpha, const vec4 multiplier, const vec4 offset) {","   vec4 result = color * multiplier;","   result.a *= alpha;","   result = result + offset;","   result = clamp(result, 0., 1.);","   result = vec4(result.rgb * result.a, result.a);","   return result;","}","void main(void) {","   gl_Position = vec4((openfl_uProjectionMatrix * openfl_uTranslationMatrix * vec3(openfl_aPosition, 1.0)).xy, 0.0, 1.0);","   vColor = colorTransform(openfl_uColor, openfl_uAlpha, openfl_uColorMultiplier, openfl_uColorOffset);","}"],this.fragmentSrc=["#ifdef GL_ES","precision lowp float;","#endif","varying vec4 vColor;","void main(void) {","   gl_FragColor = vColor;","}"],this.init()};a["openfl._internal.renderer.opengl.shaders2.FillShader"]=Ii,Ii.__name__=!0,Ii.__super__=Ri,Ii.prototype=s(Ri.prototype,{init:function(t){null==t&&(t=!1),Ri.prototype.init.call(this,t),this.getAttribLocation("openfl_aPosition"),this.getUniformLocation("openfl_uTranslationMatrix"),this.getUniformLocation("openfl_uProjectionMatrix"),this.getUniformLocation("openfl_uColor"),this.getUniformLocation("openfl_uColorMultiplier"),this.getUniformLocation("openfl_uColorOffset")},__class__:Ii});var Mi=function(t){Ri.call(this,t),this.vertexSrc=["attribute vec2 openfl_aPosition;","uniform mat3 openfl_uTranslationMatrix;","uniform mat3 openfl_uProjectionMatrix;","uniform mat3 openfl_uPatternMatrix;","varying vec2 vPosition;","void main(void) {","   gl_Position = vec4((openfl_uProjectionMatrix * openfl_uTranslationMatrix * vec3(openfl_aPosition, 1.0)).xy, 0.0, 1.0);","   vPosition = (openfl_uPatternMatrix * vec3(openfl_aPosition, 1)).xy;","}"],this.fragmentSrc=["#ifdef GL_ES","precision lowp float;","#endif","uniform float openfl_uAlpha;","uniform vec2 openfl_uPatternTL;","uniform vec2 openfl_uPatternBR;","uniform sampler2D openfl_uSampler0;","uniform vec4 openfl_uColorMultiplier;","uniform vec4 openfl_uColorOffset;","varying vec2 vPosition;","vec4 colorTransform(const vec4 color, const float alpha, const vec4 multiplier, const vec4 offset) {","   vec4 unmultiply = vec4(color.rgb / color.a, color.a);","   vec4 result = unmultiply * multiplier;","   result.a *= alpha;","   result = result + offset;","   result = clamp(result, 0., 1.);","   result = vec4(result.rgb * result.a, result.a);","   return result;","}","void main(void) {","   vec2 pos = mix(openfl_uPatternTL, openfl_uPatternBR, vPosition);","   vec4 tcol = texture2D(openfl_uSampler0, pos);","   gl_FragColor = colorTransform(tcol, openfl_uAlpha, openfl_uColorMultiplier, openfl_uColorOffset);","}"],this.init()};a["openfl._internal.renderer.opengl.shaders2.PatternFillShader"]=Mi,Mi.__name__=!0,Mi.__super__=Ri,Mi.prototype=s(Ri.prototype,{init:function(t){null==t&&(t=!1),Ri.prototype.init.call(this,t),this.getAttribLocation("openfl_aPosition"),this.getUniformLocation("openfl_uTranslationMatrix"),this.getUniformLocation("openfl_uPatternMatrix"),this.getUniformLocation("openfl_uProjectionMatrix"),this.getUniformLocation("openfl_uSampler0"),this.getUniformLocation("openfl_uPatternTL"),this.getUniformLocation("openfl_uPatternBR"),this.getUniformLocation("openfl_uAlpha"),this.getUniformLocation("openfl_uColorMultiplier"),this.getUniformLocation("openfl_uColorOffset")},__class__:Mi});var Ai=function(t){Ri.call(this,t),this.vertexSrc=["attribute vec2 openfl_aPosition;","attribute vec4 openfl_aColor;","uniform mat3 openfl_uTranslationMatrix;","uniform mat3 openfl_uProjectionMatrix;","uniform vec4 openfl_uColorMultiplier;","uniform vec4 openfl_uColorOffset;","uniform float openfl_uAlpha;","varying vec4 vColor;","vec4 colorTransform(const vec4 color, const float alpha, const vec4 multiplier, const vec4 offset) {","   vec4 result = color * multiplier;","   result.a *= alpha;","   result = result + offset;","   result = clamp(result, 0., 1.);","   result = vec4(result.rgb * result.a, result.a);","   return result;","}","void main(void) {","   gl_Position = vec4((openfl_uProjectionMatrix * openfl_uTranslationMatrix * vec3(openfl_aPosition, 1.0)).xy, 0.0, 1.0);","   vColor = colorTransform(openfl_aColor, openfl_uAlpha, openfl_uColorMultiplier, openfl_uColorOffset);","}"],this.fragmentSrc=["#ifdef GL_ES","precision lowp float;","#endif","varying vec4 vColor;","void main(void) {","   gl_FragColor = vColor;","}"],this.init()};a["openfl._internal.renderer.opengl.shaders2.PrimitiveShader"]=Ai,Ai.__name__=!0,Ai.__super__=Ri,Ai.prototype=s(Ri.prototype,{init:function(t){null==t&&(t=!1),Ri.prototype.init.call(this,t),this.getAttribLocation("openfl_aPosition"),this.getAttribLocation("openfl_aColor"),this.getUniformLocation("openfl_uTranslationMatrix"),this.getUniformLocation("openfl_uProjectionMatrix"),this.getUniformLocation("openfl_uAlpha"),this.getUniformLocation("openfl_uColorMultiplier"),this.getUniformLocation("openfl_uColorOffset")},__class__:Ai});var Li=function(t){this.gl=t,this.currentBlendMode=null};a["openfl._internal.renderer.opengl.utils.BlendModeManager"]=Li,Li.__name__=!0,Li.prototype={setBlendMode:function(t,e){if(null==e&&(e=!1),null==t&&(t=hs.NORMAL,e=!0),!e&&this.currentBlendMode==t)return!1;switch(this.currentBlendMode=t,t[1]){case 0:this.gl.blendEquation(32774),this.gl.blendFunc(1,1);break;case 9:this.gl.blendEquation(32774),this.gl.blendFunc(774,771);break;case 12:this.gl.blendEquation(32774),this.gl.blendFunc(1,769);break;case 13:this.gl.blendEquation(32779),this.gl.blendFunc(1,1);break;default:this.gl.blendEquation(32774),this.gl.blendFunc(1,771)}return!0},__class__:Li};var Di=function(t){null==t&&(t=!0),this.type=Ki.Polygon,this.points=null,this.winding=0,this.isRemovable=!0,this.fillIndex=0,this.line=new ki,this.fill=Bi.None,t&&(this.points=[])};a["openfl._internal.renderer.opengl.utils.DrawPath"]=Di,Di.__name__=!0,Di.getStack=function(t,e){return Oi.build(t,e)},Di.prototype={update:function(t,e,i,s){this.updateLine(t),this.fill=e,this.fillIndex=i,this.winding=s},updateLine:function(t){this.line.width=t.width,this.line.color=t.color,null==t.alpha?this.line.alpha=1:this.line.alpha=t.alpha,null==t.scaleMode?this.line.scaleMode=ms.NORMAL:this.line.scaleMode=t.scaleMode,null==t.caps?this.line.caps=ls.ROUND:this.line.caps=t.caps,null==t.joints?this.line.joints=gs.ROUND:this.line.joints=t.joints,this.line.miterLimit=t.miterLimit},__class__:Di};var Oi=function(){};a["openfl._internal.renderer.opengl.utils.PathBuiler"]=Oi,Oi.__name__=!0,Oi.__currentPath=null,Oi.__drawPaths=null,Oi.__line=null,Oi.__fill=null,Oi.closePath=function(){var t;if(t=null==Oi.__currentPath.points?0:Oi.__currentPath.points.length,!(0>=t)&&Oi.__currentPath.type==Ki.Polygon&&Oi.__currentPath.fill!=Bi.None){var e=Oi.__currentPath.points[0],i=Oi.__currentPath.points[1],s=Oi.__currentPath.points[t-2],n=Oi.__currentPath.points[t-1];(e!=s||i!=n)&&Oi.lineTo(e,i)}},Oi.endFill=function(){Oi.__fill=Bi.None,Oi.__fillIndex++},Oi.lineTo=function(t,e){var i=Oi.__currentPath.points,s=!0;if(i.length>1){var n=i[i.length-2],r=i[i.length-1];n==t&&r==e&&(s=!1)}1==s&&(Oi.__currentPath.points.push(t),Oi.__currentPath.points.push(e))},Oi.build=function(t,e){var i=null,s=t.__bounds;if(Oi.__drawPaths=[],Oi.__currentPath=new Di,Oi.__line=new ki,Oi.__fill=Bi.None,Oi.__fillIndex=0,i=t.__glStack[Pi.glContextId],null==i&&(i=t.__glStack[Pi.glContextId]=new Vi(e)),t.__visible&&0!=t.__commands.get_length()&&null!=s&&0!=s.width&&0!=s.height){for(var n=new ei(t.__commands),r=0,a=t.__commands.types;r<a.length;){var o=a[r];switch(++r,o[1]){case 0:var _;n.advance(),n.prev=ii.BEGIN_BITMAP_FILL,_=n,Oi.endFill(),null!=_.buffer.o[_.oPos]?Oi.__fill=Bi.Texture(_.buffer.o[_.oPos],_.buffer.o[_.oPos+1],_.buffer.b[_.bPos],_.buffer.b[_.bPos+1]):Oi.__fill=Bi.None,(null==Oi.__currentPath.points||0==Oi.__currentPath.points.length)&&(!Oi.__currentPath.isRemovable||null!=Oi.__currentPath.points&&0!=Oi.__currentPath.points.length?Oi.closePath():Oi.__drawPaths.pop(),Oi.__currentPath=new Di,Oi.__currentPath.update(Oi.__line,Oi.__fill,Oi.__fillIndex,Oi.__currentWinding),Oi.__currentPath.points=[],Oi.__currentPath.type=Ki.Polygon,Oi.__drawPaths.push(Oi.__currentPath));break;case 1:var h;n.advance(),n.prev=ii.BEGIN_FILL,h=n,Oi.endFill(),h.buffer.f[h.fPos]>0?Oi.__fill=Bi.Color(16777215&h.buffer.i[h.iPos],h.buffer.f[h.fPos]):Oi.__fill=Bi.None,(null==Oi.__currentPath.points||0==Oi.__currentPath.points.length)&&(!Oi.__currentPath.isRemovable||null!=Oi.__currentPath.points&&0!=Oi.__currentPath.points.length?Oi.closePath():Oi.__drawPaths.pop(),Oi.__currentPath=new Di,Oi.__currentPath.update(Oi.__line,Oi.__fill,Oi.__fillIndex,Oi.__currentWinding),Oi.__currentPath.points=[],Oi.__currentPath.type=Ki.Polygon,Oi.__drawPaths.push(Oi.__currentPath));break;case 3:var l;n.advance(),n.prev=ii.CUBIC_CURVE_TO,l=n,(null==Oi.__currentPath.points||0==Oi.__currentPath.points.length)&&(!Oi.__currentPath.isRemovable||null!=Oi.__currentPath.points&&0!=Oi.__currentPath.points.length?Oi.closePath():Oi.__drawPaths.pop(),Oi.__currentPath=new Di,Oi.__currentPath.update(Oi.__line,Oi.__fill,Oi.__fillIndex,Oi.__currentWinding),Oi.__currentPath.type=Ki.Polygon,Oi.__currentPath.points.push(0),Oi.__currentPath.points.push(0),Oi.__drawPaths.push(Oi.__currentPath)),si.cubicCurveTo(Oi.__currentPath.points,l.buffer.f[l.fPos],l.buffer.f[l.fPos+1],l.buffer.f[l.fPos+3],l.buffer.f[l.fPos+4],l.buffer.f[l.fPos+5],l.buffer.f[l.fPos+6]);break;case 4:var u;n.advance(),n.prev=ii.CURVE_TO,u=n,(null==Oi.__currentPath.points||0==Oi.__currentPath.points.length)&&(!Oi.__currentPath.isRemovable||null!=Oi.__currentPath.points&&0!=Oi.__currentPath.points.length?Oi.closePath():Oi.__drawPaths.pop(),Oi.__currentPath=new Di,Oi.__currentPath.update(Oi.__line,Oi.__fill,Oi.__fillIndex,Oi.__currentWinding),Oi.__currentPath.type=Ki.Polygon,Oi.__currentPath.points.push(0),Oi.__currentPath.points.push(0),Oi.__drawPaths.push(Oi.__currentPath)),si.curveTo(Oi.__currentPath.points,u.buffer.f[u.fPos],u.buffer.f[u.fPos+1],u.buffer.f[u.fPos+2],u.buffer.f[u.fPos+3]);break;case 5:var c;n.advance(),n.prev=ii.DRAW_CIRCLE,c=n,!Oi.__currentPath.isRemovable||null!=Oi.__currentPath.points&&0!=Oi.__currentPath.points.length?Oi.closePath():Oi.__drawPaths.pop(),Oi.__currentPath=new Di,Oi.__currentPath.update(Oi.__line,Oi.__fill,Oi.__fillIndex,Oi.__currentWinding),Oi.__currentPath.type=Ki.Circle,Oi.__currentPath.points=[c.buffer.f[c.fPos],c.buffer.f[c.fPos+1],c.buffer.f[c.fPos+2]],Oi.__drawPaths.push(Oi.__currentPath);break;case 6:var f;n.advance(),n.prev=ii.DRAW_ELLIPSE,f=n,!Oi.__currentPath.isRemovable||null!=Oi.__currentPath.points&&0!=Oi.__currentPath.points.length?Oi.closePath():Oi.__drawPaths.pop(),Oi.__currentPath=new Di,Oi.__currentPath.update(Oi.__line,Oi.__fill,Oi.__fillIndex,Oi.__currentWinding),Oi.__currentPath.type=Ki.Ellipse,Oi.__currentPath.points=[f.buffer.f[f.fPos],f.buffer.f[f.fPos+1],f.buffer.f[f.fPos+2],f.buffer.f[f.fPos+3]],Oi.__drawPaths.push(Oi.__currentPath);break;case 8:var d;n.advance(),n.prev=ii.DRAW_RECT,d=n,!Oi.__currentPath.isRemovable||null!=Oi.__currentPath.points&&0!=Oi.__currentPath.points.length?Oi.closePath():Oi.__drawPaths.pop(),Oi.__currentPath=new Di,Oi.__currentPath.update(Oi.__line,Oi.__fill,Oi.__fillIndex,Oi.__currentWinding),Oi.__currentPath.type=Ki.Rectangle(!1),Oi.__currentPath.points=[d.buffer.f[d.fPos],d.buffer.f[d.fPos+1],d.buffer.f[d.fPos+2],d.buffer.f[d.fPos+3]],Oi.__drawPaths.push(Oi.__currentPath);break;case 9:var p;n.advance(),n.prev=ii.DRAW_ROUND_RECT,p=n;var g=p.buffer.f[p.fPos],m=p.buffer.f[p.fPos+1],v=p.buffer.f[p.fPos+2],b=p.buffer.f[p.fPos+3],x=p.buffer.f[p.fPos+4],y=p.buffer.f[p.fPos+5];-1==y&&(y=x),x*=.5,y*=.5,x>v/2&&(x=v/2),y>b/2&&(y=b/2),!Oi.__currentPath.isRemovable||null!=Oi.__currentPath.points&&0!=Oi.__currentPath.points.length?Oi.closePath():Oi.__drawPaths.pop(),Oi.__currentPath=new Di,Oi.__currentPath.update(Oi.__line,Oi.__fill,Oi.__fillIndex,Oi.__currentWinding),Oi.__currentPath.type=Ki.Rectangle(!0),Oi.__currentPath.points=[g,m,v,b,x,y],Oi.__drawPaths.push(Oi.__currentPath);break;case 12:var w;n.advance(),n.prev=ii.END_FILL,w=n,Oi.endFill();break;case 15:var E;n.advance(),n.prev=ii.LINE_STYLE,E=n,Oi.__line=new ki,null==E.buffer.o[E.oPos]||isNaN(E.buffer.o[E.oPos])||E.buffer.o[E.oPos]<0?Oi.__line.width=0:0==E.buffer.o[E.oPos]?Oi.__line.width=1:Oi.__line.width=E.buffer.o[E.oPos],!Oi.__currentPath.isRemovable||null!=Oi.__currentPath.points&&0!=Oi.__currentPath.points.length?Oi.closePath():Oi.__drawPaths.pop(),null==E.buffer.o[E.oPos+1]?Oi.__line.color=0:Oi.__line.color=E.buffer.o[E.oPos+1],null==E.buffer.o[E.oPos+2]?Oi.__line.alpha=1:Oi.__line.alpha=E.buffer.o[E.oPos+2],Oi.__line.scaleMode=E.buffer.o[E.oPos+4],Oi.__line.caps=E.buffer.o[E.oPos+5],Oi.__line.joints=E.buffer.o[E.oPos+6],Oi.__line.miterLimit=E.buffer.o[E.oPos+7],Oi.__currentPath=new Di,Oi.__currentPath.update(Oi.__line,Oi.__fill,Oi.__fillIndex,Oi.__currentWinding),Oi.__currentPath.points=[],Oi.__currentPath.type=Ki.Polygon,Oi.__drawPaths.push(Oi.__currentPath);break;case 16:var T;n.advance(),n.prev=ii.LINE_TO,T=n,Oi.lineTo(T.buffer.f[T.fPos],T.buffer.f[T.fPos+1]);break;case 17:var P;n.advance(),n.prev=ii.MOVE_TO,P=n,!Oi.__currentPath.isRemovable||null!=Oi.__currentPath.points&&0!=Oi.__currentPath.points.length?Oi.closePath():Oi.__drawPaths.pop(),Oi.__currentPath=new Di,Oi.__currentPath.update(Oi.__line,Oi.__fill,Oi.__fillIndex,Oi.__currentWinding),Oi.__currentPath.type=Ki.Polygon,Oi.__currentPath.points.push(P.buffer.f[P.fPos]),Oi.__currentPath.points.push(P.buffer.f[P.fPos+1]),Oi.__drawPaths.push(Oi.__currentPath);break;case 11:var R;n.advance(),n.prev=ii.DRAW_TRIANGLES,R=n;var S,C=R.buffer.o[R.oPos+2],I=R.buffer.o[R.oPos],M=R.buffer.o[R.oPos+1],A=R.buffer.o[R.oPos+3],L=R.buffer.o[R.oPos+4],D=R.buffer.i[R.iPos],O=Oi.__fill;switch(O[1]){case 1:S=!0;break;default:S=!1}if(S&&null!=C)continue;if(!Oi.__currentPath.isRemovable||null!=Oi.__currentPath.points&&0!=Oi.__currentPath.points.length?Oi.closePath():Oi.__drawPaths.pop(),Oi.__currentPath=new Di,Oi.__currentPath.update(Oi.__line,Oi.__fill,Oi.__fillIndex,Oi.__currentWinding),null==C){var k;k=new Je;var B;B=new Array(0),k.data=B,k.length=0,k.fixed=!1,C=k;var F=Oi.__fill;switch(F[1]){case 2:for(var N=F[2],U=0,G=I.length/2|0;G>U;){var W=U++;if(!C.fixed){if(C.length++,C.data.length<C.length){var V,H;H=new Array(C.data.length+10),V=H,K.blit(C.data,0,V,0,C.data.length),C.data=V}C.data[C.length-1]=I.data[2*W]/N.width}if(C.length,!C.fixed){if(C.length++,C.data.length<C.length){var Y,X;X=new Array(C.data.length+10),Y=X,K.blit(C.data,0,Y,0,C.data.length),C.data=Y}C.data[C.length-1]=I.data[2*W+1]/N.height}C.length}}}Oi.__currentPath.type=Ki.DrawTriangles(I,M,C,A,L,D),Oi.__currentPath.isRemovable=!1,Oi.__drawPaths.push(Oi.__currentPath);break;case 10:var z;n.advance(),n.prev=ii.DRAW_TILES,z=n,!Oi.__currentPath.isRemovable||null!=Oi.__currentPath.points&&0!=Oi.__currentPath.points.length?Oi.closePath():Oi.__drawPaths.pop(),Oi.__fillIndex++,Oi.__currentPath=new Di(!1),Oi.__currentPath.update(Oi.__line,Oi.__fill,Oi.__fillIndex,Oi.__currentWinding),Oi.__currentPath.type=Ki.DrawTiles(z.buffer.ts[z.tsPos],z.buffer.ff[z.ffPos],z.buffer.b[z.bPos],z.buffer.i[z.iPos],z.buffer.o[z.oPos],z.buffer.i[z.iPos+1]),Oi.__currentPath.isRemovable=!1,Oi.__drawPaths.push(Oi.__currentPath);break;case 7:var j;switch(n.advance(),n.prev=ii.DRAW_PATH,j=n,!Oi.__currentPath.isRemovable||null!=Oi.__currentPath.points&&0!=Oi.__currentPath.points.length?Oi.closePath():Oi.__drawPaths.pop(),j.buffer.o[j.oPos+2]){case ds.EVEN_ODD:Oi.__currentWinding=0;break;case ds.NON_ZERO:Oi.__currentWinding=1;break;default:Oi.__currentWinding=0}for(var q,Z,J,Q,$,tt,et,it=0,st=0,nt=j.buffer.o[j.oPos].length;nt>st;){var rt=st++;switch(q=j.buffer.o[j.oPos].data[rt]){case 1:tt=j.buffer.o[j.oPos+1].data[it],et=j.buffer.o[j.oPos+1].data[it+1],it+=2,!Oi.__currentPath.isRemovable||null!=Oi.__currentPath.points&&0!=Oi.__currentPath.points.length?Oi.closePath():Oi.__drawPaths.pop(),Oi.__currentPath=new Di,Oi.__currentPath.update(Oi.__line,Oi.__fill,Oi.__fillIndex,Oi.__currentWinding),Oi.__currentPath.type=Ki.Polygon,Oi.__currentPath.points.push(tt),Oi.__currentPath.points.push(et),Oi.__drawPaths.push(Oi.__currentPath);break;case 4:tt=j.buffer.o[j.oPos+1].data[it+2],et=j.buffer.o[j.oPos+1].data[it+3],it+=4,!Oi.__currentPath.isRemovable||null!=Oi.__currentPath.points&&0!=Oi.__currentPath.points.length?Oi.closePath():Oi.__drawPaths.pop(),Oi.__currentPath=new Di,Oi.__currentPath.update(Oi.__line,Oi.__fill,Oi.__fillIndex,Oi.__currentWinding),Oi.__currentPath.type=Ki.Polygon,Oi.__currentPath.points.push(tt),Oi.__currentPath.points.push(et),Oi.__drawPaths.push(Oi.__currentPath);break;case 2:tt=j.buffer.o[j.oPos+1].data[it],et=j.buffer.o[j.oPos+1].data[it+1],it+=2,Oi.lineTo(tt,et);break;case 5:tt=j.buffer.o[j.oPos+1].data[it+2],et=j.buffer.o[j.oPos+1].data[it+3],it+=4,Oi.lineTo(tt,et);break;case 3:Z=j.buffer.o[j.oPos+1].data[it],J=j.buffer.o[j.oPos+1].data[it+1],tt=j.buffer.o[j.oPos+1].data[it+2],et=j.buffer.o[j.oPos+1].data[it+3],it+=4,(null==Oi.__currentPath.points||0==Oi.__currentPath.points.length)&&(!Oi.__currentPath.isRemovable||null!=Oi.__currentPath.points&&0!=Oi.__currentPath.points.length?Oi.closePath():Oi.__drawPaths.pop(),
Oi.__currentPath=new Di,Oi.__currentPath.update(Oi.__line,Oi.__fill,Oi.__fillIndex,Oi.__currentWinding),Oi.__currentPath.type=Ki.Polygon,Oi.__currentPath.points.push(0),Oi.__currentPath.points.push(0),Oi.__drawPaths.push(Oi.__currentPath)),si.curveTo(Oi.__currentPath.points,Z,J,tt,et);break;case 6:Z=j.buffer.o[j.oPos+1].data[it],J=j.buffer.o[j.oPos+1].data[it+1],Q=j.buffer.o[j.oPos+1].data[it+2],$=j.buffer.o[j.oPos+1].data[it+3],tt=j.buffer.o[j.oPos+1].data[it+4],et=j.buffer.o[j.oPos+1].data[it+5],it+=6,(null==Oi.__currentPath.points||0==Oi.__currentPath.points.length)&&(!Oi.__currentPath.isRemovable||null!=Oi.__currentPath.points&&0!=Oi.__currentPath.points.length?Oi.closePath():Oi.__drawPaths.pop(),Oi.__currentPath=new Di,Oi.__currentPath.update(Oi.__line,Oi.__fill,Oi.__fillIndex,Oi.__currentWinding),Oi.__currentPath.type=Ki.Polygon,Oi.__currentPath.points.push(0),Oi.__currentPath.points.push(0),Oi.__drawPaths.push(Oi.__currentPath)),si.cubicCurveTo(Oi.__currentPath.points,Z,J,Q,$,tt,et)}}Oi.__currentWinding=0;break;case 18:var at;n.advance(),n.prev=ii.OVERRIDE_MATRIX,at=n,!Oi.__currentPath.isRemovable||null!=Oi.__currentPath.points&&0!=Oi.__currentPath.points.length?Oi.closePath():Oi.__drawPaths.pop(),Oi.__currentPath=new Di,Oi.__currentPath.update(Oi.__line,Oi.__fill,Oi.__fillIndex,Oi.__currentWinding),Oi.__currentPath.type=Ki.OverrideMatrix(at.buffer.o[at.oPos]),Oi.__currentPath.isRemovable=!1,Oi.__drawPaths.push(Oi.__currentPath);break;default:n.advance(),n.prev=o}}Oi.closePath(),n.destroy()}else;return t.__drawPaths=Oi.__drawPaths,i};var ki=function(){this.width=0,this.color=0,this.alpha=1,this.scaleMode=ms.NORMAL,this.caps=ls.ROUND,this.joints=gs.ROUND,this.miterLimit=3};a["openfl._internal.renderer.opengl.utils.LineStyle"]=ki,ki.__name__=!0,ki.prototype={__class__:ki};var Bi=a["openfl._internal.renderer.opengl.utils.FillType"]={__ename__:!0,__constructs__:["None","Color","Texture","Gradient"]};Bi.None=["None",0],Bi.None.toString=o,Bi.None.__enum__=Bi,Bi.Color=function(t,e){var i=["Color",1,t,e];return i.__enum__=Bi,i.toString=o,i},Bi.Texture=function(t,e,i,s){var n=["Texture",2,t,e,i,s];return n.__enum__=Bi,n.toString=o,n},Bi.Gradient=["Gradient",3],Bi.Gradient.toString=o,Bi.Gradient.__enum__=Bi;var Fi=function(t,e){this.transparent=e,this.filterStack=[],this.offsetX=0,this.offsetY=0,this.setContext(t)};a["openfl._internal.renderer.opengl.utils.FilterManager"]=Fi,Fi.__name__=!0,Fi.prototype={begin:function(t,e){this.renderSession=t,this.defaultShader=t.shaderManager.defaultShader,this.width=0,this.height=0,this.buffer=e},initShaderBuffers:function(){var t=this.gl;this.vertexBuffer=t.createBuffer(),this.uvBuffer=t.createBuffer(),this.colorBuffer=t.createBuffer(),this.indexBuffer=t.createBuffer();var e,i=[0,0,1,0,0,1,1,1];e=null!=i?new Float32Array(i):null,this.vertexArray=e,t.bindBuffer(t.ARRAY_BUFFER,this.vertexBuffer),t.bufferData(t.ARRAY_BUFFER,this.vertexArray,t.STATIC_DRAW);var s,n=[0,0,1,0,0,1,1,1];s=null!=n?new Float32Array(n):null,this.uvArray=s,t.bindBuffer(t.ARRAY_BUFFER,this.uvBuffer),t.bufferData(t.ARRAY_BUFFER,this.uvArray,t.STATIC_DRAW);var r,a=[1,16777215,1,16777215,1,16777215,1,16777215];r=null!=a?new Float32Array(a):null,this.colorArray=r,t.bindBuffer(t.ARRAY_BUFFER,this.colorBuffer),t.bufferData(t.ARRAY_BUFFER,this.colorArray,t.STATIC_DRAW),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.indexBuffer),t.bufferData(t.ELEMENT_ARRAY_BUFFER,function(t){var e,i,s=[0,1,2,1,3,2];return i=null!=s?new Uint16Array(s):null,e=i}(this),t.STATIC_DRAW)},setContext:function(t){this.gl=t,this.texturePool=[],this.initShaderBuffers()},__class__:Fi};var Ni=function(t){Qe.call(this,t),this.setContext(t.gl),this.clips=[]};a["openfl._internal.renderer.opengl.utils.GLMaskManager"]=Ni,Ni.__name__=!0,Ni.__super__=Qe,Ni.prototype=s(Qe.prototype,{pushRect:function(t,e){if(null!=t){var i=new Ke(e.a,e.b,e.c,e.d,e.tx,e.ty);Ti.flipMatrix(i,this.renderSession.renderer.viewport.height);var s=t.clone();s.__transform(s,i),null!=this.currentClip&&(s=this.currentClip.intersection(s));var n=null==this.currentClip||s.isEmpty()||this.currentClip.containsRect(s);this.clips.push(s),this.currentClip=s,n&&(this.renderSession.spriteBatch.stop(),this.renderSession.spriteBatch.start(this.currentClip))}},pushMask:function(t){this.renderSession.spriteBatch.stop(),this.renderSession.stencilManager.pushMask(t,this.renderSession),this.renderSession.spriteBatch.start(this.currentClip)},popMask:function(){this.renderSession.spriteBatch.stop(),this.renderSession.stencilManager.popMask(null,this.renderSession),this.renderSession.spriteBatch.start(this.currentClip)},popRect:function(){this.renderSession.spriteBatch.stop(),this.clips.pop(),this.currentClip=this.clips[this.clips.length-1],this.renderSession.spriteBatch.start(this.currentClip)},saveState:function(){this.savedClip=this.currentClip,this.currentClip=null},restoreState:function(){this.currentClip=this.savedClip,this.savedClip=null},setContext:function(t){null!=this.renderSession&&(this.renderSession.gl=t),this.gl=t},__class__:Ni});var Ui=function(t,e,i,s,n){if(null==i&&(i=!1),this.enabled=!0,this.normalized=!1,this.components=t,this.type=e,this.normalized=i,this.name=s,null==n){var r;r=null!=t?new Float32Array(t):null,this.defaultValue=r}else this.defaultValue=n};a["openfl._internal.renderer.opengl.utils.VertexAttribute"]=Ui,Ui.__name__=!0,Ui.prototype={copy:function(){return new Ui(this.components,this.type,this.normalized,this.name,this.defaultValue)},getElementsBytes:function(){var t=this.type;switch(t){case 5120:case 5121:return 1;case 5122:case 5123:return 2;default:return 4}},__class__:Ui};var Gi=function(t,e,i,s){null==s&&(s=0),null==i&&(i=0),null==e&&(e=0),null==t&&(t=0),this.x=t,this.y=e,this.width=i,this.height=s};a["openfl.geom.Rectangle"]=Gi,Gi.__name__=!0,Gi.prototype={clone:function(){return new Gi(this.x,this.y,this.width,this.height)},contains:function(t,e){return t>=this.x&&e>=this.y&&t<this.get_right()&&e<this.get_bottom()},containsPoint:function(t){return this.contains(t.x,t.y)},containsRect:function(t){return t.width<=0||t.height<=0?t.x>this.x&&t.y>this.y&&t.get_right()<this.get_right()&&t.get_bottom()<this.get_bottom():t.x>=this.x&&t.y>=this.y&&t.get_right()<=this.get_right()&&t.get_bottom()<=this.get_bottom()},copyFrom:function(t){this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height},intersection:function(t){var e;e=this.x<t.x?t.x:this.x;var i;if(i=this.get_right()>t.get_right()?t.get_right():this.get_right(),e>=i)return new Gi;var s;s=this.y<t.y?t.y:this.y;var n;return n=this.get_bottom()>t.get_bottom()?t.get_bottom():this.get_bottom(),s>=n?new Gi:new Gi(e,s,i-e,n-s)},intersects:function(t){var e;e=this.x<t.x?t.x:this.x;var i;if(i=this.get_right()>t.get_right()?t.get_right():this.get_right(),e>=i)return!1;var s;s=this.y<t.y?t.y:this.y;var n;return n=this.get_bottom()>t.get_bottom()?t.get_bottom():this.get_bottom(),n>s},isEmpty:function(){return this.width<=0||this.height<=0},setEmpty:function(){this.x=this.y=this.width=this.height=0},setTo:function(t,e,i,s){this.x=t,this.y=e,this.width=i,this.height=s},__expand:function(t,e,i,s){if(0==this.width&&0==this.height)return this.x=t,this.y=e,this.width=i,void(this.height=s);var n=this.get_right(),r=this.get_bottom();this.x>t&&(this.x=t,this.width=n-t),this.y>e&&(this.y=e,this.height=r-e),t+i>n&&(this.width=t+i-this.x),e+s>r&&(this.height=e+s-this.y)},__toLimeRectangle:function(){return new _e(this.x,this.y,this.width,this.height)},__transform:function(t,e){var i=e.a*this.x+e.c*this.y,s=i,n=e.b*this.x+e.d*this.y,r=n,a=e.a*(this.x+this.width)+e.c*this.y,o=e.b*(this.x+this.width)+e.d*this.y;i>a&&(i=a),n>o&&(n=o),a>s&&(s=a),o>r&&(r=o),a=e.a*(this.x+this.width)+e.c*(this.y+this.height),o=e.b*(this.x+this.width)+e.d*(this.y+this.height),i>a&&(i=a),n>o&&(n=o),a>s&&(s=a),o>r&&(r=o),a=e.a*this.x+e.c*(this.y+this.height),o=e.b*this.x+e.d*(this.y+this.height),i>a&&(i=a),n>o&&(n=o),a>s&&(s=a),o>r&&(r=o),t.setTo(i+e.tx,n+e.ty,s-i,r-n)},get_bottom:function(){return this.y+this.height},get_left:function(){return this.x},get_right:function(){return this.x+this.width},get_top:function(){return this.y},get_topLeft:function(){return new g(this.x,this.y)},__class__:Gi,__properties__:{get_topLeft:"get_topLeft",get_top:"get_top",get_right:"get_right",get_left:"get_left",get_bottom:"get_bottom"}};var Wi=function(){};a["openfl._internal.renderer.opengl.utils.GraphicsRenderer"]=Wi,Wi.__name__=!0,Wi.overrideMatrix=null,Wi.buildCircle=function(t,e,i){null==i&&(i=!1);var s,n=t.points,r=n[0],a=n[1],o=n[2];s=3==n.length?o:n[3],t.type==Ki.Ellipse&&(o/=2,s/=2,r+=o,a+=s),i&&(r-=Wi.objectBounds.x,a-=Wi.objectBounds.y);var _=40,h=2*Math.PI/_,l=Wi.prepareBucket(t,e),u=l.getData(zi.Fill);if(null!=u){var c=u.verts,f=u.indices,d=c.length/2|0;f.push(d);for(var p=0,g=_+1;g>p;){var m=p++;c.push(r),c.push(a),c.push(r+Math.sin(h*m)*o),c.push(a+Math.cos(h*m)*s),f.push(d++),f.push(d++)}f.push(d-1)}if(t.line.width>0){var v=t.points;t.points=[],si.ellipse(t.points,r,a,o,s,_),Wi.buildLine(t,l),t.points=v}},Wi.buildComplexPoly=function(t,e,i){null==i&&(i=!1);var s=null;if(t.points.length>=6){var n=t.points.slice();if(i)for(var r=0,a=n.length/2|0;a>r;){var o=r++;n[2*o]-=Wi.objectBounds.x,n[2*o+1]-=Wi.objectBounds.y}s=Wi.prepareBucket(t,e);var _=s.getData(zi.Fill);_.drawMode=e.gl.TRIANGLE_FAN,_.verts=n;for(var h=_.indices,l=n.length/2|0,u=0;l>u;){var c=u++;h.push(c)}}t.line.width>0&&(null==s&&(s=Wi.prepareBucket(t,e)),Wi.buildLine(t,s,i))},Wi.buildLine=function(e,i,s){null==s&&(s=!1);var n=e.points;if(0!=n.length){var r=i.getData(zi.Line);if(s)for(var a=0,o=n.length/2|0;o>a;){var _=a++;n[2*_]-=Wi.objectBounds.x,n[2*_+1]-=Wi.objectBounds.y}var h=new g(n[0],n[1]),l=new g(n[n.length-2|0],n[n.length-1|0]);if(h.x==l.x&&h.y==l.y){n=n.slice(),n.pop(),n.pop(),l=new g(n[n.length-2|0],n[n.length-1|0]);var u=l.x+.5*(h.x-l.x),c=l.y+.5*(h.y-l.y);n.unshift(c),n.unshift(u),n.push(u),n.push(c)}var f,d,p,m,v,b,x,y,w,E,T,P,R,S,C,I,M,A,L,D,O,k,B,F=r.verts,N=r.indices,U=n.length/2|0,G=n.length,W=F.length/6|0,V=e.line.width/2,H=Wi.hex2rgb(e.line.color),Y=e.line.alpha,X=H[0],z=H[1],j=H[2];p=n[0],m=n[1],v=n[2],b=n[3],w=-(m-b),E=p-v,B=Math.sqrt(Math.abs(w*w+E*E)),w/=B,E/=B,w*=V,E*=V,F.push(p-w),F.push(m-E),F.push(X),F.push(z),F.push(j),F.push(Y),F.push(p+w),F.push(m+E),F.push(X),F.push(z),F.push(j),F.push(Y);for(var K=1,q=U-1;q>K;){var Z=K++;p=n[2*(Z-1)],m=n[2*(Z-1)+1],v=n[2*Z],b=n[2*Z+1],x=n[2*(Z+1)],y=n[2*(Z+1)+1],w=-(m-b),E=p-v,B=Math.sqrt(Math.abs(w*w+E*E)),w/=B,E/=B,w*=V,E*=V,T=-(b-y),P=v-x,B=Math.sqrt(Math.abs(T*T+P*P)),T/=B,P/=B,T*=V,P*=V,C=-E+m-(-E+b),I=-w+v-(-w+p),M=(-w+p)*(-E+b)-(-w+v)*(-E+m),A=-P+y-(-P+b),L=-T+v-(-T+x),D=(-T+x)*(-P+b)-(-T+v)*(-P+y),O=C*L-A*I,Math.abs(O)<.1?(O+=10.1,F.push(v-w),F.push(b-E),F.push(X),F.push(z),F.push(j),F.push(Y),F.push(v+w),F.push(b+E),F.push(X),F.push(z),F.push(j),F.push(Y)):(f=(I*D-L*M)/O,d=(A*M-C*D)/O,k=(f-v)*(f-v)+(d-b)+(d-b),k>19600?(R=w-T,S=E-P,B=Math.sqrt(Math.abs(R*R+S*S)),R/=B,S/=B,R*=V,S*=V,F.push(v-R),F.push(b-S),F.push(X),F.push(z),F.push(j),F.push(Y),F.push(v+R),F.push(b+S),F.push(X),F.push(z),F.push(j),F.push(Y),F.push(v-R),F.push(b-S),F.push(X),F.push(z),F.push(j),F.push(Y),G++):(F.push(f),F.push(d),F.push(X),F.push(z),F.push(j),F.push(Y),F.push(v-(f-v)),F.push(b-(d-b)),F.push(X),F.push(z),F.push(j),F.push(Y)))}p=n[2*(U-2)],m=n[2*(U-2)+1],v=n[2*(U-1)],b=n[2*(U-1)+1],w=-(m-b),E=p-v,B=Math.sqrt(Math.abs(w*w+E*E)),isFinite(B)||t.log(w*w+E*E),w/=B,E/=B,w*=V,E*=V,F.push(v-w),F.push(b-E),F.push(X),F.push(z),F.push(j),F.push(Y),F.push(v+w),F.push(b+E),F.push(X),F.push(z),F.push(j),F.push(Y),N.push(W);for(var J=0;G>J;){J++;N.push(W++)}N.push(W-1)}},Wi.buildRectangle=function(t,e,i){null==i&&(i=!1);var s=t.points,n=s[0],r=s[1],a=s[2],o=s[3];i&&(n-=Wi.objectBounds.x,r-=Wi.objectBounds.y);var _=Wi.prepareBucket(t,e),h=_.getData(zi.Fill);if(null!=h){var l=h.verts,u=h.indices,c=l.length/2|0;l.push(n),l.push(r),l.push(n+a),l.push(r),l.push(n),l.push(r+o),l.push(n+a),l.push(r+o),u.push(c),u.push(c),u.push(c+1),u.push(c+2),u.push(c+3),u.push(c+3)}if(t.line.width>0){var f=t.points;t.points=[n,r,n+a,r,n+a,r+o,n,r+o,n,r],Wi.buildLine(t,_),t.points=f}},Wi.buildRoundedRectangle=function(t,e,i){null==i&&(i=!1);var s=t.points.slice(),n=s[0],r=s[1],a=s[2],o=s[3],_=s[4],h=s[5];i&&(n-=Wi.objectBounds.x,r-=Wi.objectBounds.y);var l=[];si.roundRectangle(l,n,r,a,o,_,h);var u=Wi.prepareBucket(t,e),c=u.getData(zi.Fill);if(null!=c){var f=c.verts,d=c.indices,p=f.length/2,g=[];ni.triangulate(g,l);for(var m=0;m<g.length;)d.push(g[m]+p|0),d.push(g[m]+p|0),d.push(g[m+1]+p|0),d.push(g[m+2]+p|0),d.push(g[m+2]+p|0),m+=3;for(m=0;m<l.length;)f.push(l[m]),f.push(l[++m]),m++}if(t.line.width>0){var v=t.points;t.points=l,Wi.buildLine(t,u),t.points=v}},Wi.buildDrawTriangles=function(t,e,i,s){null==s&&(s=!1);var n,r,a,o,_,h,l=t.type.slice(2),u=l[0],c=l[1],f=l[2],d=l[3],p=l[4];l[5];s?(n=1,r=0,a=0,o=1,_=0,h=0):(n=e.__worldTransform.a,r=e.__worldTransform.b,a=e.__worldTransform.c,o=e.__worldTransform.d,_=e.__worldTransform.tx,h=e.__worldTransform.ty);var g=null!=p&&p.length>0,m=Wi.prepareBucket(t,i),v=m.getData(zi.Fill),b=v.vertexArray.attributes[2];b.enabled=g;var x,y=[1,1,1,1];x=null!=y?new Float32Array(y):null,b.defaultValue=x,v.rawVerts=!0,v.glLength=c.length,v.stride=D["int"](v.vertexArray.get_stride()/4);var w,E=v.glLength*v.stride;if(null==v.glVerts||v.glVerts.length<E){var T;T=null!=E?new Float32Array(E):null,w=T,v.glVerts=w}else w=v.glVerts;var P,R,S=w.buffer;R=null!=S?new Uint32Array(S,0):null,P=R;for(var C=0,I=0,M=0,A=0,L=0,O=0,k=0,B=0,F=0,N=0,U=0,G=0,W=0,V=0,H=c.length/3|0;H>V;){var Y=V++;switch(A=c.data[3*Y],L=c.data[3*Y+1],O=c.data[3*Y+2],C=2*A,I=2*L,M=2*O,k=u.data[C],B=u.data[C+1],F=u.data[I],N=u.data[I+1],U=u.data[M],G=u.data[M+1],s&&(k-=Wi.objectBounds.x,B-=Wi.objectBounds.y,F-=Wi.objectBounds.x,N-=Wi.objectBounds.y,U-=Wi.objectBounds.x,G-=Wi.objectBounds.y),d[1]){case 2:if(!(0>(F-k)*(G-B)-(N-B)*(U-k)))continue;break;case 0:if(0>(F-k)*(G-B)-(N-B)*(U-k))continue}var X=W++;w[X]=n*k+a*B+_;var z=W++;w[z]=r*k+o*B+h;var j=W++;w[j]=f.data[C];var K=W++;if(w[K]=f.data[C+1],g){var q=W++;P[q]=p.data[A]}var Z=W++;w[Z]=n*F+a*N+_;var J=W++;w[J]=r*F+o*N+h;var Q=W++;w[Q]=f.data[I];var $=W++;if(w[$]=f.data[I+1],g){var tt=W++;P[tt]=p.data[L]}var et=W++;w[et]=n*U+a*G+_;var it=W++;w[it]=r*U+o*G+h;var st=W++;w[st]=f.data[M];var nt=W++;if(w[nt]=f.data[M+1],g){var rt=W++;P[rt]=p.data[O]}}},Wi.render=function(t,e){var i=t.__graphics,s=i.__bounds,n=(e.spriteBatch,i.__dirty);return i.__visible&&0!=i.__commands.get_length()&&null!=s&&0!=s.width&&0!=s.height?(n&&Wi.updateGraphics(t,t.__graphics,e.gl,t.get_cacheAsBitmap()),void Wi.renderGraphics(t,e,!1)):void i.__glStack.splice(0,i.__glStack.length)},Wi.renderGraphics=function(t,e,i){null==i&&(i=!1);var s=t.__graphics,n=e.gl,r=s.__glStack[Pi.glContextId];if(null!=r){var a,o;o=i?Ke.__identity:t.__worldTransform;var _=e.spriteBatch.clipRect,h=e.spriteBatch.drawing;h=e.spriteBatch.drawing;for(var l=0,u=r.buckets.length;u>l;){var c=l++;h=e.spriteBatch.drawing,h&&!i&&e.spriteBatch.finish(),e.blendModeManager.setBlendMode(t.__blendMode),null!=_&&(n.enable(n.SCISSOR_TEST),n.scissor(Math.floor(_.x),Math.floor(_.y),Math.floor(_.width),Math.floor(_.height))),a=r.buckets[c];var f=a.mode;switch(f[1]){case 1:case 2:e.stencilManager.pushBucket(a,e,o.toArray(!0));var d=Wi.prepareShader(a,e,t,o.toArray(!0));Wi.renderFill(a,d,e),e.stencilManager.popBucket(t,a,e);break;case 5:var p=Wi.prepareShader(a,e,t,null);Wi.renderDrawTriangles(a,p,e);break;case 6:h||e.spriteBatch.begin(e,_);var g=a.graphicType.slice(2);e.spriteBatch.renderTiles(t,g[0],g[1],g[2],g[3],g[4],g[5]),e.spriteBatch.finish()}for(var m=t.__worldColorTransform,v=0,b=a.lines;v<b.length;){var x=b[v];if(++v,null!=x&&x.verts.length>0){var y=e.shaderManager.primitiveShader;e.shaderManager.setShader(y),n.uniformMatrix3fv(y.getUniformLocation("openfl_uTranslationMatrix"),!1,o.toArray(!0)),n.uniformMatrix3fv(y.getUniformLocation("openfl_uProjectionMatrix"),!1,e.projectionMatrix.toArray(!0)),n.uniform1f(y.getUniformLocation("openfl_uAlpha"),1),n.uniform4f(y.getUniformLocation("openfl_uColorMultiplier"),m.redMultiplier,m.greenMultiplier,m.blueMultiplier,m.alphaMultiplier),n.uniform4f(y.getUniformLocation("openfl_uColorOffset"),m.redOffset/255,m.greenOffset/255,m.blueOffset/255,m.alphaOffset/255),x.vertexArray.bind(),y.bindVertexArray(x.vertexArray),n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,x.indexBuffer),n.drawElements(n.TRIANGLE_STRIP,x.indices.length,n.UNSIGNED_SHORT,0)}}null!=_&&n.disable(n.SCISSOR_TEST),h=e.spriteBatch.drawing,h||i||e.spriteBatch.begin(e,_)}}},Wi.updateGraphics=function(t,e,i,s){null==s&&(s=!1),Wi.objectPosition.setTo(t.get_x(),t.get_y()),null==e.__bounds?Wi.objectBounds=new Gi:Wi.objectBounds.copyFrom(e.__bounds);var n=null;e.__dirty&&(n=Di.getStack(e,i)),e.set___dirty(!1);for(var r=0,a=n.buckets;r<a.length;){var o=a[r];++r,o.reset(),Wi.bucketPool.push(o)}n.reset();for(var _=n.lastIndex,h=e.__drawPaths.length;h>_;){var l=_++,u=e.__drawPaths[l],c=u.type;switch(c[1]){case 0:Wi.buildComplexPoly(u,n,s);break;case 1:var f=c[2];f?Wi.buildRoundedRectangle(u,n,s):Wi.buildRectangle(u,n,s);break;case 2:case 3:Wi.buildCircle(u,n,s);break;case 4:Wi.buildDrawTriangles(u,t,n,s);break;case 5:Wi.prepareBucket(u,n);break;case 6:var d=c[2];Wi.overrideMatrix=d}n.lastIndex++}for(var p=0,g=n.buckets;p<g.length;){var m=g[p];++p,m.uploadTileBuffer&&m.uploadTile(Math.ceil(Wi.objectBounds.get_left()),Math.ceil(Wi.objectBounds.get_top()),Math.floor(Wi.objectBounds.get_right()),Math.floor(Wi.objectBounds.get_bottom())),m.optimize()}n.upload()},Wi.prepareBucket=function(t,e){var i=null,s=t.fill;switch(s[1]){case 1:var n=s[3],r=s[2];i=Wi.switchBucket(t.fillIndex,e,Xi.Fill),null==r?i.color=[1,1,1]:i.color=[(r>>16&255)/255,(r>>8&255)/255,(255&r)/255],i.color[3]=n,i.uploadTileBuffer=!0;break;case 2:var a=s[5],o=s[4],_=s[3],h=s[2];i=Wi.switchBucket(t.fillIndex,e,Xi.PatternFill),i.bitmap=h,i.textureRepeat=o,i.textureSmooth=a,i.texture=h.getTexture(e.gl),i.uploadTileBuffer=!0;var l;l=null==_?new Ke:new Ke(_.a,_.b,_.c,_.d,_.tx,_.ty),l.invert(),l.scale(1/h.width,1/h.height);var u=l.tx,c=l.ty;l.tx=0,l.ty=0,i.textureTL.x=u,i.textureTL.y=c,i.textureBR.x=u+1,i.textureBR.y=c+1,i.textureMatrix=l;break;default:i=Wi.switchBucket(t.fillIndex,e,Xi.Line),i.uploadTileBuffer=!1}var f=t.type;switch(f[1]){case 4:i.mode=Xi.DrawTriangles,i.uploadTileBuffer=!1;break;case 5:i.mode=Xi.DrawTiles,i.uploadTileBuffer=!1}return i.graphicType=t.type,i.overrideMatrix=Wi.overrideMatrix,i},Wi.getBucket=function(t,e){var i=Wi.bucketPool.pop();return null==i&&(i=new Hi(t.gl)),i.mode=e,t.buckets.push(i),i},Wi.switchBucket=function(t,e,i){for(var s=null,n=0,r=e.buckets;n<r.length;){var a=r[n];if(++n,a.fillIndex==t){s=a;break}}return null==s&&(s=Wi.getBucket(e,i)),s.dirty=!0,s.fillIndex=t,s},Wi.prepareShader=function(t,e,i,s){var n=e.gl,r=null,a=t.mode;switch(a[1]){case 1:r=e.shaderManager.fillShader;break;case 2:r=e.shaderManager.patternFillShader;break;case 5:r=e.shaderManager.drawTrianglesShader;break;default:r=null}if(null==r)return null;e.shaderManager.setShader(r);n.uniform1f(r.getUniformLocation("openfl_uAlpha"),i.__worldAlpha),n.uniformMatrix3fv(r.getUniformLocation("openfl_uProjectionMatrix"),!1,e.projectionMatrix.toArray(!0));var o=i.__worldColorTransform;n.uniform4f(r.getUniformLocation("openfl_uColorMultiplier"),o.redMultiplier,o.greenMultiplier,o.blueMultiplier,o.alphaMultiplier),n.uniform4f(r.getUniformLocation("openfl_uColorOffset"),o.redOffset/255,o.greenOffset/255,o.blueOffset/255,o.alphaOffset/255);var _=t.mode;switch(_[1]){case 1:n.uniformMatrix3fv(r.getUniformLocation("openfl_uTranslationMatrix"),!1,s),n.uniform4fv(r.getUniformLocation("openfl_uColor"),function(e){var i,s,n=t.color;return s=null!=n?new Float32Array(n):null,i=s}(this));break;case 2:n.uniformMatrix3fv(r.getUniformLocation("openfl_uTranslationMatrix"),!1,s),n.uniform2f(r.getUniformLocation("openfl_uPatternTL"),t.textureTL.x,t.textureTL.y),n.uniform2f(r.getUniformLocation("openfl_uPatternBR"),t.textureBR.x,t.textureBR.y),n.uniformMatrix3fv(r.getUniformLocation("openfl_uPatternMatrix"),!1,t.textureMatrix.toArray(!0));break;case 5:null!=t.texture?n.uniform1i(r.getUniformLocation("openfl_uUseTexture"),1):(n.uniform1i(r.getUniformLocation("openfl_uUseTexture"),0),n.uniform4fv(r.getUniformLocation("openfl_uColor"),function(e){var i,s,n=t.color;return s=null!=n?new Float32Array(n):null,i=s}(this)))}return r},Wi.renderFill=function(t,e,i){var s=i.gl;t.mode==Xi.PatternFill&&null!=t.texture&&Wi.bindTexture(s,t),s.bindBuffer(s.ARRAY_BUFFER,t.tileBuffer),s.vertexAttribPointer(e.getAttribLocation("openfl_aPosition"),4,s.SHORT,!1,0,0),s.drawArrays(s.TRIANGLE_STRIP,0,4)},Wi.renderDrawTriangles=function(t,e,i){for(var s=i.gl,n=0,r=t.fills;n<r.length;){var a=r[n];++n,a.available||(Wi.bindTexture(s,t),a.vertexArray.bind(),e.bindVertexArray(a.vertexArray),s.drawArrays(s.TRIANGLES,a.glStart,a.glLength))}},Wi.bindTexture=function(t,e){t.bindTexture(t.TEXTURE_2D,e.texture),e.textureRepeat&&e.bitmap.image.get_powerOfTwo()?(t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.REPEAT)):(t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE)),e.textureSmooth?(t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR)):(t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST))},Wi.hex2rgb=function(t){return null==t?[1,1,1]:[(t>>16&255)/255,(t>>8&255)/255,(255&t)/255]};var Vi=function(t){this.lastIndex=0,this.gl=t,this.buckets=[],this.lastIndex=0};a["openfl._internal.renderer.opengl.utils.GLStack"]=Vi,Vi.__name__=!0,Vi.prototype={reset:function(){this.buckets=[],this.lastIndex=0},upload:function(){for(var t=0,e=this.buckets;t<e.length;){var i=e[t];++t,i.dirty&&i.upload()}},__class__:Vi};var Hi=function(t){this.uploadTileBuffer=!0,this.textureSmooth=!0,this.textureRepeat=!1,this.lines=[],this.fills=[],this.fillIndex=-1,this.gl=t,this.color=[0,0,0],this.lastIndex=0,this.alpha=1,this.dirty=!0,this.mode=Xi.Fill,this.textureMatrix=new Ke,this.textureTL=new g,this.textureBR=new g(1,1)};a["openfl._internal.renderer.opengl.utils.GLBucket"]=Hi,Hi.__name__=!0,Hi.prototype={getData:function(t){var e;switch(t[1]){case 1:e=this.fills;break;default:e=this.lines}for(var i=null,s=!1,n=0;n<e.length;){var r=e[n];if(++n,r.available){i=r,s=!0;break}}switch(null==i&&(i=new Yi(this.gl)),i.available=!1,i.parent=this,i.type=t,s&&C.remove(e,i),e.push(i),t[1]){case 1:var a=this.mode;switch(a[1]){case 1:case 2:i.vertexArray.attributes=Wi.fillVertexAttributes;break;case 5:i.vertexArray.attributes=Wi.drawTrianglesVertexAttributes.slice(),i.vertexArray.attributes[2]=i.vertexArray.attributes[2].copy()}break;case 0:i.vertexArray.attributes=Wi.primitiveVertexAttributes}return i},optimize:function(){var t=this,e=this.lines;if(e.length>1){for(var i=[],s=null,n=null,r=0,a=0,o=0,_=(e.length,0);_<e.length;){var h=e[_];if(++_,h.available||h.rawVerts||h.rawIndices)null!=s&&(i.push(s),s=null),i.push(h),n=h;else if(null==n||n.drawMode==h.drawMode){if(null==s)s=h;else{a=s.verts.length,o=s.indices.length;for(var l=0,u=h.verts.length;u>l;){var c=l++;s.verts[c+a]=h.verts[c]}for(var f=0,d=h.indices.length;d>f;){var p=f++;s.indices[p+o]=h.indices[p]+r}}r=s.indices[s.indices.length-1]+1,n=h}else null!=s&&(i.push(s),s=null),i.push(h),n=h}if(0==i.length&&null!=s&&i.push(s),i.length>0)switch(zi.Line[1]){case 1:t.fills=i;break;default:t.lines=i}}},reset:function(){for(var t=0,e=this.fills;t<e.length;){var i=e[t];++t,i.reset()}for(var s=0,n=this.lines;s<n.length;){var r=n[s];++s,r.reset()}this.fillIndex=-1,this.uploadTileBuffer=!0,this.graphicType=Ki.Polygon},uploadTile:function(t,e,i,s){null==this.tileBuffer&&(this.tileBuffer=this.gl.createBuffer()),this.tile=[t,e,0,0,i,e,1,0,t,s,0,1,i,s,1,1];var n,r=this.tile;n=null!=r?new Int16Array(r):null,this.glTile=n,this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.tileBuffer),this.gl.bufferData(this.gl.ARRAY_BUFFER,this.glTile,this.gl.STATIC_DRAW)},upload:function(){if(this.mode!=Xi.Line)for(var t=0,e=this.fills;t<e.length;){var i=e[t];++t,i.available||i.upload()}for(var s=0,n=this.lines;s<n.length;){var r=n[s];++s,r.available||r.upload()}this.dirty=!1},__class__:Hi};var Yi=function(t){this.available=!1,this.rawIndices=!1,this.stride=0,this.rawVerts=!1,this.lastVertsSize=0,this.glStart=0,this.glLength=0,this.gl=t,this.drawMode=t.TRIANGLE_STRIP,this.verts=[],this.indices=[],this.vertexArray=new es([])};a["openfl._internal.renderer.opengl.utils.GLBucketData"]=Yi,Yi.__name__=!0,Yi.prototype={reset:function(){this.available=!0,this.verts=[],this.indices=[],this.glLength=0,this.glStart=0,this.stride=0,this.rawVerts=!1,this.rawIndices=!1,this.drawMode=this.gl.TRIANGLE_STRIP},upload:function(){if(this.rawVerts&&null!=this.glVerts&&this.glVerts.length>0||this.verts.length>0){if(!this.rawVerts){var t,e=this.verts;t=null!=e?new Float32Array(e):null,this.glVerts=t}if(this.vertexArray.buffer=this.glVerts.buffer,this.glVerts.length<=this.lastVertsSize){this.vertexArray.bind();var i=this.glLength*this.stride;if(this.glLength>0&&this.lastVertsSize>i){var s=this.glVerts.subarray(0,i);this.vertexArray.upload(s)}else this.vertexArray.upload(this.glVerts)}else this.vertexArray.setContext(this.gl,this.glVerts),this.lastVertsSize=this.glVerts.length}if(0==this.glLength&&(this.rawIndices&&null!=this.glIndices&&this.glIndices.length>0||this.indices.length>0)){if(null==this.indexBuffer&&(this.indexBuffer=this.gl.createBuffer()),!this.rawIndices){var n,r=this.indices;n=null!=r?new Uint16Array(r):null,this.glIndices=n}this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.indexBuffer),this.gl.bufferData(this.gl.ELEMENT_ARRAY_BUFFER,this.glIndices,this.gl.STREAM_DRAW)}},__class__:Yi};var Xi=a["openfl._internal.renderer.opengl.utils.BucketMode"]={__ename__:!0,__constructs__:["None","Fill","PatternFill","Line","PatternLine","DrawTriangles","DrawTiles"]};Xi.None=["None",0],Xi.None.toString=o,Xi.None.__enum__=Xi,Xi.Fill=["Fill",1],Xi.Fill.toString=o,Xi.Fill.__enum__=Xi,Xi.PatternFill=["PatternFill",2],Xi.PatternFill.toString=o,Xi.PatternFill.__enum__=Xi,Xi.Line=["Line",3],Xi.Line.toString=o,Xi.Line.__enum__=Xi,Xi.PatternLine=["PatternLine",4],Xi.PatternLine.toString=o,Xi.PatternLine.__enum__=Xi,Xi.DrawTriangles=["DrawTriangles",5],Xi.DrawTriangles.toString=o,Xi.DrawTriangles.__enum__=Xi,Xi.DrawTiles=["DrawTiles",6],Xi.DrawTiles.toString=o,Xi.DrawTiles.__enum__=Xi;var zi=a["openfl._internal.renderer.opengl.utils.BucketDataType"]={__ename__:!0,__constructs__:["Line","Fill"]};zi.Line=["Line",0],zi.Line.toString=o,zi.Line.__enum__=zi,zi.Fill=["Fill",1],zi.Fill.toString=o,zi.Fill.__enum__=zi;var ji=function(){};a["openfl._internal.renderer.opengl.utils.GLGraphicsData"]=ji,ji.__name__=!0;var Ki=a["openfl._internal.renderer.opengl.utils.GraphicType"]={__ename__:!0,__constructs__:["Polygon","Rectangle","Circle","Ellipse","DrawTriangles","DrawTiles","OverrideMatrix"]};Ki.Polygon=["Polygon",0],Ki.Polygon.toString=o,Ki.Polygon.__enum__=Ki,Ki.Rectangle=function(t){var e=["Rectangle",1,t];return e.__enum__=Ki,e.toString=o,e},Ki.Circle=["Circle",2],Ki.Circle.toString=o,Ki.Circle.__enum__=Ki,Ki.Ellipse=["Ellipse",3],Ki.Ellipse.toString=o,Ki.Ellipse.__enum__=Ki,Ki.DrawTriangles=function(t,e,i,s,n,r){var a=["DrawTriangles",4,t,e,i,s,n,r];return a.__enum__=Ki,a.toString=o,a},Ki.DrawTiles=function(t,e,i,s,n,r){var a=["DrawTiles",5,t,e,i,s,n,r];return a.__enum__=Ki,a.toString=o,a},Ki.OverrideMatrix=function(t){var e=["OverrideMatrix",6,t];return e.__enum__=Ki,e.toString=o,e};var qi=function(t,e,i,s,n){null==n&&(n=!0),null==s&&(s=!0),this.__swapped=!1,this.powerOfTwo=!0,this.useOldTexture=!1,this.gl=t,this.width=e,this.height=i,this.smoothing=s,this.powerOfTwo=n,this.set_renderTexture(new Zi(t,e,i,s,n))};a["openfl._internal.renderer.opengl.utils.PingPongTexture"]=qi,qi.__name__=!0,qi.prototype={swap:function(){this.__swapped=!this.__swapped,null==(this.__swapped?this.__texture1:this.__texture0)&&this.set_renderTexture(new Zi(this.gl,this.width,this.height,this.smoothing,this.powerOfTwo))},resize:function(t,e){this.width=t,this.height=e,(this.__swapped?this.__texture1:this.__texture0).resize(t,e)},get_renderTexture:function(){return this.__swapped?this.__texture1:this.__texture0},set_renderTexture:function(t){return this.__swapped?this.__texture1=t:this.__texture0=t},get_oldRenderTexture:function(){return this.__swapped?this.__texture0:this.__texture1},set_oldRenderTexture:function(t){return this.__swapped?this.__texture0=t:this.__texture1=t},get_framebuffer:function(){return(this.__swapped?this.__texture1:this.__texture0).frameBuffer},get_texture:function(){return this.useOldTexture?(this.__swapped?this.__texture0:this.__texture1).texture:(this.__swapped?this.__texture1:this.__texture0).texture},__class__:qi,__properties__:{get_texture:"get_texture",get_framebuffer:"get_framebuffer",set_oldRenderTexture:"set_oldRenderTexture",get_oldRenderTexture:"get_oldRenderTexture",set_renderTexture:"set_renderTexture",get_renderTexture:"get_renderTexture"}};var Zi=function(t,e,i,s,n){null==n&&(n=!0),null==s&&(s=!0),this.powerOfTwo=!0,this.gl=t,this.powerOfTwo=n,this.frameBuffer=t.createFramebuffer(),this.texture=t.createTexture(),t.bindTexture(t.TEXTURE_2D,this.texture),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,s?t.LINEAR:t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,s?t.LINEAR:t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.bindFramebuffer(t.FRAMEBUFFER,this.frameBuffer),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,this.texture,0),this.renderBuffer=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,this.renderBuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.RENDERBUFFER,this.renderBuffer),this.resize(e,i)};a["openfl._internal.renderer.opengl.utils.RenderTexture"]=Zi,Zi.__name__=!0,Zi.prototype={clear:function(t,e,i,s,n){null==s&&(s=0),null==i&&(i=0),null==e&&(e=0),null==t&&(t=0),this.gl.clearColor(t,e,i,s),this.gl.clear(null==n?this.gl.COLOR_BUFFER_BIT:n)},resize:function(t,e){if(this.width!=t||this.height!=e){this.width=t,this.height=e;var i=t,s=e;this.powerOfTwo&&(i=this.powOfTwo(t),s=this.powOfTwo(e));var n=this.__width,r=this.__height;this.__width=i,this.__height=s,this.createUVs(),(n!=i||r!=s)&&(this.gl.bindTexture(this.gl.TEXTURE_2D,this.texture),this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.gl.RGBA,this.__width,this.__height,0,this.gl.RGBA,this.gl.UNSIGNED_BYTE,null),this.gl.bindRenderbuffer(this.gl.RENDERBUFFER,this.renderBuffer),this.gl.renderbufferStorage(this.gl.RENDERBUFFER,this.gl.DEPTH_STENCIL,this.__width,this.__height))}},createUVs:function(){null==this.__uvData&&(this.__uvData=new _s);var t=this.width/this.__width,e=this.height/this.__height;this.__uvData.x0=0,this.__uvData.y0=0,this.__uvData.x1=t,this.__uvData.y1=0,this.__uvData.x2=t,this.__uvData.y2=e,this.__uvData.x3=0,this.__uvData.y3=e},powOfTwo:function(t){for(var e=1;t>e;)e<<=1;return e},__class__:Zi};var Ji=function(t){this.setContext(t)};a["openfl._internal.renderer.opengl.utils.ShaderManager"]=Ji,Ji.__name__=!0,Ji.prototype={setContext:function(t){this.gl=t,this.defaultShader=new Si(t),this.fillShader=new Ii(t),this.patternFillShader=new Mi(t),this.drawTrianglesShader=new Ci(t),this.primitiveShader=new Ai(t),this.setShader(this.defaultShader,!0)},setShader:function(t,e){return null==e&&(e=!1),null==t?(this.currentShader=null,this.gl.useProgram(null),!0):null==this.currentShader||e||this.currentShader.ID!=t.ID?(this.currentShader=t,this.gl.useProgram(t.program),!0):!1},__class__:Ji};var Qi=function(t,e){null==e&&(e=2e3),this.lastEnableColor=!0,this.enableColor=!0,this.attributes=[],this.writtenVertexBytes=0,this.drawing=!1,this.dirty=!0,this.states=[],this.maxSprites=e,
this.attributes.push(new Ui(2,5126,!1,"openfl_aPosition")),this.attributes.push(new Ui(2,5126,!1,"openfl_aTexCoord0")),this.attributes.push(new Ui(4,5121,!0,"openfl_aColor"));var i,s=[1,1,1,1];i=null!=s?new Float32Array(s):null,this.attributes[2].defaultValue=i,this.maxElementsPerVertex=0;for(var n=0,r=this.attributes;n<r.length;){var a=r[n];++n,this.maxElementsPerVertex+=Math.floor(a.components*a.getElementsBytes()/4)}this.vertexArraySize=e*this.maxElementsPerVertex*4*4,this.indexArraySize=6*e,this.vertexArray=new es(this.attributes,this.vertexArraySize,!1);var o,_=this.vertexArray.buffer;o=null!=_?new Float32Array(_,0):null,this.positions=o;var h,l=this.vertexArray.buffer;h=null!=l?new Uint32Array(l,0):null,this.colors=h;var u,c=this.indexArraySize;u=null!=c?new Uint16Array(c):null,this.indices=u;for(var f=0,d=0;f<this.indexArraySize;)this.indices[f]=d,this.indices[f+1]=d+1,this.indices[f+2]=d+2,this.indices[f+3]=d,this.indices[f+4]=d+2,this.indices[f+5]=d+3,f+=6,d+=4;this.currentState=new $i,this.dirty=!0,this.drawing=!1,this.batchedSprites=0,this.setContext(t)};a["openfl._internal.renderer.opengl.utils.SpriteBatch"]=Qi,Qi.__name__=!0,Qi.prototype={begin:function(t,e){this.renderSession=t,this.shader=t.shaderManager.defaultShader,this.drawing=!0,this.start(e)},finish:function(){this.stop(),this.clipRect=null,this.drawing=!1},start:function(t){this.drawing||this.stop(),this.dirty=!0,this.clipRect=t},stop:function(){this.flush()},renderBitmapData:function(t,e,i,s,n,r,a,o,_){if(null==_&&(_=!1),null==n&&(n=1),null!=t){var h=t.getTexture(this.gl);this.batchedSprites>=this.maxSprites&&this.flush();var l=t.__uvData;if(null!=l){this.prepareShader(a,t);var u=(255&(255*n|0))<<24|16777215;this.enableColor=!0,this.enableColor!=this.lastEnableColor&&(this.flush(),this.lastEnableColor=this.enableColor),this.attributes[2].enabled=this.lastEnableColor,this.elementsPerVertex=this.getElementsPerVertex();var c=4*this.batchedSprites*this.elementsPerVertex;this.fillVertices(c,t.width,t.height,i,l,u,o),this.setState(this.batchedSprites,h,e,r,s,a,!0),this.batchedSprites++}}},renderTiles:function(t,e,i,s,n,r,a){null==a&&(a=-1),null==n&&(n=0),null==s&&(s=!1);var o=e.__bitmap.getTexture(this.gl);if(null!=o){var _,h=(1&n)>0,l=(2&n)>0,u=(16&n)>0,c=(4&n)>0,f=(8&n)>0,d=(32&n)>0,p=(64&n)>0,g=983040&n;switch(g){case 65536:_=hs.ADD;break;case 131072:_=hs.MULTIPLY;break;case 262144:_=hs.SCREEN;break;case 524288:_=hs.SUBTRACT;break;default:var m=15728640&n;switch(m){case 1048576:_=hs.DARKEN;break;case 2097152:_=hs.LIGHTEN;break;case 4194304:_=hs.OVERLAY;break;case 8388608:_=hs.HARDLIGHT;break;default:var v=251658240&n;switch(v){case 16777216:_=hs.DIFFERENCE;break;case 33554432:_=hs.INVERT;break;default:_=hs.NORMAL}}}u&&(h=!1,l=!1);var b=0,x=0,y=0,w=0,E=0,T=3;d&&(T=p?8:6),h&&(b=T,T++),l&&(x=T,T++),u&&(E=T,T+=4),c&&(y=T,T+=3),f&&(w=T,T++);var P=i.length;a>=0&&P>a&&(P=a);var R=(Math.ceil(P/T),0),S=-1,C=e.__rectTile,I=e.__rectUV,M=e.__point,A=0,L=0,D=1,O=16777215,k=1,B=0,F=1,N=0,U=0,G=0,W=0,V=0,H=0,Y=0,X=0,z=0,j=t.__worldTransform,K=0,q=1,Z=0,J=0,Q=1,$=0,tt=0,et=j.a,it=j.b,st=j.c,nt=j.d,rt=j.tx,at=j.ty,ot=0,_t=0,ht=0,lt=0,ut=0,ct=0;for(this.enableColor=!0,this.enableColor!=this.lastEnableColor&&(this.flush(),this.lastEnableColor=this.enableColor),this.attributes[2].enabled=this.lastEnableColor,this.elementsPerVertex=this.getElementsPerVertex(),this.prepareShader(r,null);P>R;){if(this.batchedSprites>=this.maxSprites&&this.flush(),A=i[R],L=i[R+1],d?(S=-1,C.x=i[R+2],C.y=i[R+3],C.width=i[R+4],C.height=i[R+5],p?(M.x=i[R+6],M.y=i[R+7]):(M.x=0,M.y=0),ot=C.width,_t=C.height,ht=C.get_left()/e.__bitmap.width,lt=C.get_top()/e.__bitmap.height,ut=C.get_right()/e.__bitmap.width,ct=C.get_bottom()/e.__bitmap.height):(S=0|(null==i[R+2]?0:i[R+2]),C=e.__tileRects[S],M=e.__centerPoints[S],I=e.__tileUVs[S],ot=C.width,_t=C.height,ht=I.x,lt=I.y,ut=I.width,ct=I.height),null!=C&&C.width>0&&C.height>0&&null!=M){D=1,O=16777215,k=1,B=0,F=1,N=0,D=f?i[R+w]*t.__worldAlpha:t.__worldAlpha,c&&(O=(255*i[R+y]|0)<<16|(255*i[R+y+1]|0)<<8|(255*i[R+y+2]|0)),h&&(k=i[R+b]),l&&(B=i[R+x],F=Math.cos(B),N=Math.sin(B)),u?(U=i[R+E],G=i[R+E+1],W=i[R+E+2],V=i[R+E+3]):(U=k*F,G=k*N,W=-G,V=U),X=M.x*U+M.y*W,z=M.x*G+M.y*V,H=A-X,Y=L-z,q=(U*et+G*st)*ot,Z=(U*it+G*nt)*ot,J=(W*et+V*st)*_t,Q=(W*it+V*nt)*_t,$=H*et+Y*st+rt,tt=H*it+Y*nt+at,K=4*this.batchedSprites*this.elementsPerVertex,this.positions[K]=$,this.positions[K+1]=tt,this.positions[K+5]=q+$,this.positions[K+6]=Z+tt,this.positions[K+10]=q+J+$,this.positions[K+11]=Q+Z+tt,this.positions[K+15]=J+$,this.positions[K+16]=Q+tt;var ft,dt,pt=this.colors[K+19]=(255&(255*D|0))<<24|O;dt=this.colors[K+14]=pt,ft=this.colors[K+9]=dt,this.colors[K+4]=ft,this.positions[K+2]=ht,this.positions[K+3]=lt,this.positions[K+7]=ut,this.positions[K+8]=lt,this.positions[K+12]=ut,this.positions[K+13]=ct,this.positions[K+17]=ht,this.positions[K+18]=ct,this.writtenVertexBytes=K+20,this.setState(this.batchedSprites,o,s,_,t.__worldColorTransform,r,!1),this.batchedSprites++}R+=T}}},fillVertices:function(t,e,i,s,n,r,a){null==r&&(r=-1);var o=s.a,_=s.b,h=s.c,l=s.d,u=s.tx,c=s.ty;if(null==a||a==bs.NEVER)this.positions[t]=u,this.positions[t+1]=c,this.positions[t+5]=o*e+u,this.positions[t+6]=_*e+c,this.positions[t+10]=o*e+h*i+u,this.positions[t+11]=l*i+_*e+c,this.positions[t+15]=h*i+u,this.positions[t+16]=l*i+c;else{var f=Math.round(u);this.positions[t]=f;var d=Math.round(c);this.positions[t+1]=d;var p=Math.round(o*e+u);this.positions[t+5]=p;var g=Math.round(_*e+c);this.positions[t+6]=g;var m=Math.round(o*e+h*i+u);this.positions[t+10]=m;var v=Math.round(l*i+_*e+c);this.positions[t+11]=v;var b=Math.round(h*i+u);this.positions[t+15]=b;var x=Math.round(l*i+c);this.positions[t+16]=x}if(this.enableColor){var y,w,E=this.colors[t+19]=r;w=this.colors[t+14]=E,y=this.colors[t+9]=w,this.colors[t+4]=y}this.positions[t+2]=n.x0,this.positions[t+3]=n.y0,this.positions[t+7]=n.x1,this.positions[t+8]=n.y1,this.positions[t+12]=n.x2,this.positions[t+13]=n.y2,this.positions[t+17]=n.x3,this.positions[t+18]=n.y3,this.writtenVertexBytes=t+20},flush:function(){if(0!=this.batchedSprites){if(null!=this.clipRect&&(this.gl.enable(this.gl.SCISSOR_TEST),this.gl.scissor(Math.floor(this.clipRect.x),Math.floor(this.clipRect.y),Math.ceil(this.clipRect.width),Math.ceil(this.clipRect.height))),this.dirty&&(this.dirty=!1,this.renderSession.activeTextures=1,this.vertexArray.bind(),this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.indexBuffer)),this.writtenVertexBytes>.5*this.vertexArraySize)this.vertexArray.upload(this.positions);else{var t=this.positions.subarray(0,this.writtenVertexBytes);this.vertexArray.upload(t)}var e,i=0,s=0;this.currentState.shader=null,this.currentState.shaderData=null,this.currentState.texture=null,this.currentState.textureSmooth=!1,this.currentState.blendMode=this.renderSession.blendModeManager.currentBlendMode,this.currentState.colorTransform=null,this.currentState.skipColorTransformAlpha=!1;for(var n=0,r=this.batchedSprites;r>n;){var a=n++;e=this.states[a],this.currentState.skipColorTransformAlpha=e.skipColorTransformAlpha,e.equals(this.currentState)||(this.renderBatch(this.currentState,i,s),s=a,i=0,this.currentState.shader=e.shader,this.currentState.shaderData=e.shaderData,this.currentState.texture=e.texture,this.currentState.textureSmooth=e.textureSmooth,this.currentState.blendMode=e.blendMode,this.currentState.colorTransform=e.colorTransform),i++}this.renderBatch(this.currentState,i,s),this.batchedSprites=0,this.writtenVertexBytes=0,null!=this.clipRect&&this.gl.disable(this.gl.SCISSOR_TEST)}},renderBatch:function(t,e,i){if(0!=e&&null!=t.texture){var s;if(s=null==t.shader?this.renderSession.shaderManager.defaultShader:t.shader,this.renderSession.shaderManager.setShader(s),s.bindVertexArray(this.vertexArray),this.renderSession.blendModeManager.setBlendMode(null!=s.blendMode?s.blendMode:t.blendMode),this.gl.uniformMatrix3fv(s.getUniformLocation("openfl_uProjectionMatrix"),!1,this.renderSession.projectionMatrix.toArray(!0)),null!=t.colorTransform){this.gl.uniform1i(s.getUniformLocation("openfl_uUseColorTransform"),1);var n=t.colorTransform;this.gl.uniform4f(s.getUniformLocation("openfl_uColorMultiplier"),n.redMultiplier,n.greenMultiplier,n.blueMultiplier,t.skipColorTransformAlpha?1:n.alphaMultiplier),this.gl.uniform4f(s.getUniformLocation("openfl_uColorOffset"),n.redOffset/255,n.greenOffset/255,n.blueOffset/255,n.alphaOffset/255)}else this.gl.uniform1i(s.getUniformLocation("openfl_uUseColorTransform"),0),this.gl.uniform4f(s.getUniformLocation("openfl_uColorMultiplier"),1,1,1,1),this.gl.uniform4f(s.getUniformLocation("openfl_uColorOffset"),0,0,0,0);this.gl.activeTexture(this.gl.TEXTURE0),this.gl.bindTexture(this.gl.TEXTURE_2D,t.texture),this.gl.uniform1i(s.getUniformLocation("openfl_uSampler0"),0),null!=s.smooth&&s.smooth||t.textureSmooth?(this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MAG_FILTER,this.gl.LINEAR),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MIN_FILTER,this.gl.LINEAR)):(this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MAG_FILTER,this.gl.NEAREST),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MIN_FILTER,this.gl.NEAREST)),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,s.wrapS),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,s.wrapT),s.applyData(t.shaderData,this.renderSession),this.gl.drawElements(this.gl.TRIANGLES,6*e,this.gl.UNSIGNED_SHORT,6*i*2),this.renderSession.drawCount++}},setState:function(t,e,i,s,n,r,a){null==a&&(a=!1),null==i&&(i=!1);var o=this.states[t];null==o&&(o=this.states[t]=new $i),o.texture=e,o.textureSmooth=i,o.blendMode=s,null!=n&&n.__isDefault()?o.colorTransform=null:o.colorTransform=n,o.skipColorTransformAlpha=a,null==r?(o.shader=null,o.shaderData=null):(o.shader=r.__shader,o.shaderData=r.data)},setContext:function(t){this.gl=t,this.vertexArray.setContext(t,this.positions),this.indexBuffer=t.createBuffer(),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.indexBuffer),t.bufferData(t.ELEMENT_ARRAY_BUFFER,this.indices,t.STATIC_DRAW)},prepareShader:function(t,e){if(null!=t){t.__init(this.gl),t.__shader.wrapS=t.repeatX,t.__shader.wrapT=t.repeatY,t.__shader.smooth=t.smooth,t.__shader.blendMode=t.blendMode;var i=t.data.get(ys.uObjectSize),s=t.data.get(ys.uTextureSize);null!=e?(i.value[0]=e.width,i.value[1]=e.height,null!=e.__pingPongTexture?(s.value[0]=e.__pingPongTexture.get_renderTexture().__width,s.value[1]=e.__pingPongTexture.get_renderTexture().__height):(s.value[0]=e.width,s.value[1]=e.height)):(i.value[0]=0,i.value[1]=0,s.value[0]=0,s.value[1]=0)}},getElementsPerVertex:function(){for(var t=0,e=0,i=this.attributes;e<i.length;){var s=i[e];++e,s.enabled&&(t+=Math.floor(s.components*s.getElementsBytes()/4))}return t},__class__:Qi};var $i=function(){this.skipColorTransformAlpha=!1,this.textureSmooth=!0};a["openfl._internal.renderer.opengl.utils._SpriteBatch.State"]=$i,$i.__name__=!0,$i.prototype={equals:function(t){return(null==this.shader&&null==t.shader||null!=this.shader&&null!=t.shader&&this.shader.ID==t.shader.ID)&&this.texture==t.texture&&this.textureSmooth==t.textureSmooth&&this.blendMode==t.blendMode&&(null==this.colorTransform&&null==t.colorTransform||null!=this.colorTransform&&null!=t.colorTransform&&this.colorTransform.__equals(t.colorTransform,this.skipColorTransformAlpha))},__class__:$i};var ts=function(t){this.stencilMask=0,this.stencilStack=[],this.setContext(t),this.reverse=!0,this.count=0};a["openfl._internal.renderer.opengl.utils.StencilManager"]=ts,ts.__name__=!0,ts.prototype={prepareGraphics:function(t,e,i){var s=e.shaderManager.fillShader;e.shaderManager.setShader(s),this.gl.uniformMatrix3fv(s.getUniformLocation("openfl_uTranslationMatrix"),!1,i),this.gl.uniformMatrix3fv(s.getUniformLocation("openfl_uProjectionMatrix"),!1,e.projectionMatrix.toArray(!0)),t.vertexArray.bind(),s.bindVertexArray(t.vertexArray),this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,t.indexBuffer)},pushBucket:function(t,e,i,s){null==s&&(s=!1),s||(this.gl.enable(this.gl.STENCIL_TEST),this.gl.clear(this.gl.STENCIL_BUFFER_BIT),this.gl.stencilMask(255),this.gl.colorMask(!1,!1,!1,!1),this.gl.stencilFunc(this.gl.NEVER,1,255),this.gl.stencilOp(this.gl.INVERT,this.gl.KEEP,this.gl.KEEP),this.gl.clear(this.gl.STENCIL_BUFFER_BIT));for(var n=0,r=t.fills;n<r.length;){var a=r[n];++n,a.available||(this.prepareGraphics(a,e,i),this.gl.drawElements(a.drawMode,a.glIndices.length,this.gl.UNSIGNED_SHORT,0))}s||(this.gl.colorMask(!0,!0,!0,e.renderer.transparent),this.gl.stencilOp(this.gl.KEEP,this.gl.KEEP,this.gl.KEEP),this.gl.stencilFunc(this.gl.EQUAL,255,255))},popBucket:function(t,e,i){this.gl.disable(this.gl.STENCIL_TEST)},pushMask:function(t,e){var i=t.__maskGraphics;if(!(null==i||i.__commands.get_length()<=0)){0==this.stencilMask&&(this.gl.enable(this.gl.STENCIL_TEST),this.gl.clear(this.gl.STENCIL_BUFFER_BIT)),this.stencilMask++,i.__dirty&&Wi.updateGraphics(t,i,e.gl);var s;s=1==this.stencilMask?this.gl.NEVER:this.gl.EQUAL;var n=this.stencilMask,r=255-this.stencilMask;this.gl.stencilMask(255),this.gl.colorMask(!1,!1,!1,!1),this.gl.stencilFunc(s,n,r),this.gl.stencilOp(this.gl.REPLACE,this.gl.KEEP,this.gl.KEEP);for(var a,o=i.__glStack[Pi.glContextId],_=t.__worldTransform,h=0,l=o.buckets.length;l>h;){var u=h++;a=o.buckets[u],_=null!=a.overrideMatrix?a.overrideMatrix:t.__worldTransform;var c=a.mode;switch(c[1]){case 1:case 2:this.pushBucket(a,e,_.toArray(!0),!0)}}this.gl.colorMask(!0,!0,!0,e.renderer.transparent),this.gl.stencilOp(this.gl.KEEP,this.gl.KEEP,this.gl.KEEP),this.gl.stencilFunc(this.gl.EQUAL,this.stencilMask,255)}},popMask:function(t,e){this.stencilMask--,this.stencilMask<=0&&(this.gl.disable(this.gl.STENCIL_TEST),this.stencilMask=0)},setContext:function(t){this.gl=t},__class__:ts};var es=function(t,e,i){null==i&&(i=!1),null==e&&(e=0),this.isStatic=!1,this.size=0,this.attributes=[],this.size=e,this.attributes=t,e>0&&(this.buffer=new $n(e)),this.isStatic=i};a["openfl._internal.renderer.opengl.utils.VertexArray"]=es,es.__name__=!0,es.prototype={bind:function(){this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.glBuffer)},upload:function(t){this.gl.bufferSubData(this.gl.ARRAY_BUFFER,0,t)},setContext:function(t,e){this.gl=t,this.glBuffer=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,this.glBuffer),t.bufferData(t.ARRAY_BUFFER,e,this.isStatic?t.STATIC_DRAW:t.DYNAMIC_DRAW)},get_stride:function(){for(var t=0,e=0,i=this.attributes;e<i.length;){var s=i[e];++e,s.enabled&&(t+=4*Math.floor(s.components*s.getElementsBytes()/4))}return t},__class__:es,__properties__:{get_stride:"get_stride"}};var is=function(t){this.textField=t,this.width=100,this.height=100,this.text="",this.bounds=new Gi(0,0,0,0),this.type=cn.DYNAMIC,this.autoSize=un.NONE,this.displayAsPassword=!1,this.embedFonts=!1,this.selectable=!0,this.borderColor=0,this.border=!1,this.backgroundColor=16777215,this.background=!1,this.gridFitType=hn.PIXEL,this.maxChars=0,this.multiline=!1,this.sharpness=0,this.scrollH=0,this.scrollV=1,this.wordWrap=!1,this.lineAscents=[],this.lineBreaks=[],this.lineDescents=[],this.lineLeadings=[],this.lineHeights=[],this.lineWidths=[],this.layoutGroups=[],this.textFormatRanges=[],is.__canvas=window.document.createElement("canvas"),is.__context=is.__canvas.getContext("2d")};a["openfl._internal.text.TextEngine"]=is,is.__name__=!0,is.__canvas=null,is.__context=null,is.getFont=function(t){var e;return e=t.italic?"italic ":"normal ",e+="normal ",e+=t.bold?"bold ":"normal ",e+=t.size+"px",e+="/"+(t.size+t.leading+6)+"px ",e+=""+function(e){var i,s=t.font;return i=function(e){var i;switch(s){case"_sans":i="sans-serif";break;case"_serif":i="serif";break;case"_typewriter":i="monospace";break;default:i="'"+t.font+"'"}return i}(e)}(this)},is.prototype={getBounds:function(){var t;t=this.border?1:0,this.bounds.width=this.width+t,this.bounds.height=this.height+t},getLineMeasurements:function(){this.lineAscents.splice(0,this.lineAscents.length),this.lineDescents.splice(0,this.lineDescents.length),this.lineLeadings.splice(0,this.lineLeadings.length),this.lineHeights.splice(0,this.lineHeights.length),this.lineWidths.splice(0,this.lineWidths.length);var t=0,e=0,i=null,s=0,n=0;this.textWidth=0,this.textHeight=0,this.numLines=1,this.bottomScrollV=0,this.maxScrollH=0;for(var r=0,a=this.layoutGroups;r<a.length;){var o=a[r];for(++r;o.lineIndex>this.numLines-1;)this.lineAscents.push(t),this.lineDescents.push(e),this.lineLeadings.push(null!=i?i:0),this.lineHeights.push(s),this.lineWidths.push(n),t=0,e=0,i=null,s=0,n=0,this.numLines++,this.textHeight<=this.height-2&&this.bottomScrollV++;t=Math.max(t,o.ascent),e=Math.max(e,o.descent),i=null==i?o.leading:D["int"](Math.max(i,o.leading)),s=Math.max(s,o.height),n=o.offsetX-2+o.width,n>this.textWidth&&(this.textWidth=n),this.textHeight=o.offsetY-2+o.ascent+o.descent}this.lineAscents.push(t),this.lineDescents.push(e),this.lineLeadings.push(null!=i?i:0),this.lineHeights.push(s),this.lineWidths.push(n),1==this.numLines?(this.bottomScrollV=1,i>0&&(this.textHeight+=i)):this.textHeight<=this.height-2&&this.bottomScrollV++,this.textWidth>this.width-4?this.maxScrollH=this.textWidth-this.width+4|0:this.maxScrollH=0,this.maxScrollV=this.numLines-this.bottomScrollV+1},getLayoutGroups:function(){var t=this;this.layoutGroups.splice(0,this.layoutGroups.length);var e,i,s,n=-1,r=null,a=ln.__defaultTextFormat.clone(),o=0,_=0,h=0,l=0,u=0,c=0,f=this.text.indexOf(" "),d=this.text.indexOf("\n"),p=0,g=2,m=2,v=0,b=0,x=null;n<t.textFormatRanges.length-1&&(n++,r=t.textFormatRanges[n],a.__merge(r.format),is.__context.font=is.getFont(a),_=a.size,h=.185*a.size,o=a.leading,l=_+h+o,f>-1&&(u=is.__context.measureText(" ").width)),x=r.format;for(var y;v<this.text.length;)if(d>-1&&(-1==f||f>d)&&r.end>=d){e=new ns(r.format,v,d);for(var w=this.text,E=[],T=v;d>T;){var P=T++;E.push(is.__context.measureText(w.charAt(P)).width)}e.advances=E,e.offsetX=g,e.ascent=_,e.descent=h,e.leading=o,e.lineIndex=b,e.offsetY=m;for(var R=e.advances,S=0,C=0;C<R.length;){var I=R[C];++C,S+=I}e.width=S,e.height=l,this.layoutGroups.push(e),m+=l,g=2,this.wordWrap&&e.offsetX+e.width>this.width-2&&(e.offsetY=m,e.offsetX=g,m+=l,b++),v=d+1,d=this.text.indexOf("\n",v),b++,r.end==d&&(n<t.textFormatRanges.length-1&&(n++,r=t.textFormatRanges[n],a.__merge(r.format),is.__context.font=is.getFont(a),_=a.size,h=.185*a.size,o=a.leading,l=_+h+o,f>-1&&(u=is.__context.measureText(" ").width)),x=r.format)}else if(r.end>=f&&f>-1)for(e=null,y=!1;;){-1==f&&(f=r.end);for(var M=this.text,A=[],L=v;f>L;){var D=L++;A.push(is.__context.measureText(M.charAt(D)).width)}i=A;for(var O=0,k=0;k<i.length;){var B=i[k];++k,O+=B}if(s=O,this.wordWrap&&g+s>this.width-2&&(y=!0),y){m+=l;for(var F=this.layoutGroups.length-1,N=0;;){if(e=this.layoutGroups[F],!(F>0&&e.startIndex>c))break;N++,F--}if(b++,g=2,N>0)for(var U=this.layoutGroups[this.layoutGroups.length-N].offsetX,G=this.layoutGroups.length-N,W=this.layoutGroups.length;W>G;){var V=G++;e=this.layoutGroups[V],e.offsetX-=U,e.offsetY=m,e.lineIndex=b,g+=e.width}e=new ns(r.format,v,f),e.advances=i,e.offsetX=g,e.ascent=_,e.descent=h,e.leading=o,e.lineIndex=b,e.offsetY=m,e.width=s,e.height=l,this.layoutGroups.push(e),g=s+u,p=u,y=!1}else null!=e&&v==f?(r.format.align!=dn.JUSTIFY&&(e.endIndex=f),e.advances.push(u),p+=u):null==e||x.align==dn.JUSTIFY?(e=new ns(r.format,v,f),e.advances=i,e.offsetX=g,e.ascent=_,e.descent=h,e.leading=o,e.lineIndex=b,e.offsetY=m,e.width=s,e.height=l,this.layoutGroups.push(e),e.advances.push(u),p=u):(e.endIndex=f,e.advances=e.advances.concat(i),e.width+=p+s,e.advances.push(u),p=u),g+=s+u;if(v=f+1,c=f,f=this.text.indexOf(" ",c+1),r.end<=c&&(e=null,n<t.textFormatRanges.length-1&&(n++,r=t.textFormatRanges[n],a.__merge(r.format),is.__context.font=is.getFont(a),_=a.size,h=.185*a.size,o=a.leading,l=_+h+o,f>-1&&(u=is.__context.measureText(" ").width))),f>d&&d>-1||v>this.text.length||f>r.end||-1==f&&d>-1)break}else{if(v>=r.end)break;e=new ns(r.format,v,r.end);for(var H=this.text,Y=[],X=v;X<r.end;){var z=X++;Y.push(is.__context.measureText(H.charAt(z)).width)}e.advances=Y,e.offsetX=g,e.ascent=_,e.descent=h,e.leading=o,e.lineIndex=b,e.offsetY=m;for(var j=e.advances,K=0,q=0;q<j.length;){var Z=j[q];++q,K+=Z}e.width=K,e.height=l,this.layoutGroups.push(e),g+=e.width,v=r.end,n<t.textFormatRanges.length-1&&(n++,r=t.textFormatRanges[n],a.__merge(r.format),is.__context.font=is.getFont(a),_=a.size,h=.185*a.size,o=a.leading,l=_+h+o,f>-1&&(u=is.__context.measureText(" ").width))}},setTextAlignment:function(){for(var t,e,i=-1,s=0,n=0,r=this.layoutGroups.length;r>n;){var a=n++;if(t=this.layoutGroups[a],t.lineIndex!=i){i=t.lineIndex;var o=t.format.align;switch(o[1]){case 3:s=this.lineWidths[i]<this.width-4?Math.round((this.width-4-this.lineWidths[i])/2):0;break;case 1:s=this.lineWidths[i]<this.width-4?Math.round(this.width-4-this.lineWidths[i]):0;break;case 2:if(this.lineWidths[i]<this.width-4){e=1;for(var _=a+1,h=this.layoutGroups.length;h>_;){var l=_++;if(this.layoutGroups[l].lineIndex!=i)break;e++}if(e>1&&(t=this.layoutGroups[a+e-1],t.endIndex<this.text.length&&"\n"!=this.text.charAt(t.endIndex))){s=(this.width-4-this.lineWidths[i])/(e-1);for(var u=1;e>u;){var c=u++;this.layoutGroups[a+c].offsetX+=s*c}}}s=0;break;default:s=0}}s>0&&(t.offsetX+=s)}},update:function(){null==this.text||""==O.trim(this.text)||0==this.textFormatRanges.length?(this.lineAscents.splice(0,this.lineAscents.length),this.lineBreaks.splice(0,this.lineBreaks.length),this.lineDescents.splice(0,this.lineDescents.length),this.lineLeadings.splice(0,this.lineLeadings.length),this.lineHeights.splice(0,this.lineHeights.length),this.lineWidths.splice(0,this.lineWidths.length),this.layoutGroups.splice(0,this.layoutGroups.length),this.textWidth=0,this.textHeight=0,this.numLines=1,this.maxScrollH=0,this.maxScrollV=1,this.bottomScrollV=1):(this.getLayoutGroups(),this.getLineMeasurements(),this.setTextAlignment()),this.getBounds()},__class__:is};var ss=function(t,e,i){this.format=t,this.start=e,this.end=i};a["openfl._internal.text.TextFormatRange"]=ss,ss.__name__=!0,ss.prototype={__class__:ss};var ns=function(t,e,i){this.format=t,this.startIndex=e,this.endIndex=i};a["openfl._internal.text.TextLayoutGroup"]=ns,ns.__name__=!0,ns.prototype={__class__:ns};var rs=function(){gt.call(this),null==Ze.application&&(Ze.application=this)};a["openfl.display.Application"]=rs,rs.__name__=!0,rs.__super__=gt,rs.prototype=s(gt.prototype,{create:function(t){if(this.config=t,this.backend.create(t),null!=t){if(Object.prototype.hasOwnProperty.call(t,"fps")&&this.backend.setFrameRate(t.fps),Object.prototype.hasOwnProperty.call(t,"windows"))for(var e=0,i=t.windows;e<i.length;){var s=i[e];++e;var n=new Ls(s);this.createWindow(n);break}(null==this.preloader||this.preloader.complete)&&this.onPreloadComplete()}},__class__:rs});var as=function(t,e,i){null==i&&(i=!1),c.call(this),this.bitmapData=t,this.pixelSnapping=e,this.smoothing=i,null==e&&(this.pixelSnapping=bs.AUTO)};a["openfl.display.Bitmap"]=as,as.__name__=!0,as.__super__=c,as.prototype=s(c.prototype,{__getBounds:function(t,e){if(null!=this.bitmapData){var i=Gi.__temp;i.setTo(0,0,this.bitmapData.width,this.bitmapData.height),i.__transform(i,e),t.__expand(i.x,i.y,i.width,i.height)}},__hitTest:function(t,e,i,s,n){if(!this.get_visible()||this.__isMask||null==this.bitmapData)return!1;if(null!=this.get_mask()&&!this.get_mask().__hitTestMask(t,e))return!1;this.__getWorldTransform();var r=this.__worldTransform.__transformInverseX(t,e),a=this.__worldTransform.__transformInverseY(t,e);return r>0&&a>0&&r<=this.bitmapData.width&&a<=this.bitmapData.height?(null==s||n||s.push(this),!0):!1},__hitTestMask:function(t,e){if(null==this.bitmapData)return!1;this.__getWorldTransform();var i=this.__worldTransform.__transformInverseX(t,e),s=this.__worldTransform.__transformInverseY(t,e);return i>0&&s>0&&i<=this.bitmapData.width&&s<=this.bitmapData.height?!0:!1},__renderCairo:function(t){ai.render(this,t)},__renderCairoMask:function(t){t.cairo.rectangle(0,0,this.get_width(),this.get_height())},__renderCanvas:function(t){ci.render(this,t)},__renderCanvasMask:function(t){t.context.rect(0,0,this.get_width(),this.get_height())},__renderDOM:function(t){null!=this.stage&&this.__worldVisible&&this.__renderable&&null!=this.bitmapData&&this.bitmapData.__isValid?null!=this.bitmapData.image.buffer.__srcImage?bi.renderImage(this,t):bi.renderCanvas(this,t):(null!=this.__image&&(t.element.removeChild(this.__image),this.__image=null,this.__style=null),null!=this.__canvas&&(t.element.removeChild(this.__canvas),this.__canvas=null,this.__style=null))},__renderGL:function(t){return this.__cacheAsBitmap?void this.__cacheGL(t):(null!=this.__scrollRect&&t.maskManager.pushRect(this.__scrollRect,this.__renderTransform),null!=this.__mask&&null!=this.__maskGraphics&&this.__maskGraphics.__commands.get_length()>0&&t.maskManager.pushMask(this),!this.__renderable||this.__worldAlpha<=0||null==this.bitmapData||!this.bitmapData.__isValid||t.spriteBatch.renderBitmapData(this.bitmapData,this.smoothing,this.__renderTransform,this.__worldColorTransform,this.__worldAlpha,this.__blendMode,this.__shader,this.pixelSnapping),null!=this.__mask&&null!=this.__maskGraphics&&this.__maskGraphics.__commands.get_length()>0&&t.maskManager.popMask(),void(null!=this.__scrollRect&&t.maskManager.popRect()))},__updateMask:function(t){t.__commands.overrideMatrix(this.__worldTransform),t.beginFill(0),t.drawRect(0,0,this.bitmapData.width,this.bitmapData.height),null==t.__bounds&&(t.__bounds=new Gi),this.__getBounds(t.__bounds,Ke.__identity),c.prototype.__updateMask.call(this,t)},get_height:function(){return null!=this.bitmapData?this.bitmapData.height*this.get_scaleY():0},set_height:function(t){return null!=this.bitmapData?(t!=this.bitmapData.height&&this.set_scaleY(t/this.bitmapData.height),t):0},get_width:function(){return null!=this.bitmapData?this.bitmapData.width*this.get_scaleX():0},__class__:as});var os=function(t,e,i,s){null==s&&(s=-1),null==i&&(i=!0),this.__usingPingPongTexture=!1,this.transparent=i,t=null==t?0:t,e=null==e?0:e,t=0>t?0:t,e=0>e?0:e,this.width=t,this.height=e,this.rect=new Gi(0,0,t,e),t>0&&e>0&&(i?0==(-16777216&s)&&(s=0):s=-16777216|16777215&s,s=s<<8|s>>24&255,this.image=new zt(null,0,0,t,e,s),this.image.set_transparent(i),this.__isValid=!0),this.__createUVs(),this.__worldTransform=new Ke,this.__worldColorTransform=new qe};a["openfl.display.BitmapData"]=os,os.__name__=!0,os.__interfaces__=[u],os.fromBytes=function(t,e,i){var s=new os(0,0,!0);return s.__fromBytes(t,e,i),s},os.fromCanvas=function(t,e){if(null==e&&(e=!0),null==t)return null;var i=new os(0,0,e);return i.__fromImage(zt.fromCanvas(t)),i.image.set_transparent(e),i},os.fromImage=function(t,e){if(null==e&&(e=!0),null==t||null==t.buffer)return null;var i=new os(0,0,e);return i.__fromImage(t),i.image.set_transparent(e),i},os.__asRenderTexture=function(t,e){null==e&&(e=0),null==t&&(t=0);var i=new os(0,0);return i.__resize(t,e),i},os.prototype={colorTransform:function(t,e){this.__isValid&&(this.image.colorTransform(t.__toLimeRectangle(),e.__toLimeColorMatrix()),this.__usingPingPongTexture=!1)},draw:function(t,e,i,s,n,r){if(null==r&&(r=!1),this.__isValid){if(null!=i){var a=new os(L.getProperty(t,"width"),L.getProperty(t,"height"),!0,0);a.draw(t),a.colorTransform(a.rect,i),t=a}se.convertToCanvas(this.image),se.sync(this.image,!0);var o=this.image.buffer,_=new ri;_.context=o.__srcContext,_.roundPixels=!0,_.maskManager=new di(_),r||(o.__srcContext.mozImageSmoothingEnabled=!1,o.__srcContext.msImageSmoothingEnabled=!1,o.__srcContext.imageSmoothingEnabled=!1),null!=n&&_.maskManager.pushRect(n,new Ke),t.__updateTransforms(e),t.__updateChildren(!1),t.__renderCanvas(_),t.__updateTransforms(),t.__updateChildren(!0),r||(o.__srcContext.mozImageSmoothingEnabled=!0,o.__srcContext.msImageSmoothingEnabled=!0,o.__srcContext.imageSmoothingEnabled=!0),null!=n&&_.maskManager.popMask(),o.__srcContext.setTransform(1,0,0,1,0,0),o.__srcImageData=null,o.data=null}},getPixels:function(t){return this.__isValid?(null==t&&(t=this.rect),this.image.getPixels(t.__toLimeRectangle(),1)):null},getSurface:function(){return this.__isValid?(null==this.__surface&&(this.__surface=$t.fromImage(this.image)),this.__surface):null},getTexture:function(t){if(!this.__isValid)return null;if(this.__usingPingPongTexture&&null!=this.__pingPongTexture)return this.__pingPongTexture.get_texture();if(null==this.__texture&&(this.__texture=t.createTexture(),t.bindTexture(t.TEXTURE_2D,this.__texture),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST),this.image.dirty=!0),null!=this.image&&this.image.dirty){var e,i;null!=this.__surface&&ee.flush(this.__surface),1==this.image.buffer.bitsPerPixel?(e=t.ALPHA,i=t.ALPHA):(e=t.RGBA,i=t.RGBA),t.bindTexture(t.TEXTURE_2D,this.__texture);var s=this.image;(!s.get_premultiplied()&&s.get_transparent()||0!=s.get_format())&&(s=s.clone(),s.set_format(0),s.set_premultiplied(!0)),t.texImage2D(t.TEXTURE_2D,0,e,this.width,this.height,0,i,t.UNSIGNED_BYTE,s.get_data()),t.bindTexture(t.TEXTURE_2D,null),this.image.dirty=!1}return this.__texture},__createUVs:function(t,e,i,s,n,r,a,o){null==o&&(o=1),null==a&&(a=0),null==r&&(r=1),null==n&&(n=1),null==s&&(s=0),null==i&&(i=1),null==e&&(e=0),null==t&&(t=0),null==this.__uvData&&(this.__uvData=new _s),this.__uvData.x0=t,this.__uvData.y0=e,this.__uvData.x1=i,this.__uvData.y1=s,this.__uvData.x2=n,this.__uvData.y2=r,this.__uvData.x3=a,this.__uvData.y3=o},__drawGL:function(t,e,i,s,n,r,a,o,_,h,l){null==l&&(l=!0),null==h&&(h=!1),null==_&&(_=!1),null==o&&(o=!1),null==a&&(a=!1),this.__pingPongTexture=Ti.pushFramebuffer(t,this.__pingPongTexture,this.rect,a,this.transparent,_,l),Ti.drawBitmapDrawable(t,o?this:null,e,i,s,n,r),Ti.popFramebuffer(t,h?this.image:null);var u=this.__pingPongTexture.get_renderTexture().__uvData;this.__createUVs(u.x0,u.y0,u.x1,u.y1,u.x2,u.y2,u.x3,u.y3),this.__isValid=!0,this.__usingPingPongTexture=!0},__fromBytes:function(t,e,i){var s=this;zt.fromBytes(t,function(t){if(s.__fromImage(t),null!=e){se.convertToCanvas(t),se.createImageData(t);for(var n=t.buffer.data,r=0,a=e.length;a>r;){var o=r++,_=e.readUnsignedByte();n[4*o+3]=_}t.dirty=!0}null!=i&&i(s)})},__fromImage:function(t){null!=t&&null!=t.buffer&&(this.image=t,this.width=t.width,this.height=t.height,this.rect=new Gi(0,0,t.width,t.height),this.__isValid=!0)},__renderCanvas:function(t){if(this.__isValid){se.sync(this.image,!1);var e=t.context;null==this.__worldTransform&&(this.__worldTransform=new Ke),e.globalAlpha=1;var i=this.__worldTransform;t.roundPixels?e.setTransform(i.a,i.b,i.c,i.d,0|i.tx,0|i.ty):e.setTransform(i.a,i.b,i.c,i.d,i.tx,i.ty),e.drawImage(this.image.get_src(),0,0)}},__renderGL:function(t){t.spriteBatch.renderBitmapData(this,!1,this.__worldTransform,this.__worldColorTransform,this.__worldColorTransform.alphaMultiplier,this.__blendMode,this.__shader)},__updateTransforms:function(t){null==t?this.__worldTransform.identity():this.__worldTransform=t},__sync:function(){se.sync(this.image,!1)},__updateChildren:function(t){},__resize:function(t,e){this.width=t,this.height=e,this.rect.width=t,this.rect.height=e},__class__:os};var _s=function(){this.y3=0,this.y2=0,this.y1=0,this.y0=0,this.x3=0,this.x2=0,this.x1=0,this.x0=0};a["openfl.display.TextureUvs"]=_s,_s.__name__=!0,_s.prototype={__class__:_s};var hs=a["openfl.display.BlendMode"]={__ename__:!0,__constructs__:["ADD","ALPHA","DARKEN","DIFFERENCE","ERASE","HARDLIGHT","INVERT","LAYER","LIGHTEN","MULTIPLY","NORMAL","OVERLAY","SCREEN","SUBTRACT"]};hs.ADD=["ADD",0],hs.ADD.toString=o,hs.ADD.__enum__=hs,hs.ALPHA=["ALPHA",1],hs.ALPHA.toString=o,hs.ALPHA.__enum__=hs,hs.DARKEN=["DARKEN",2],hs.DARKEN.toString=o,hs.DARKEN.__enum__=hs,hs.DIFFERENCE=["DIFFERENCE",3],hs.DIFFERENCE.toString=o,hs.DIFFERENCE.__enum__=hs,hs.ERASE=["ERASE",4],hs.ERASE.toString=o,hs.ERASE.__enum__=hs,hs.HARDLIGHT=["HARDLIGHT",5],hs.HARDLIGHT.toString=o,hs.HARDLIGHT.__enum__=hs,hs.INVERT=["INVERT",6],
hs.INVERT.toString=o,hs.INVERT.__enum__=hs,hs.LAYER=["LAYER",7],hs.LAYER.toString=o,hs.LAYER.__enum__=hs,hs.LIGHTEN=["LIGHTEN",8],hs.LIGHTEN.toString=o,hs.LIGHTEN.__enum__=hs,hs.MULTIPLY=["MULTIPLY",9],hs.MULTIPLY.toString=o,hs.MULTIPLY.__enum__=hs,hs.NORMAL=["NORMAL",10],hs.NORMAL.toString=o,hs.NORMAL.__enum__=hs,hs.OVERLAY=["OVERLAY",11],hs.OVERLAY.toString=o,hs.OVERLAY.__enum__=hs,hs.SCREEN=["SCREEN",12],hs.SCREEN.toString=o,hs.SCREEN.__enum__=hs,hs.SUBTRACT=["SUBTRACT",13],hs.SUBTRACT.toString=o,hs.SUBTRACT.__enum__=hs;var ls=a["openfl.display.CapsStyle"]={__ename__:!0,__constructs__:["NONE","ROUND","SQUARE"]};ls.NONE=["NONE",0],ls.NONE.toString=o,ls.NONE.__enum__=ls,ls.ROUND=["ROUND",1],ls.ROUND.toString=o,ls.ROUND.__enum__=ls,ls.SQUARE=["SQUARE",2],ls.SQUARE.toString=o,ls.SQUARE.__enum__=ls;var us=function(){};a["openfl.display.FrameLabel"]=us,us.__name__=!0,us.__super__=l,us.prototype=s(l.prototype,{__class__:us});var cs=a["openfl.display.GradientType"]={__ename__:!0,__constructs__:["RADIAL","LINEAR"]};cs.RADIAL=["RADIAL",0],cs.RADIAL.toString=o,cs.RADIAL.__enum__=cs,cs.LINEAR=["LINEAR",1],cs.LINEAR.toString=o,cs.LINEAR.__enum__=cs;var fs=function(){this.__glStack=[],this.__dirty=!0,this.__commands=new ti,this.__strokePadding=0,this.__positionX=0,this.__positionY=0,this.__hardware=!0,this.moveTo(0,0)};a["openfl.display.Graphics"]=fs,fs.__name__=!0,fs.prototype={beginBitmapFill:function(t,e,i,s){null==s&&(s=!1),null==i&&(i=!0),this.__commands.beginBitmapFill(t,null!=e?new Ke(e.a,e.b,e.c,e.d,e.tx,e.ty):null,i,s),this.__visible=!0},beginFill:function(t,e){null==e&&(e=1),null==t&&(t=0),this.__commands.beginFill(16777215&t,e),e>0&&(this.__visible=!0)},clear:function(){this.__commands.clear(),this.__strokePadding=0,null!=this.__bounds&&(this.set___dirty(!0),this.__transformDirty=!0,this.__bounds=null),this.__visible=!1,this.__hardware=!0,this.moveTo(0,0)},drawRect:function(t,e,i,s){0>=i||0>=s||(this.__inflateBounds(t-this.__strokePadding,e-this.__strokePadding),this.__inflateBounds(t+i+this.__strokePadding,e+s+this.__strokePadding),this.__commands.drawRect(t,e,i,s),this.set___dirty(!0))},endFill:function(){this.__commands.endFill()},lineStyle:function(t,e,i,s,n,r,a,o){null!=t&&(a==gs.MITER?t>this.__strokePadding&&(this.__strokePadding=t):t/2>this.__strokePadding&&(this.__strokePadding=t/2)),this.__commands.lineStyle(t,e,i,s,n,r,a,o),null!=t&&(this.__visible=!0)},lineTo:function(t,e){this.__inflateBounds(this.__positionX-this.__strokePadding,this.__positionY-this.__strokePadding),this.__inflateBounds(this.__positionX+this.__strokePadding,this.__positionY+this.__strokePadding),this.__positionX=t,this.__positionY=e,this.__inflateBounds(this.__positionX-this.__strokePadding,this.__positionY-this.__strokePadding),this.__inflateBounds(this.__positionX+2*this.__strokePadding,this.__positionY+this.__strokePadding),this.__commands.lineTo(t,e),this.__hardware=!1,this.set___dirty(!0)},moveTo:function(t,e){this.__positionX=t,this.__positionY=e,this.__commands.moveTo(t,e)},__getBounds:function(t,e){if(null!=this.__bounds){var i=Gi.__temp;this.__bounds.__transform(i,e),t.__expand(i.x,i.y,i.width,i.height)}},__hitTest:function(t,e,i,s){if(null==this.__bounds)return!1;var n=s.__transformInverseX(t,e),r=s.__transformInverseY(t,e);return n>this.__bounds.x&&r>this.__bounds.y&&this.__bounds.contains(n,r)?i?fi.hitTest(this,n,r):!0:!1},__inflateBounds:function(t,e){return null==this.__bounds?(this.__bounds=new Gi(t,e,0,0),void(this.__transformDirty=!0)):(t<this.__bounds.x&&(this.__bounds.width+=this.__bounds.x-t,this.__bounds.x=t,this.__transformDirty=!0),e<this.__bounds.y&&(this.__bounds.height+=this.__bounds.y-e,this.__bounds.y=e,this.__transformDirty=!0),t>this.__bounds.x+this.__bounds.width&&(this.__bounds.width=t-this.__bounds.x),void(e>this.__bounds.y+this.__bounds.height&&(this.__bounds.height=e-this.__bounds.y)))},set___dirty:function(t){return t&&null!=this.__owner&&this.__owner.__setRenderDirty(),this.__dirty=t},__class__:fs,__properties__:{set___dirty:"set___dirty"}};var ds=a["openfl.display.GraphicsPathWinding"]={__ename__:!0,__constructs__:["EVEN_ODD","NON_ZERO"]};ds.EVEN_ODD=["EVEN_ODD",0],ds.EVEN_ODD.toString=o,ds.EVEN_ODD.__enum__=ds,ds.NON_ZERO=["NON_ZERO",1],ds.NON_ZERO.toString=o,ds.NON_ZERO.__enum__=ds;var ps=a["openfl.display.InterpolationMethod"]={__ename__:!0,__constructs__:["RGB","LINEAR_RGB"]};ps.RGB=["RGB",0],ps.RGB.toString=o,ps.RGB.__enum__=ps,ps.LINEAR_RGB=["LINEAR_RGB",1],ps.LINEAR_RGB.toString=o,ps.LINEAR_RGB.__enum__=ps;var gs=a["openfl.display.JointStyle"]={__ename__:!0,__constructs__:["MITER","ROUND","BEVEL"]};gs.MITER=["MITER",0],gs.MITER.toString=o,gs.MITER.__enum__=gs,gs.ROUND=["ROUND",1],gs.ROUND.toString=o,gs.ROUND.__enum__=gs,gs.BEVEL=["BEVEL",2],gs.BEVEL.toString=o,gs.BEVEL.__enum__=gs;var ms=a["openfl.display.LineScaleMode"]={__ename__:!0,__constructs__:["HORIZONTAL","NONE","NORMAL","VERTICAL"]};ms.HORIZONTAL=["HORIZONTAL",0],ms.HORIZONTAL.toString=o,ms.HORIZONTAL.__enum__=ms,ms.NONE=["NONE",1],ms.NONE.toString=o,ms.NONE.__enum__=ms,ms.NORMAL=["NORMAL",2],ms.NORMAL.toString=o,ms.NORMAL.__enum__=ms,ms.VERTICAL=["VERTICAL",3],ms.VERTICAL.toString=o,ms.VERTICAL.__enum__=ms;var vs=function(){};a["openfl.display.Loader"]=vs,vs.__name__=!0,vs.__super__=p,vs.prototype=s(p.prototype,{__class__:vs});var bs=a["openfl.display.PixelSnapping"]={__ename__:!0,__constructs__:["NEVER","AUTO","ALWAYS"]};bs.NEVER=["NEVER",0],bs.NEVER.toString=o,bs.NEVER.__enum__=bs,bs.AUTO=["AUTO",1],bs.AUTO.toString=o,bs.AUTO.__enum__=bs,bs.ALWAYS=["ALWAYS",2],bs.ALWAYS.toString=o,bs.ALWAYS.__enum__=bs;var xs=function(t){Bt.call(this),null!=t&&(this.display=t,Ze.current.addChild(t),st.__instanceof(t,A)&&st.__cast(t,A).onInit())};a["openfl.display.Preloader"]=xs,xs.__name__=!0,xs.__super__=Bt,xs.prototype=s(Bt.prototype,{load:function(t,e){for(var i=[],s=null,n=0,a=t.length;a>n;){var o=n++;s=t[o];var _=e[o];switch(_){case"MUSIC":case"SOUND":var h=et.withoutExtension(s);C.remove(i,h)||this.total++,i.push(h)}}for(var l=0;l<i.length;){var u=i[l];++l;var c=new $s;c.addEventListener(Ds.COMPLETE,r(this,this.sound_onComplete)),c.addEventListener(Vs.IO_ERROR,r(this,this.sound_onIOError)),c.load(new rn(u+".ogg"))}Bt.prototype.load.call(this,t,e)},start:function(){null!=this.display&&st.__instanceof(this.display,A)?(this.display.addEventListener(Ds.COMPLETE,r(this,this.display_onComplete)),st.__cast(this.display,A).onLoaded()):Bt.prototype.start.call(this)},update:function(t,e){null!=this.display&&st.__instanceof(this.display,A)&&st.__cast(this.display,A).onUpdate(t,e)},display_onComplete:function(t){this.display.removeEventListener(Ds.COMPLETE,r(this,this.display_onComplete)),Ze.current.removeChild(this.display),Ze.current.stage.set_focus(null),this.display=null,Bt.prototype.start.call(this)},sound_onComplete:function(t){this.loaded++,this.onProgress.dispatch(this.loaded,this.total),this.loaded==this.total&&this.start()},sound_onIOError:function(t){this.loaded++,this.onProgress.dispatch(this.loaded,this.total),this.loaded==this.total&&this.start()},__class__:xs});var ys=function(){this.__dirty=!0,this.repeatY=33071,this.repeatX=33071};a["openfl.display.Shader"]=ys,ys.__name__=!0,ys.prototype={__init:function(t){var e=this.__dirty;e&&(null!=this.__shader&&this.__shader.destroy(),this.__shader=new Ri(t),null!=this.__vertexCode?this.__shader.vertexString=this.__vertexCode:this.__shader.vertexString=Si.VERTEX_SRC.join("\n"),this.__shader.fragmentString=this.__fragmentCode,this.__dirty=!1),this.__shader.init(e)},__class__:ys};var ws=function(){this.internalType=0,this.transpose=!1,this.repeatY=33071,this.repeatX=33071,this.smooth=!1,this.size=0};a["openfl.display.GLShaderParameter"]=ws,ws.__name__=!0,ws.prototype={__class__:ws};var Es=a["openfl.display.SpreadMethod"]={__ename__:!0,__constructs__:["REPEAT","REFLECT","PAD"]};Es.REPEAT=["REPEAT",0],Es.REPEAT.toString=o,Es.REPEAT.__enum__=Es,Es.REFLECT=["REFLECT",1],Es.REFLECT.toString=o,Es.REFLECT.__enum__=Es,Es.PAD=["PAD",2],Es.PAD.toString=o,Es.PAD.__enum__=Es;var Ts=function(t,e){d.call(this),this.application=t.application,this.window=t,null==e?(this.__transparent=!0,this.set_color(0)):this.set_color(e),this.set_name(null),this.__deltaTime=0,this.__displayState=Ss.NORMAL,this.__mouseX=0,this.__mouseY=0,this.__lastClickTime=0,this.stageWidth=t.__width,this.stageHeight=t.__height,this.stage=this,this.align=Rs.TOP_LEFT,this.allowsFullScreen=!1,this.allowsFullScreenInteractive=!1,this.quality=Cs.HIGH,this.scaleMode=Is.NO_SCALE,this.stageFocusRect=!0,this.__macKeyboard=/AppleWebKit/.test(navigator.userAgent)&&/Mobile\/\w+/.test(navigator.userAgent)||/Mac/.test(navigator.platform),this.__clearBeforeRender=!0,this.__stack=[],this.__mouseOutStack=[];var i;i=new Je;var s;s=new Array(0),i.data=s,i.length=0,i.fixed=!1,this.stage3Ds=i;var n=this.stage3Ds,r=new Ps;if(!n.fixed){if(n.length++,n.data.length<n.length){var a,o;o=new Array(n.data.length+10),a=o,K.blit(n.data,0,a,0,n.data.length),n.data=a}n.data[n.length-1]=r}n.length,null==Ze.current.stage&&this.stage.addChild(Ze.current)};a["openfl.display.Stage"]=Ts,Ts.__name__=!0,Ts.__interfaces__=[dt],Ts.__super__=d,Ts.prototype=s(d.prototype,{globalToLocal:function(t){return t.clone()},localToGlobal:function(t){return t.clone()},onGamepadAxisMove:function(t,e,i){pn.__onGamepadAxisMove(t,e,i)},onGamepadButtonDown:function(t,e){pn.__onGamepadButtonDown(t,e)},onGamepadButtonUp:function(t,e){pn.__onGamepadButtonUp(t,e)},onGamepadConnect:function(t){pn.__onGamepadConnect(t)},onGamepadDisconnect:function(t){pn.__onGamepadDisconnect(t)},onJoystickAxisMove:function(t,e,i){},onJoystickButtonDown:function(t,e){},onJoystickButtonUp:function(t,e){},onJoystickConnect:function(t){},onJoystickDisconnect:function(t){},onJoystickHatMove:function(t,e,i){},onJoystickTrackballMove:function(t,e,i){},onKeyDown:function(t,e,i){null!=this.window&&this.window==t&&this.__onKey(Hs.KEY_DOWN,e,i)},onKeyUp:function(t,e,i){null!=this.window&&this.window==t&&this.__onKey(Hs.KEY_UP,e,i)},onModuleExit:function(t){if(null!=this.window){var e=new Ds(Ds.DEACTIVATE);this.__broadcast(e,!0)}},onMouseDown:function(t,e,i,s){if(null!=this.window&&this.window==t){var n;switch(s){case 1:n=Ys.MIDDLE_MOUSE_DOWN;break;case 2:n=Ys.RIGHT_MOUSE_DOWN;break;default:n=Ys.MOUSE_DOWN}this.__onMouse(n,e,i,s)}},onMouseMove:function(t,e,i){null!=this.window&&this.window==t&&this.__onMouse(Ys.MOUSE_MOVE,e,i,0)},onMouseMoveRelative:function(t,e,i){},onMouseUp:function(t,e,i,s){if(null!=this.window&&this.window==t){var n;switch(s){case 1:n=Ys.MIDDLE_MOUSE_UP;break;case 2:n=Ys.RIGHT_MOUSE_UP;break;default:n=Ys.MOUSE_UP}this.__onMouse(n,e,i,s)}},onMouseWheel:function(t,e,i){null!=this.window&&this.window==t&&this.__onMouseWheel(e,i)},onPreloadComplete:function(){},onPreloadProgress:function(t,e){},onRenderContextLost:function(t){},onRenderContextRestored:function(t,e){},onTextEdit:function(t,e,i,s){},onTextInput:function(t,e){if(null!=this.window&&this.window==t){var i=[];null==this.__focus?this.__getInteractive(i):this.__focus.__getInteractive(i);var s=new Os(Os.TEXT_INPUT,!0,!1,e);i.length>0?(i.reverse(),this.__fireEvent(s,i)):this.__broadcast(s,!0)}},onTouchMove:function(t){this.__onTouch("touchMove",t)},onTouchEnd:function(t){this.__onTouch("touchEnd",t)},onTouchStart:function(t){this.__onTouch("touchBegin",t)},onWindowActivate:function(t){if(null!=this.window&&this.window==t){var e=new Ds(Ds.ACTIVATE);this.__broadcast(e,!0)}},onWindowClose:function(t){this.window==t&&(this.window=null)},onWindowCreate:function(t){if(null!=this.window&&this.window==t&&null!=t.renderer){var e=t.renderer.context;switch(e[1]){case 0:var i=e[2];this.__renderer=new Pi(this.stageWidth,this.stageHeight,i);break;case 1:var s=e[2];this.__renderer=new pi(this.stageWidth,this.stageHeight,s);break;case 2:var n=e[2];this.__renderer=new yi(this.stageWidth,this.stageHeight,n);break;case 4:var r=e[2];this.__renderer=new hi(this.stageWidth,this.stageHeight,r);break;case 5:var a=e[2];this.__renderer=new vi(this.stageWidth,this.stageHeight,a)}}},onWindowDeactivate:function(t){if(null!=this.window&&this.window==t){var e=new Ds(Ds.DEACTIVATE);this.__broadcast(e,!0)}},onWindowEnter:function(t){},onWindowFocusIn:function(t){if(null!=this.window&&this.window==t){var e=new Ns(Ns.FOCUS_IN,!0,!1,null,!1,0);this.__broadcast(e,!0)}},onWindowFocusOut:function(t){if(null!=this.window&&this.window==t){var e=new Ns(Ns.FOCUS_OUT,!0,!1,null,!1,0);this.__broadcast(e,!0)}},onWindowFullscreen:function(t){},onWindowLeave:function(t){null!=this.window&&this.window==t&&this.__dispatchEvent(new Ds(Ds.MOUSE_LEAVE))},onWindowMinimize:function(t){},onWindowMove:function(t,e,i){},onWindowResize:function(t,e,i){if(null!=this.window&&this.window==t){this.stageWidth=e,this.stageHeight=i,null!=this.__renderer&&this.__renderer.resize(e,i);var s=new Ds(Ds.RESIZE);this.__broadcast(s,!1)}},onWindowRestore:function(t){},render:function(t){if(null!=t.window&&t.window==this.window&&(null!=this.application&&this.application.windows.length>0&&(this.__transformDirty||(this.__transformDirty=!0,c.__worldTransformDirty++),this.__renderDirty||(this.__updateCachedBitmap=!0,this.__updateFilters=null!=this.get_filters()&&this.get_filters().length>0,this.__renderDirty=!0,c.__worldRenderDirty++)),!this.__rendering)){if(this.__rendering=!0,this.__broadcast(new Ds(Ds.ENTER_FRAME),!0),this.__invalidated&&(this.__invalidated=!1,this.__broadcast(new Ds(Ds.RENDER),!0)),this.__renderable=!0,this.__enterFrame(this.__deltaTime),this.__deltaTime=0,this.__update(!1,!0),null!=this.__renderer){var e=t.context;switch(e[1]){case 4:var i=e[2];st.__cast(this.__renderer,hi).cairo=i,this.__renderer.renderSession.cairo=i}this.__renderer.render(this)}this.__rendering=!1}},update:function(t){this.__deltaTime=t},__drag:function(t){var e=this.__dragObject.parent;null!=e&&(t=e.globalToLocal(t));var i=t.x+this.__dragOffsetX,s=t.y+this.__dragOffsetY;null!=this.__dragBounds&&(i<this.__dragBounds.x?i=this.__dragBounds.x:i>this.__dragBounds.get_right()&&(i=this.__dragBounds.get_right()),s<this.__dragBounds.y?s=this.__dragBounds.y:s>this.__dragBounds.get_bottom()&&(s=this.__dragBounds.get_bottom())),this.__dragObject.set_x(i),this.__dragObject.set_y(s)},__fireEvent:function(t,e){var i=e.length;if(0==i)t.eventPhase=Fs.AT_TARGET,t.target.__broadcast(t,!1);else{t.eventPhase=Fs.CAPTURING_PHASE,t.target=e[e.length-1];for(var s=0,n=i-1;n>s;){var r=s++;if(e[r].__broadcast(t,!1),t.__isCancelled)return}if(t.eventPhase=Fs.AT_TARGET,t.target.__broadcast(t,!1),t.__isCancelled)return;if(t.bubbles){t.eventPhase=Fs.BUBBLING_PHASE;for(var a=i-2;a>=0;){if(e[a].__broadcast(t,!1),t.__isCancelled)return;a--}}}},__getInteractive:function(t){return null!=t&&t.push(this),!0},__onKey:function(t,e,i){Ys.__altKey=ye.get_altKey(i),Ys.__commandKey=ye.get_metaKey(i),Ys.__ctrlKey=ye.get_ctrlKey(i),Ys.__shiftKey=ye.get_shiftKey(i);var s=[];if(null==this.__focus?this.__getInteractive(s):this.__focus.__getInteractive(s),s.length>0){var n;switch(e){case 1073742048:case 1073742049:case 1073742050:case 1073742051:n=1;break;case 1073742052:case 1073742053:case 1073742054:case 1073742055:n=2;break;case 1073741908:case 1073741909:case 1073741910:case 1073741911:case 1073741912:case 1073741913:case 1073741914:case 1073741915:case 1073741916:case 1073741917:case 1073741918:case 1073741919:case 1073741920:case 1073741921:case 1073741922:case 1073741923:case 1073742044:n=3;break;default:n=0}var r;switch(e){case 8:r=8;break;case 9:r=9;break;case 13:r=13;break;case 27:r=27;break;case 32:r=32;break;case 33:r=49;break;case 34:r=222;break;case 35:r=51;break;case 36:r=52;break;case 37:r=53;break;case 38:r=55;break;case 39:r=222;break;case 40:r=57;break;case 41:r=48;break;case 42:r=56;break;case 44:r=188;break;case 45:r=189;break;case 46:r=190;break;case 47:r=191;break;case 48:r=48;break;case 49:r=49;break;case 50:r=50;break;case 51:r=51;break;case 52:r=52;break;case 53:r=53;break;case 54:r=54;break;case 55:r=55;break;case 56:r=56;break;case 57:r=57;break;case 58:r=186;break;case 59:r=186;break;case 60:r=60;break;case 61:r=187;break;case 62:r=190;break;case 63:r=191;break;case 64:r=50;break;case 91:r=219;break;case 92:r=220;break;case 93:r=221;break;case 94:r=54;break;case 95:r=189;break;case 96:r=192;break;case 97:r=65;break;case 98:r=66;break;case 99:r=67;break;case 100:r=68;break;case 101:r=69;break;case 102:r=70;break;case 103:r=71;break;case 104:r=72;break;case 105:r=73;break;case 106:r=74;break;case 107:r=75;break;case 108:r=76;break;case 109:r=77;break;case 110:r=78;break;case 111:r=79;break;case 112:r=80;break;case 113:r=81;break;case 114:r=82;break;case 115:r=83;break;case 116:r=84;break;case 117:r=85;break;case 118:r=86;break;case 119:r=87;break;case 120:r=88;break;case 121:r=89;break;case 122:r=90;break;case 127:r=46;break;case 1073741881:r=20;break;case 1073741882:r=112;break;case 1073741883:r=113;break;case 1073741884:r=114;break;case 1073741885:r=115;break;case 1073741886:r=116;break;case 1073741887:r=117;break;case 1073741888:r=118;break;case 1073741889:r=119;break;case 1073741890:r=120;break;case 1073741891:r=121;break;case 1073741892:r=122;break;case 1073741893:r=123;break;case 1073741894:r=301;break;case 1073741895:r=145;break;case 1073741896:r=19;break;case 1073741897:r=45;break;case 1073741898:r=36;break;case 1073741899:r=33;break;case 1073741901:r=35;break;case 1073741902:r=34;break;case 1073741903:r=39;break;case 1073741904:r=37;break;case 1073741905:r=40;break;case 1073741906:r=38;break;case 1073741907:r=144;break;case 1073741908:r=111;break;case 1073741909:r=106;break;case 1073741910:r=109;break;case 1073741911:r=107;break;case 1073741912:r=108;break;case 1073741913:r=97;break;case 1073741914:r=98;break;case 1073741915:r=99;break;case 1073741916:r=100;break;case 1073741917:r=101;break;case 1073741918:r=102;break;case 1073741919:r=103;break;case 1073741920:r=104;break;case 1073741921:r=105;break;case 1073741922:r=96;break;case 1073741923:r=110;break;case 1073741925:r=302;break;case 1073741928:r=124;break;case 1073741929:r=125;break;case 1073741930:r=126;break;case 1073741982:r=13;break;case 1073742044:r=110;break;case 1073742048:r=17;break;case 1073742049:r=16;break;case 1073742050:r=18;break;case 1073742051:r=15;break;case 1073742052:r=17;break;case 1073742053:r=16;break;case 1073742054:r=18;break;case 1073742055:r=15;break;default:r=e}var a=vn.__getCharCode(r,ye.get_shiftKey(i)),o=new Hs(t,!0,!1,a,r,n,this.__macKeyboard?ye.get_ctrlKey(i)||ye.get_metaKey(i):ye.get_ctrlKey(i),ye.get_altKey(i),ye.get_shiftKey(i),ye.get_ctrlKey(i),ye.get_metaKey(i));s.reverse(),this.__fireEvent(o,s)}},__onMouse:function(t,e,i,s){if(!(s>2)){this.__mouseX=e,this.__mouseY=i;var n=[],r=null,a=new g(e,i);this.__hitTest(e,i,!0,n,!0)?r=n[n.length-1]:(r=this,n=[this]),null==r&&(r=this),t==Ys.MOUSE_DOWN&&(r.get_tabEnabled()?this.set_focus(r):this.set_focus(null)),this.__fireEvent(Ys.__create(t,s,this.__mouseX,this.__mouseY,r==this?a:r.globalToLocal(a),r),n);var o;switch(t){case"mouseUp":o=Ys.CLICK;break;case"middleMouseUp":o=Ys.MIDDLE_CLICK;break;case"rightMouseUp":o=Ys.RIGHT_CLICK;break;default:o=null}if(null!=o&&(this.__fireEvent(Ys.__create(o,s,this.__mouseX,this.__mouseY,r==this?a:r.globalToLocal(a),r),n),t==Ys.MOUSE_UP&&st.__cast(r,f).doubleClickEnabled)){var _=Ze.getTimer();_-this.__lastClickTime<500?(this.__fireEvent(Ys.__create(Ys.DOUBLE_CLICK,s,this.__mouseX,this.__mouseY,r==this?a:r.globalToLocal(a),r),n),this.__lastClickTime=0):this.__lastClickTime=_}for(var h=null,l=0;l<n.length;){var u=n[l];if(++l,h=u.__getCursor(),null!=h){we.set_cursor(h);break}}null==h&&we.set_cursor(Ee.ARROW);for(var c=0,d=this.__mouseOutStack;c<d.length;){var p=d[c];if(++c,-1==C.indexOf(n,p,0)){C.remove(this.__mouseOutStack,p);var m=p.globalToLocal(a);p.__dispatchEvent(new Ys(Ys.MOUSE_OUT,!1,!1,m.x,m.y,p))}}for(var v=0;v<n.length;){var b=n[v];if(++v,-1==C.indexOf(this.__mouseOutStack,b,0)){if(b.hasEventListener(Ys.MOUSE_OVER)){var x=b.globalToLocal(a);b.__dispatchEvent(new Ys(Ys.MOUSE_OVER,!1,!1,x.x,x.y,b))}b.hasEventListener(Ys.MOUSE_OUT)&&this.__mouseOutStack.push(b)}}null!=this.__dragObject&&this.__drag(a)}},__onMouseWheel:function(t,e){var i=this.__mouseX,s=this.__mouseY,n=[];this.__hitTest(i,s,!1,n,!0)||(n=[this]);var r=n[n.length-1],a=new g(i,s),o=0|e;this.__fireEvent(Ys.__create(Ys.MOUSE_WHEEL,0,this.__mouseX,this.__mouseY,r==this?a:r.globalToLocal(a),r,o),n)},__onTouch:function(t,e){var i=new g(e.x*this.stageWidth,e.y*this.stageHeight);this.__mouseX=i.x,this.__mouseY=i.y;var s=[];if(this.__hitTest(e.x,e.y,!1,s,!0)){var n=s[s.length-1];null==n&&(n=this);var r=n.globalToLocal(i),a=js.__create(t,null,this.__mouseX,this.__mouseY,r,n);a.touchPointID=e.id,a.isPrimaryTouchPoint=!0,this.__fireEvent(a,s)}else{var o=js.__create(t,null,this.__mouseX,this.__mouseY,i,this);o.touchPointID=e.id,o.isPrimaryTouchPoint=!0,this.__fireEvent(o,[this.stage])}},__startDrag:function(t,e,i){if(null==i?this.__dragBounds=null:this.__dragBounds=i.clone(),this.__dragObject=t,null!=this.__dragObject)if(e)this.__dragOffsetX=-this.__dragObject.get_width()/2,this.__dragOffsetY=-this.__dragObject.get_height()/2;else{var s=new g(this.get_mouseX(),this.get_mouseY()),n=this.__dragObject.parent;null!=n&&(s=n.globalToLocal(s)),this.__dragOffsetX=this.__dragObject.get_x()-s.x,this.__dragOffsetY=this.__dragObject.get_y()-s.y}},__stopDrag:function(t){this.__dragBounds=null,this.__dragObject=null},__update:function(t,e,i){t?c.__worldTransformDirty>0&&(d.prototype.__update.call(this,!0,e,i),e&&(c.__worldTransformDirty=0,this.__dirty=!0)):(c.__worldTransformDirty>0||this.__dirty||c.__worldRenderDirty>0)&&(d.prototype.__update.call(this,!1,e,i),e&&(c.__worldTransformDirty=0,c.__worldRenderDirty=0,this.__dirty=!1))},get_mouseX:function(){return this.__mouseX},get_mouseY:function(){return this.__mouseY},set_color:function(t){var e=(16711680&t)>>>16,i=(65280&t)>>>8,s=255&t;return this.__colorSplit=[e/255,i/255,s/255],this.__colorString="#"+O.hex(t,6),this.__color=t},get_focus:function(){return this.__focus},set_focus:function(t){if(t!=this.__focus){var e=this.__focus;if(this.__focus=t,null!=e){var i=new Ns(Ns.FOCUS_OUT,!0,!1,this.__focus,!1,0);this.__stack=[],e.__getInteractive(this.__stack),this.__stack.reverse(),this.__fireEvent(i,this.__stack)}if(null!=this.__focus){var s=new Ns(Ns.FOCUS_IN,!0,!1,e,!1,0);this.__stack=[],t.__getInteractive(this.__stack),this.__stack.reverse(),this.__fireEvent(s,this.__stack)}}return this.__focus},__class__:Ts,__properties__:s(d.prototype.__properties__,{set_focus:"set_focus",get_focus:"get_focus",set_color:"set_color"})});var Ps=function(){l.call(this)};a["openfl.display.Stage3D"]=Ps,Ps.__name__=!0,Ps.__super__=l,Ps.prototype=s(l.prototype,{__class__:Ps});var Rs=a["openfl.display.StageAlign"]={__ename__:!0,__constructs__:["TOP_RIGHT","TOP_LEFT","TOP","RIGHT","LEFT","BOTTOM_RIGHT","BOTTOM_LEFT","BOTTOM"]};Rs.TOP_RIGHT=["TOP_RIGHT",0],Rs.TOP_RIGHT.toString=o,Rs.TOP_RIGHT.__enum__=Rs,Rs.TOP_LEFT=["TOP_LEFT",1],Rs.TOP_LEFT.toString=o,Rs.TOP_LEFT.__enum__=Rs,Rs.TOP=["TOP",2],Rs.TOP.toString=o,Rs.TOP.__enum__=Rs,Rs.RIGHT=["RIGHT",3],Rs.RIGHT.toString=o,Rs.RIGHT.__enum__=Rs,Rs.LEFT=["LEFT",4],Rs.LEFT.toString=o,Rs.LEFT.__enum__=Rs,Rs.BOTTOM_RIGHT=["BOTTOM_RIGHT",5],Rs.BOTTOM_RIGHT.toString=o,Rs.BOTTOM_RIGHT.__enum__=Rs,Rs.BOTTOM_LEFT=["BOTTOM_LEFT",6],Rs.BOTTOM_LEFT.toString=o,Rs.BOTTOM_LEFT.__enum__=Rs,Rs.BOTTOM=["BOTTOM",7],Rs.BOTTOM.toString=o,Rs.BOTTOM.__enum__=Rs;var Ss=a["openfl.display.StageDisplayState"]={__ename__:!0,__constructs__:["NORMAL","FULL_SCREEN","FULL_SCREEN_INTERACTIVE"]};Ss.NORMAL=["NORMAL",0],Ss.NORMAL.toString=o,Ss.NORMAL.__enum__=Ss,Ss.FULL_SCREEN=["FULL_SCREEN",1],Ss.FULL_SCREEN.toString=o,Ss.FULL_SCREEN.__enum__=Ss,Ss.FULL_SCREEN_INTERACTIVE=["FULL_SCREEN_INTERACTIVE",2],Ss.FULL_SCREEN_INTERACTIVE.toString=o,Ss.FULL_SCREEN_INTERACTIVE.__enum__=Ss;var Cs=a["openfl.display.StageQuality"]={__ename__:!0,__constructs__:["BEST","HIGH","MEDIUM","LOW"]};Cs.BEST=["BEST",0],Cs.BEST.toString=o,Cs.BEST.__enum__=Cs,Cs.HIGH=["HIGH",1],Cs.HIGH.toString=o,Cs.HIGH.__enum__=Cs,Cs.MEDIUM=["MEDIUM",2],Cs.MEDIUM.toString=o,Cs.MEDIUM.__enum__=Cs,Cs.LOW=["LOW",3],Cs.LOW.toString=o,Cs.LOW.__enum__=Cs;var Is=a["openfl.display.StageScaleMode"]={__ename__:!0,__constructs__:["SHOW_ALL","NO_SCALE","NO_BORDER","EXACT_FIT"]};Is.SHOW_ALL=["SHOW_ALL",0],Is.SHOW_ALL.toString=o,Is.SHOW_ALL.__enum__=Is,Is.NO_SCALE=["NO_SCALE",1],Is.NO_SCALE.toString=o,Is.NO_SCALE.__enum__=Is,Is.NO_BORDER=["NO_BORDER",2],Is.NO_BORDER.toString=o,Is.NO_BORDER.__enum__=Is,Is.EXACT_FIT=["EXACT_FIT",3],Is.EXACT_FIT.toString=o,Is.EXACT_FIT.__enum__=Is;var Ms=function(){};a["openfl.display.Tilesheet"]=Ms,Ms.__name__=!0,Ms.prototype={__class__:Ms};var As=a["openfl.display.TriangleCulling"]={__ename__:!0,__constructs__:["NEGATIVE","NONE","POSITIVE"]};As.NEGATIVE=["NEGATIVE",0],As.NEGATIVE.toString=o,As.NEGATIVE.__enum__=As,As.NONE=["NONE",1],As.NONE.toString=o,As.NONE.__enum__=As,As.POSITIVE=["POSITIVE",2],As.POSITIVE.toString=o,As.POSITIVE.__enum__=As;var Ls=function(t){Pe.call(this,t)};a["openfl.display.Window"]=Ls,Ls.__name__=!0,Ls.__super__=Pe,Ls.prototype=s(Pe.prototype,{create:function(t){Pe.prototype.create.call(this,t),this.stage=new Ts(this,Object.prototype.hasOwnProperty.call(this.config,"background")?this.config.background:16777215),t.addModule(this.stage)},__class__:Ls});var Ds=function(t,e,i){null==i&&(i=!1),null==e&&(e=!1),this.type=t,this.bubbles=e,this.cancelable=i,this.eventPhase=Fs.AT_TARGET};a["openfl.events.Event"]=Ds,Ds.__name__=!0,Ds.prototype={stopImmediatePropagation:function(){this.__isCancelled=!0,this.__isCancelledNow=!0},stopPropagation:function(){this.__isCancelled=!0},__class__:Ds};var Os=function(t,e,i,s){null==s&&(s=""),null==i&&(i=!1),null==e&&(e=!1),Ds.call(this,t,e,i),this.text=s};a["openfl.events.TextEvent"]=Os,Os.__name__=!0,Os.__super__=Ds,Os.prototype=s(Ds.prototype,{__class__:Os});var ks=function(t,e,i,s,n){null==n&&(n=0),null==s&&(s=""),null==i&&(i=!1),null==e&&(e=!1),Os.call(this,t,e,i,s),this.errorID=n};a["openfl.events.ErrorEvent"]=ks,ks.__name__=!0,ks.__super__=Os,ks.prototype=s(Os.prototype,{__class__:ks});var Bs=function(t,e,i){this.callback=t,this.useCapture=e,this.priority=i};a["openfl.events._EventDispatcher.Listener"]=Bs,Bs.__name__=!0,Bs.prototype={match:function(t,e){return L.compareMethods(this.callback,t)&&this.useCapture==e},__class__:Bs};var Fs=a["openfl.events.EventPhase"]={__ename__:!0,__constructs__:["CAPTURING_PHASE","AT_TARGET","BUBBLING_PHASE"]};Fs.CAPTURING_PHASE=["CAPTURING_PHASE",0],Fs.CAPTURING_PHASE.toString=o,Fs.CAPTURING_PHASE.__enum__=Fs,Fs.AT_TARGET=["AT_TARGET",1],Fs.AT_TARGET.toString=o,Fs.AT_TARGET.__enum__=Fs,Fs.BUBBLING_PHASE=["BUBBLING_PHASE",2],Fs.BUBBLING_PHASE.toString=o,Fs.BUBBLING_PHASE.__enum__=Fs;var Ns=function(t,e,i,s,n,r){null==r&&(r=0),null==n&&(n=!1),null==i&&(i=!1),null==e&&(e=!1),Ds.call(this,t,e,i),this.keyCode=r,this.shiftKey=n,this.relatedObject=s};a["openfl.events.FocusEvent"]=Ns,Ns.__name__=!0,Ns.__super__=Ds,Ns.prototype=s(Ds.prototype,{__class__:Ns});var Us=function(t,e,i,s,n){null==n&&(n=!1),null==s&&(s=!1),null==i&&(i=!1),null==e&&(e=!1),Ds.call(this,t,e,i),this.fullScreen=s,this.interactive=n};a["openfl.events.FullScreenEvent"]=Us,Us.__name__=!0,Us.__super__=Ds,Us.prototype=s(Ds.prototype,{__class__:Us});var Gs=function(t,e,i,s){null==i&&(i=!1),null==e&&(e=!0),Ds.call(this,t,e,i),this.device=s};a["openfl.events.GameInputEvent"]=Gs,Gs.__name__=!0,Gs.__super__=Ds,Gs.prototype=s(Ds.prototype,{__class__:Gs});var Ws=function(t,e,i,s){null==s&&(s=0),null==i&&(i=!1),null==e&&(e=!1),this.status=s,Ds.call(this,t,e,i)};a["openfl.events.HTTPStatusEvent"]=Ws,Ws.__name__=!0,Ws.__super__=Ds,Ws.prototype=s(Ds.prototype,{__class__:Ws});var Vs=function(t,e,i,s,n){null==n&&(n=0),null==s&&(s=""),null==i&&(i=!1),null==e&&(e=!0),ks.call(this,t,e,i,s,n)};a["openfl.events.IOErrorEvent"]=Vs,Vs.__name__=!0,Vs.__super__=ks,Vs.prototype=s(ks.prototype,{__class__:Vs});var Hs=function(t,e,i,s,n,r,a,o,_,h,l){null==l&&(l=!1),null==h&&(h=!1),null==_&&(_=!1),null==o&&(o=!1),null==a&&(a=!1),null==n&&(n=0),null==s&&(s=0),null==i&&(i=!1),null==e&&(e=!1),Ds.call(this,t,e,i),this.charCode=s,this.keyCode=n,null!=r?this.keyLocation=r:this.keyLocation=0,this.ctrlKey=a,this.altKey=o,this.shiftKey=_,this.controlKey=h,this.commandKey=l};a["openfl.events.KeyboardEvent"]=Hs,Hs.__name__=!0,Hs.__super__=Ds,Hs.prototype=s(Ds.prototype,{__class__:Hs});var Ys=function(t,e,i,s,n,r,a,o,_,h,l,u,c){null==c&&(c=0),null==u&&(u=!1),null==l&&(l=0),null==h&&(h=!1),null==_&&(_=!1),null==o&&(o=!1),null==a&&(a=!1),null==n&&(n=0),null==s&&(s=0),null==i&&(i=!1),null==e&&(e=!0),Ds.call(this,t,e,i),this.shiftKey=_,this.altKey=o,this.ctrlKey=a,this.bubbles=e,this.relatedObject=r,this.delta=l,this.localX=s,this.localY=n,this.buttonDown=h,this.commandKey=u,this.clickCount=c};a["openfl.events.MouseEvent"]=Ys,Ys.__name__=!0,Ys.__altKey=null,Ys.__buttonDown=null,Ys.__commandKey=null,Ys.__ctrlKey=null,Ys.__shiftKey=null,Ys.__create=function(t,e,i,s,n,r,a){switch(null==a&&(a=0),t){case"mouseDown":Ys.__buttonDown=!0;break;case"mouseUp":Ys.__buttonDown=!1}var o=new Ys(t,!0,!1,n.x,n.y,null,Ys.__ctrlKey,Ys.__altKey,Ys.__shiftKey,Ys.__buttonDown,a,Ys.__commandKey);return o.stageX=i,o.stageY=s,o.target=r,o},Ys.__super__=Ds,Ys.prototype=s(Ds.prototype,{__class__:Ys});var Xs=function(t,e,i,s,n){null==n&&(n=0),null==s&&(s=0),null==i&&(i=!1),null==e&&(e=!1),Ds.call(this,t,e,i),this.bytesLoaded=s,this.bytesTotal=n};a["openfl.events.ProgressEvent"]=Xs,Xs.__name__=!0,Xs.__super__=Ds,Xs.prototype=s(Ds.prototype,{__class__:Xs});var zs=function(t,e,i,s,n){null==n&&(n=0),null==s&&(s=""),null==i&&(i=!1),null==e&&(e=!1),ks.call(this,t,e,i,s,n)};a["openfl.events.SecurityErrorEvent"]=zs,zs.__name__=!0,zs.__super__=ks,zs.prototype=s(ks.prototype,{__class__:zs});var js=function(t,e,i,s,n,r,a,o,_,h,l,u,c,f,d){null==d&&(d=0),null==f&&(f=!1),null==c&&(c=0),null==u&&(u=!1),null==l&&(l=!1),null==h&&(h=!1),null==_&&(_=!1),null==a&&(a=1),null==r&&(r=1),null==n&&(n=0),null==s&&(s=0),null==i&&(i=!1),null==e&&(e=!0),Ds.call(this,t,e,i),this.shiftKey=l,this.altKey=h,this.ctrlKey=_,this.bubbles=e,this.relatedObject=o,this.delta=c,this.localX=s,this.localY=n,this.sizeX=r,this.sizeY=a,this.buttonDown=u,this.commandKey=f,this.pressure=1,this.touchPointID=0,this.isPrimaryTouchPoint=!0};a["openfl.events.TouchEvent"]=js,js.__name__=!0,js.__create=function(t,e,i,s,n,r){var a=new js(t,!0,!1,n.x,n.y,1,1,null,!1,!1,!1,!1,0,!1,0);return a.stageX=i,a.stageY=s,a.target=r,a},js.__super__=Ds,js.prototype=s(Ds.prototype,{__class__:js});var Ks=function(){this.__saveLastFilter=!1,this.__passes=0};a["openfl.filters.BitmapFilter"]=Ks,Ks.__name__=!0,Ks.__tmpRenderTexture=null,Ks.__expandBounds=function(t,e,i){var s=Gi.__temp;s.setEmpty();for(var n=0;n<t.length;){var r=t[n];++n,r.__growBounds(s)}s.__transform(s,i),e.__expand(s.x,s.y,s.width,s.height)},Ks.__applyFilters=function(t,e,i,s,n,r){var a=s==i&&s.__usingPingPongTexture;a&&(s.__pingPongTexture.useOldTexture=!0),null==n&&(n=i.rect);for(var o=null,_=!1,h=i.__shader,l=0;l<t.length;){var u=t[l];++l,_=!1,u.__saveLastFilter&&(s.__pingPongTexture.swap(),s.__drawGL(e,i,null,null,null,n,!0,!s.__usingPingPongTexture,!0),o=s.__pingPongTexture.get_oldRenderTexture(),s.__pingPongTexture.set_oldRenderTexture(Ks.__tmpRenderTexture));for(var c=0,f=u.__passes;f>c;){var d=c++;_=u.__saveLastFilter&&u.__useLastFilter(d),a&&!_&&s.__pingPongTexture.swap(),_&&(Ks.__tmpRenderTexture=s.__pingPongTexture.get_oldRenderTexture(),s.__pingPongTexture.set_oldRenderTexture(o)),i.__shader=u.__preparePass(d),s.__drawGL(e,i,null,null,null,n,!0,!s.__usingPingPongTexture,!_)}}i.__shader=h,a&&(s.__pingPongTexture.useOldTexture=!1)},Ks.prototype={__growBounds:function(t){},__preparePass:function(t){return null},__useLastFilter:function(t){return!1},__class__:Ks};var qs=function(){};a["openfl.geom.Matrix3D"]=qs,qs.__name__=!0,qs.prototype={__class__:qs};var Zs=function(t){this.__colorTransform=new qe,this.concatenatedColorTransform=new qe,
this.pixelBounds=new Gi,this.__displayObject=t,this.__hasMatrix=!0};a["openfl.geom.Transform"]=Zs,Zs.__name__=!0,Zs.prototype={get_colorTransform:function(){return this.__colorTransform},__class__:Zs,__properties__:{get_colorTransform:"get_colorTransform"}};var Js=function(){};a["openfl.geom.Vector3D"]=Js,Js.__name__=!0;var Qs=function(){};a["openfl.media.ID3Info"]=Qs,Qs.__name__=!0;var $s=function(t,e){l.call(this,this),this.bytesLoaded=0,this.bytesTotal=0,this.id3=null,this.isBuffering=!1,this.url=null,null!=t&&this.load(t,e)};a["openfl.media.Sound"]=$s,$s.__name__=!0,$s.__super__=l,$s.prototype=s(l.prototype,{load:function(t,e){this.url=t.url,this.__soundID=et.withoutExtension(t.url),$s.__registeredSounds.exists(this.__soundID)?this.dispatchEvent(new Ds(Ds.COMPLETE)):($s.__registeredSounds.set(this.__soundID,!0),createjs.Sound.addEventListener("fileload",r(this,this.SoundJS_onFileLoad)),createjs.Sound.addEventListener("fileerror",r(this,this.SoundJS_onFileError)),createjs.Sound.registerSound(this.url,this.__soundID))},SoundJS_onFileLoad:function(t){t.id==this.__soundID&&(createjs.Sound.removeEventListener("fileload",r(this,this.SoundJS_onFileLoad)),createjs.Sound.removeEventListener("fileerror",r(this,this.SoundJS_onFileError)),this.dispatchEvent(new Ds(Ds.COMPLETE)))},SoundJS_onFileError:function(t){t.id==this.__soundID&&(createjs.Sound.removeEventListener("fileload",r(this,this.SoundJS_onFileLoad)),createjs.Sound.removeEventListener("fileerror",r(this,this.SoundJS_onFileError)),this.dispatchEvent(new Vs(Vs.IO_ERROR)))},__class__:$s});var tn=function(){};a["openfl.media.SoundLoaderContext"]=tn,tn.__name__=!0;var en=function(t,e){null==e&&(e=0),null==t&&(t=1),this.volume=t,this.pan=e,this.leftToLeft=0,this.leftToRight=0,this.rightToLeft=0,this.rightToRight=0};a["openfl.media.SoundTransform"]=en,en.__name__=!0,en.prototype={__class__:en};var sn=function(t){l.call(this),this.bytesLoaded=0,this.bytesTotal=0,this.set_dataFormat(nn.TEXT),null!=t&&this.load(t)};a["openfl.net.URLLoader"]=sn,sn.__name__=!0,sn.__super__=l,sn.prototype=s(l.prototype,{getData:function(){return null},load:function(t){this.requestUrl(t.url,t.method,t.data,t.formatRequestHeaders())},registerEvents:function(t){var e=this;"undefined"!=typeof XMLHttpRequestProgressEvent&&t.addEventListener("progress",r(this,this.onProgress),!1),t.onreadystatechange=function(){if(4==t.readyState){var i;try{i=t.status}catch(s){s instanceof it&&(s=s.val),i=null}void 0==i&&(i=null),null!=i&&e.onStatus(i),null!=i&&i>=200&&400>i?e.onData(t.response):null==i?e.onError("Failed to connect or resolve host"):12029==i?e.onError("Failed to connect to host"):12007==i?e.onError("Unknown host"):0==i?(e.onError("Unable to make request (may be blocked due to cross-domain permissions)"),e.onSecurityError("Unable to make request (may be blocked due to cross-domain permissions)")):e.onError("Http Error #"+t.status)}}},requestUrl:function(t,e,i,s){var n=new XMLHttpRequest;this.registerEvents(n);var r="";if(st.__instanceof(i,Re)){var a=i,o=this.dataFormat;switch(o[1]){case 0:r=a.data.buffer;break;default:r=a.readUTFBytes(a.length)}}else if(st.__instanceof(i,on))for(var _=i,h=0,l=L.fields(_);h<l.length;){var u=l[h];++h,0!=r.length&&(r+="&"),r+=encodeURIComponent(u)+"="+O.urlEncode(L.field(_,u))}else null!=i&&(r=i.toString());try{if("GET"==e&&null!=r&&""!=r){var c=t.split("?").length<=1;n.open(e,t+(c?"?":"&")+D.string(r),!0),r=""}else n.open(e,t,!0)}catch(f){return f instanceof it&&(f=f.val),void this.onError(f.toString())}var d=this.dataFormat;switch(d[1]){case 0:n.responseType="arraybuffer"}for(var p=0;p<s.length;){var g=s[p];++p,n.setRequestHeader(g.name,g.value)}n.send(r),this.onOpen(),this.getData=function(){return null!=n.response?n.response:n.responseText}},onData:function(t){var e=this.getData(),i=this.dataFormat;switch(i[1]){case 0:this.data=Re.__ofBuffer(e);break;default:this.data=D.string(e)}var s=new Ds(Ds.COMPLETE);s.currentTarget=this,this.dispatchEvent(s)},onError:function(t){var e=new Vs(Vs.IO_ERROR);e.text=t,e.currentTarget=this,this.dispatchEvent(e)},onOpen:function(){var t=new Ds(Ds.OPEN);t.currentTarget=this,this.dispatchEvent(t)},onProgress:function(t){var e=new Xs(Xs.PROGRESS);e.currentTarget=this,e.bytesLoaded=t.loaded,e.bytesTotal=t.total,this.dispatchEvent(e)},onSecurityError:function(t){var e=new zs(zs.SECURITY_ERROR);e.text=t,e.currentTarget=this,this.dispatchEvent(e)},onStatus:function(t){var e=new Ws(Ws.HTTP_STATUS,!1,!1,t);e.currentTarget=this,this.dispatchEvent(e)},set_dataFormat:function(t){return t!=nn.BINARY||L.hasField(window,"ArrayBuffer")?this.dataFormat=t:this.dataFormat=nn.TEXT,this.dataFormat},__class__:sn,__properties__:{set_dataFormat:"set_dataFormat"}});var nn=a["openfl.net.URLLoaderDataFormat"]={__ename__:!0,__constructs__:["BINARY","TEXT","VARIABLES"]};nn.BINARY=["BINARY",0],nn.BINARY.toString=o,nn.BINARY.__enum__=nn,nn.TEXT=["TEXT",1],nn.TEXT.toString=o,nn.TEXT.__enum__=nn,nn.VARIABLES=["VARIABLES",2],nn.VARIABLES.toString=o,nn.VARIABLES.__enum__=nn;var rn=function(t){null!=t&&(this.url=t),this.requestHeaders=[],this.method="GET",this.contentType=null};a["openfl.net.URLRequest"]=rn,rn.__name__=!0,rn.prototype={formatRequestHeaders:function(){var t=this.requestHeaders;return null==t&&(t=[]),"GET"==this.method||null==this.data?t:(("string"==typeof this.data||st.__instanceof(this.data,Re))&&(t=t.slice(),t.push(new an("Content-Type",null!=this.contentType?this.contentType:"application/x-www-form-urlencoded"))),t)},__class__:rn};var an=function(t,e){null==e&&(e=""),null==t&&(t=""),this.name=t,this.value=e};a["openfl.net.URLRequestHeader"]=an,an.__name__=!0,an.prototype={__class__:an};var on=function(){};a["openfl.net.URLVariables"]=on,on.__name__=!0;var _n=a["openfl.text.AntiAliasType"]={__ename__:!0,__constructs__:["ADVANCED","NORMAL"]};_n.ADVANCED=["ADVANCED",0],_n.ADVANCED.toString=o,_n.ADVANCED.__enum__=_n,_n.NORMAL=["NORMAL",1],_n.NORMAL.toString=o,_n.NORMAL.__enum__=_n;var hn=a["openfl.text.GridFitType"]={__ename__:!0,__constructs__:["NONE","PIXEL","SUBPIXEL"]};hn.NONE=["NONE",0],hn.NONE.toString=o,hn.NONE.__enum__=hn,hn.PIXEL=["PIXEL",1],hn.PIXEL.toString=o,hn.PIXEL.__enum__=hn,hn.SUBPIXEL=["SUBPIXEL",2],hn.SUBPIXEL.toString=o,hn.SUBPIXEL.__enum__=hn;var ln=function(){f.call(this),this.__caretIndex=-1,this.__graphics=new fs,this.__textEngine=new is(this),this.__layoutDirty=!0,this.__tabEnabled=!0,null==ln.__defaultTextFormat&&(ln.__defaultTextFormat=new fn("Times New Roman",12,0,!1,!1,!1,"","",dn.LEFT,0,0,0,0),ln.__defaultTextFormat.blockIndent=0,ln.__defaultTextFormat.bullet=!1,ln.__defaultTextFormat.letterSpacing=0,ln.__defaultTextFormat.kerning=!1),this.__textFormat=ln.__defaultTextFormat.clone(),this.__textEngine.textFormatRanges.push(new ss(this.__textFormat,0,0)),this.addEventListener(Ys.MOUSE_DOWN,r(this,this.this_onMouseDown))};a["openfl.text.TextField"]=ln,ln.__name__=!0,ln.__defaultTextFormat=null,ln.__super__=f,ln.prototype=s(f.prototype,{getCharBoundaries:function(t){if(0>t||t>this.__textEngine.text.length-1)return null;this.__updateLayout();for(var e=0,i=this.__textEngine.layoutGroups;e<i.length;){var s=i[e];if(++e,t>=s.startIndex&&t<=s.endIndex){for(var n=s.offsetX,r=0,a=t-s.startIndex;a>r;){var o=r++;n+=s.advances[o]}return new Gi(n,s.offsetY,s.advances[t-s.startIndex],s.ascent+s.descent)}}return null},replaceSelectedText:function(t){if(""!=t||this.__selectionIndex!=this.__caretIndex){var e;e=this.__caretIndex<this.__selectionIndex?this.__caretIndex:this.__selectionIndex;var i;i=this.__caretIndex>this.__selectionIndex?this.__caretIndex:this.__selectionIndex,this.replaceText(e,i,t),this.__caretIndex=e+t.length,this.__selectionIndex=this.__caretIndex}},replaceText:function(t,e,i){if(!(t>e||0>t||e>this.__textEngine.text.length||null==i)){this.__textEngine.text=this.__textEngine.text.substring(0,t)+i+this.__textEngine.text.substring(e);for(var s,n=i.length-(e-t),r=0;r<this.__textEngine.textFormatRanges.length;)s=this.__textEngine.textFormatRanges[r],s.start<=t&&s.end>=e?(s.end+=n,r++):s.start>=t&&s.end<=e?(this.__textEngine.textFormatRanges.splice(r,1),n-=s.end-s.start):s.start>t&&s.start<=e?(s.start+=n,r++):r++;this.__dirty=!0,this.__layoutDirty=!0}},__getBounds:function(t,e){this.__updateLayout();var i=Gi.__temp;this.__textEngine.bounds.__transform(i,e),t.__expand(i.x,i.y,i.width,i.height)},__getCursor:function(){return this.__textEngine.selectable?Ee.TEXT:null},__getPosition:function(t,e){this.__updateLayout(),t+=this.get_scrollH();for(var i=0,s=this.get_scrollV()-1;s>i;){var n=i++;e+=this.__textEngine.lineHeights[n]}e>this.__textEngine.textHeight&&(e=this.__textEngine.textHeight);for(var r,a,o=!0,_=0,h=this.__textEngine.layoutGroups.length;h>_;){var l=_++;if(r=this.__textEngine.layoutGroups[l],a=l<this.__textEngine.layoutGroups.length-1?this.__textEngine.layoutGroups[l+1]:null,o&&(e<r.offsetY&&(e=r.offsetY),t<r.offsetX&&(t=r.offsetX),o=!1),(e>=r.offsetY&&e<=r.offsetY+r.height||null==a)&&(t>=r.offsetX&&t<=r.offsetX+r.width||null==a||a.lineIndex!=r.lineIndex)){for(var u=0,c=0,f=r.advances.length;f>c;){var d=c++;if(u+=r.advances[d],t<=r.offsetX+u)return t<=r.offsetX+(u-r.advances[d])+r.advances[d]/2?r.startIndex+d:r.startIndex+d<r.endIndex?r.startIndex+d+1:r.endIndex}return r.endIndex}}return this.__textEngine.text.length},__hitTest:function(t,e,i,s,n){if(!this.get_visible()||this.__isMask||n&&!this.mouseEnabled)return!1;if(null!=this.get_mask()&&!this.get_mask().__hitTestMask(t,e))return!1;this.__getWorldTransform(),this.__updateLayout();var r=this.__worldTransform.__transformInverseX(t,e),a=this.__worldTransform.__transformInverseY(t,e);return this.__textEngine.bounds.contains(r,a)?(null!=s&&s.push(this),!0):!1},__hitTestMask:function(t,e){this.__getWorldTransform(),this.__updateLayout();var i=this.__worldTransform.__transformInverseX(t,e),s=this.__worldTransform.__transformInverseY(t,e);return this.__textEngine.bounds.contains(i,s)?!0:!1},__renderCairo:function(t){ui.render(this,t),f.prototype.__renderCairo.call(this,t)},__renderCanvas:function(t){if(mi.render(this,t),this.__textEngine.antiAliasType==_n.ADVANCED&&this.__textEngine.gridFitType==hn.PIXEL){var e=t.context.imageSmoothingEnabled;e&&(t.context.mozImageSmoothingEnabled=!1,t.context.msImageSmoothingEnabled=!1,t.context.imageSmoothingEnabled=!1),f.prototype.__renderCanvas.call(this,t),e&&(t.context.mozImageSmoothingEnabled=!0,t.context.msImageSmoothingEnabled=!0,t.context.imageSmoothingEnabled=!0)}else f.prototype.__renderCanvas.call(this,t)},__renderDOM:function(t){Ei.render(this,t)},__renderGL:function(t){return this.__cacheAsBitmap?void this.__cacheGL(t):(null!=this.__scrollRect&&t.maskManager.pushRect(this.__scrollRect,this.__renderTransform),null!=this.__mask&&null!=this.__maskGraphics&&this.__maskGraphics.__commands.get_length()>0&&t.maskManager.pushMask(this),mi.render(this,t),Pi.renderBitmap(this,t,this.__textEngine.antiAliasType!=_n.ADVANCED||this.__textEngine.gridFitType!=hn.PIXEL),null!=this.__mask&&null!=this.__maskGraphics&&this.__maskGraphics.__commands.get_length()>0&&t.maskManager.popMask(),void(null!=this.__scrollRect&&t.maskManager.popRect()))},__startCursorTimer:function(){this.__cursorTimer=U.delay(r(this,this.__startCursorTimer),600),this.__showCursor=!this.__showCursor,this.__dirty=!0},__startTextInput:function(){this.__caretIndex<0&&(this.__caretIndex=this.__textEngine.text.length,this.__selectionIndex=this.__caretIndex),null!=this.stage&&(this.stage.window.backend.setEnableTextEvents(!0),this.__inputEnabled||(this.stage.window.backend.setEnableTextEvents(!0),this.stage.window.onTextInput.has(r(this,this.window_onTextInput))||(this.stage.window.onTextInput.add(r(this,this.window_onTextInput)),this.stage.window.onKeyDown.add(r(this,this.window_onKeyDown))),this.__inputEnabled=!0,this.__startCursorTimer()))},__stopCursorTimer:function(){null!=this.__cursorTimer&&(this.__cursorTimer.stop(),this.__cursorTimer=null),this.__showCursor&&(this.__showCursor=!1,this.__dirty=!0)},__stopTextInput:function(){this.__inputEnabled&&null!=this.stage&&(this.stage.window.backend.setEnableTextEvents(!1),this.stage.window.onTextInput.remove(r(this,this.window_onTextInput)),this.stage.window.onKeyDown.remove(r(this,this.window_onKeyDown)),this.__inputEnabled=!1,this.__stopCursorTimer())},__updateLayout:function(){if(this.__layoutDirty){if(this.__textEngine.update(),this.__textEngine.autoSize!=un.NONE){var t=this.__textEngine.width,e=(this.__textEngine.height,this.__textEngine.autoSize);switch(e[1]){case 1:case 3:case 0:this.__textEngine.wordWrap||(this.__textEngine.width=this.__textEngine.textWidth+4),this.__textEngine.height=this.__textEngine.textHeight+4}if(this.__textEngine.width!=t){var i=this.__textEngine.autoSize;switch(i[1]){case 3:var s=this;s.set_x(s.get_x()+(t-this.__textEngine.width));break;case 0:var n=this;n.set_x(n.get_x()+(t-this.__textEngine.width)/2)}}this.__textEngine.getBounds()}this.__layoutDirty=!1}},set_autoSize:function(t){return t!=this.__textEngine.autoSize&&(this.__dirty=!0,this.__layoutDirty=!0),this.__textEngine.autoSize=t},set_defaultTextFormat:function(t){return this.__textFormat.__merge(t),this.__layoutDirty=!0,this.__dirty=!0,t},set_embedFonts:function(t){return this.__textEngine.embedFonts=t},get_height:function(){return this.__updateLayout(),this.__textEngine.height},set_height:function(t){return(1!=this.get_scaleY()||t!=this.__textEngine.height)&&(this.__transformDirty||(this.__transformDirty=!0,c.__worldTransformDirty++),this.__dirty=!0,this.__layoutDirty=!0),this.set_scaleY(1),this.__textEngine.height=t},get_htmlText:function(){return this.__textEngine.text},set_htmlText:function(t){if(this.__isHTML&&this.__textEngine.text==t||(this.__dirty=!0,this.__layoutDirty=!0),this.__isHTML=!0,null==this.__div){t=new S("<br>","g").replace(t,"\n"),t=new S("<br/>","g").replace(t,"\n");var e=t.split("<font");if(1==e.length){t=new S("<.*?>","g").replace(t,""),this.__textEngine.textFormatRanges.length>1&&this.__textEngine.textFormatRanges.splice(1,this.__textEngine.textFormatRanges.length-1);var i=this.__textEngine.textFormatRanges[0];return i.format=this.__textFormat,i.start=0,i.end=t.length,this.__textEngine.text=t}this.__textEngine.textFormatRanges.splice(0,this.__textEngine.textFormatRanges.length),t="";for(var s=0;s<e.length;){var n=e[s];if(++s,""!=n){var r=n.indexOf("</font>");if(r>-1){var a=n.indexOf(">")+1,o=r,_=this.__textFormat.clone(),h=n.indexOf("face="),l=n.indexOf("color="),u=n.indexOf("size=");if(h>-1&&a>h){var c=n.indexOf('"',h);_.font=C.substr(n,h+6,c)}l>-1&&a>l&&(_.color=D.parseInt("0x"+C.substr(n,l+8,6))),u>-1&&a>u&&(_.size=D.parseInt(function(t){var e,i=n.indexOf('"',u);return e=C.substr(n,u+6,i)}(this)));var f=n.substring(a,o);f=new S("<.*?>","g").replace(f,""),this.__textEngine.textFormatRanges.push(new ss(_,t.length,t.length+f.length)),t+=f,r+7<n.length&&(f=C.substr(n,r+7,null),this.__textEngine.textFormatRanges.push(new ss(this.__textFormat,t.length,t.length+f.length)),t+=f)}else this.__textEngine.textFormatRanges.push(new ss(this.__textFormat,t.length,t.length+n.length)),t+=n}}}return this.__textEngine.text=t},set_maxChars:function(t){return t!=this.__textEngine.maxChars&&(this.__dirty=!0,this.__layoutDirty=!0),this.__textEngine.maxChars=t},set_multiline:function(t){return t!=this.__textEngine.multiline&&(this.__dirty=!0,this.__layoutDirty=!0),this.__textEngine.multiline=t},get_scrollH:function(){return this.__textEngine.scrollH},get_scrollV:function(){return this.__textEngine.scrollV},get_selectable:function(){return this.__textEngine.selectable},set_selectable:function(t){return t!=this.__textEngine.selectable&&this.get_type()==cn.INPUT&&(null!=this.stage&&this.stage.get_focus()==this?this.__startTextInput():t||this.__stopTextInput()),this.__textEngine.selectable=t},get_text:function(){return this.__textEngine.text},set_text:function(t){if(!this.__isHTML&&this.__textEngine.text==t)return t;this.__dirty=!0,this.__layoutDirty=!0,this.__textEngine.textFormatRanges.length>1&&this.__textEngine.textFormatRanges.splice(1,this.__textEngine.textFormatRanges.length-1);var e=this.__textEngine.textFormatRanges[0];return e.format=this.__textFormat,e.start=0,e.end=t.length,this.__isHTML=!1,this.__textEngine.text=t},get_textHeight:function(){return this.__updateLayout(),this.__textEngine.textHeight},get_type:function(){return this.__textEngine.type},set_type:function(t){return t!=this.__textEngine.type&&(t==cn.INPUT?(this.addEventListener(Ns.FOCUS_IN,r(this,this.this_onFocusIn)),this.addEventListener(Ns.FOCUS_OUT,r(this,this.this_onFocusOut)),this.addEventListener(Ds.ADDED_TO_STAGE,r(this,this.this_onAddedToStage)),this.this_onFocusIn(null)):(this.removeEventListener(Ns.FOCUS_IN,r(this,this.this_onFocusIn)),this.removeEventListener(Ns.FOCUS_OUT,r(this,this.this_onFocusOut)),this.removeEventListener(Ds.ADDED_TO_STAGE,r(this,this.this_onAddedToStage)),this.__stopTextInput()),this.__dirty=!0),this.__textEngine.type=t},get_width:function(){return this.__updateLayout(),this.__textEngine.width},set_width:function(t){return(1!=this.get_scaleX()||this.__textEngine.width!=t)&&(this.__transformDirty||(this.__transformDirty=!0,c.__worldTransformDirty++),this.__dirty=!0,this.__layoutDirty=!0),this.set_scaleX(1),this.__textEngine.width=t},set_wordWrap:function(t){return t!=this.__textEngine.wordWrap&&(this.__dirty=!0,this.__layoutDirty=!0),this.__textEngine.wordWrap=t},stage_onMouseMove:function(t){if(null!=this.stage&&this.__textEngine.selectable&&this.__selectionIndex>=0){this.__updateLayout();var e=this.__getPosition(this.get_mouseX(),this.get_mouseY());e!=this.__caretIndex&&(this.__caretIndex=e,this.__dirty=!0)}},stage_onMouseUp:function(t){if(null!=this.stage&&(this.stage.removeEventListener(Ys.MOUSE_MOVE,r(this,this.stage_onMouseMove)),this.stage.removeEventListener(Ys.MOUSE_UP,r(this,this.stage_onMouseUp)),this.stage.get_focus()==this)){this.__getWorldTransform(),this.__updateLayout();var e,i,s=(this.__worldTransform.__transformInverseX(this.get_x(),this.get_y()),this.__worldTransform.__transformInverseY(this.get_x(),this.get_y()),this.__getPosition(this.get_mouseX(),this.get_mouseY()));e=D["int"](Math.min(this.__selectionIndex,s)),i=D["int"](Math.max(this.__selectionIndex,s)),this.__selectionIndex=e,this.__caretIndex=i,this.__inputEnabled&&(this.this_onFocusIn(null),this.__stopCursorTimer(),this.__startCursorTimer())}},this_onAddedToStage:function(t){this.this_onFocusIn(null)},this_onFocusIn:function(t){this.get_selectable()&&this.get_type()==cn.INPUT&&null!=this.stage&&this.stage.get_focus()==this&&this.__startTextInput()},this_onFocusOut:function(t){this.__stopTextInput()},this_onMouseDown:function(t){this.get_selectable()&&(this.__updateLayout(),this.__caretIndex=this.__getPosition(this.get_mouseX(),this.get_mouseY()),this.__selectionIndex=this.__caretIndex,this.__dirty=!0,this.stage.addEventListener(Ys.MOUSE_MOVE,r(this,this.stage_onMouseMove)),this.stage.addEventListener(Ys.MOUSE_UP,r(this,this.stage_onMouseUp)))},window_onKeyDown:function(t,e){switch(t){case 8:this.__selectionIndex==this.__caretIndex&&this.__caretIndex>0&&(this.__selectionIndex=this.__caretIndex-1),this.__selectionIndex!=this.__caretIndex&&(this.replaceSelectedText(""),this.__selectionIndex=this.__caretIndex,this.dispatchEvent(new Ds(Ds.CHANGE,!0)));break;case 127:this.__selectionIndex==this.__caretIndex&&this.__caretIndex<this.__textEngine.text.length&&(this.__selectionIndex=this.__caretIndex+1),this.__selectionIndex!=this.__caretIndex&&(this.replaceSelectedText(""),this.__selectionIndex=this.__caretIndex,this.dispatchEvent(new Ds(Ds.CHANGE,!0)));break;case 1073741904:ye.get_shiftKey(e)?this.__caretIndex>0&&this.__caretIndex--:(this.__selectionIndex==this.__caretIndex?this.__caretIndex>0&&this.__caretIndex--:this.__caretIndex=D["int"](Math.min(this.__caretIndex,this.__selectionIndex)),this.__selectionIndex=this.__caretIndex),this.__stopCursorTimer(),this.__startCursorTimer();break;case 1073741903:ye.get_shiftKey(e)?this.__caretIndex<this.__textEngine.text.length&&this.__caretIndex++:(this.__selectionIndex==this.__caretIndex?this.__caretIndex<this.__textEngine.text.length&&this.__caretIndex++:this.__caretIndex=D["int"](Math.max(this.__caretIndex,this.__selectionIndex)),this.__selectionIndex=this.__caretIndex),this.__stopCursorTimer(),this.__startCursorTimer();break;case 99:(64==e||128==e)&&me.set_text(this.__textEngine.text.substring(this.__caretIndex,this.__selectionIndex));break;case 120:(64==e||128==e)&&(me.set_text(this.__textEngine.text.substring(this.__caretIndex,this.__selectionIndex)),this.__caretIndex!=this.__selectionIndex&&(this.replaceSelectedText(""),this.dispatchEvent(new Ds(Ds.CHANGE,!0))));break;case 118:if(64==e||128==e){var i=me.get_text();null!=i?this.replaceSelectedText(i):this.replaceSelectedText(""),this.dispatchEvent(new Ds(Ds.CHANGE,!0))}}},window_onTextInput:function(t){this.replaceSelectedText(t),this.dispatchEvent(new Ds(Ds.CHANGE,!0))},__class__:ln,__properties__:s(f.prototype.__properties__,{get_textHeight:"get_textHeight",set_wordWrap:"set_wordWrap",set_type:"set_type",get_type:"get_type",set_text:"set_text",get_text:"get_text",set_selectable:"set_selectable",get_selectable:"get_selectable",get_scrollV:"get_scrollV",get_scrollH:"get_scrollH",set_multiline:"set_multiline",set_maxChars:"set_maxChars",set_htmlText:"set_htmlText",get_htmlText:"get_htmlText",set_embedFonts:"set_embedFonts",set_defaultTextFormat:"set_defaultTextFormat",set_autoSize:"set_autoSize"})});var un=a["openfl.text.TextFieldAutoSize"]={__ename__:!0,__constructs__:["CENTER","LEFT","NONE","RIGHT"]};un.CENTER=["CENTER",0],un.CENTER.toString=o,un.CENTER.__enum__=un,un.LEFT=["LEFT",1],un.LEFT.toString=o,un.LEFT.__enum__=un,un.NONE=["NONE",2],un.NONE.toString=o,un.NONE.__enum__=un,un.RIGHT=["RIGHT",3],un.RIGHT.toString=o,un.RIGHT.__enum__=un;var cn=a["openfl.text.TextFieldType"]={__ename__:!0,__constructs__:["DYNAMIC","INPUT"]};cn.DYNAMIC=["DYNAMIC",0],cn.DYNAMIC.toString=o,cn.DYNAMIC.__enum__=cn,cn.INPUT=["INPUT",1],cn.INPUT.toString=o,cn.INPUT.__enum__=cn;var fn=function(t,e,i,s,n,r,a,o,_,h,l,u,c){this.font=t,this.size=e,this.color=i,this.bold=s,this.italic=n,this.underline=r,this.url=a,this.target=o,this.align=_,this.leftMargin=h,this.rightMargin=l,this.indent=u,this.leading=c};a["openfl.text.TextFormat"]=fn,fn.__name__=!0,fn.prototype={clone:function(){var t=new fn(this.font,this.size,this.color,this.bold,this.italic,this.underline,this.url,this.target);return t.align=this.align,t.leftMargin=this.leftMargin,t.rightMargin=this.rightMargin,t.indent=this.indent,t.leading=this.leading,t.blockIndent=this.blockIndent,t.bullet=this.bullet,t.kerning=this.kerning,t.letterSpacing=this.letterSpacing,t.tabStops=this.tabStops,t},__merge:function(t){null!=t.font&&(this.font=t.font),null!=t.size&&(this.size=t.size),null!=t.color&&(this.color=t.color),null!=t.bold&&(this.bold=t.bold),null!=t.italic&&(this.italic=t.italic),null!=t.underline&&(this.underline=t.underline),null!=t.url&&(this.url=t.url),null!=t.target&&(this.target=t.target),null!=t.align&&(this.align=t.align),null!=t.leftMargin&&(this.leftMargin=t.leftMargin),null!=t.rightMargin&&(this.rightMargin=t.rightMargin),null!=t.indent&&(this.indent=t.indent),null!=t.leading&&(this.leading=t.leading),null!=t.blockIndent&&(this.blockIndent=t.blockIndent),null!=t.bullet&&(this.bullet=t.bullet),null!=t.kerning&&(this.kerning=t.kerning),null!=t.letterSpacing&&(this.letterSpacing=t.letterSpacing),null!=t.tabStops&&(this.tabStops=t.tabStops)},__class__:fn};var dn=a["openfl.text.TextFormatAlign"]={__ename__:!0,__constructs__:["LEFT","RIGHT","JUSTIFY","CENTER"]};dn.LEFT=["LEFT",0],dn.LEFT.toString=o,dn.LEFT.__enum__=dn,dn.RIGHT=["RIGHT",1],dn.RIGHT.toString=o,dn.RIGHT.__enum__=dn,dn.JUSTIFY=["JUSTIFY",2],dn.JUSTIFY.toString=o,dn.JUSTIFY.__enum__=dn,dn.CENTER=["CENTER",3],dn.CENTER.toString=o,dn.CENTER.__enum__=dn;var pn=function(){};a["openfl.ui.GameInput"]=pn,pn.__name__=!0,pn.__getDevice=function(t){if(null==t)return null;if(null==pn.__devices.h.__keys__[t.__id__]){var e=new mn(null==t.id?"null":""+t.id,null);pn.__devices.set(t,e),pn.numDevices=I.count(pn.__devices)}return pn.__devices.h[t.__id__]},pn.__onGamepadAxisMove=function(t,e,i){var s=pn.__getDevice(t);if(null!=s&&s.enabled){if(!s.__axis.h.hasOwnProperty(e)){var n=new gn(s,"AXIS_"+function(t){var i;switch(e){case 0:i="LEFT_X";break;case 1:i="LEFT_Y";break;case 2:i="RIGHT_X";break;case 3:i="RIGHT_Y";break;case 4:i="TRIGGER_LEFT";break;case 5:i="TRIGGER_RIGHT";break;default:i="UNKNOWN ("+e+")"}return i}(this),-1,1);s.__axis.h[e]=n,s.__controls.push(n)}var r=s.__axis.h[e];r.value=i,r.dispatchEvent(new Ds(Ds.CHANGE))}},pn.__onGamepadButtonDown=function(t,e){var i=pn.__getDevice(t);if(null!=i&&i.enabled){if(!i.__button.h.hasOwnProperty(e)){var s=new gn(i,"BUTTON_"+function(t){var i;switch(e){case 0:i="A";break;case 1:i="B";break;case 2:i="X";break;case 3:i="Y";break;case 4:i="BACK";break;case 5:i="GUIDE";break;case 6:i="START";break;case 7:i="LEFT_STICK";break;case 8:i="RIGHT_STICK";break;case 9:i="LEFT_SHOULDER";break;case 10:i="RIGHT_SHOULDER";break;case 11:i="DPAD_UP";break;case 12:i="DPAD_DOWN";break;case 13:i="DPAD_LEFT";break;case 14:i="DPAD_RIGHT";break;default:i="UNKNOWN ("+e+")"}return i}(this),0,1);i.__button.h[e]=s,i.__controls.push(s)}var n=i.__button.h[e];n.value=1,n.dispatchEvent(new Ds(Ds.CHANGE))}},pn.__onGamepadButtonUp=function(t,e){var i=pn.__getDevice(t);if(null!=i&&i.enabled){if(!i.__button.h.hasOwnProperty(e)){var s=new gn(i,"BUTTON_"+function(t){var i;switch(e){case 0:i="A";break;case 1:i="B";break;case 2:i="X";break;case 3:i="Y";break;case 4:i="BACK";break;case 5:i="GUIDE";break;case 6:i="START";break;case 7:i="LEFT_STICK";break;case 8:i="RIGHT_STICK";break;case 9:i="LEFT_SHOULDER";break;case 10:i="RIGHT_SHOULDER";break;case 11:i="DPAD_UP";break;case 12:i="DPAD_DOWN";break;case 13:i="DPAD_LEFT";break;case 14:i="DPAD_RIGHT";break;default:i="UNKNOWN ("+e+")"}return i}(this),0,1);i.__button.h[e]=s,i.__controls.push(s)}var n=i.__button.h[e];n.value=0,n.dispatchEvent(new Ds(Ds.CHANGE))}},pn.__onGamepadConnect=function(t){var e=pn.__getDevice(t);if(null!=e)for(var i=0,s=pn.__instances;i<s.length;){var n=s[i];++i,n.dispatchEvent(new Gs(Gs.DEVICE_ADDED,null,null,e))}},pn.__onGamepadDisconnect=function(t){var e=pn.__devices.h[t.__id__];if(null!=e){pn.__devices.remove(t),pn.numDevices=I.count(pn.__devices);for(var i=0,s=pn.__instances;i<s.length;){var n=s[i];++i,n.dispatchEvent(new Gs(Gs.DEVICE_REMOVED,null,null,e))}}},pn.__super__=l,pn.prototype=s(l.prototype,{__class__:pn});var gn=function(t,e,i,s,n){null==n&&(n=0),l.call(this),this.device=t,this.id=e,this.minValue=i,this.maxValue=s,this.value=n};a["openfl.ui.GameInputControl"]=gn,gn.__name__=!0,gn.__super__=l,gn.prototype=s(l.prototype,{__class__:gn});var mn=function(t,e){this.__controls=[],this.__button=new Y,this.__axis=new Y,this.id=t,this.name=e;for(var i,s=0;6>s;){var n=s++;i=new gn(this,"AXIS_"+n,-1,1),this.__axis.h[n]=i,this.__controls.push(i)}for(var r=0;15>r;){var a=r++;i=new gn(this,"BUTTON_"+a,0,1),this.__button.h[a]=i,this.__controls.push(i)}};a["openfl.ui.GameInputDevice"]=mn,mn.__name__=!0,mn.prototype={__class__:mn};var vn=function(){};a["openfl.ui.Keyboard"]=vn,vn.__name__=!0,vn.__getCharCode=function(t,e){if(null==e&&(e=!1),e){switch(t){case 48:return 41;case 49:return 33;case 50:return 64;case 51:return 35;case 52:return 36;case 53:return 37;case 54:return 94;case 55:return 38;case 56:return 42;case 57:return 40;case 186:return 58;case 187:return 43;case 188:return 60;case 189:return 95;case 190:return 62;case 191:return 63;case 192:return 126;case 219:return 123;case 220:return 124;case 221:return 125;case 222:return 34}if(t>=65&&90>=t)return t-65+65}else{switch(t){case 8:return 8;case 9:return 9;case 13:return 13;case 27:return 27;case 32:return 32;case 186:return 59;case 187:return 61;case 188:return 44;case 189:return 45;case 190:return 46;case 191:return 47;case 192:return 96;case 219:return 91;case 220:return 92;case 221:return 93;case 222:return 39}if(t>=48&&57>=t)return t-48+48;if(t>=65&&90>=t)return t-65+97}if(t>=96&&105>=t)return t-96+48;switch(t){case 106:return 42;case 107:return 43;case 108:return 44;case 110:return 45;case 111:return 46;case 46:return 127;case 13:return 13;case 8:return 8}return 0};var bn=function(t){this.offY=0,p.call(this),this.items=[],this.grid=t,this.body=new p,this.addChild(this.body),this.scrollH=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,this.scrollH-=150,this.set_scrollRect(new Gi(0,0,m.RIGHTCOL_WIDTH,this.scrollH))};a["ru.octasoft.oem.designer.Equipment"]=bn,bn.__name__=!0,bn.__super__=p,bn.prototype=s(p.prototype,{addObject:function(t,e){var i=this;wn.loadBitmap(t.imagePath,null,function(s){var n=new En(t.title,t.quantity,new Wn(t.w,t.h,k.createEnum(Tn,t.type),t.id,s,i.grid));n.set_y(i.offY),i.body.addChild(n),i.offY+=n.get_height(),i.offY+=15,i.items.push(n),e()})},scroll:function(t){this.body.get_height()<this.scrollH||this.body.set_y((this.scrollH-this.body.get_height())*t)},findItemById:function(t){for(var e=0,i=this.items;e<i.length;){var s=i[e];if(++e,s.figure.id==t)return s}return null},__class__:bn});var xn=function(){this.scale=1,p.call(this)};a["ru.octasoft.oem.designer.Grid"]=xn,xn.__name__=!0,xn.__super__=p,xn.prototype=s(p.prototype,{init:function(t,e,i,s){this.w=t,this.h=e;var n=Sn.unitsToPixels(1);this.wPix=Math.round(t*n),this.hPix=Math.round(e*n),this.set_name("grid"),this.gridType=i,this.buttonMode=!0,this.useHandCursor=!0,this.draw();var r;r=t>e?this.wPix:this.hPix;var a=500/r;this.setScale(a)},draw:function(){this.scaledW=Math.round(this.wPix*this.scale),this.scaledH=Math.round(this.hPix*this.scale),this.get_graphics().clear(),this.get_graphics().beginFill(0,0),this.get_graphics().drawRect(0,0,this.scaledW,this.scaledH),this.get_graphics().endFill();var t=8355711,e=13421772;this.get_graphics().moveTo(-6,-3);var i=this.gridType;switch(i[1]){case 0:this.get_graphics().lineStyle(6,t,null,null,ms.NONE,ls.NONE,gs.MITER);break;case 1:this.get_graphics().lineStyle(6,t,null,null,ms.NONE,ls.NONE,gs.MITER);break;case 2:this.get_graphics().lineStyle(6,t,null,null,ms.NONE,ls.NONE,gs.MITER);break;case 3:this.get_graphics().lineStyle(6,e,null,null,ms.NONE,ls.NONE,gs.MITER)}this.get_graphics().lineTo(this.scaledW+6,-3);var s=this.gridType;switch(s[1]){case 0:this.get_graphics().lineStyle(6,t,null,null,ms.NONE,ls.NONE,gs.MITER);break;case 1:this.get_graphics().lineStyle(6,t,null,null,ms.NONE,ls.NONE,gs.MITER);break;case 2:this.get_graphics().lineStyle(6,e,null,null,ms.NONE,ls.NONE,gs.MITER);break;case 3:this.get_graphics().lineStyle(6,e,null,null,ms.NONE,ls.NONE,gs.MITER)}this.get_graphics().moveTo(this.scaledW+3,-3),this.get_graphics().lineTo(this.scaledW+3,this.scaledH+6),this.get_graphics().lineStyle(6,e,null,null,ms.NONE,ls.NONE,gs.MITER),this.get_graphics().moveTo(this.scaledW,this.scaledH+3),this.get_graphics().lineTo(0,this.scaledH+3);var n=this.gridType;switch(n[1]){case 0:this.get_graphics().lineStyle(6,t,null,null,ms.NONE,ls.NONE,gs.MITER);break;case 1:this.get_graphics().lineStyle(6,e,null,null,ms.NONE,ls.NONE,gs.MITER);break;case 2:this.get_graphics().lineStyle(6,e,null,null,ms.NONE,ls.NONE,gs.MITER);break;case 3:this.get_graphics().lineStyle(6,e,null,null,ms.NONE,ls.NONE,gs.MITER)}this.get_graphics().moveTo(-3,this.scaledH+6),this.get_graphics().lineTo(-3,-3);var r=this.wPix/this.w*this.scale,a=0;this.get_graphics().lineStyle(1,8355711,null,null,ms.NONE,ls.NONE,gs.MITER);for(var o=0,_=this.h+1;_>o;){var h=o++,l=Math.round(a);h!=this.h&&0!=h&&(this.get_graphics().moveTo(0,l+.5),this.get_graphics().lineTo(this.scaledW,l+.5)),a+=r}a=0;for(var u=0,c=this.w+1;c>u;){var f=u++,d=Math.round(a);f!=this.w&&0!=f&&(this.get_graphics().moveTo(d+.5,0),this.get_graphics().lineTo(d+.5,this.scaledH)),a+=r}},setScale:function(t){for(var e=0,i=this.get_numChildren();i>e;){var s=e++,n=this.getChildAt(s),r=n;r.set_x(r.get_x()/this.scale);var a=n;a.set_y(a.get_y()/this.scale)}this.scale=t;
for(var o=0,_=this.get_numChildren();_>o;){var h=o++,l=this.getChildAt(h),u=l;u.set_x(u.get_x()*this.scale);var c=l;c.set_y(c.get_y()*this.scale),l.setScale(this.scale)}this.draw()},drop:function(t){var e=this,i=e.globalToLocal(new g(t.get_x(),t.get_y()));i.x=Math.round(i.x),i.y=Math.round(i.y),t.setScale(this.scale),this.dispatchEvent(new Ln(t,i,An.DIRECT))},add:function(t,e,i,s,n){if(null==n&&(n=0),t.usedQty!=t.qty){var r=t.figure.copy();t.attach(r);var a=new g(Sn.unitsToPixels(e)*this.scale,Sn.unitsToPixels(i)*this.scale);r.setScale(this.scale),r.set_rotation(s),"shelf"==r.id&&r.set_lift(n),this.dispatchEvent(new Ln(r,a,An.DIRECT,!0))}},zoomIn:function(){this.setScale(this.scale+.1)},zoomOut:function(){this.setScale(this.scale-.1)},__class__:xn});var yn=a["ru.octasoft.oem.designer.GridType"]={__ename__:!0,__constructs__:["row","corner","head","island"]};yn.row=["row",0],yn.row.toString=o,yn.row.__enum__=yn,yn.corner=["corner",1],yn.corner.toString=o,yn.corner.__enum__=yn,yn.head=["head",2],yn.head.toString=o,yn.head.__enum__=yn,yn.island=["island",3],yn.island.toString=o,yn.island.__enum__=yn;var wn=function(){};a["ru.octasoft.oem.designer.HttpUtil"]=wn,wn.__name__=!0,wn.loadBitmap=function(t,e,i,s){var n=-1,r=new sn,a=new rn(t);r.set_dataFormat(nn.BINARY),r.addEventListener(Ds.COMPLETE,function(t){var e;e=st.__cast(r.data,Re),os.fromBytes(e,null,i)}),r.addEventListener(Ws.HTTP_STATUS,function(t){n=t.status}),r.addEventListener(Vs.IO_ERROR,function(t){null!=s&&s(t,n)}),r.load(a)};var En=function(t,e,i){this.dragY=-1,this.dragX=-1,this.startDragY=-1,this.startDragX=-1,p.call(this),this.title=t,this.qty=e,this.figure=i;var s=He.getFont(m.FONT_NORMAL),n=new fn(s.name,17,0);n.align=dn.LEFT;var a=0,o=new ln;o.set_selectable(!1),o.set_defaultTextFormat(n),o.set_embedFonts(!0),o.set_autoSize(un.LEFT),o.set_text(t),o.set_wordWrap(!0),o.set_multiline(!0),o.set_width(m.RIGHTCOL_WIDTH-1),this.addChild(o),a=a+o.get_textHeight()+7,this.get_graphics().lineStyle(1,8355711),this.get_graphics().beginFill(0,0),this.get_graphics().drawRect(.5,a+.5,m.RIGHTCOL_WIDTH-1,m.TOOLBAR_HEIGHT),this.get_graphics().endFill();var _=160;i.set_x(_/2),i.set_y(a+m.TOOLBAR_HEIGHT/2),this.addChild(i),n.size=13,this.left=new ln,this.left.set_selectable(!1),this.left.set_defaultTextFormat(n),this.left.set_embedFonts(!0),this.left.set_autoSize(un.LEFT),this.left.set_y(a+m.TOOLBAR_HEIGHT/2),this.left.set_x(_),this.addChild(this.left),this.total=new ln,this.total.set_selectable(!1),this.total.set_defaultTextFormat(n),this.total.set_embedFonts(!0),this.total.set_autoSize(un.LEFT),this.total.set_y(a+m.TOOLBAR_HEIGHT/2-20),this.total.set_x(_),this.total.set_text(m.messages.ordered+": "+e),this.addChild(this.total),this.set_usedQty(0),this.addEventListener(Ys.MOUSE_DOWN,r(this,this.mouseDown)),this.useHandCursor=this.buttonMode=!0};a["ru.octasoft.oem.designer.Item"]=En,En.__name__=!0,En.__super__=p,En.prototype=s(p.prototype,{updateQty:function(){this.left.set_text(m.messages.placed+": "+this.usedQty)},attach:function(t){t.addEventListener(Ys.MOUSE_DOWN,r(this,this.mouseDown2))},mouseDown:function(t){if(this.usedQty!=this.qty){var e=this.figure.copy();this.figure.localToGlobal(new g(0,0));e.set_x(t.stageX),e.set_y(t.stageY),this.stage.addChild(e),e.startDrag(),e.addEventListener(Ys.MOUSE_UP,r(this,this.mouseUp)),t.stopPropagation(),this.startDragX=t.stageX,this.startDragY=t.stageY,this.dragging=e}},mouseDown2:function(t){var e=t.target;e.parent.addChild(e),t.stopPropagation();var i=e.parent.localToGlobal(new g(e.get_x(),e.get_y()));this.startDragX=this.dragX=i.x,this.startDragY=this.dragY=i.y,this.stage.addEventListener(Ys.MOUSE_UP,r(this,this.mouseUp)),this.stage.addEventListener(Ys.MOUSE_MOVE,r(this,this.onDrag)),this.dragging=e},onDrag:function(t){var e=t.stageX-this.dragX,i=t.stageY-this.dragY,s=this.dragging;s.set_x(s.get_x()+e);var n=this.dragging;n.set_y(n.get_y()+i),this.dragX=t.stageX,this.dragY=t.stageY,this.dragging.grid.dispatchEvent(new On(this.dragging))},mouseUp:function(t){var e=this.dragging,i=-1!=this.startDragX&&-1!=this.startDragY;if(i){var s=e.parent.localToGlobal(new g(e.get_x(),e.get_y())),n=i&&(this.startDragX!=s.x||this.startDragY!=s.y);if(e.parent==this.stage){e.stopDrag();var a=new g(t.stageX,t.stageY),o=this.stage.getObjectsUnderPoint(a);o.length>0&&"grid"==o[0].get_name()?(e.grid.drop(e),e.removeEventListener(Ys.MOUSE_DOWN,r(this,this.mouseDown)),e.addEventListener(Ys.MOUSE_DOWN,r(this,this.mouseDown2))):this.stage.removeChild(e)}else if(this.stage.removeEventListener(Ys.MOUSE_MOVE,r(this,this.onDrag)),this.stage.removeEventListener(Ys.MOUSE_UP,r(this,this.onDrag)),n){var _=e.grid.globalToLocal(new g(this.startDragX,this.startDragY));_.x=Math.round(_.x),_.y=Math.round(_.y),e.grid.dispatchEvent(new kn(e,_,new g(e.get_x(),e.get_y()),An.DIRECT))}else i&&e.grid.dispatchEvent(new Fn(e));t.stopPropagation(),this.startDragX=this.startDragY=-1}},set_usedQty:function(t){return this.usedQty=t,this.updateQty(),t},__class__:En,__properties__:s(p.prototype.__properties__,{set_usedQty:"set_usedQty"})});var Tn=a["ru.octasoft.oem.designer.ItemType"]={__ename__:!0,__constructs__:["simple","light","droppable","shelf","plug"]};Tn.simple=["simple",0],Tn.simple.toString=o,Tn.simple.__enum__=Tn,Tn.light=["light",1],Tn.light.toString=o,Tn.light.__enum__=Tn,Tn.droppable=["droppable",2],Tn.droppable.toString=o,Tn.droppable.__enum__=Tn,Tn.shelf=["shelf",3],Tn.shelf.toString=o,Tn.shelf.__enum__=Tn,Tn.plug=["plug",4],Tn.plug.toString=o,Tn.plug.__enum__=Tn;var Pn=function(t){t?(this.rightColumnLabel=t.rightColumnLabel,this.ordered=t.ordered,this.placed=t.placed,this.shelfPopupLabel=t.shelfPopupLabel):(this.rightColumnLabel="Equipments",this.ordered="Ordered",this.placed="Placed",this.shelfPopupLabel="Please, set height (cm) for the shelf to be mounted. Switch shelves by pressing arrow buttons on your keyboard.")};a["ru.octasoft.oem.designer.Messages"]=Pn,Pn.__name__=!0,Pn.prototype={__class__:Pn};var Rn=function(){this.offY=0,this.offX=0;var t=this;p.call(this),this.bitmap=new as(He.getBitmapData("assets/images/shelf_bg1.png")),this.addChild(this.bitmap);var e=He.getFont(m.FONT_NORMAL),i=new fn(e.name,13,0);i.align=dn.LEFT;var s=He.getFont(m.FONT_BOLD),n=new fn(s.name,14,0);n.align=dn.LEFT;var a=new fn(s.name,11,16777215);a.align=dn.LEFT;var o=new fn(s.name,11,16777215);o.align=dn.LEFT;var _=new fn(e.name,13,13421772);_.align=dn.LEFT,this.label=new ln,this.label.set_selectable(!1),this.label.set_text(m.messages.shelfPopupLabel),this.label.set_defaultTextFormat(i),this.label.set_embedFonts(!0),this.label.set_wordWrap(!0),this.label.set_autoSize(un.LEFT),this.label.set_width(280),this.addChild(this.label),this.num=new ln,this.num.set_selectable(!1),this.num.set_defaultTextFormat(n),this.num.set_embedFonts(!0),this.num.set_autoSize(un.LEFT),this.addChild(this.num),this.save=new p,this.save.get_graphics().beginFill(8355711),this.save.get_graphics().drawRect(0,0,100,30),this.save.get_graphics().endFill(),this.save.buttonMode=!0,this.save.useHandCursor=!0,this.addChild(this.save),this.save.addEventListener(Ys.MOUSE_OVER,r(this,this.hoverIn)),this.save.addEventListener(Ys.MOUSE_OUT,r(this,this.hoverOut)),this.save.addEventListener(Ys.CLICK,function(e){t.figure.set_lift(D.parseInt(t.units.get_text())),t.set_visible(!1),Ze.current.stage.set_focus(Ze.current.stage)});var h=new ln;h.set_selectable(!1),h.set_text("SAVE"),h.set_defaultTextFormat(o),h.set_embedFonts(!0),h.set_autoSize(un.LEFT),h.set_x(50-h.get_width()/2),h.set_y(15-h.get_height()/2),this.save.addChild(h),this.input=new p,this.input.get_graphics().lineStyle(1,11316396),this.input.get_graphics().drawRect(.5,.5,105,29),this.addChild(this.input),this.units=new ln,this.units.set_type(cn.INPUT),this.units.set_text("0"),this.units.set_defaultTextFormat(i),this.units.set_embedFonts(!0),this.units.set_autoSize(un.LEFT),this.units.set_x(7),this.units.set_y(5),this.units.set_maxChars(3),this.units.addEventListener(Ys.MOUSE_DOWN,function(t){t.stopPropagation()}),this.units.addEventListener(Hs.KEY_UP,function(e){e.stopPropagation(),13==e.charCode&&(t.figure.set_lift(D.parseInt(t.units.get_text())),t.set_visible(!1),Ze.current.stage.set_focus(Ze.current.stage))}),this.units.addEventListener(Ds.CHANGE,function(e){var i=new S("\\D","i");""==t.units.get_text()&&t.units.set_text("0"),t.units.get_text().length>3&&t.units.set_text(function(e){var i,s=t.units.get_text();return i=C.substr(s,0,3)}(this)),i.match(t.units.get_text())&&t.units.set_text(i.replace(t.units.get_text(),"")),t.cm.set_x(t.units.get_x()+t.units.get_width()+2)}),this.input.addChild(this.units),this.cm=new ln,this.cm.set_selectable(!1),this.cm.set_text("cm"),this.cm.set_defaultTextFormat(_),this.cm.set_embedFonts(!0),this.cm.set_autoSize(un.LEFT),this.cm.set_y(this.units.get_y()),this.cm.set_x(this.units.get_x()+this.units.get_width()+2),this.input.addChild(this.cm),this.set_visible(!1)};a["ru.octasoft.oem.designer.ShelfPopup"]=Rn,Rn.__name__=!0,Rn.__super__=p,Rn.prototype=s(p.prototype,{hoverOut:function(t){this.save.get_graphics().beginFill(8355711),this.save.get_graphics().drawRect(0,0,100,30),this.save.get_graphics().endFill()},hoverIn:function(t){this.save.get_graphics().beginFill(10066329),this.save.get_graphics().drawRect(0,0,100,30),this.save.get_graphics().endFill()},updateLanguage:function(){this.label.set_text(m.messages.shelfPopupLabel)},update:function(t){this.figure=t,this.num.set_text(t.number+"."),this.units.set_text(t.get_lift()+""),this.cm.set_x(this.units.get_x()+this.units.get_width()+2);var e=t.parent,i=t.picture.getBounds(e),s=t.picture.getBounds(t.stage),n=50,r=180;if(m.compare(t.get_x(),i.width/2)){this.bitmap.bitmapData=He.getBitmapData("assets/images/popup_left.png");var a=this.parent.globalToLocal(new g(s.get_right()+40,s.y));this.set_x(a.x),this.set_y(a.y-this.get_height()/2+i.height/2),this.offX=15,this.offY=0,this.label.set_x(this.offX+15),this.label.set_y(this.offY+15),this.num.set_x(this.offX+15),this.num.set_y(this.offY+85),this.input.set_x(this.offX+n),this.input.set_y(this.offY+82),this.save.set_x(this.offX+r),this.save.set_y(this.offY+82)}else if(m.compare(t.get_y(),i.height/2)){this.bitmap.bitmapData=He.getBitmapData("assets/images/popup_top.png");var o=this.parent.globalToLocal(new g(s.x,s.get_bottom()+40));this.set_x(o.x-this.get_width()/2+i.width/2),this.set_y(o.y),this.offX=0,this.offY=10,this.label.set_x(this.offX+15),this.label.set_y(this.offY+15),this.num.set_x(this.offX+15),this.num.set_y(this.offY+85),this.input.set_x(this.offX+n),this.input.set_y(this.offY+82),this.save.set_x(this.offX+r),this.save.set_y(this.offY+82)}else if(m.compare(t.get_x(),e.scaledW-i.width/2)){this.bitmap.bitmapData=He.getBitmapData("assets/images/popup_right.png");var _=this.parent.globalToLocal(new g(s.x-this.get_width()-40,s.y));this.set_x(_.x),this.set_y(_.y-this.get_height()/2+i.height/2),this.offX=0,this.offY=0,this.label.set_x(this.offX+15),this.label.set_y(this.offY+15),this.num.set_x(this.offX+15),this.num.set_y(this.offY+85),this.input.set_x(this.offX+n),this.input.set_y(this.offY+82),this.save.set_x(this.offX+r),this.save.set_y(this.offY+82)}this.get_x()<15&&this.set_x(15),this.get_y()<15&&this.set_y(15),this.get_x()+this.get_width()>m.clipSize-15&&this.set_x(m.clipSize-15-this.get_width()),this.get_y()+this.get_height()>m.clipSize-15&&this.set_y(m.clipSize-15-this.get_height())},__class__:Rn});var Sn=function(){};a["ru.octasoft.oem.designer.SizeUtil"]=Sn,Sn.__name__=!0,Sn.unitsToPixels=function(t){return t*Sn.UNIT},Sn.pixelsToUnits=function(t){return Math.round(t/Sn.UNIT*100)/100};var Cn=function(){var t=this;p.call(this),this.get_graphics().beginFill(13421772);var e=m.clipSize+12;this.get_graphics().drawRect(0,0,e,m.TOOLBAR_HEIGHT),this.get_graphics().endFill();var i=15,s=15,n=(e-360-2*s)/5,r=s,a=this.addButton("assets/images/rotate.png",function(e){t.dispatchEvent(new In)});a.set_x(r),a.set_y(i),r+=a.get_width(),r+=n,a=this.addButton("assets/images/delete.png",function(e){t.dispatchEvent(new Mn)}),a.set_x(r),a.set_y(i),r+=a.get_width(),r+=n,a=this.addButton("assets/images/undo.png",function(e){t.dispatchEvent(new Un)}),a.set_x(r),a.set_y(i),r+=a.get_width(),r+=n,a=this.addButton("assets/images/redo.png",function(e){t.dispatchEvent(new Nn)}),a.set_x(r),a.set_y(i),r+=a.get_width(),r+=n,a=this.addButton("assets/images/zoomOut.png",function(e){t.dispatchEvent(new Gn(Gn.ZOOM_OUT))}),a.set_x(r),a.set_y(i),r+=a.get_width(),r+=n,a=this.addButton("assets/images/zoomIn.png",function(e){t.dispatchEvent(new Gn(Gn.ZOOM_IN))}),a.set_x(r),a.set_y(i)};a["ru.octasoft.oem.designer.Toolbar"]=Cn,Cn.__name__=!0,Cn.__super__=p,Cn.prototype=s(p.prototype,{hoverOut:function(t){t.get_graphics().beginFill(8355711),t.get_graphics().drawRect(0,0,60,60),t.get_graphics().endFill()},hoverIn:function(t){t.get_graphics().beginFill(10066329),t.get_graphics().drawRect(0,0,60,60),t.get_graphics().endFill()},addButton:function(t,e){var i=this,s=new p,n=new as(He.getBitmapData(t));return n.set_x(30-n.get_width()/2),n.set_y(30-n.get_height()/2),s.addChild(n),s.buttonMode=s.useHandCursor=!0,s.addEventListener(Ys.CLICK,e),s.addEventListener(Ys.MOUSE_OVER,function(t){i.hoverIn(s)}),s.addEventListener(Ys.MOUSE_OUT,function(t){i.hoverOut(s)}),this.hoverOut(s),this.addChild(s),s},__class__:Cn});var In=function(){Ds.call(this,In.NAME)};a["ru.octasoft.oem.designer.events.ClearEvent"]=In,In.__name__=!0,In.__super__=Ds,In.prototype=s(Ds.prototype,{__class__:In});var Mn=function(){Ds.call(this,Mn.NAME)};a["ru.octasoft.oem.designer.events.DeleteEvent"]=Mn,Mn.__name__=!0,Mn.__super__=Ds,Mn.prototype=s(Ds.prototype,{__class__:Mn});var An=a["ru.octasoft.oem.designer.events.EventContext"]={__ename__:!0,__constructs__:["DIRECT","UNDO","REDO"]};An.DIRECT=["DIRECT",0],An.DIRECT.toString=o,An.DIRECT.__enum__=An,An.UNDO=["UNDO",1],An.UNDO.toString=o,An.UNDO.__enum__=An,An.REDO=["REDO",2],An.REDO.toString=o,An.REDO.__enum__=An;var Ln=function(t,e,i,s){null==s&&(s=!1),Ds.call(this,Ln.NAME),this.figure=t,this.to=e,this.context=i,this.shift=s};a["ru.octasoft.oem.designer.events.FigureAddedEvent"]=Ln,Ln.__name__=!0,Ln.__super__=Ds,Ln.prototype=s(Ds.prototype,{__class__:Ln});var Dn=function(t,e,i){Ds.call(this,Dn.NAME),this.figure=t,this.from=e,this.context=i};a["ru.octasoft.oem.designer.events.FigureDeletedEvent"]=Dn,Dn.__name__=!0,Dn.__super__=Ds,Dn.prototype=s(Ds.prototype,{__class__:Dn});var On=function(t){Ds.call(this,On.NAME),this.figure=t};a["ru.octasoft.oem.designer.events.FigureDraggedEvent"]=On,On.__name__=!0,On.__super__=Ds,On.prototype=s(Ds.prototype,{__class__:On});var kn=function(t,e,i,s){Ds.call(this,kn.NAME),this.figure=t,this.from=e,this.to=i,this.context=s};a["ru.octasoft.oem.designer.events.FigureMovedEvent"]=kn,kn.__name__=!0,kn.__super__=Ds,kn.prototype=s(Ds.prototype,{__class__:kn});var Bn=function(t,e,i,s){Ds.call(this,Bn.NAME),this.figure=t,this.from=e,this.to=i,this.context=s};a["ru.octasoft.oem.designer.events.FigureRotatedEvent"]=Bn,Bn.__name__=!0,Bn.__super__=Ds,Bn.prototype=s(Ds.prototype,{__class__:Bn});var Fn=function(t){Ds.call(this,Fn.NAME),this.figure=t};a["ru.octasoft.oem.designer.events.FigureSelectedEvent"]=Fn,Fn.__name__=!0,Fn.__super__=Ds,Fn.prototype=s(Ds.prototype,{__class__:Fn});var Nn=function(){Ds.call(this,Nn.NAME)};a["ru.octasoft.oem.designer.events.RedoEvent"]=Nn,Nn.__name__=!0,Nn.__super__=Ds,Nn.prototype=s(Ds.prototype,{__class__:Nn});var Un=function(){Ds.call(this,Un.NAME)};a["ru.octasoft.oem.designer.events.UndoEvent"]=Un,Un.__name__=!0,Un.__super__=Ds,Un.prototype=s(Ds.prototype,{__class__:Un});var Gn=function(t){Ds.call(this,t)};a["ru.octasoft.oem.designer.events.ZoomEvent"]=Gn,Gn.__name__=!0,Gn.__super__=Ds,Gn.prototype=s(Ds.prototype,{__class__:Gn});var Wn=function(t,e,i,s,n,a){this.liftVal=0,this.scale=1,this.shiftY=0,this.shiftX=0,this.rotationStart=-1,p.call(this),this.grid=a,this.w=t,this.h=e,this.type=i,this.wPix=Sn.unitsToPixels(t),this.hPix=Sn.unitsToPixels(e),this.id=s,this.image=n;var o=He.getFont(m.FONT_NORMAL),_=new fn(o.name,13,0);if(_.align=dn.LEFT,this.label=new ln,this.label.set_selectable(!1),this.label.set_text("100 cm"),this.label.set_defaultTextFormat(_),this.label.set_embedFonts(!0),this.label.set_wordWrap(!1),this.label.set_autoSize(un.LEFT),this.label.set_visible(i==Tn.shelf),this.addChild(this.label),this.set_lift(0),this.picture=new as(n),this.picture.smoothing=!0,n.width>120){var h=120/n.width;this.scale=h}if(n.height>60){var l=60/n.height;this.scale=l}this.addChild(this.picture),this.cover=new p,this.addChild(this.cover),this.cover.set_visible(!1),this.cover.mouseEnabled=!1,this.h1=new p,this.h1.get_graphics().lineStyle(1,8355711),this.h1.get_graphics().beginFill(0,0),this.h1.get_graphics().drawRect(.5,.5,6,6),this.h1.get_graphics().endFill(),this.cover.addChild(this.h1),this.h1.addEventListener(Ys.MOUSE_DOWN,r(this,this.onDragHandle)),this.h1.addEventListener(Ys.MOUSE_UP,r(this,this.stopRotate)),this.decor1=new as(He.getBitmapData("assets/images/decor.png")),this.cover.addChild(this.decor1),this.h2=new p,this.h2.get_graphics().lineStyle(1,8355711),this.h2.get_graphics().beginFill(0,0),this.h2.get_graphics().drawRect(.5,.5,6,6),this.h2.get_graphics().endFill(),this.cover.addChild(this.h2),this.h2.addEventListener(Ys.MOUSE_DOWN,r(this,this.onDragHandle)),this.h2.addEventListener(Ys.MOUSE_UP,r(this,this.stopRotate)),this.decor2=new as(He.getBitmapData("assets/images/decor.png")),this.decor2.smoothing=!0,this.decor2.set_rotation(90),this.cover.addChild(this.decor2),this.h3=new p,this.h3.get_graphics().lineStyle(1,8355711),this.h3.get_graphics().beginFill(0,0),this.h3.get_graphics().drawRect(.5,.5,6,6),this.h3.get_graphics().endFill(),this.cover.addChild(this.h3),this.h3.addEventListener(Ys.MOUSE_DOWN,r(this,this.onDragHandle)),this.h3.addEventListener(Ys.MOUSE_UP,r(this,this.stopRotate)),this.decor3=new as(He.getBitmapData("assets/images/decor.png")),this.decor3.smoothing=!0,this.decor3.set_rotation(180),this.cover.addChild(this.decor3),this.h4=new p,this.h4.get_graphics().lineStyle(1,8355711),this.h4.get_graphics().beginFill(0,0),this.h4.get_graphics().drawRect(.5,.5,6,6),this.h4.get_graphics().endFill(),this.cover.addChild(this.h4),this.h4.addEventListener(Ys.MOUSE_DOWN,r(this,this.onDragHandle)),this.h4.addEventListener(Ys.MOUSE_UP,r(this,this.stopRotate)),this.decor4=new as(He.getBitmapData("assets/images/decor.png")),this.decor4.smoothing=!0,this.decor4.set_rotation(270),this.cover.addChild(this.decor4),this.draw(),this.buttonMode=!0,this.useHandCursor=!0,i==Tn.shelf&&(this.number=Wn.seq++)};a["ru.octasoft.oem.designer.figures.Figure"]=Wn,Wn.__name__=!0,Wn.__super__=p,Wn.prototype=s(p.prototype,{draw:function(){this.picture.set_scaleX(this.picture.set_scaleY(this.scale)),this.picture.set_x(-this.picture.get_width()/2),this.picture.set_y(-this.picture.get_height()/2);var t=this.wPix*this.scale,e=this.hPix*this.scale;this.shiftX=Math.round(t/2+15),this.shiftX<27&&(this.shiftX=27),this.shiftY=Math.round(e/2+15),this.shiftY<27&&(this.shiftY=27),this.cover.get_graphics().clear(),this.cover.get_graphics().lineStyle(1,8355711),this.cover.get_graphics().drawRect(-this.shiftX+.5,-this.shiftY+.5,2*this.shiftX,2*this.shiftY),this.cover.get_graphics().endFill(),this.h1.set_x(-this.shiftX-3),this.h1.set_y(-this.shiftY-3),this.decor1.set_x(-this.shiftX+5),this.decor1.set_y(-this.shiftY+5),this.h2.set_x(this.shiftX-3),this.h2.set_y(-this.shiftY-3),this.decor2.set_x(this.shiftX-5),this.decor2.set_y(-this.shiftY+5),this.h3.set_x(this.shiftX-3),this.h3.set_y(this.shiftY-3),this.decor3.set_x(this.shiftX-5),this.decor3.set_y(this.shiftY-5),this.h4.set_x(-this.shiftX-3),this.h4.set_y(this.shiftY-3),this.decor4.set_x(-this.shiftX+5),this.decor4.set_y(this.shiftY-5),this.label.set_x(-this.label.get_width()/2),this.label.set_y(this.picture.get_height()/2)},setScale:function(t){this.scale=t,this.draw()},onDragHandle:function(t){this.activeHandle=t.target,this.stage.addEventListener(Ys.MOUSE_MOVE,r(this,this.doRotate)),this.stage.addEventListener(Ys.MOUSE_UP,r(this,this.stopRotate)),this.stage.addEventListener(Ys.MOUSE_OUT,r(this,this.stopRotate)),t.stopImmediatePropagation(),this.rotationStart=this.get_rotation()},doRotate:function(t){var e=this.localToGlobal(new g(0,0)),i=this.activeHandle.get_x()+5,s=this.activeHandle.get_y()+5,n=180*Math.atan2(s,i)/Math.PI,r=t.stageX-e.x,a=t.stageY-e.y,o=Math.atan2(a,r),_=180*o/Math.PI;_=Math.round(_-n),_=10*Math.round(_/10),this.set_rotation(_)},stopRotate:function(t){this.stage.removeEventListener(Ys.MOUSE_MOVE,r(this,this.doRotate)),this.stage.removeEventListener(Ys.MOUSE_UP,r(this,this.stopRotate)),this.stage.removeEventListener(Ys.MOUSE_OUT,r(this,this.stopRotate)),t.stopImmediatePropagation(),-1!=this.rotationStart&&this.get_rotation()!=this.rotationStart&&this.grid.dispatchEvent(new Bn(this,this.rotationStart,this.get_rotation(),An.DIRECT)),this.rotationStart=-1},copy:function(){return new Wn(this.w,this.h,this.type,this.id,this.image,this.grid)},get_selected:function(){return this.cover.get_visible()},set_selected:function(t){return this.label.set_visible(!t&&this.type==Tn.shelf),this.cover.set_visible(t)},get_lift:function(){return this.liftVal},set_lift:function(t){return this.label.set_text(t+" cm"),this.liftVal=t},__class__:Wn,__properties__:s(p.prototype.__properties__,{set_lift:"set_lift",get_lift:"get_lift",set_selected:"set_selected",get_selected:"get_selected"})});var Vn=function(t){this.YTable=[],this.UVTable=[],this.fdtbl_Y=[],this.fdtbl_UV=[];for(var e=0;64>e;){e++;this.YTable.push(0),this.UVTable.push(0),this.fdtbl_Y.push(0),this.fdtbl_UV.push(0)}this.bitcode=new Y,this.category=new Y,this.byteout=t,this.bytenew=0,this.bytepos=7,this.YDC_HT=new Y,this.UVDC_HT=new Y,this.YAC_HT=new Y,this.UVAC_HT=new Y,this.YDU=[],this.UDU=[],this.VDU=[],this.DU=[];for(var i=0;64>i;){i++;this.YDU.push(0),this.UDU.push(0),this.VDU.push(0),this.DU.push(0)}this.initZigZag(),this.initLuminance(),this.initChrominance(),this.initHuffmanTbl(),this.initCategoryNumber()};a["ru.octasoft.oem.designer.jpg.Writer"]=Vn,Vn.__name__=!0,Vn.prototype={initZigZag:function(){this.ZigZag=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63]},initQuantTables:function(t){for(var e=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],i=0;64>i;){var s=i++,n=Math.floor((e[s]*t+50)/100);1>n?n=1:n>255&&(n=255),this.YTable[this.ZigZag[s]]=n}for(var r=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],a=0;64>a;){var o=a++,_=Math.floor((r[o]*t+50)/100);1>_?_=1:_>255&&(_=255),this.UVTable[this.ZigZag[o]]=_}for(var h=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],l=0,u=0;8>u;)for(var c=u++,f=0;8>f;){var d=f++;this.fdtbl_Y[l]=1/(this.YTable[this.ZigZag[l]]*h[c]*h[d]*8),this.fdtbl_UV[l]=1/(this.UVTable[this.ZigZag[l]]*h[c]*h[d]*8),l++}},initLuminance:function(){this.std_dc_luminance_nrcodes=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],this.std_dc_luminance_values=this.strIntsToBytes("0,1,2,3,4,5,6,7,8,9,10,11"),this.std_ac_luminance_nrcodes=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],this.std_ac_luminance_values=this.strIntsToBytes("0x01,0x02,0x03,0x00,0x04,0x11,0x05,0x12,0x21,0x31,0x41,0x06,0x13,0x51,0x61,0x07,0x22,0x71,0x14,0x32,0x81,0x91,0xa1,0x08,0x23,0x42,0xb1,0xc1,0x15,0x52,0xd1,0xf0,0x24,0x33,0x62,0x72,0x82,0x09,0x0a,0x16,0x17,0x18,0x19,0x1a,0x25,0x26,0x27,0x28,0x29,0x2a,0x34,0x35,0x36,0x37,0x38,0x39,0x3a,0x43,0x44,0x45,0x46,0x47,0x48,0x49,0x4a,0x53,0x54,0x55,0x56,0x57,0x58,0x59,0x5a,0x63,0x64,0x65,0x66,0x67,0x68,0x69,0x6a,0x73,0x74,0x75,0x76,0x77,0x78,0x79,0x7a,0x83,0x84,0x85,0x86,0x87,0x88,0x89,0x8a,0x92,0x93,0x94,0x95,0x96,0x97,0x98,0x99,0x9a,0xa2,0xa3,0xa4,0xa5,0xa6,0xa7,0xa8,0xa9,0xaa,0xb2,0xb3,0xb4,0xb5,0xb6,0xb7,0xb8,0xb9,0xba,0xc2,0xc3,0xc4,0xc5,0xc6,0xc7,0xc8,0xc9,0xca,0xd2,0xd3,0xd4,0xd5,0xd6,0xd7,0xd8,0xd9,0xda,0xe1,0xe2,0xe3,0xe4,0xe5,0xe6,0xe7,0xe8,0xe9,0xea,0xf1,0xf2,0xf3,0xf4,0xf5,0xf6,0xf7,0xf8,0xf9,0xfa")},strIntsToBytes:function(t){for(var e=t.length,i=new q,s=0,n=0,r=0;e>r;){var a=r++;","==t.charAt(a)&&(s=D.parseInt(C.substr(t,n,a-n)),i.b.push(s),n=a+1)}return e>n&&(s=D.parseInt(C.substr(t,n,null)),i.b.push(s)),i.getBytes()},initChrominance:function(){this.std_dc_chrominance_nrcodes=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],this.std_dc_chrominance_values=this.strIntsToBytes("0,1,2,3,4,5,6,7,8,9,10,11"),this.std_ac_chrominance_nrcodes=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],this.std_ac_chrominance_values=this.strIntsToBytes("0x00,0x01,0x02,0x03,0x11,0x04,0x05,0x21,0x31,0x06,0x12,0x41,0x51,0x07,0x61,0x71,0x13,0x22,0x32,0x81,0x08,0x14,0x42,0x91,0xa1,0xb1,0xc1,0x09,0x23,0x33,0x52,0xf0,0x15,0x62,0x72,0xd1,0x0a,0x16,0x24,0x34,0xe1,0x25,0xf1,0x17,0x18,0x19,0x1a,0x26,0x27,0x28,0x29,0x2a,0x35,0x36,0x37,0x38,0x39,0x3a,0x43,0x44,0x45,0x46,0x47,0x48,0x49,0x4a,0x53,0x54,0x55,0x56,0x57,0x58,0x59,0x5a,0x63,0x64,0x65,0x66,0x67,0x68,0x69,0x6a,0x73,0x74,0x75,0x76,0x77,0x78,0x79,0x7a,0x82,0x83,0x84,0x85,0x86,0x87,0x88,0x89,0x8a,0x92,0x93,0x94,0x95,0x96,0x97,0x98,0x99,0x9a,0xa2,0xa3,0xa4,0xa5,0xa6,0xa7,0xa8,0xa9,0xaa,0xb2,0xb3,0xb4,0xb5,0xb6,0xb7,0xb8,0xb9,0xba,0xc2,0xc3,0xc4,0xc5,0xc6,0xc7,0xc8,0xc9,0xca,0xd2,0xd3,0xd4,0xd5,0xd6,0xd7,0xd8,0xd9,0xda,0xe2,0xe3,0xe4,0xe5,0xe6,0xe7,0xe8,0xe9,0xea,0xf2,0xf3,0xf4,0xf5,0xf6,0xf7,0xf8,0xf9,0xfa")},initHuffmanTbl:function(){this.YDC_HT=this.computeHuffmanTbl(this.std_dc_luminance_nrcodes,this.std_dc_luminance_values),this.UVDC_HT=this.computeHuffmanTbl(this.std_dc_chrominance_nrcodes,this.std_dc_chrominance_values),this.YAC_HT=this.computeHuffmanTbl(this.std_ac_luminance_nrcodes,this.std_ac_luminance_values),this.UVAC_HT=this.computeHuffmanTbl(this.std_ac_chrominance_nrcodes,this.std_ac_chrominance_values)},computeHuffmanTbl:function(t,e){for(var i=0,s=0,n=new Y,r=1;17>r;){for(var a=r++,o=t[a],_=0;o>_;){var h=(_++,e.b[s]),l=new Hn(a,i);n.h[h]=l,s++,i++}i*=2}return n},initCategoryNumber:function(){for(var t,e=1,i=2,s=1;16>s;){for(var n=s++,r=e;i>r;){var a=r++;t=32767+a,this.category.h[t]=n;var o=new Hn(n,a);this.bitcode.h[t]=o}for(var _=-(i-1);-e>=_;){t=32767+_,this.category.h[t]=n;var h=new Hn(n,i-1+_);this.bitcode.h[t]=h,_++}e<<=1,i<<=1}},writeBits:function(t){if(null!=t)for(var e=t.val,i=t.len-1;i>=0;)0!=(e&1<<i)&&(this.bytenew|=1<<this.bytepos),i--,this.bytepos--,this.bytepos<0&&(255==this.bytenew?(this.byteout.writeByte(255),this.byteout.writeByte(0)):this.byteout.writeByte(this.bytenew),this.bytepos=7,this.bytenew=0)},writeWord:function(t){this.byteout.writeByte(t>>8&255),this.byteout.writeByte(255&t)},fDCTQuant:function(t,e){for(var i=0,s=0;8>s;){var n=(s++,t[i]+t[i+7]),r=t[i]-t[i+7],a=t[i+1]+t[i+6],o=t[i+1]-t[i+6],_=t[i+2]+t[i+5],h=t[i+2]-t[i+5],l=t[i+3]+t[i+4],u=t[i+3]-t[i+4],c=n+l,f=n-l,d=a+_,p=a-_;t[i]=c+d,t[i+4]=c-d;var g=.707106781*(p+f);t[i+2]=f+g,t[i+6]=f-g,c=u+h,d=h+o,p=o+r;var m=.382683433*(c-p),v=.5411961*c+m,b=1.306562965*p+m,x=.707106781*d,y=r+x,w=r-x;t[i+5]=w+v,t[i+3]=w-v,t[i+1]=y+b,t[i+7]=y-b,i+=8}i=0;for(var E=0;8>E;){var T=(E++,t[i]+t[i+56]),P=t[i]-t[i+56],R=t[i+8]+t[i+48],S=t[i+8]-t[i+48],C=t[i+16]+t[i+40],I=t[i+16]-t[i+40],M=t[i+24]+t[i+32],A=t[i+24]-t[i+32],L=T+M,D=T-M,O=R+C,k=R-C;t[i]=L+O,t[i+32]=L-O;var B=.707106781*(k+D);t[i+16]=D+B,t[i+48]=D-B,L=A+I,O=I+S,k=S+P;var F=.382683433*(L-k),N=.5411961*L+F,U=1.306562965*k+F,G=.707106781*O,W=P+G,V=P-G;t[i+40]=V+N,t[i+24]=V-N,t[i+8]=W+U,t[i+56]=W-U,i++}for(var H=0;64>H;){var Y=H++;t[Y]=Math.round(t[Y]*e[Y])}return t},writeAPP0:function(){this.byteout.writeByte(255),this.byteout.writeByte(224),this.byteout.writeByte(0),this.byteout.writeByte(16),this.byteout.writeByte(74),this.byteout.writeByte(70),this.byteout.writeByte(73),this.byteout.writeByte(70),this.byteout.writeByte(0),this.byteout.writeByte(1),this.byteout.writeByte(1),this.byteout.writeByte(0),this.byteout.writeByte(0),this.byteout.writeByte(1),this.byteout.writeByte(0),this.byteout.writeByte(1),this.byteout.writeByte(0),this.byteout.writeByte(0)},writeDQT:function(){this.byteout.writeByte(255),this.byteout.writeByte(219),this.byteout.writeByte(0),this.byteout.writeByte(132),this.byteout.writeByte(0);for(var t=0;64>t;){var e=t++;this.byteout.writeByte(this.YTable[e])}this.byteout.writeByte(1);for(var i=0;64>i;){var s=i++;this.byteout.writeByte(this.UVTable[s])}},writeSOF0:function(t,e){this.byteout.writeByte(255),this.byteout.writeByte(192),this.byteout.writeByte(0),this.byteout.writeByte(17),this.byteout.writeByte(8),this.byteout.writeByte(e>>8&255),this.byteout.writeByte(255&e),this.byteout.writeByte(t>>8&255),this.byteout.writeByte(255&t),this.byteout.writeByte(3),this.byteout.writeByte(1),this.byteout.writeByte(17),this.byteout.writeByte(0),this.byteout.writeByte(2),this.byteout.writeByte(17),this.byteout.writeByte(1),this.byteout.writeByte(3),this.byteout.writeByte(17),this.byteout.writeByte(1)},writeDHT:function(){this.byteout.writeByte(255),this.byteout.writeByte(196),this.byteout.writeByte(1),this.byteout.writeByte(162),this.byteout.writeByte(0);for(var t=1;17>t;){var e=t++;this.byteout.writeByte(this.std_dc_luminance_nrcodes[e])}this.byteout.write(this.std_dc_luminance_values),this.byteout.writeByte(16);for(var i=1;17>i;){var s=i++;this.byteout.writeByte(this.std_ac_luminance_nrcodes[s])}this.byteout.write(this.std_ac_luminance_values),this.byteout.writeByte(1);for(var n=1;17>n;){var r=n++;this.byteout.writeByte(this.std_dc_chrominance_nrcodes[r])}this.byteout.write(this.std_dc_chrominance_values),this.byteout.writeByte(17);for(var a=1;17>a;){var o=a++;this.byteout.writeByte(this.std_ac_chrominance_nrcodes[o])}this.byteout.write(this.std_ac_chrominance_values)},writeSOS:function(){this.byteout.writeByte(255),this.byteout.writeByte(218),this.byteout.writeByte(0),this.byteout.writeByte(12),this.byteout.writeByte(3),this.byteout.writeByte(1),this.byteout.writeByte(0),this.byteout.writeByte(2),this.byteout.writeByte(17),this.byteout.writeByte(3),this.byteout.writeByte(17),this.byteout.writeByte(0),this.byteout.writeByte(63),this.byteout.writeByte(0)},processDU:function(t,e,i,s,n){for(var r=n.h[0],a=n.h[240],o=this.fDCTQuant(t,e),_=0;64>_;){var h=_++;this.DU[this.ZigZag[h]]=o[h]}var l,u=this.DU[0]-i|0;i=this.DU[0],0==u?this.writeBits(s.h[0]):(l=32767+u,this.writeBits(function(t){var e,i=t.category.h[l];return e=s.h[i]}(this)),this.writeBits(this.bitcode.h[l]));for(var c=63;c>0&&0==this.DU[c];)c--;if(0==c)return this.writeBits(r),i;for(var f=1;c>=f;){for(var d=f;0==this.DU[f]&&c>=f;)f++;var p=f-d;if(p>=16){for(var g=0,m=p>>4;m>g;){g++;this.writeBits(a)}p&=15}l=32767+(0|this.DU[f]),this.writeBits(function(t){var e,i=16*p+t.category.h[l];return e=n.h[i]}(this)),this.writeBits(this.bitcode.h[l]),f++}return 63!=c&&this.writeBits(r),i},RGB2YUV:function(t,e,i,s){for(var n=0,r=0;8>r;)for(var a=r++,o=(a+s)*e+i<<2,_=0;8>_;){_++;o++;var h=t.get(o++),l=t.get(o++),u=t.get(o++);this.YDU[n]=.299*h+.587*l+.114*u-128,this.UDU[n]=-.16874*h+-.33126*l+.5*u,this.VDU[n]=.5*h+-.41869*l+-.08131*u,n++}},write:function(t){var e=t.quality;0>=e&&(e=1),e>100&&(e=100);var i;i=50>e?5e3/e|0:200-2*e|0,this.initQuantTables(i),this.bytenew=0,this.bytepos=7;var s=t.width,n=t.height;this.writeWord(65496),this.writeAPP0(),this.writeDQT(),this.writeSOF0(s,n),this.writeDHT(),this.writeSOS();var r=0,a=0,o=0;this.bytenew=0,this.bytepos=7;for(var _=0;n>_;){for(var h=0;s>h;)this.RGB2YUV(t.pixels,s,h,_),r=this.processDU(this.YDU,this.fdtbl_Y,r,this.YDC_HT,this.YAC_HT),a=this.processDU(this.UDU,this.fdtbl_UV,a,this.UVDC_HT,this.UVAC_HT),o=this.processDU(this.VDU,this.fdtbl_UV,o,this.UVDC_HT,this.UVAC_HT),h+=8;_+=8}if(this.bytepos>=0){var l=new Hn(this.bytepos+1,(1<<this.bytepos+1)-1);this.writeBits(l)}this.writeWord(65497)},__class__:Vn
};var Hn=function(t,e){this.len=t,this.val=e};a["ru.octasoft.oem.designer.jpg._Writer.BitString"]=Hn,Hn.__name__=!0,Hn.prototype={__class__:Hn};var Yn,Xn=0;Array.prototype.indexOf&&(C.indexOf=function(t,e,i){return Array.prototype.indexOf.call(t,e,i)}),a.Math=Math,String.prototype.__class__=a.String=String,String.__name__=!0,a.Array=Array,Array.__name__=!0,Date.prototype.__class__=a.Date=Date,Date.__name__=["Date"];var zn=a.Int={__name__:["Int"]},jn=a.Dynamic={__name__:["Dynamic"]},Kn=a.Float=Number;Kn.__name__=["Float"];var qn=a.Bool=Boolean;qn.__ename__=["Bool"];var Zn=a.Class={__name__:["Class"]},Jn={},Qn={},$n=i.ArrayBuffer||nt;null==$n.prototype.slice&&($n.prototype.slice=nt.sliceImpl);var tr,er=i.DataView||rt,ir=i.Uint8Array||at._new;tr=new Uint32Array(256),ue.__alpha16=tr;for(var sr=0;256>sr;){var nr=sr++,rr=Math.ceil(257.00392156862745*nr);ue.__alpha16[nr]=rr}var ar;ar=new ir(510),ue.__clamp=ar;for(var or=0;255>or;){var _r=or++;ue.__clamp[_r]=_r}for(var hr=255,lr=511;lr>hr;){var ur=hr++;ue.__clamp[ur]=255}null!=window.createjs&&(createjs.Sound.alternateExtensions=["ogg","mp3","wav"]),c.__instanceCount=0,c.__worldRenderDirty=0,c.__worldTransformDirty=0,c.__cacheAsBitmapMode=!1,m.FONT_NORMAL="assets/fonts/gothaproreg-webfont.ttf",m.FONT_BOLD="assets/fonts/gothaprobol-webfont.ttf",m.TOOLBAR_HEIGHT=90,m.RIGHTCOL_WIDTH=300,m.DEFAULT_GRID=5,m.GRID_PADDING=36,m.draggable=!0,m.clipSize=528,m.click=new g,m.prev=0,T.__registeredFonts=[],W.CHARS="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",W.BYTES=G.ofString(W.CHARS),X.count=0,tt.i64tmp=function(t){var e,i=new N(0,0);return e=i}(this),st.__toStr={}.toString,at.BYTES_PER_ELEMENT=1,ht.cache=new ot,ht.libraries=new j,ht.onChange=new _t,ht.initialized=!1,ft.windowID=0,Bt.images=new j,Bt.loaders=new j,zt.__base64Chars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",be.onConnect=new Lt,xe.onConnect=new Dt,Te.onEnd=new kt,Te.onMove=new kt,Te.onStart=new kt,Ie.actuators=[],Ie.actuatorsLength=0,Ie.addedEvent=!1,De.defaultActuator=Ie,De.defaultEase=Me.get_easeOut(),De.targetLibraries=new X,He.cache=new Ve,Xe.__rootURL=window.document.URL,ze.currentDomain=new ze(null),Ke.__temp=new Ke,Ke.__identity=new Ke,Ze.current=new Ye,si.SIN45=.7071067811865476,si.TAN22=.41421356237309503,oi.SIN45=.7071067811865476,oi.TAN22=.41421356237309503,fi.SIN45=.7071067811865476,fi.TAN22=.41421356237309503,fi.fillCommands=new ti,fi.strokeCommands=new ti,Ti.fbData=[],Pi.glContextId=0,Pi.glContexts=[],Ri.UID=0,Si.VERTEX_SRC=["attribute vec2 openfl_aPosition;","attribute vec2 openfl_aTexCoord0;","attribute vec4 openfl_aColor;","uniform mat3 openfl_uProjectionMatrix;","uniform bool openfl_uUseColorTransform;","varying vec2 openfl_vTexCoord;","varying vec4 openfl_vColor;","void main(void) {","   gl_Position = vec4((openfl_uProjectionMatrix * vec3(openfl_aPosition, 1.0)).xy, 0.0, 1.0);","   openfl_vTexCoord = openfl_aTexCoord0;","   if(openfl_uUseColorTransform)","   	openfl_vColor = openfl_aColor;","   else","   	openfl_vColor = vec4(openfl_aColor.rgb * openfl_aColor.a, openfl_aColor.a);","}"],Oi.__currentWinding=0,Oi.__fillIndex=0,Gi.__temp=new Gi,Wi.fillVertexAttributes=[new Ui(2,5126,!1,"openfl_aPosition")],Wi.drawTrianglesVertexAttributes=[new Ui(2,5126,!1,"openfl_aPosition"),new Ui(2,5126,!1,"openfl_aTexCoord0"),new Ui(4,5121,!0,"openfl_aColor")],Wi.primitiveVertexAttributes=[new Ui(2,5126,!1,"openfl_aPosition"),new Ui(4,5126,!1,"openfl_aColor")],Wi.bucketPool=[],Wi.objectPosition=new g,Wi.objectBounds=new Gi,Ji.compiledShadersCache=new j,ys.uObjectSize="openfl_uObjectSize",ys.uTextureSize="openfl_uTextureSize",Ds.ACTIVATE="activate",Ds.ADDED="added",Ds.ADDED_TO_STAGE="addedToStage",Ds.CHANGE="change",Ds.COMPLETE="complete",Ds.DEACTIVATE="deactivate",Ds.ENTER_FRAME="enterFrame",Ds.MOUSE_LEAVE="mouseLeave",Ds.OPEN="open",Ds.REMOVED="removed",Ds.REMOVED_FROM_STAGE="removedFromStage",Ds.RENDER="render",Ds.RESIZE="resize",Os.TEXT_INPUT="textInput",Ns.FOCUS_IN="focusIn",Ns.FOCUS_OUT="focusOut",Us.FULL_SCREEN="fullScreen",Gs.DEVICE_ADDED="deviceAdded",Gs.DEVICE_REMOVED="deviceRemoved",Ws.HTTP_STATUS="httpStatus",Vs.IO_ERROR="ioError",Hs.KEY_DOWN="keyDown",Hs.KEY_UP="keyUp",Ys.CLICK="click",Ys.DOUBLE_CLICK="doubleClick",Ys.MIDDLE_CLICK="middleClick",Ys.MIDDLE_MOUSE_DOWN="middleMouseDown",Ys.MIDDLE_MOUSE_UP="middleMouseUp",Ys.MOUSE_DOWN="mouseDown",Ys.MOUSE_MOVE="mouseMove",Ys.MOUSE_OUT="mouseOut",Ys.MOUSE_OVER="mouseOver",Ys.MOUSE_UP="mouseUp",Ys.MOUSE_WHEEL="mouseWheel",Ys.RIGHT_CLICK="rightClick",Ys.RIGHT_MOUSE_DOWN="rightMouseDown",Ys.RIGHT_MOUSE_UP="rightMouseUp",Xs.PROGRESS="progress",zs.SECURITY_ERROR="securityError",$s.__registeredSounds=new j,pn.numDevices=0,pn.__devices=new X,pn.__instances=[],Sn.UNIT=100,In.NAME="CLEAR_ALL",Mn.NAME="DELETE_FIGURE",Ln.NAME="FIGURE_ADDED",Dn.NAME="FIGURE_DELETED",On.NAME="FIGURE_DRAGGED",kn.NAME="FIGURE_MOVED",Bn.NAME="FIGURE_ROTATED",Fn.NAME="FIGURE_SELECTED",Nn.NAME="REDO",Un.NAME="UNDO",Gn.ZOOM_IN="ZOOM_IN",Gn.ZOOM_OUT="ZOOM_OUT",Wn.seq=0,_.main()}("undefined"!=typeof console?console:{log:function(){}},"undefined"!=typeof window?window:exports,"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this);