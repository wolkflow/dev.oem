(function(F){var h;function u(b,a){function c(){}c.prototype=b;var d=new c,g;for(g in a)d[g]=a[g];a.toString!==Object.prototype.toString&&(d.toString=a.toString);return d}function va(b){return b instanceof Array?function(){return y.iter(b)}:"function"==typeof b.iterator?p(b,b.iterator):b.iterator}function p(b,a){if(null==a)return null;null==a.__id__&&(a.__id__=Ea++);var c;null==b.hx__closures__?b.hx__closures__={}:c=b.hx__closures__[a.__id__];null==c&&(c=function(){return c.method.apply(c.scope,arguments)},
c.scope=b,c.method=a,b.hx__closures__[a.__id__]=c);return c}F.openfl=F.openfl||{};F.lime=F.lime||{};F.ru=F.ru||{};F.ru.octasoft=F.ru.octasoft||{};F.ru.octasoft.oem=F.ru.octasoft.oem||{};F.ru.octasoft.oem.designer=F.ru.octasoft.oem.designer||{};var l={},m=function(){return w.Boot.__string_rec(this,"")},C=function(){};l.ApplicationMain=C;C.__name__=!0;C.config=null;C.preloader=null;C.create=function(){var b=new a.display.Application;b.create(C.config);var f=new V;C.preloader=new a.display.Preloader(f);
b.setPreloader(C.preloader);C.preloader.onComplete.add(C.init);C.preloader.create(C.config);var f=[],c=[];f.push("Gotham Pro Bold");c.push("FONT");f.push("Gotham Pro Regular");c.push("FONT");f.push("assets/images/border1.png");c.push("IMAGE");f.push("assets/images/border2.png");c.push("IMAGE");f.push("assets/images/decor.png");c.push("IMAGE");f.push("assets/images/delete.png");c.push("IMAGE");f.push("assets/images/popup_left.png");c.push("IMAGE");f.push("assets/images/popup_right.png");c.push("IMAGE");
f.push("assets/images/popup_top.png");c.push("IMAGE");f.push("assets/images/redo.png");c.push("IMAGE");f.push("assets/images/rotate.png");c.push("IMAGE");f.push("assets/images/shelf_bg1.png");c.push("IMAGE");f.push("assets/images/undo.png");c.push("IMAGE");f.push("assets/images/zoomIn.png");c.push("IMAGE");f.push("assets/images/zoomOut.png");c.push("IMAGE");if(null!=C.config.assetsPrefix)for(var d=0,g=f.length;d<g;){var k=d++;"FONT"!=c[k]&&(f[k]=C.config.assetsPrefix+f[k])}C.preloader.load(f,c);b.exec()};
C.init=function(){C.preloader=null;C.start()};C.main=function(){C.config={build:"1755",company:"Octasoft",file:"designer",fps:60,name:"Editor",orientation:"",packageName:"ru.octasoft.oem.designer",version:"1.0.0",windows:[{antialiasing:0,background:16777215,borderless:!1,depthBuffer:!1,display:0,fullscreen:!1,hardware:!0,height:0,parameters:"{}",resizable:!0,stencilBuffer:!0,title:"Editor",vsync:!1,width:0,x:null,y:null}]}};C.start=function(){for(var b=!1,f=I.resolveClass("ru.octasoft.oem.designer.Main"),
c=0,d=I.getClassFields(f);c<d.length;){var g=d[c];++c;if("main"==g){b=!0;break}}e.Assets.initialize();b?v.callMethod(f,v.field(f,"main"),[]):I.createInstance(ca,[]);a.Lib.current.stage.window.__fullscreen&&a.Lib.current.stage.dispatchEvent(new a.events.FullScreenEvent(a.events.FullScreenEvent.FULL_SCREEN,!1,!1,!0,!0));a.Lib.current.stage.dispatchEvent(new a.events.Event(a.events.Event.RESIZE,!1,!1))};var a={events:{}};a.events.IEventDispatcher=function(){};l["openfl.events.IEventDispatcher"]=a.events.IEventDispatcher;
a.events.IEventDispatcher.__name__=!0;a.events.EventDispatcher=function(b){null!=b&&(this.__targetDispatcher=b)};l["openfl.events.EventDispatcher"]=a.events.EventDispatcher;a.events.EventDispatcher.__name__=!0;a.events.EventDispatcher.__interfaces__=[a.events.IEventDispatcher];a.events.EventDispatcher.__sortByPriority=function(b,a){return b.priority==a.priority?0:b.priority>a.priority?-1:1};a.events.EventDispatcher.prototype={addEventListener:function(b,f,c,d,g){null==d&&(d=0);null==c&&(c=!1);null==
this.__eventMap&&(this.__dispatching=new t.ds.StringMap,this.__eventMap=new t.ds.StringMap,this.__newEventMap=new t.ds.StringMap);if(this.__eventMap.exists(b)){1==this.__dispatching.get(b)?this.__newEventMap.exists(b)?g=this.__newEventMap.get(b):(g=this.__eventMap.get(b).slice(),this.__newEventMap.set(b,g)):g=this.__eventMap.get(b);b=0;for(var k=g.length;b<k;){var e=b++;if(v.compareMethods(g[e].callback,f))return}g.push(new a.events._EventDispatcher.Listener(f,c,d));g.sort(a.events.EventDispatcher.__sortByPriority)}else g=
[],g.push(new a.events._EventDispatcher.Listener(f,c,d)),this.__eventMap.set(b,g)},dispatchEvent:function(b){b.target=null!=this.__targetDispatcher?this.__targetDispatcher:this;return this.__dispatchEvent(b)},hasEventListener:function(b){return null==this.__eventMap?!1:1==this.__dispatching.get(b)&&this.__newEventMap.exists(b)?0<this.__newEventMap.get(b).length:this.__eventMap.exists(b)},removeEventListener:function(b,a,c){null==c&&(c=!1);if(null!=this.__eventMap){var d=this.__eventMap.get(b);if(null!=
d){var g=1==this.__dispatching.get(b);g&&(this.__newEventMap.exists(b)?d=this.__newEventMap.get(b):(d=this.__eventMap.get(b).slice(),this.__newEventMap.set(b,d)));for(var k=0,e=d.length;k<e;){var h=k++;if(d[h].match(a,c)){d.splice(h,1);break}}g||(0==d.length&&this.__eventMap.remove(b),this.__eventMap.iterator().hasNext()||(this.__newEventMap=this.__eventMap=null))}}},__dispatchEvent:function(b){if(null==this.__eventMap||null==b)return!1;var f=b.type,c;if(1==this.__dispatching.get(f)){c=this.__newEventMap.get(f);
if(null==c)return!1;c=c.slice()}else{c=this.__eventMap.get(f);if(null==c)return!1;this.__dispatching.set(f,!0)}null==b.target&&(b.target=null!=this.__targetDispatcher?this.__targetDispatcher:this);b.currentTarget=this;for(var d=b.eventPhase==a.events.EventPhase.CAPTURING_PHASE,g=0,k;g<c.length;){k=c[g];if(k.useCapture==d&&(k.callback(b),b.__isCancelledNow))break;k==c[g]&&g++}null!=this.__newEventMap&&this.__newEventMap.exists(f)&&(c=this.__newEventMap.get(f),0<c.length?this.__eventMap.set(f,c):this.__eventMap.remove(f),
this.__eventMap.iterator().hasNext()?this.__newEventMap.remove(f):this.__newEventMap=this.__eventMap=null);this.__dispatching.set(b.type,!1);return!0},__class__:a.events.EventDispatcher};a.display={};a.display.IBitmapDrawable=function(){};l["openfl.display.IBitmapDrawable"]=a.display.IBitmapDrawable;a.display.IBitmapDrawable.__name__=!0;a.display.IBitmapDrawable.prototype={__class__:a.display.IBitmapDrawable};a.display.DisplayObject=function(){this.__cacheAsBitmapSmooth=!0;this.__maskCached=this.__cacheAsBitmap=
!1;a.events.EventDispatcher.call(this);this.__alpha=1;this.__transform=new a.geom.Matrix;this.__visible=!0;this.__rotationSine=this.__rotation=0;this.__rotationCosine=1;this.__renderTransform=new a.geom.Matrix;this.__offset=new a.geom.Point;this.__worldOffset=new a.geom.Point;this.__worldAlpha=1;this.__worldTransform=new a.geom.Matrix;this.__worldColorTransform=new a.geom.ColorTransform;this.set_name("instance"+ ++a.display.DisplayObject.__instanceCount)};l["openfl.display.DisplayObject"]=a.display.DisplayObject;
a.display.DisplayObject.__name__=!0;a.display.DisplayObject.__interfaces__=[a.display.IBitmapDrawable];a.display.DisplayObject.__super__=a.events.EventDispatcher;a.display.DisplayObject.prototype=u(a.events.EventDispatcher.prototype,{getBounds:function(b){var f;null!=b?(f=this.__getWorldTransform().clone(),f.concat(b.__getWorldTransform().clone().invert())):(f=a.geom.Matrix.__temp,f.identity());b=new a.geom.Rectangle;this.__getBounds(b,f);return b},globalToLocal:function(b){b=b.clone();this.__getWorldTransform().__transformInversePoint(b);
return b},localToGlobal:function(b){return this.__getWorldTransform().transformPoint(b)},__broadcast:function(b,f){if(null!=this.__eventMap&&this.hasEventListener(b.type)){var c=a.events.EventDispatcher.prototype.__dispatchEvent.call(this,b);return b.__isCancelled?!0:c}return!1},__dispatchEvent:function(b){var f=a.events.EventDispatcher.prototype.__dispatchEvent.call(this,b);if(b.__isCancelled)return!0;b.bubbles&&null!=this.parent&&this.parent!=this&&(b.eventPhase=a.events.EventPhase.BUBBLING_PHASE,
null==b.target&&(b.target=this),this.parent.__dispatchEvent(b));return f},__enterFrame:function(b){},__getBounds:function(b,a){null!=this.__graphics&&this.__graphics.__getBounds(b,a)},__getRenderBounds:function(b,f){if(null==this.__scrollRect)this.__getBounds(b,f);else{var c=a.geom.Rectangle.__temp;c.copyFrom(this.__scrollRect);c.__transform(c,f);b.__expand(f.tx,f.ty,c.width,c.height)}},__getCursor:function(){return null},__getInteractive:function(b){return!1},__getWorldTransform:function(){if(this.__transformDirty||
0<a.display.DisplayObject.__worldTransformDirty){var b=[],f=this,c=this.__transformDirty;if(null==this.parent)c&&this.__update(!0,!1);else for(;null!=f.parent;)b.push(f),f=f.parent,f.__transformDirty&&(c=!0);if(c)for(f=b.length;0<=--f;)b[f].__update(!0,!1)}return this.__worldTransform},__hitTest:function(b,a,c,d,g){if(null!=this.__graphics){if(!this.get_visible()||this.__isMask||null!=this.get_mask()&&!this.get_mask().__hitTestMask(b,a))return!1;if(this.__graphics.__hitTest(b,a,c,this.__getWorldTransform()))return null==
d||g||d.push(this),!0}return!1},__hitTestMask:function(b,a){return null!=this.__graphics&&this.__graphics.__hitTest(b,a,!0,this.__getWorldTransform())?!0:!1},__renderCairo:function(b){null!=this.__graphics&&a._internal.renderer.cairo.CairoShape.render(this,b)},__renderCairoMask:function(b){null!=this.__graphics&&a._internal.renderer.cairo.CairoGraphics.renderMask(this.__graphics,b)},__renderCanvas:function(b){null!=this.__graphics&&a._internal.renderer.canvas.CanvasShape.render(this,b)},__renderCanvasMask:function(b){null!=
this.__graphics&&a._internal.renderer.canvas.CanvasGraphics.renderMask(this.__graphics,b)},__renderDOM:function(b){null!=this.__graphics&&a._internal.renderer.dom.DOMShape.render(this,b)},__renderGL:function(b){!this.__renderable||0>=this.__worldAlpha||(this.__cacheAsBitmap?this.__cacheGL(b):(null!=this.__scrollRect&&b.maskManager.pushRect(this.__scrollRect,this.__renderTransform),null!=this.__mask&&null!=this.__maskGraphics&&0<this.__maskGraphics.__commands.get_length()&&b.maskManager.pushMask(this),
null!=this.__graphics&&(this.__graphics.__hardware?a._internal.renderer.opengl.utils.GraphicsRenderer.render(this,b):(a._internal.renderer.canvas.CanvasGraphics.render(this.__graphics,b),a._internal.renderer.opengl.GLRenderer.renderBitmap(this,b))),null!=this.__mask&&null!=this.__maskGraphics&&0<this.__maskGraphics.__commands.get_length()&&b.maskManager.popMask(),null!=this.__scrollRect&&b.maskManager.popRect()))},__cacheGL:function(b){var f=null!=this.__cacheAsBitmapMatrix,c=this.__cachedBitmapBounds.x,
d=this.__cachedBitmapBounds.y,g=this.__cachedBitmapBounds.width,k=this.__cachedBitmapBounds.height;null==this.__cacheGLMatrix&&(this.__cacheGLMatrix=new a.geom.Matrix);f?(f=a.geom.Rectangle.__temp,this.__cachedBitmapBounds.__transform(f,this.__cacheAsBitmapMatrix),c=f.x,d=f.y,g=f.width,k=f.height,this.__cacheGLMatrix=this.__cacheAsBitmapMatrix.clone()):this.__cacheGLMatrix.identity();if(0>=g&&0>=k)throw"Error creating a cached bitmap. The texture size is "+g+"x"+k;if(this.__updateCachedBitmap||this.__updateFilters)null!=
this.__cachedFilterBounds&&(g+=Math.abs(this.__cachedFilterBounds.x)+Math.abs(this.__cachedFilterBounds.width),k+=Math.abs(this.__cachedFilterBounds.y)+Math.abs(this.__cachedFilterBounds.height)),null==this.__cachedBitmap&&(this.__cachedBitmap=a.display.BitmapData.__asRenderTexture()),this.__cachedBitmap.__resize(Math.ceil(g),Math.ceil(k)),g=this.__cacheGLMatrix.clone(),g.translate(-c,-d),f=this.__shader,this.__shader=null,this.__cachedBitmap.__drawGL(b,this,g,null,null,null,!0,!1,!0),this.__shader=
f,this.__updateCachedBitmap=!1;this.__updateFilters&&(a.filters.BitmapFilter.__applyFilters(this.__filters,b,this.__cachedBitmap,this.__cachedBitmap,null,null),this.__updateFilters=!1);this.__cacheGLMatrix.invert();this.__cacheGLMatrix.__translateTransformed(c,d);this.__cacheGLMatrix.concat(this.__renderTransform);this.__cacheGLMatrix.translate(this.__offset.x,this.__offset.y);b.spriteBatch.renderBitmapData(this.__cachedBitmap,this.__cacheAsBitmapSmooth,this.__cacheGLMatrix,this.__worldColorTransform,
this.__worldAlpha,this.blendMode,this.__shader,a.display.PixelSnapping.ALWAYS)},__setStageReference:function(b){this.stage!=b&&(null!=this.stage&&(this.stage.get_focus()==this&&this.stage.set_focus(null),this.dispatchEvent(new a.events.Event(a.events.Event.REMOVED_FROM_STAGE,!1,!1))),this.stage=b,null!=b&&this.dispatchEvent(new a.events.Event(a.events.Event.ADDED_TO_STAGE,!1,!1)))},__setRenderDirty:function(){this.__renderDirty||(this.__updateCachedBitmap=!0,this.__updateFilters=null!=this.get_filters()&&
0<this.get_filters().length,this.__renderDirty=!0,a.display.DisplayObject.__worldRenderDirty++)},__updateTransforms:function(b){var f=null!=b;b=f?new a.geom.Matrix(b.a,b.b,b.c,b.d,b.tx,b.ty):this.__transform;f||null==this.parent?(this.__worldTransform.copyFrom(b),this.__worldOffset.setTo(0,0)):(f=this.parent.__worldTransform,this.__worldTransform.a=b.a*f.a+b.b*f.c,this.__worldTransform.b=b.a*f.b+b.b*f.d,this.__worldTransform.c=b.c*f.a+b.d*f.c,this.__worldTransform.d=b.c*f.b+b.d*f.d,this.__worldTransform.tx=
b.tx*f.a+b.ty*f.c+f.tx,this.__worldTransform.ty=b.tx*f.b+b.ty*f.d+f.ty,this.__worldOffset.copyFrom(this.parent.__worldOffset));null!=this.__scrollRect?(this.__offset=this.__worldTransform.deltaTransformPoint(this.__scrollRect.get_topLeft()),this.__worldOffset.offset(this.__offset.x,this.__offset.y)):this.__offset.setTo(0,0);this.__renderTransform.copyFrom(this.__worldTransform);this.__renderTransform.translate(-this.__worldOffset.x,-this.__worldOffset.y)},__update:function(b,f,c){this.__renderable=
this.get_visible()&&0!=this.get_scaleX()&&0!=this.get_scaleY()&&!this.__isMask;this.__updateTransforms();null!=this.parent&&this.__isMask&&(this.__maskCached=!1);f&&this.__transformDirty&&(this.__transformDirty=!1,a.display.DisplayObject.__worldTransformDirty--);b||null==this.__mask||this.__mask.__maskCached||(null==this.__maskGraphics&&(this.__maskGraphics=new a.display.Graphics),this.__maskGraphics.clear(),this.__mask.__update(!0,!0,this.__maskGraphics),this.__mask.__maskCached=!0);null!=c&&this.__updateMask(c);
!b&&this.__cacheAsBitmap&&(this.__updateCachedBitmap||this.__updateFilters)&&(null==this.__cachedBitmapBounds&&(this.__cachedBitmapBounds=new a.geom.Rectangle),null!=this.cacheAsBitmapBounds?this.__cachedBitmapBounds.copyFrom(this.cacheAsBitmapBounds):(this.__cachedBitmapBounds.setEmpty(),this.__getRenderBounds(this.__cachedBitmapBounds,a.geom.Matrix.__identity)),null!=this.__filters&&(null==this.__cachedFilterBounds&&(this.__cachedFilterBounds=new a.geom.Rectangle),this.__cachedFilterBounds.setEmpty(),
a.filters.BitmapFilter.__expandBounds(this.__filters,this.__cachedFilterBounds,a.geom.Matrix.__identity),this.__cachedBitmapBounds.x+=this.__cachedFilterBounds.x,this.__cachedBitmapBounds.y+=this.__cachedFilterBounds.y));if(!b){this.__worldColorTransform.__equals(this.get_transform().get_colorTransform())||(this.__worldColorTransform=this.get_transform().get_colorTransform().__clone());if(null!=this.parent){this.__worldAlpha=this.get_alpha()*this.parent.__worldAlpha;this.__worldColorTransform.__combine(this.parent.__worldColorTransform);
if(null==this.blendMode||this.blendMode==a.display.BlendMode.NORMAL)this.__blendMode=this.parent.__blendMode;null==this.shader&&(this.__shader=this.parent.__shader)}else this.__worldAlpha=this.get_alpha();f&&this.__renderDirty&&(this.__renderDirty=!1)}},__updateChildren:function(b){if((this.__renderable=this.get_visible()&&0!=this.get_scaleX()&&0!=this.get_scaleY()&&!this.__isMask)||this.__isMask)this.__worldAlpha=this.get_alpha(),this.__transformDirty&&(this.__transformDirty=!1,a.display.DisplayObject.__worldTransformDirty--)},
__updateMask:function(b){null!=this.__graphics&&(b.__commands.overrideMatrix(this.__worldTransform),b.__commands.append(this.__graphics.__commands),b.set___dirty(!0),b.__visible=!0,null==b.__bounds&&(b.__bounds=new a.geom.Rectangle),this.__graphics.__getBounds(b.__bounds,a.geom.Matrix.__identity))},get_alpha:function(){return this.__alpha},get_cacheAsBitmap:function(){return this.__cacheAsBitmap},get_filters:function(){return null==this.__filters?[]:this.__filters.slice()},set_filters:function(b){null!=
b&&0<b.length?(this.__filters=b,this.__updateFilters=this.__cacheAsBitmap=this.__forceCacheAsBitmap=!0):(this.__filters=null,this.__updateFilters=this.__cacheAsBitmap=this.__forceCacheAsBitmap=!1);this.__renderDirty||(this.__updateCachedBitmap=!0,this.__updateFilters=null!=this.get_filters()&&0<this.get_filters().length,this.__renderDirty=!0,a.display.DisplayObject.__worldRenderDirty++);return b},get_height:function(){var b=new a.geom.Rectangle;this.__getBounds(b,this.__transform);return b.height},
set_height:function(b){var f=new a.geom.Rectangle,c=a.geom.Matrix.__temp;c.identity();this.__getBounds(f,c);b!=f.height?this.set_scaleY(b/f.height):this.set_scaleY(1);return b},get_mask:function(){return this.__mask},get_mouseX:function(){var b;b=null!=this.stage?this.stage.__mouseX:a.Lib.current.stage.__mouseX;var f;f=null!=this.stage?this.stage.__mouseY:a.Lib.current.stage.__mouseY;return this.__getWorldTransform().__transformInverseX(b,f)},get_mouseY:function(){var b;b=null!=this.stage?this.stage.__mouseX:
a.Lib.current.stage.__mouseX;var f;f=null!=this.stage?this.stage.__mouseY:a.Lib.current.stage.__mouseY;return this.__getWorldTransform().__transformInverseY(b,f)},get_name:function(){return this.__name},set_name:function(b){return this.__name=b},get_rotation:function(){return this.__rotation},set_rotation:function(b){if(b!=this.__rotation){this.__rotation=b;var f=Math.PI/180*this.__rotation;this.__rotationSine=Math.sin(f);this.__rotationCosine=Math.cos(f);var f=this.get_scaleX(),c=this.get_scaleY();
this.__transform.a=this.__rotationCosine*f;this.__transform.b=this.__rotationSine*f;this.__transform.c=-this.__rotationSine*c;this.__transform.d=this.__rotationCosine*c;this.__transformDirty||(this.__transformDirty=!0,a.display.DisplayObject.__worldTransformDirty++)}return b},get_scaleX:function(){return 0==this.__transform.b?this.__transform.a:Math.sqrt(this.__transform.a*this.__transform.a+this.__transform.b*this.__transform.b)},set_scaleX:function(b){if(0==this.__transform.c)b==this.__transform.a||
this.__transformDirty||(this.__transformDirty=!0,a.display.DisplayObject.__worldTransformDirty++),this.__transform.a=b;else{var f=this.__rotationCosine*b,c=this.__rotationSine*b;this.__transform.a==f&&this.__transform.b==c||this.__transformDirty||(this.__transformDirty=!0,a.display.DisplayObject.__worldTransformDirty++);this.__transform.a=f;this.__transform.b=c}return b},get_scaleY:function(){return 0==this.__transform.c?this.__transform.d:Math.sqrt(this.__transform.c*this.__transform.c+this.__transform.d*
this.__transform.d)},set_scaleY:function(b){if(0==this.__transform.c)b==this.__transform.d||this.__transformDirty||(this.__transformDirty=!0,a.display.DisplayObject.__worldTransformDirty++),this.__transform.d=b;else{var f=-this.__rotationSine*b,c=this.__rotationCosine*b;this.__transform.d==c&&this.__transform.c==f||this.__transformDirty||(this.__transformDirty=!0,a.display.DisplayObject.__worldTransformDirty++);this.__transform.c=f;this.__transform.d=c}return b},get_scrollRect:function(){return null==
this.__scrollRect?null:this.__scrollRect.clone()},set_scrollRect:function(b){b==this.__scrollRect||this.__transformDirty||(this.__transformDirty=!0,a.display.DisplayObject.__worldTransformDirty++);return this.__scrollRect=b},get_transform:function(){null==this.__objectTransform&&(this.__objectTransform=new a.geom.Transform(this));return this.__objectTransform},get_visible:function(){return this.__visible},set_visible:function(b){b==this.__visible||this.__renderDirty||(this.__updateCachedBitmap=!0,
this.__updateFilters=null!=this.get_filters()&&0<this.get_filters().length,this.__renderDirty=!0,a.display.DisplayObject.__worldRenderDirty++);return this.__visible=b},get_width:function(){var b=new a.geom.Rectangle;this.__getBounds(b,this.__transform);return b.width},get_x:function(){return this.__transform.tx},set_x:function(b){b==this.__transform.tx||this.__transformDirty||(this.__transformDirty=!0,a.display.DisplayObject.__worldTransformDirty++);return this.__transform.tx=b},get_y:function(){return this.__transform.ty},
set_y:function(b){b==this.__transform.ty||this.__transformDirty||(this.__transformDirty=!0,a.display.DisplayObject.__worldTransformDirty++);return this.__transform.ty=b},__class__:a.display.DisplayObject,__properties__:{set_y:"set_y",get_y:"get_y",set_x:"set_x",get_x:"get_x",get_width:"get_width",set_visible:"set_visible",get_visible:"get_visible",get_transform:"get_transform",set_scrollRect:"set_scrollRect",get_scrollRect:"get_scrollRect",set_scaleY:"set_scaleY",get_scaleY:"get_scaleY",set_scaleX:"set_scaleX",
get_scaleX:"get_scaleX",set_rotation:"set_rotation",get_rotation:"get_rotation",set_name:"set_name",get_name:"get_name",get_mouseY:"get_mouseY",get_mouseX:"get_mouseX",get_mask:"get_mask",set_height:"set_height",get_height:"get_height",set_filters:"set_filters",get_filters:"get_filters",get_cacheAsBitmap:"get_cacheAsBitmap",get_alpha:"get_alpha"}});a.display.InteractiveObject=function(){a.display.DisplayObject.call(this);this.doubleClickEnabled=!1;this.mouseEnabled=!0;this.__tabEnabled=this.needsSoftKeyboard=
!1;this.tabIndex=-1};l["openfl.display.InteractiveObject"]=a.display.InteractiveObject;a.display.InteractiveObject.__name__=!0;a.display.InteractiveObject.__super__=a.display.DisplayObject;a.display.InteractiveObject.prototype=u(a.display.DisplayObject.prototype,{__getInteractive:function(b){null!=b&&(b.push(this),null!=this.parent&&this.parent.__getInteractive(b));return!0},__hitTest:function(b,f,c,d,g){return!this.get_visible()||this.__isMask||g&&!this.mouseEnabled?!1:a.display.DisplayObject.prototype.__hitTest.call(this,
b,f,c,d,g)},get_tabEnabled:function(){return this.__tabEnabled},__class__:a.display.InteractiveObject,__properties__:u(a.display.DisplayObject.prototype.__properties__,{get_tabEnabled:"get_tabEnabled"})});a.display.DisplayObjectContainer=function(){a.display.InteractiveObject.call(this);this.mouseChildren=!0;this.__children=[];this.__removedChildren=[]};l["openfl.display.DisplayObjectContainer"]=a.display.DisplayObjectContainer;a.display.DisplayObjectContainer.__name__=!0;a.display.DisplayObjectContainer.__super__=
a.display.InteractiveObject;a.display.DisplayObjectContainer.prototype=u(a.display.InteractiveObject.prototype,{addChild:function(b){if(null!=b){null!=b.parent&&b.parent.removeChild(b);this.__children.push(b);b.parent=this;null!=this.stage&&b.__setStageReference(this.stage);b.__transformDirty||(b.__transformDirty=!0,a.display.DisplayObject.__worldTransformDirty++);b.__renderDirty||(b.__updateCachedBitmap=!0,b.__updateFilters=null!=b.get_filters()&&0<b.get_filters().length,b.__renderDirty=!0,a.display.DisplayObject.__worldRenderDirty++);
this.__renderDirty||(this.__updateCachedBitmap=!0,this.__updateFilters=null!=this.get_filters()&&0<this.get_filters().length,this.__renderDirty=!0,a.display.DisplayObject.__worldRenderDirty++);var f=new a.events.Event(a.events.Event.ADDED,!0);f.target=b;b.__dispatchEvent(f)}return b},getChildAt:function(b){return 0<=b&&b<this.__children.length?this.__children[b]:null},getObjectsUnderPoint:function(b){var a=[];this.__hitTest(b.x,b.y,!1,a,!1);a.reverse();return a},removeChild:function(b){null!=b&&b.parent==
this&&(b.__dispatchEvent(new a.events.Event(a.events.Event.REMOVED,!0)),null!=this.stage&&b.__setStageReference(null),b.parent=null,y.remove(this.__children,b),this.__removedChildren.push(b),b.__transformDirty||(b.__transformDirty=!0,a.display.DisplayObject.__worldTransformDirty++),b.__renderDirty||(b.__updateCachedBitmap=!0,b.__updateFilters=null!=b.get_filters()&&0<b.get_filters().length,b.__renderDirty=!0,a.display.DisplayObject.__worldRenderDirty++),this.__renderDirty||(this.__updateCachedBitmap=
!0,this.__updateFilters=null!=this.get_filters()&&0<this.get_filters().length,this.__renderDirty=!0,a.display.DisplayObject.__worldRenderDirty++));return b},removeChildAt:function(b){return 0<=b&&b<this.__children.length?this.removeChild(this.__children[b]):null},__broadcast:function(b,f){null==b.target&&(b.target=this);var c=a.display.InteractiveObject.prototype.__broadcast.call(this,b,f);if(!b.__isCancelled&&f)for(var d=0,g=this.__children;d<g.length;){var k=g[d];++d;k.__broadcast(b,!0);if(b.__isCancelled)return!0}return c},
__enterFrame:function(b){for(var a=0,c=this.__children;a<c.length;){var d=c[a];++a;d.__enterFrame(b)}},__getBounds:function(b,f){a.display.InteractiveObject.prototype.__getBounds.call(this,b,f);if(0!=this.__children.length){null!=f&&(this.__updateTransforms(f),this.__updateChildren(!0));for(var c=0,d=this.__children;c<d.length;){var g=d[c];++c;0==g.get_scaleX()||0==g.get_scaleY()||g.__isMask||g.__getBounds(b,g.__worldTransform)}null!=f&&(this.__updateTransforms(),this.__updateChildren(!0))}},__getRenderBounds:function(b,
f){if(null!=this.__scrollRect)a.display.InteractiveObject.prototype.__getRenderBounds.call(this,b,f);else if(a.display.InteractiveObject.prototype.__getBounds.call(this,b,f),0!=this.__children.length){null!=f&&(this.__updateTransforms(f),this.__updateChildren(!0));for(var c=0,d=this.__children;c<d.length;){var g=d[c];++c;0==g.get_scaleX()||0==g.get_scaleY()||g.__isMask||g.__getRenderBounds(b,g.__worldTransform)}null!=f&&(this.__updateTransforms(),this.__updateChildren(!0))}},__hitTest:function(b,
f,c,d,g){if(!this.get_visible()||this.__isMask||g&&!this.mouseEnabled&&!this.mouseChildren||null!=this.get_mask()&&!this.get_mask().__hitTestMask(b,f)||null!=this.get_scrollRect()&&!this.get_scrollRect().containsPoint(this.globalToLocal(new a.geom.Point(b,f))))return!1;var k=this.__children.length;if(g)if(null==d||!this.mouseChildren)for(;0<=--k;){if(this.__children[k].__hitTest(b,f,c,null,!0))return null!=d&&d.push(this),!0}else{if(null!=d){g=d.length;for(var e=!1,h=!1;0<=--k&&!(((e=this.__children[k].__getInteractive(null))||
this.mouseEnabled&&!h)&&this.__children[k].__hitTest(b,f,c,d,!0)&&(h=!0,e)););if(h)return d.splice(g,0,this),!0}}else for(;0<=--k;)this.__children[k].__hitTest(b,f,c,d,!1);return!1},__hitTestMask:function(b,a){for(var c=this.__children.length;0<=--c;)if(this.__children[c].__hitTestMask(b,a))return!0;return!1},__renderCairo:function(b){if(this.__renderable&&!(0>=this.__worldAlpha)){a.display.InteractiveObject.prototype.__renderCairo.call(this,b);null!=this.get_scrollRect()&&b.maskManager.pushRect(this.get_scrollRect(),
this.__worldTransform);null!=this.__mask&&b.maskManager.pushMask(this.__mask);for(var f=0,c=this.__children;f<c.length;){var d=c[f];++f;d.__renderCairo(b)}0<this.__removedChildren.length&&this.__removedChildren.splice(0,this.__removedChildren.length);null!=this.__mask&&b.maskManager.popMask();null!=this.get_scrollRect()&&b.maskManager.popRect()}},__renderCairoMask:function(b){null!=this.__graphics&&a._internal.renderer.cairo.CairoGraphics.renderMask(this.__graphics,b);for(var f=0,c=this.__children;f<
c.length;){var d=c[f];++f;d.__renderCairoMask(b)}},__renderCanvas:function(b){if(this.__renderable&&!(0>=this.__worldAlpha)){a.display.InteractiveObject.prototype.__renderCanvas.call(this,b);null!=this.get_scrollRect()&&b.maskManager.pushRect(this.get_scrollRect(),this.__worldTransform);null!=this.__mask&&b.maskManager.pushMask(this.__mask);for(var f=0,c=this.__children;f<c.length;){var d=c[f];++f;d.__renderCanvas(b)}0<this.__removedChildren.length&&this.__removedChildren.splice(0,this.__removedChildren.length);
null!=this.__mask&&b.maskManager.popMask();null!=this.get_scrollRect()&&b.maskManager.popRect()}},__renderCanvasMask:function(b){null!=this.__graphics&&a._internal.renderer.canvas.CanvasGraphics.renderMask(this.__graphics,b);var f=new a.geom.Rectangle;this.__getBounds(f,this.__transform);b.context.rect(0,0,f.width,f.height)},__renderDOM:function(b){a.display.InteractiveObject.prototype.__renderDOM.call(this,b);null!=this.__mask&&b.maskManager.pushMask(this.__mask);for(var f=0,c=this.__children;f<
c.length;){var d=c[f];++f;d.__renderDOM(b)}f=0;for(c=this.__removedChildren;f<c.length;)d=c[f],++f,null==d.stage&&d.__renderDOM(b);0<this.__removedChildren.length&&this.__removedChildren.splice(0,this.__removedChildren.length);null!=this.__mask&&b.maskManager.popMask()},__renderGL:function(b){if(this.__renderable&&!(0>=this.__worldAlpha))if(this.__cacheAsBitmap)this.__cacheGL(b);else{null!=this.__scrollRect&&b.maskManager.pushRect(this.__scrollRect,this.__renderTransform);null!=this.__mask&&null!=
this.__maskGraphics&&0<this.__maskGraphics.__commands.get_length()&&b.maskManager.pushMask(this);null!=this.__graphics&&(this.__graphics.__hardware?a._internal.renderer.opengl.utils.GraphicsRenderer.render(this,b):(a._internal.renderer.canvas.CanvasGraphics.render(this.__graphics,b),a._internal.renderer.opengl.GLRenderer.renderBitmap(this,b)));for(var f=0,c=this.__children;f<c.length;){var d=c[f];++f;d.__renderGL(b)}null!=this.__mask&&null!=this.__maskGraphics&&0<this.__maskGraphics.__commands.get_length()&&
b.maskManager.popMask();null!=this.__scrollRect&&b.maskManager.popRect();0<this.__removedChildren.length&&this.__removedChildren.splice(0,this.__removedChildren.length)}},__setStageReference:function(b){if(this.stage!=b&&(null!=this.stage&&this.__dispatchEvent(new a.events.Event(a.events.Event.REMOVED_FROM_STAGE,!1,!1)),this.stage=b,null!=b&&this.__dispatchEvent(new a.events.Event(a.events.Event.ADDED_TO_STAGE,!1,!1)),null!=this.__children))for(var f=0,c=this.__children;f<c.length;){var d=c[f];++f;
d.__setStageReference(b)}},__update:function(b,f,c){a.display.InteractiveObject.prototype.__update.call(this,b,f,c);if((this.__renderable||this.__isMask)&&f){f=0;for(var d=this.__children;f<d.length;){var g=d[f];++f;g.__update(b,!0,c)}}},__updateChildren:function(b){a.display.InteractiveObject.prototype.__updateChildren.call(this,b);for(var f=0,c=this.__children;f<c.length;){var d=c[f];++f;d.__update(b,!0)}},get_numChildren:function(){return this.__children.length},__class__:a.display.DisplayObjectContainer,
__properties__:u(a.display.InteractiveObject.prototype.__properties__,{get_numChildren:"get_numChildren"})});a.display.Sprite=function(){a.display.DisplayObjectContainer.call(this);this.buttonMode=!1;this.useHandCursor=!0;this.loaderInfo=a.display.LoaderInfo.create(null)};l["openfl.display.Sprite"]=a.display.Sprite;a.display.Sprite.__name__=!0;a.display.Sprite.__super__=a.display.DisplayObjectContainer;a.display.Sprite.prototype=u(a.display.DisplayObjectContainer.prototype,{startDrag:function(b,a){null==
b&&(b=!1);null!=this.stage&&this.stage.__startDrag(this,b,a)},stopDrag:function(){null!=this.stage&&this.stage.__stopDrag(this)},__getCursor:function(){return this.buttonMode&&this.useHandCursor?e.ui.MouseCursor.POINTER:null},__hitTest:function(b,f,c,d,g){return!this.get_visible()||this.__isMask||g&&!this.mouseEnabled&&!this.mouseChildren||null!=this.get_mask()&&!this.get_mask().__hitTestMask(b,f)?!1:a.display.DisplayObjectContainer.prototype.__hitTest.call(this,b,f,c,d,g)?g:g&&!this.mouseEnabled||
null==this.__graphics||!this.__graphics.__hitTest(b,f,c,this.__getWorldTransform())?!1:(null!=d&&d.push(this),!0)},__hitTestMask:function(b,f){return a.display.DisplayObjectContainer.prototype.__hitTestMask.call(this,b,f)||null!=this.__graphics&&this.__graphics.__hitTest(b,f,!0,this.__getWorldTransform())?!0:!1},get_graphics:function(){null==this.__graphics&&(this.__graphics=new a.display.Graphics,this.__graphics.__owner=this);return this.__graphics},get_tabEnabled:function(){return this.__tabEnabled||
this.buttonMode},__class__:a.display.Sprite,__properties__:u(a.display.DisplayObjectContainer.prototype.__properties__,{get_graphics:"get_graphics"})});a.geom={};a.geom.Point=function(b,a){null==a&&(a=0);null==b&&(b=0);this.x=b;this.y=a};l["openfl.geom.Point"]=a.geom.Point;a.geom.Point.__name__=!0;a.geom.Point.prototype={clone:function(){return new a.geom.Point(this.x,this.y)},copyFrom:function(b){this.x=b.x;this.y=b.y},offset:function(b,a){this.x+=b;this.y+=a},setTo:function(b,a){this.x=b;this.y=
a},toString:function(){return"(x="+this.x+", y="+this.y+")"},__class__:a.geom.Point};h={};h.Main=F.ru.octasoft.oem.designer.Main=function(){var b=this;a.display.Sprite.call(this);h.Main.view=this;h.Main.undo=new da;h.Main.redo=new da;h.Main.toolbar=new h.Toolbar;this.addChild(h.Main.toolbar);this.set_name("main");h.Main.cont=new a.display.Sprite;h.Main.cont.set_name("cont");h.Main.cont.set_x(6);h.Main.cont.set_y(h.Main.toolbar.get_height()+h.Main.GRID_PADDING);h.Main.cont.set_scrollRect(new a.geom.Rectangle(-6,
-6,h.Main.clipSize+12,h.Main.clipSize+12));this.addChild(h.Main.cont);h.Main.grid=new h.Grid;h.Main.cont.addChild(h.Main.grid);h.Main.cont.addEventListener(a.events.MouseEvent.MOUSE_DOWN,function(b){h.Main.click.x=b.stageX;h.Main.click.y=b.stageY;h.Main.draggable&&(q.Actuate.stop(h.Main.grid),h.Main.grid.startDrag())});h.Main.cont.addEventListener(a.events.MouseEvent.MOUSE_MOVE,function(b){h.Main.gridDown&&!h.Main.dragged&&(h.Main.dragged=!0)});h.Main.cont.addEventListener(a.events.MouseEvent.MOUSE_UP,
function(f){h.Main.click.x==f.stageX&&h.Main.click.y==f.stageY&&(f=new a.geom.Point(f.stageX,f.stageY),1==b.stage.getObjectsUnderPoint(f).length&&null!=h.Main.selected&&h.Main.selected.get_selected()&&(h.Main.selected.set_selected(!1),h.Main.selected=null,b.showPopup(h.Main.selected,!1)));h.Main.dragged=!1;h.Main.grid.stopDrag();h.Main.validateEditor();h.Main.gridDown=!1});h.Main.cont.addEventListener(a.events.MouseEvent.MOUSE_OUT,function(b){h.Main.stopDragging()});h.Main.toolbar.addEventListener(h.events.ZoomEvent.ZOOM_IN,
function(b){h.Main.shelfPopup.set_visible(!1);h.Main.grid.zoomIn();h.Main.validateEditor()});h.Main.toolbar.addEventListener(h.events.ZoomEvent.ZOOM_OUT,function(b){h.Main.shelfPopup.set_visible(!1);h.Main.grid.zoomOut();h.Main.validateEditor()});h.Main.toolbar.addEventListener(h.events.ClearEvent.NAME,function(b){h.Main.reset(!1)});h.Main.toolbar.addEventListener(h.events.DeleteEvent.NAME,function(b){null!=h.Main.selected&&(h.Main.grid.dispatchEvent(new h.events.FigureDeletedEvent(h.Main.selected,
new a.geom.Point(h.Main.selected.get_x(),h.Main.selected.get_y()),h.events.EventContext.DIRECT)),h.Main.selected=null)});h.Main.toolbar.addEventListener(h.events.UndoEvent.NAME,p(this,this.onUndo));h.Main.toolbar.addEventListener(h.events.RedoEvent.NAME,p(this,this.onRedo));var f=this.stage.stageWidth-h.Main.RIGHTCOL_WIDTH,c=h.Main.RIGHTCOL_WIDTH;h.Main.rightTitle=new a.display.Sprite;h.Main.rightTitle.set_x(f);this.addChild(h.Main.rightTitle);h.Main.rightTitle.get_graphics().beginBitmapFill(a.Assets.getBitmapData("assets/images/border2.png"));
h.Main.rightTitle.get_graphics().drawRect(0,0,c,h.Main.TOOLBAR_HEIGHT);h.Main.rightTitle.get_graphics().endFill();var d=a.Assets.getFont(h.Main.FONT_BOLD),d=new a.text.TextFormat(d.name,21,0);d.align=a.text.TextFormatAlign.LEFT;h.Main.label=new a.text.TextField;h.Main.label.set_defaultTextFormat(d);h.Main.label.set_embedFonts(!0);h.Main.label.set_autoSize(a.text.TextFieldAutoSize.LEFT);h.Main.label.set_text("EQUIPMENT");h.Main.label.set_x(f+c/2-h.Main.label.get_width()/2);h.Main.label.set_y(h.Main.TOOLBAR_HEIGHT/
2-h.Main.label.get_height()/2);this.addChild(h.Main.label);h.Main.eq=new h.Equipment(h.Main.grid);h.Main.eq.set_x(f);h.Main.eq.set_y(h.Main.TOOLBAR_HEIGHT+30);this.addChild(h.Main.eq);h.Main.grid.addEventListener(h.events.FigureDeletedEvent.NAME,function(b){console.log("FigureDeletedEvent"+r.string(b.from));h.Main.shelfPopup.set_visible(!1);var a=b.figure,f=b.from;h.Main.grid.removeChild(a);a.set_selected(!1);for(var c=0,d=h.Main.eq.body.get_numChildren();c<d;){var e=c++,e=w.Boot.__cast(h.Main.eq.body.getChildAt(e),
h.Item);if(e.figure.id==b.figure.id){var l=e.usedQty;e.set_usedQty(l-1);l}}switch(b.context[1]){case 1:h.Main.redo.push(new h.events.FigureAddedEvent(a,f,h.events.EventContext.REDO));break;case 2:h.Main.undo.push(new h.events.FigureAddedEvent(a,f,h.events.EventContext.UNDO));break;default:h.Main.redo.clear(),h.Main.undo.push(new h.events.FigureAddedEvent(a,f,h.events.EventContext.UNDO))}});h.Main.grid.addEventListener(h.events.FigureAddedEvent.NAME,function(a){console.log("FigureAddedEvent "+r.string(a.to));
var f=a.figure,c=a.to;f.set_x(c.x);f.set_y(c.y);h.Main.grid.addChild(f);if(a.shift){var d=f.picture.getBounds(b);f.set_x(f.get_x()+d.width/2);f.set_y(f.get_y()+d.height/2)}if(b.validateDrop(f)){b.validatePosition(f);b.validateBounds(f);for(var d=0,e=h.Main.eq.body.get_numChildren();d<e;){var l=d++,l=w.Boot.__cast(h.Main.eq.body.getChildAt(l),h.Item);if(l.figure.id==a.figure.id){var Ca=l.usedQty;l.set_usedQty(Ca+1);Ca}}switch(a.context[1]){case 1:h.Main.redo.push(new h.events.FigureDeletedEvent(f,
c,h.events.EventContext.REDO));break;case 2:h.Main.undo.push(new h.events.FigureDeletedEvent(f,c,h.events.EventContext.UNDO));break;default:h.Main.redo.clear(),h.Main.undo.push(new h.events.FigureDeletedEvent(f,c,h.events.EventContext.UNDO))}}else h.Main.grid.removeChild(f)});h.Main.grid.addEventListener(h.events.FigureMovedEvent.NAME,function(a){console.log("FigureMovedEvent"+r.string(a.from)+" -> "+r.string(a.to));var f=a.figure,c=a.to;f.set_x(c.x);f.set_y(c.y);if(b.validateDrop(f))switch(b.validatePosition(f),
b.validateBounds(f),h.Main.grid.addChild(f),a.context[1]){case 1:h.Main.redo.push(new h.events.FigureMovedEvent(f,a.to,a.from,h.events.EventContext.REDO));break;case 2:h.Main.undo.push(new h.events.FigureMovedEvent(f,a.to,a.from,h.events.EventContext.UNDO));break;default:h.Main.redo.clear(),h.Main.undo.push(new h.events.FigureMovedEvent(f,a.to,a.from,h.events.EventContext.UNDO))}else f.set_x(a.from.x),f.set_y(a.from.y)});h.Main.grid.addEventListener(h.events.FigureRotatedEvent.NAME,function(b){console.log("FigureRotateEvent "+
b.from+" "+b.to);var a=b.figure;a.set_rotation(b.to);switch(b.context[1]){case 1:h.Main.redo.push(new h.events.FigureRotatedEvent(a,b.to,b.from,h.events.EventContext.REDO));break;case 2:h.Main.undo.push(new h.events.FigureRotatedEvent(a,b.to,b.from,h.events.EventContext.UNDO));break;default:h.Main.redo.clear(),h.Main.undo.push(new h.events.FigureRotatedEvent(a,b.to,b.from,h.events.EventContext.UNDO))}});h.Main.grid.addEventListener(h.events.FigureDraggedEvent.NAME,function(a){b.validateBounds(a.figure)});
h.Main.grid.addEventListener(h.events.FigureSelectedEvent.NAME,p(this,this.onSelect));this.stage.addEventListener(a.events.KeyboardEvent.KEY_UP,function(a){switch(a.keyCode){case 37:b.keyboardNav(!1);break;case 39:b.keyboardNav(!0)}});h.Main.shelfPopup=new h.ShelfPopup;h.Main.cont.addChild(h.Main.shelfPopup);window.onEditorReady()};l["ru.octasoft.oem.designer.Main"]=h.Main;h.Main.__name__=!0;h.Main.view=null;h.Main.rightTitle=null;h.Main.label=null;h.Main.toolbar=null;h.Main.cont=null;h.Main.grid=
null;h.Main.eq=null;h.Main.dragged=null;h.Main.gridDown=null;h.Main.shelfPopup=null;h.Main.selected=null;h.Main.undo=null;h.Main.redo=null;h.Main.compare2=function(b,a,c){return Math.abs(b-a)<=c};h.Main.compare=function(b,a){return h.Main.compare2(b,a,.5)};h.Main.validateEditor=function(){0<h.Main.grid.get_x()&&q.Actuate.tween(h.Main.grid,1,{x:0});h.Main.grid.get_x()+h.Main.grid.scaledW<=h.Main.clipSize&&h.Main.grid.scaledW>=h.Main.clipSize&&q.Actuate.tween(h.Main.grid,1,{x:h.Main.clipSize-h.Main.grid.scaledW});
0<h.Main.grid.get_y()&&q.Actuate.tween(h.Main.grid,1,{y:0})};h.Main.stopDragging=function(){h.Main.dragged&&(h.Main.dragged=!1,h.Main.grid.stopDrag(),h.Main.validateEditor())};h.Main.init=function(b){h.Main.reset();b.hideControls&&(h.Main.eq.set_visible(h.Main.toolbar.set_visible(h.Main.label.set_visible(h.Main.rightTitle.set_visible(!1)))),h.Main.cont.set_scrollRect(null),h.Main.cont.set_y(6),h.Main.draggable=!1);b.labelTitle&&h.Main.label.set_text(b.labelTitle);h.Main.grid.init(b.w,b.h,I.createEnum(h.GridType,
b.type),h.Main.clipSize);var a=X.array(b.items);h.Main.load(a,function(){if(null!=b.placedItems)for(var a=b.placedItems,f=0;f<a.length;){var g=a[f];++f;var k=h.Main.eq.findItemById(g.id);null!=k&&h.Main.grid.add(k,g.x,g.y,g.rotation,g.lift)}})};h.Main.load=function(b,a){if(0==b.length)a();else{var c=b.shift();h.Main.eq.addObject(c,function(){h.Main.load(b,a)})}};h.Main.scroll=function(b,a,c){0==h.Main.prev&&(h.Main.prev=b);if(b!=a){var d=h.Main.prev-c;c<b&&0<d&&(c=b);c>a&&0>d&&(c=a);d=(c-b)/(a-b);
h.Main.view.set_y((a-b)*d);h.Main.eq.scroll(d);h.Main.prev=c}};h.Main.reset=function(b){for(null==b&&(b=!0);0<h.Main.grid.get_numChildren();)h.Main.grid.removeChildAt(0);if(b){for(;0<h.Main.eq.body.get_numChildren();)h.Main.eq.body.removeChildAt(0);h.Main.eq.items=[];h.Main.eq.offY=0;h.Main.eq.body.set_y(0);h.Main.eq.body.set_height(0)}b=0;for(var a=h.Main.eq.body.get_numChildren();b<a;){var c=b++;w.Boot.__cast(h.Main.eq.body.getChildAt(c),h.Item).set_usedQty(0)}h.Main.undo.clear();h.Main.redo.clear()};
h.Main.placeItem=function(b){var a=h.Main.eq.findItemById(b.id);null!=a&&h.Main.grid.add(a,b.x,b.y,b.rotation,b.lift)};h.Main.getScene=function(){for(var b={objects:[]},a=0,c=h.Main.grid.get_numChildren();a<c;){var d=a++,d=h.Main.grid.getChildAt(d);if(w.Boot.__instanceof(d,h.figures.Figure)){var g=d.picture.getBounds(h.Main.grid),k=d.get_x()-g.width/2,g=d.get_y()-g.height/2,k={id:d.id,x:Math.max(0,h.SizeUtil.pixelsToUnits(k/h.Main.grid.scale)),y:Math.max(0,h.SizeUtil.pixelsToUnits(g/h.Main.grid.scale)),
rotation:d.get_rotation()};b.objects.push(k);d.type==h.ItemType.shelf&&v.setField(k,"lift",d.get_lift())}}return b};h.Main.__super__=a.display.Sprite;h.Main.prototype=u(a.display.Sprite.prototype,{keyboardNav:function(b){if(null!=h.Main.selected&&h.Main.selected.type==h.ItemType.shelf){for(var a=[],c=0,d=h.Main.grid.get_numChildren();c<d;){var g=c++,g=h.Main.grid.getChildAt(g);w.Boot.__instanceof(g,h.figures.Figure)&&g.type==h.Main.selected.type&&a.push(g)}1>=a.length||(a.sort(function(b,a){return b.number-
a.number}),c=y.indexOf(a,h.Main.selected,0),b?(c++,c==a.length&&(c=0)):(c--,-1==c&&(c=a.length-1)),h.Main.selected.set_selected(!1),h.Main.selected=a[c],h.Main.selected.set_selected(!0),h.Main.selected.parent.addChild(h.Main.selected),this.showPopup(h.Main.selected,!0))}},showPopup:function(b,a){a?b.type==h.ItemType.shelf?(h.Main.shelfPopup.set_visible(!0),h.Main.shelfPopup.update(b)):h.Main.shelfPopup.set_visible(!1):h.Main.shelfPopup.set_visible(!1)},nearWall:function(b){var a=b.picture.getBounds(h.Main.grid);
return h.Main.compare(b.get_x(),a.width/2)||h.Main.compare(b.get_y(),a.height/2)||h.Main.compare(b.get_x(),h.Main.grid.scaledW-a.width/2)||h.Main.compare(b.get_y(),h.Main.grid.scaledH-a.height/2)},validateBounds:function(b){var a=b.picture.getBounds(h.Main.grid);0>a.x&&b.set_x(a.width/2);0>a.y&&b.set_y(a.height/2);a.get_right()>h.Main.grid.scaledW&&b.set_x(h.Main.grid.scaledW-a.width/2);a.get_bottom()>h.Main.grid.scaledH&&b.set_y(h.Main.grid.scaledH-a.height/2);b.set_x(Math.round(b.get_x()));b.set_y(Math.round(b.get_y()))},
validatePosition:function(b){var a=b.picture.getBounds(h.Main.grid);0>a.x&&b.set_x(a.width/2);0>a.y&&b.set_y(a.height/2);a.get_right()>h.Main.grid.scaledW&&b.set_x(h.Main.grid.scaledW-a.width/2);a.get_bottom()>h.Main.grid.scaledH&&b.set_y(h.Main.grid.scaledH-a.height/2);switch(b.type[1]){case 1:var c=b.get_x(),d=b.get_y(),g=h.Main.grid.scaledW-b.get_x(),k=h.Main.grid.scaledH-b.get_y(),e=Math.min(c,Math.min(d,Math.min(g,k)));e==c&&b.set_x(a.width/2);e==d&&b.set_y(a.height/2);e==g&&b.set_x(h.Main.grid.scaledW-
a.width/2);e==k&&b.set_y(h.Main.grid.scaledH-a.height/2);break;case 3:c=b.get_x();d=b.get_y();g=h.Main.grid.scaledW-b.get_x();k=0;switch(h.Main.grid.gridType[1]){case 0:k=Math.min(c,Math.min(d,g));break;case 1:k=Math.min(d,g);break;case 2:k=d}k==c&&b.set_x(a.width/2);k==d&&b.set_y(a.height/2);k==g&&b.set_x(h.Main.grid.scaledW-a.width/2)}b.set_x(Math.round(b.get_x()));b.set_y(Math.round(b.get_y()))},validateDrop:function(b){if((b.type==h.ItemType.light||b.type==h.ItemType.shelf)&&h.Main.grid.gridType==
h.GridType.island)return!1;for(var a=0,c=h.Main.grid.get_numChildren();a<c;){var d=a++,d=h.Main.grid.getChildAt(h.Main.grid.get_numChildren()-d-1);if(w.Boot.__instanceof(d,h.figures.Figure)&&b!=d){var g=b.picture.getBounds(h.Main.grid),k=d.picture.getBounds(h.Main.grid);if(g.intersects(k)&&b.type!=h.ItemType.plug&&b.type!=h.ItemType.shelf&&(b.type!=h.ItemType.light||!this.nearWall(d)))return!1}}return!0},onUndo:function(b){0!=h.Main.undo.length&&(b=h.Main.undo.pop(),h.Main.grid.dispatchEvent(b))},
onRedo:function(b){0!=h.Main.redo.length&&(b=h.Main.redo.pop(),h.Main.grid.dispatchEvent(b))},onSelect:function(b){b.figure==h.Main.selected?(h.Main.selected=null,b.figure.set_selected(!1),this.showPopup(h.Main.selected,!1)):(null!=h.Main.selected&&h.Main.selected.set_selected(!1),h.Main.selected=b.figure,h.Main.selected.set_selected(!0),this.showPopup(h.Main.selected,!0))},listObjectsUnderMouse:function(b){var f=new a.geom.Point(b.stageX,b.stageY),f=this.stage.getObjectsUnderPoint(f);0<f.length&&
f[0]!=b.target&&(b=w.Boot.__cast(f[0],a.display.Sprite),b.get_graphics().beginFill(16711680),b.get_graphics().drawRect(0,0,100,100))},__class__:h.Main});var ca=function(){a.Lib.current.addChild(this);h.Main.call(this);this.dispatchEvent(new a.events.Event(a.events.Event.ADDED_TO_STAGE,!1,!1))};l.DocumentClass=ca;ca.__name__=!0;ca.__super__=h.Main;ca.prototype=u(h.Main.prototype,{__class__:ca});var e={AssetLibrary:function(){this.onChange=new e.app.Event_Void_Void}};l["lime.AssetLibrary"]=e.AssetLibrary;
e.AssetLibrary.__name__=!0;e.AssetLibrary.prototype={exists:function(b,a){return!1},getFont:function(b){return null},getImage:function(b){return null},isLocal:function(b,a){return!0},unload:function(){},__class__:e.AssetLibrary};var ja=function(){this.type=new t.ds.StringMap;this.path=new t.ds.StringMap;this.className=new t.ds.StringMap;e.AssetLibrary.call(this);a.text.Font.registerFont(S);a.text.Font.registerFont(T);var b;b="assets/fonts/gothaprobol-webfont.ttf";this.className.set(b,Y);this.type.set(b,
"FONT");b="assets/fonts/gothaproreg-webfont.ttf";this.className.set(b,Z);this.type.set(b,"FONT");b="assets/images/border1.png";this.path.set(b,b);this.type.set(b,"IMAGE");b="assets/images/border2.png";this.path.set(b,b);this.type.set(b,"IMAGE");b="assets/images/decor.png";this.path.set(b,b);this.type.set(b,"IMAGE");b="assets/images/delete.png";this.path.set(b,b);this.type.set(b,"IMAGE");b="assets/images/popup_left.png";this.path.set(b,b);this.type.set(b,"IMAGE");b="assets/images/popup_right.png";
this.path.set(b,b);this.type.set(b,"IMAGE");b="assets/images/popup_top.png";this.path.set(b,b);this.type.set(b,"IMAGE");b="assets/images/redo.png";this.path.set(b,b);this.type.set(b,"IMAGE");b="assets/images/rotate.png";this.path.set(b,b);this.type.set(b,"IMAGE");b="assets/images/shelf_bg1.png";this.path.set(b,b);this.type.set(b,"IMAGE");b="assets/images/undo.png";this.path.set(b,b);this.type.set(b,"IMAGE");b="assets/images/zoomIn.png";this.path.set(b,b);this.type.set(b,"IMAGE");b="assets/images/zoomOut.png";
this.path.set(b,b);this.type.set(b,"IMAGE");b=null;null!=C.config&&Object.prototype.hasOwnProperty.call(C.config,"assetsPrefix")&&(b=C.config.assetsPrefix);if(null!=b)for(var f=this.path.keys();f.hasNext();){var c=f.next(),d=b+this.path.get(c);this.path.set(c,d)}};l.DefaultAssetLibrary=ja;ja.__name__=!0;ja.__super__=e.AssetLibrary;ja.prototype=u(e.AssetLibrary.prototype,{exists:function(b,a){var c;c=null!=a?w.Boot.__cast(a,String):null;var d=this.type.get(b);return null==d||d!=c&&("SOUND"!=c&&"MUSIC"!=
c||"MUSIC"!=d&&"SOUND"!=d)&&"BINARY"!=c&&null!=c&&("BINARY"!=d||"TEXT"!=c)?!1:!0},getFont:function(b){return w.Boot.__cast(I.createInstance(this.className.get(b),[]),e.text.Font)},getImage:function(b){return e.graphics.Image.fromImageElement(function(a){a=a.path.get(b);return e.app.Preloader.images.get(a)}(this))},isLocal:function(b,a){null!=a&&w.Boot.__cast(a,String);return!0},__class__:ja});e.text={};e.text.Font=function(b){null!=b&&(this.name=b);null!=this.__fontPath&&this.__fromFile(this.__fontPath)};
l["lime.text.Font"]=e.text.Font;e.text.Font.__name__=!0;e.text.Font.prototype={__fromFile:function(b){this.__fontPath=b},__class__:e.text.Font};var Y=function(){e.text.Font.call(this);this.name="Gotham Pro Bold"};l.__ASSET__assets_fonts_gothaprobol_webfont_ttf=Y;Y.__name__=!0;Y.__super__=e.text.Font;Y.prototype=u(e.text.Font.prototype,{__class__:Y});var Z=function(){e.text.Font.call(this);this.name="Gotham Pro Regular"};l.__ASSET__assets_fonts_gothaproreg_webfont_ttf=Z;Z.__name__=!0;Z.__super__=e.text.Font;
Z.prototype=u(e.text.Font.prototype,{__class__:Z});a.text={};a.text.Font=function(b){e.text.Font.call(this,b)};l["openfl.text.Font"]=a.text.Font;a.text.Font.__name__=!0;a.text.Font.registerFont=function(b){b=w.Boot.__cast(I.createInstance(b,[]),a.text.Font);null!=b&&a.text.Font.__registeredFonts.push(b)};a.text.Font.__fromLimeFont=function(b){var f=new a.text.Font;f.name=b.name;f.src=b.src;return f};a.text.Font.__super__=e.text.Font;a.text.Font.prototype=u(e.text.Font.prototype,{__class__:a.text.Font});
var S=function(){var b=new Y;this.src=b.src;this.name=b.name;a.text.Font.call(this)};l.__ASSET__OPENFL__assets_fonts_gothaprobol_webfont_ttf=S;S.__name__=!0;S.__super__=a.text.Font;S.prototype=u(a.text.Font.prototype,{__class__:S});var T=function(){var b=new Z;this.src=b.src;this.name=b.name;a.text.Font.call(this)};l.__ASSET__OPENFL__assets_fonts_gothaproreg_webfont_ttf=T;T.__name__=!0;T.__super__=a.text.Font;T.prototype=u(a.text.Font.prototype,{__class__:T});var N=function(b,a){a=a.split("u").join("");
this.r=new RegExp(b,a)};l.EReg=N;N.__name__=!0;N.prototype={match:function(b){this.r.global&&(this.r.lastIndex=0);this.r.m=this.r.exec(b);this.r.s=b;return null!=this.r.m},replace:function(b,a){return b.replace(this.r,a)},__class__:N};var y=function(){};l.HxOverrides=y;y.__name__=!0;y.cca=function(b,a){var c=b.charCodeAt(a);return c!=c?void 0:c};y.substr=function(b,a,c){if(null!=a&&0!=a&&null!=c&&0>c)return"";null==c&&(c=b.length);0>a?(a=b.length+a,0>a&&(a=0)):0>c&&(c=b.length+c-a);return b.substr(a,
c)};y.indexOf=function(b,a,c){var d=b.length;0>c&&(c+=d,0>c&&(c=0));for(;c<d;){if(b[c]===a)return c;c++}return-1};y.remove=function(b,a){var c=y.indexOf(b,a,0);if(-1==c)return!1;b.splice(c,1);return!0};y.iter=function(b){return{cur:0,arr:b,hasNext:function(){return this.cur<this.arr.length},next:function(){return this.arr[this.cur++]}}};var X=function(){};l.Lambda=X;X.__name__=!0;X.array=function(b){var a=[];for(b=va(b)();b.hasNext();){var c=b.next();a.push(c)}return a};X.count=function(b,a){var c=
0;if(null==a)for(var d=va(b)();d.hasNext();)d.next(),c++;else for(d=va(b)();d.hasNext();){var g=d.next();a(g)&&c++}return c};var da=function(){this.length=0};l.List=da;da.__name__=!0;da.prototype={add:function(b){b=[b];null==this.h?this.h=b:this.q[1]=b;this.q=b;this.length++},push:function(b){this.h=b=[b,this.h];null==this.q&&(this.q=b);this.length++},pop:function(){if(null==this.h)return null;var b=this.h[0];this.h=this.h[1];null==this.h&&(this.q=null);this.length--;return b},clear:function(){this.q=
this.h=null;this.length=0},__class__:da};var M=function(){};l.IMap=M;M.__name__=!0;Math.__name__=!0;var V=function(){a.display.Sprite.call(this);var b=this.getBackgroundColor(),f=0;70>.299*(b>>16&255)+.587*(b>>8&255)+.114*(b&255)&&(f=16777215);var b=this.getHeight()/2-3.5,c=this.getWidth()-60;this.outline=new a.display.Sprite;this.outline.get_graphics().beginFill(f,.07);this.outline.get_graphics().drawRect(0,0,c,7);this.outline.set_x(30);this.outline.set_y(b);this.addChild(this.outline);this.progress=
new a.display.Sprite;this.progress.get_graphics().beginFill(f,.35);this.progress.get_graphics().drawRect(0,0,c-4,3);this.progress.set_x(32);this.progress.set_y(b+2);this.progress.set_scaleX(0);this.addChild(this.progress)};l.NMEPreloader=V;V.__name__=!0;V.__super__=a.display.Sprite;V.prototype=u(a.display.Sprite.prototype,{getBackgroundColor:function(){return 16777215},getHeight:function(){return a.Lib.current.stage.stageHeight},getWidth:function(){return a.Lib.current.stage.stageWidth},onInit:function(){},
onLoaded:function(){this.dispatchEvent(new a.events.Event(a.events.Event.COMPLETE))},onUpdate:function(b,a){var c=b/a;1<c&&(c=1);this.progress.set_scaleX(c)},__class__:V});var v=function(){};l.Reflect=v;v.__name__=!0;v.hasField=function(b,a){return Object.prototype.hasOwnProperty.call(b,a)};v.field=function(b,a){try{return b[a]}catch(c){return null}};v.setField=function(b,a,c){b[a]=c};v.getProperty=function(b,a){var c;return null==b?null:b.__properties__&&(c=b.__properties__["get_"+a])?b[c]():b[a]};
v.setProperty=function(b,a,c){var d;if(b.__properties__&&(d=b.__properties__["set_"+a]))b[d](c);else b[a]=c};v.callMethod=function(b,a,c){return a.apply(b,c)};v.fields=function(b){var a=[];if(null!=b){var c=Object.prototype.hasOwnProperty,d;for(d in b)"__id__"!=d&&"hx__closures__"!=d&&c.call(b,d)&&a.push(d)}return a};v.isFunction=function(b){return"function"==typeof b&&!(b.__name__||b.__ename__)};v.compareMethods=function(b,a){return b==a?!0:v.isFunction(b)&&v.isFunction(a)?b.scope==a.scope&&b.method==
a.method&&null!=b.method:!1};var r=function(){};l.Std=r;r.__name__=!0;r.string=function(b){return w.Boot.__string_rec(b,"")};r["int"]=function(b){return b|0};r.parseInt=function(b){var a=parseInt(b,10);0!=a||120!=y.cca(b,1)&&88!=y.cca(b,1)||(a=parseInt(b));return isNaN(a)?null:a};var B=function(){};l.StringTools=B;B.__name__=!0;B.urlEncode=function(b){return encodeURIComponent(b)};B.startsWith=function(b,a){return b.length>=a.length&&y.substr(b,0,a.length)==a};B.isSpace=function(b,a){var c=y.cca(b,
a);return 8<c&&14>c||32==c};B.ltrim=function(b){for(var a=b.length,c=0;c<a&&B.isSpace(b,c);)c++;return 0<c?y.substr(b,c,a-c):b};B.rtrim=function(b){for(var a=b.length,c=0;c<a&&B.isSpace(b,a-c-1);)c++;return 0<c?y.substr(b,0,a-c):b};B.trim=function(b){return B.ltrim(B.rtrim(b))};B.replace=function(b,a,c){return b.split(a).join(c)};B.hex=function(b,a){var c="";do c="0123456789ABCDEF".charAt(b&15)+c,b>>>=4;while(0<b);if(null!=a)for(;c.length<a;)c="0"+c;return c};B.fastCodeAt=function(b,a){return b.charCodeAt(a)};
var I=function(){};l.Type=I;I.__name__=!0;I.resolveClass=function(b){b=l[b];return null!=b&&b.__name__?b:null};I.resolveEnum=function(b){b=l[b];return null!=b&&b.__ename__?b:null};I.createInstance=function(b,a){switch(a.length){case 0:return new b;case 1:return new b(a[0]);case 2:return new b(a[0],a[1]);case 3:return new b(a[0],a[1],a[2]);case 4:return new b(a[0],a[1],a[2],a[3]);case 5:return new b(a[0],a[1],a[2],a[3],a[4]);case 6:return new b(a[0],a[1],a[2],a[3],a[4],a[5]);case 7:return new b(a[0],
a[1],a[2],a[3],a[4],a[5],a[6]);case 8:return new b(a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7]);default:throw"Too many arguments";}};I.createEnum=function(b,a,c){var d=v.field(b,a);if(null==d)throw"No such constructor "+a;if(v.isFunction(d)){if(null==c)throw"Constructor "+a+" need parameters";return d.apply(b,c)}if(null!=c&&0!=c.length)throw"Constructor "+a+" does not need parameters";return d};I.getClassFields=function(b){b=v.fields(b);y.remove(b,"__name__");y.remove(b,"__interfaces__");y.remove(b,"__properties__");
y.remove(b,"__super__");y.remove(b,"prototype");return b};var t={Timer:function(b){var a=this;this.id=setInterval(function(){a.run()},b)}};l["haxe.Timer"]=t.Timer;t.Timer.__name__=!0;t.Timer.delay=function(b,a){var c=new t.Timer(a);c.run=function(){c.stop();b()};return c};t.Timer.prototype={stop:function(){null!=this.id&&(clearInterval(this.id),this.id=null)},run:function(){},__class__:t.Timer};t.crypto={};t.crypto.BaseCode=function(b){for(var a=b.length,c=1;a>1<<c;)c++;if(8<c||a!=1<<c)throw"BaseCode : base length must be a power of two.";
this.base=b;this.nbits=c};l["haxe.crypto.BaseCode"]=t.crypto.BaseCode;t.crypto.BaseCode.__name__=!0;t.crypto.BaseCode.prototype={encodeBytes:function(b){for(var a=this.nbits,c=this.base,d=8*b.length/a|0,g=t.io.Bytes.alloc(d+(0==8*b.length%a?0:1)),k=0,e=0,h=(1<<a)-1,O=0,l=0;l<d;){for(;e<a;)e+=8,k<<=8,k|=b.get(O++);e-=a;g.set(l++,c.b[k>>e&h])}0<e&&g.set(l++,c.b[k<<a-e&h]);return g},__class__:t.crypto.BaseCode};t.crypto.Md5=function(){};l["haxe.crypto.Md5"]=t.crypto.Md5;t.crypto.Md5.__name__=!0;t.crypto.Md5.encode=
function(b){var a=new t.crypto.Md5;b=a.doEncode(t.crypto.Md5.str2blks(b));return a.hex(b)};t.crypto.Md5.str2blks=function(b){for(var a=(b.length+8>>6)+1,c=[],d=16*a,g=0;g<d;){var k=g++;c[k]=0}for(d=0;d<b.length;)c[d>>2]|=y.cca(b,d)<<(8*b.length+d)%4*8,d++;c[d>>2]|=128<<(8*b.length+d)%4*8;b=8*b.length;a=16*a-2;c[a]=b&255;c[a]|=(b>>>8&255)<<8;c[a]|=(b>>>16&255)<<16;c[a]|=(b>>>24&255)<<24;return c};t.crypto.Md5.prototype={bitOR:function(b,a){return(b>>>1|a>>>1)<<1|b&1|a&1},bitXOR:function(b,a){return(b>>>
1^a>>>1)<<1|b&1^a&1},bitAND:function(b,a){return(b>>>1&a>>>1)<<1|b&1&a&1},addme:function(b,a){var c=(b&65535)+(a&65535);return(b>>16)+(a>>16)+(c>>16)<<16|c&65535},hex:function(b){for(var a="",c=0;c<b.length;){var d=b[c];++c;for(var g=0;4>g;)var k=g++,a=a+("0123456789abcdef".charAt(d>>8*k+4&15)+"0123456789abcdef".charAt(d>>8*k&15))}return a},rol:function(b,a){return b<<a|b>>>32-a},cmn:function(b,a,c,d,g,k){return this.addme(this.rol(this.addme(this.addme(a,b),this.addme(d,k)),g),c)},ff:function(b,
a,c,d,g,k,e){return this.cmn(this.bitOR(this.bitAND(a,c),this.bitAND(~a,d)),b,a,g,k,e)},gg:function(b,a,c,d,g,k,e){return this.cmn(this.bitOR(this.bitAND(a,d),this.bitAND(c,~d)),b,a,g,k,e)},hh:function(b,a,c,d,g,k,e){return this.cmn(this.bitXOR(this.bitXOR(a,c),d),b,a,g,k,e)},ii:function(b,a,c,d,g,k,e){return this.cmn(this.bitXOR(c,this.bitOR(a,~d)),b,a,g,k,e)},doEncode:function(b){for(var a=1732584193,c=-271733879,d=-1732584194,g=271733878,k=0;k<b.length;)var e=a,h=c,O=d,l=g,a=this.ff(a,c,d,g,b[k],
7,-680876936),g=this.ff(g,a,c,d,b[k+1],12,-389564586),d=this.ff(d,g,a,c,b[k+2],17,606105819),c=this.ff(c,d,g,a,b[k+3],22,-1044525330),a=this.ff(a,c,d,g,b[k+4],7,-176418897),g=this.ff(g,a,c,d,b[k+5],12,1200080426),d=this.ff(d,g,a,c,b[k+6],17,-1473231341),c=this.ff(c,d,g,a,b[k+7],22,-45705983),a=this.ff(a,c,d,g,b[k+8],7,1770035416),g=this.ff(g,a,c,d,b[k+9],12,-1958414417),d=this.ff(d,g,a,c,b[k+10],17,-42063),c=this.ff(c,d,g,a,b[k+11],22,-1990404162),a=this.ff(a,c,d,g,b[k+12],7,1804603682),g=this.ff(g,
a,c,d,b[k+13],12,-40341101),d=this.ff(d,g,a,c,b[k+14],17,-1502002290),c=this.ff(c,d,g,a,b[k+15],22,1236535329),a=this.gg(a,c,d,g,b[k+1],5,-165796510),g=this.gg(g,a,c,d,b[k+6],9,-1069501632),d=this.gg(d,g,a,c,b[k+11],14,643717713),c=this.gg(c,d,g,a,b[k],20,-373897302),a=this.gg(a,c,d,g,b[k+5],5,-701558691),g=this.gg(g,a,c,d,b[k+10],9,38016083),d=this.gg(d,g,a,c,b[k+15],14,-660478335),c=this.gg(c,d,g,a,b[k+4],20,-405537848),a=this.gg(a,c,d,g,b[k+9],5,568446438),g=this.gg(g,a,c,d,b[k+14],9,-1019803690),
d=this.gg(d,g,a,c,b[k+3],14,-187363961),c=this.gg(c,d,g,a,b[k+8],20,1163531501),a=this.gg(a,c,d,g,b[k+13],5,-1444681467),g=this.gg(g,a,c,d,b[k+2],9,-51403784),d=this.gg(d,g,a,c,b[k+7],14,1735328473),c=this.gg(c,d,g,a,b[k+12],20,-1926607734),a=this.hh(a,c,d,g,b[k+5],4,-378558),g=this.hh(g,a,c,d,b[k+8],11,-2022574463),d=this.hh(d,g,a,c,b[k+11],16,1839030562),c=this.hh(c,d,g,a,b[k+14],23,-35309556),a=this.hh(a,c,d,g,b[k+1],4,-1530992060),g=this.hh(g,a,c,d,b[k+4],11,1272893353),d=this.hh(d,g,a,c,b[k+
7],16,-155497632),c=this.hh(c,d,g,a,b[k+10],23,-1094730640),a=this.hh(a,c,d,g,b[k+13],4,681279174),g=this.hh(g,a,c,d,b[k],11,-358537222),d=this.hh(d,g,a,c,b[k+3],16,-722521979),c=this.hh(c,d,g,a,b[k+6],23,76029189),a=this.hh(a,c,d,g,b[k+9],4,-640364487),g=this.hh(g,a,c,d,b[k+12],11,-421815835),d=this.hh(d,g,a,c,b[k+15],16,530742520),c=this.hh(c,d,g,a,b[k+2],23,-995338651),a=this.ii(a,c,d,g,b[k],6,-198630844),g=this.ii(g,a,c,d,b[k+7],10,1126891415),d=this.ii(d,g,a,c,b[k+14],15,-1416354905),c=this.ii(c,
d,g,a,b[k+5],21,-57434055),a=this.ii(a,c,d,g,b[k+12],6,1700485571),g=this.ii(g,a,c,d,b[k+3],10,-1894986606),d=this.ii(d,g,a,c,b[k+10],15,-1051523),c=this.ii(c,d,g,a,b[k+1],21,-2054922799),a=this.ii(a,c,d,g,b[k+8],6,1873313359),g=this.ii(g,a,c,d,b[k+15],10,-30611744),d=this.ii(d,g,a,c,b[k+6],15,-1560198380),c=this.ii(c,d,g,a,b[k+13],21,1309151649),a=this.ii(a,c,d,g,b[k+4],6,-145523070),g=this.ii(g,a,c,d,b[k+11],10,-1120210379),d=this.ii(d,g,a,c,b[k+2],15,718787259),c=this.ii(c,d,g,a,b[k+9],21,-343485551),
a=this.addme(a,e),c=this.addme(c,h),d=this.addme(d,O),g=this.addme(g,l),k=k+16;return[a,c,d,g]},__class__:t.crypto.Md5};t.ds={};t.ds.IntMap=function(){this.h={}};l["haxe.ds.IntMap"]=t.ds.IntMap;t.ds.IntMap.__name__=!0;t.ds.IntMap.__interfaces__=[M];t.ds.IntMap.prototype={set:function(b,a){this.h[b]=a},get:function(b){return this.h[b]},exists:function(b){return this.h.hasOwnProperty(b)},remove:function(b){if(!this.h.hasOwnProperty(b))return!1;delete this.h[b];return!0},__class__:t.ds.IntMap};t.ds.ObjectMap=
function(){this.h={};this.h.__keys__={}};l["haxe.ds.ObjectMap"]=t.ds.ObjectMap;t.ds.ObjectMap.__name__=!0;t.ds.ObjectMap.__interfaces__=[M];t.ds.ObjectMap.prototype={set:function(b,a){var c=b.__id__||(b.__id__=++t.ds.ObjectMap.count);this.h[c]=a;this.h.__keys__[c]=b},remove:function(b){b=b.__id__;if(null==this.h.__keys__[b])return!1;delete this.h[b];delete this.h.__keys__[b];return!0},keys:function(){var b=[],a;for(a in this.h.__keys__)this.h.hasOwnProperty(a)&&b.push(this.h.__keys__[a]);return y.iter(b)},
iterator:function(){return{ref:this.h,it:this.keys(),hasNext:function(){return this.it.hasNext()},next:function(){var b=this.it.next();return this.ref[b.__id__]}}},__class__:t.ds.ObjectMap};t.ds.StringMap=function(){this.h={}};l["haxe.ds.StringMap"]=t.ds.StringMap;t.ds.StringMap.__name__=!0;t.ds.StringMap.__interfaces__=[M];t.ds.StringMap.prototype={set:function(b,a){this.h["$"+b]=a},get:function(b){return this.h["$"+b]},exists:function(b){return this.h.hasOwnProperty("$"+b)},remove:function(b){b=
"$"+b;if(!this.h.hasOwnProperty(b))return!1;delete this.h[b];return!0},keys:function(){var b=[],a;for(a in this.h)this.h.hasOwnProperty(a)&&b.push(a.substr(1));return y.iter(b)},iterator:function(){return{ref:this.h,it:this.keys(),hasNext:function(){return this.it.hasNext()},next:function(){var b=this.it.next();return this.ref["$"+b]}}},__class__:t.ds.StringMap};t.ds._Vector={};t.ds._Vector.Vector_Impl_=function(){};l["haxe.ds._Vector.Vector_Impl_"]=t.ds._Vector.Vector_Impl_;t.ds._Vector.Vector_Impl_.__name__=
!0;t.ds._Vector.Vector_Impl_.blit=function(b,a,c,d,g){for(var k=0;k<g;){var e=k++;c[d+e]=b[a+e]}};t.io={};t.io.Bytes=function(b,a){this.length=b;this.b=a};l["haxe.io.Bytes"]=t.io.Bytes;t.io.Bytes.__name__=!0;t.io.Bytes.alloc=function(b){for(var a=[],c=0;c<b;)c++,a.push(0);return new t.io.Bytes(b,a)};t.io.Bytes.ofString=function(b){for(var a=[],c=0;c<b.length;){var d=B.fastCodeAt(b,c++);55296<=d&&56319>=d&&(d=d-55232<<10|B.fastCodeAt(b,c++)&1023);127>=d?a.push(d):(2047>=d?a.push(192|d>>6):(65535>=
d?a.push(224|d>>12):(a.push(240|d>>18),a.push(128|d>>12&63)),a.push(128|d>>6&63)),a.push(128|d&63))}return new t.io.Bytes(a.length,a)};t.io.Bytes.ofData=function(b){return new t.io.Bytes(b.length,b)};t.io.Bytes.prototype={get:function(b){return this.b[b]},set:function(b,a){this.b[b]=a&255},getString:function(b,a){if(0>b||0>a||b+a>this.length)throw t.io.Error.OutsideBounds;for(var c="",d=this.b,g=String.fromCharCode,k=b,e=b+a;k<e;){var h=d[k++];if(128>h){if(0==h)break;c+=g(h)}else if(224>h)c+=g((h&
63)<<6|d[k++]&127);else if(240>h)var O=d[k++],c=c+g((h&31)<<12|(O&127)<<6|d[k++]&127);else var O=d[k++],l=d[k++],h=(h&15)<<18|(O&127)<<12|(l&127)<<6|d[k++]&127,c=c+g((h>>10)+55232),c=c+g(h&1023|56320)}return c},toString:function(){return this.getString(0,this.length)},__class__:t.io.Bytes};t.io.Eof=function(){};l["haxe.io.Eof"]=t.io.Eof;t.io.Eof.__name__=!0;t.io.Eof.prototype={toString:function(){return"Eof"},__class__:t.io.Eof};t.io.Error=l["haxe.io.Error"]={__ename__:!0,__constructs__:["Blocked",
"Overflow","OutsideBounds","Custom"]};t.io.Error.Blocked=["Blocked",0];t.io.Error.Blocked.toString=m;t.io.Error.Blocked.__enum__=t.io.Error;t.io.Error.Overflow=["Overflow",1];t.io.Error.Overflow.toString=m;t.io.Error.Overflow.__enum__=t.io.Error;t.io.Error.OutsideBounds=["OutsideBounds",2];t.io.Error.OutsideBounds.toString=m;t.io.Error.OutsideBounds.__enum__=t.io.Error;t.io.Error.Custom=function(b){b=["Custom",3,b];b.__enum__=t.io.Error;b.toString=m;return b};t.io.Path=function(b){var a=b.lastIndexOf("/"),
c=b.lastIndexOf("\\");a<c?(this.dir=y.substr(b,0,c),b=y.substr(b,c+1,null),this.backslash=!0):c<a?(this.dir=y.substr(b,0,a),b=y.substr(b,a+1,null)):this.dir=null;a=b.lastIndexOf(".");-1!=a?(this.ext=y.substr(b,a+1,null),this.file=y.substr(b,0,a)):(this.ext=null,this.file=b)};l["haxe.io.Path"]=t.io.Path;t.io.Path.__name__=!0;t.io.Path.withoutExtension=function(b){b=new t.io.Path(b);b.ext=null;return b.toString()};t.io.Path.prototype={toString:function(){return(null==this.dir?"":this.dir+(this.backslash?
"\\":"/"))+this.file+(null==this.ext?"":"."+this.ext)},__class__:t.io.Path};var w={Boot:function(){}};l["js.Boot"]=w.Boot;w.Boot.__name__=!0;w.Boot.getClass=function(b){if(b instanceof Array&&null==b.__enum__)return Array;var a=b.__class__;if(null!=a)return a;b=w.Boot.__nativeClassName(b);return null!=b?w.Boot.__resolveNativeClass(b):null};w.Boot.__string_rec=function(b,a){if(null==b)return"null";if(5<=a.length)return"<...>";var c=typeof b;"function"==c&&(b.__name__||b.__ename__)&&(c="object");switch(c){case "object":if(b instanceof
Array){if(b.__enum__){if(2==b.length)return b[0];c=b[0]+"(";a+="\t";for(var d=2,g=b.length;d<g;)var k=d++,c=2!=k?c+(","+w.Boot.__string_rec(b[k],a)):c+w.Boot.__string_rec(b[k],a);return c+")"}c=b.length;d="[";a+="\t";for(g=0;g<c;)k=g++,d+=(0<k?",":"")+w.Boot.__string_rec(b[k],a);return d+"]"}try{d=b.toString}catch(e){return"???"}if(null!=d&&d!=Object.toString&&"function"==typeof d&&(c=b.toString(),"[object Object]"!=c))return c;c=null;d="{\n";a+="\t";g=null!=b.hasOwnProperty;for(c in b)g&&!b.hasOwnProperty(c)||
"prototype"==c||"__class__"==c||"__super__"==c||"__interfaces__"==c||"__properties__"==c||(2!=d.length&&(d+=", \n"),d+=a+c+" : "+w.Boot.__string_rec(b[c],a));a=a.substring(1);return d+("\n"+a+"}");case "function":return"<function>";case "string":return b;default:return String(b)}};w.Boot.__interfLoop=function(b,a){if(null==b)return!1;if(b==a)return!0;var c=b.__interfaces__;if(null!=c)for(var d=0,g=c.length;d<g;){var k=d++,k=c[k];if(k==a||w.Boot.__interfLoop(k,a))return!0}return w.Boot.__interfLoop(b.__super__,
a)};w.Boot.__instanceof=function(b,a){if(null==a)return!1;switch(a){case Fa:return(b|0)===b;case wa:return"number"==typeof b;case xa:return"boolean"==typeof b;case String:return"string"==typeof b;case Array:return b instanceof Array&&null==b.__enum__;case Ga:return!0;default:if(null!=b)if("function"==typeof a){if(b instanceof a||w.Boot.__interfLoop(w.Boot.getClass(b),a))return!0}else{if("object"==typeof a&&w.Boot.__isNativeObj(a)&&b instanceof a)return!0}else return!1;return a==ya&&null!=b.__name__||
a==Ta&&null!=b.__ename__?!0:b.__enum__==a}};w.Boot.__cast=function(b,a){if(w.Boot.__instanceof(b,a))return b;throw"Cannot cast "+r.string(b)+" to "+r.string(a);};w.Boot.__nativeClassName=function(b){b=w.Boot.__toStr.call(b).slice(8,-1);return"Object"==b||"Function"==b||"Math"==b||"JSON"==b?null:b};w.Boot.__isNativeObj=function(b){return null!=w.Boot.__nativeClassName(b)};w.Boot.__resolveNativeClass=function(b){return Function("return typeof "+b+' != "undefined" ? '+b+" : null")()};e.AssetCache=function(){this.enabled=
!0;this.audio=new t.ds.StringMap;this.font=new t.ds.StringMap;this.image=new t.ds.StringMap};l["lime.AssetCache"]=e.AssetCache;e.AssetCache.__name__=!0;e.AssetCache.prototype={clear:function(b){if(null==b)this.audio=new t.ds.StringMap,this.font=new t.ds.StringMap,this.image=new t.ds.StringMap;else{for(var a=this.audio.keys();a.hasNext();){var c=a.next();B.startsWith(c,b)&&this.audio.remove(c)}for(a=this.font.keys();a.hasNext();)c=a.next(),B.startsWith(c,b)&&this.font.remove(c);for(a=this.image.keys();a.hasNext();)c=
a.next(),B.startsWith(c,b)&&this.image.remove(c)}},__class__:e.AssetCache};e.app={};e.app.Event_Void_Void=function(){this.listeners=[];this.priorities=[];this.repeat=[]};l["lime.app.Event_Void_Void"]=e.app.Event_Void_Void;e.app.Event_Void_Void.__name__=!0;e.app.Event_Void_Void.prototype={add:function(b,a,c){null==c&&(c=0);null==a&&(a=!1);for(var d=0,g=this.priorities.length;d<g;){var k=d++;if(c>this.priorities[k]){this.listeners.splice(k,0,b);this.priorities.splice(k,0,c);this.repeat.splice(k,0,!a);
return}}this.listeners.push(b);this.priorities.push(c);this.repeat.push(!a)},remove:function(b){for(var a=this.listeners.length;0<=--a;)v.compareMethods(this.listeners[a],b)&&(this.listeners.splice(a,1),this.priorities.splice(a,1),this.repeat.splice(a,1))},dispatch:function(){for(var b=this.listeners,a=this.repeat,c=0;c<b.length;)b[c](),a[c]?c++:this.remove(b[c])},__class__:e.app.Event_Void_Void};e.Assets=function(){};l["lime.Assets"]=e.Assets;e.Assets.__name__=!0;e.Assets.getFont=function(b,a){null==
a&&(a=!0);e.Assets.initialize();if(a&&e.Assets.cache.enabled&&e.Assets.cache.font.exists(b))return e.Assets.cache.font.get(b);var c=b.substring(0,b.indexOf(":")),d;d=b.indexOf(":")+1;d=y.substr(b,d,null);var g=e.Assets.getLibrary(c);if(null!=g)if(g.exists(d,"FONT")){if(g.isLocal(d,"FONT"))return c=g.getFont(d),a&&e.Assets.cache.enabled&&e.Assets.cache.font.set(b,c),c;console.log('[Assets] Font asset "'+b+'" exists, but only asynchronously')}else console.log('[Assets] There is no Font asset with an ID of "'+
b+'"');else console.log('[Assets] There is no asset library named "'+c+'"');return null};e.Assets.getImage=function(b,a){null==a&&(a=!0);e.Assets.initialize();if(a&&e.Assets.cache.enabled&&e.Assets.cache.image.exists(b)){var c=e.Assets.cache.image.get(b);if(e.Assets.isValidImage(c))return c}var c=b.substring(0,b.indexOf(":")),d;d=b.indexOf(":")+1;d=y.substr(b,d,null);var g=e.Assets.getLibrary(c);if(null!=g)if(g.exists(d,"IMAGE")){if(g.isLocal(d,"IMAGE"))return c=g.getImage(d),a&&e.Assets.cache.enabled&&
e.Assets.cache.image.set(b,c),c;console.log('[Assets] Image asset "'+b+'" exists, but only asynchronously')}else console.log('[Assets] There is no Image asset with an ID of "'+b+'"');else console.log('[Assets] There is no asset library named "'+c+'"');return null};e.Assets.getLibrary=function(b){if(null==b||""==b)b="default";return e.Assets.libraries.get(b)};e.Assets.initialize=function(){e.Assets.initialized||(e.Assets.registerLibrary("default",new ja),e.Assets.initialized=!0)};e.Assets.isValidImage=
function(b){return!0};e.Assets.registerLibrary=function(b,a){if(e.Assets.libraries.exists(b)){if(e.Assets.libraries.get(b)==a)return;e.Assets.unloadLibrary(b)}null!=a&&a.onChange.add(e.Assets.library_onChange);e.Assets.libraries.set(b,a)};e.Assets.unloadLibrary=function(b){e.Assets.initialize();var a=e.Assets.libraries.get(b);null!=a&&(e.Assets.cache.clear(b+":"),a.onChange.remove(e.Assets.library_onChange),a.unload());e.Assets.libraries.remove(b)};e.Assets.library_onChange=function(){e.Assets.cache.clear();
e.Assets.onChange.dispatch()};e._backend={};e._backend.html5={};e._backend.html5.HTML5Application=function(b){this.parent=b;this.nextUpdate=this.lastUpdate=this.currentUpdate=0;this.framePeriod=-1;e.audio.AudioManager.init()};l["lime._backend.html5.HTML5Application"]=e._backend.html5.HTML5Application;e._backend.html5.HTML5Application.__name__=!0;e._backend.html5.HTML5Application.prototype={convertKeyCode:function(b){if(65<=b&&90>=b)return b+32;switch(b){case 16:return 1073742049;case 17:return 1073742048;
case 18:return 1073742050;case 20:return 1073741881;case 144:return 1073741907;case 37:return 1073741904;case 38:return 1073741906;case 39:return 1073741903;case 40:return 1073741905;case 45:return 1073741897;case 46:return 127;case 36:return 1073741898;case 35:return 1073741901;case 33:return 1073741899;case 34:return 1073741902;case 112:return 1073741882;case 113:return 1073741883;case 114:return 1073741884;case 115:return 1073741885;case 116:return 1073741886;case 117:return 1073741887;case 118:return 1073741888;
case 119:return 1073741889;case 120:return 1073741890;case 121:return 1073741891;case 122:return 1073741892;case 123:return 1073741893;case 124:return 1073741928;case 125:return 1073741929;case 126:return 1073741930;case 186:return 59;case 187:return 61;case 188:return 44;case 189:return 45;case 190:return 46;case 191:return 47;case 192:return 96;case 219:return 91;case 220:return 92;case 221:return 93;case 222:return 39}return b},create:function(b){},exec:function(){window.addEventListener("keydown",
p(this,this.handleKeyEvent),!1);window.addEventListener("keyup",p(this,this.handleKeyEvent),!1);window.addEventListener("focus",p(this,this.handleWindowEvent),!1);window.addEventListener("blur",p(this,this.handleWindowEvent),!1);window.addEventListener("resize",p(this,this.handleWindowEvent),!1);window.addEventListener("beforeunload",p(this,this.handleWindowEvent),!1);for(var b=0,a=["ms","moz","webkit","o"],c=0;c<a.length&&!window.requestAnimationFrame;++c)window.requestAnimationFrame=window[a[c]+
"RequestAnimationFrame"],window.cancelAnimationFrame=window[a[c]+"CancelAnimationFrame"]||window[a[c]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(a,c){var f=(new Date).getTime(),e=Math.max(0,16-(f-b)),h=window.setTimeout(function(){a(f+e)},e);b=f+e;return h});window.cancelAnimationFrame||(window.cancelAnimationFrame=function(b){clearTimeout(b)});window.requestAnimFrame=window.requestAnimationFrame;this.lastUpdate=(new Date).getTime();this.handleApplicationEvent();
return 0},exit:function(){},handleApplicationEvent:function(b){this.currentUpdate=(new Date).getTime();this.currentUpdate>=this.nextUpdate&&(this.deltaTime=this.currentUpdate-this.lastUpdate,this.parent.onUpdate.dispatch(this.deltaTime|0),null!=this.parent.renderers[0]&&(this.parent.renderers[0].onRender.dispatch(),this.parent.renderers[0].flip()),this.nextUpdate=0>this.framePeriod?this.nextUpdate=this.currentUpdate:this.currentUpdate+this.framePeriod,this.lastUpdate=this.currentUpdate);window.requestAnimationFrame(p(this,
this.handleApplicationEvent))},handleKeyEvent:function(b){if(null!=this.parent.windows[0]){var a=this.convertKeyCode(null!=b.keyCode?b.keyCode:b.which),c;c=(b.shiftKey?3:0)|(b.ctrlKey?192:0)|(b.altKey?768:0)|(b.metaKey?3072:0);"keydown"==b.type?this.parent.windows[0].onKeyDown.dispatch(a,c):this.parent.windows[0].onKeyUp.dispatch(a,c)}},handleWindowEvent:function(b){if(null!=this.parent.windows[0])switch(b.type){case "focus":this.parent.windows[0].onFocusIn.dispatch();this.parent.windows[0].onActivate.dispatch();
break;case "blur":this.parent.windows[0].onFocusOut.dispatch();this.parent.windows[0].onDeactivate.dispatch();break;case "resize":b=this.parent.windows[0].__width;var a=this.parent.windows[0].__height;this.parent.windows[0].backend.handleResize();this.parent.windows[0].__width==b&&this.parent.windows[0].__height==a||this.parent.windows[0].onResize.dispatch(this.parent.windows[0].__width,this.parent.windows[0].__height);break;case "beforeunload":this.parent.windows[0].onClose.dispatch()}},setFrameRate:function(b){this.framePeriod=
60<=b?-1:0<b?1E3/b:1E3;return b},__class__:e._backend.html5.HTML5Application};e._backend.html5.HTML5Mouse=function(){};l["lime._backend.html5.HTML5Mouse"]=e._backend.html5.HTML5Mouse;e._backend.html5.HTML5Mouse.__name__=!0;e._backend.html5.HTML5Mouse.__cursor=null;e._backend.html5.HTML5Mouse.__hidden=null;e._backend.html5.HTML5Mouse.set_cursor=function(b){if(e._backend.html5.HTML5Mouse.__cursor!=b){if(!e._backend.html5.HTML5Mouse.__hidden)for(var a=0,c=e.app.Application.current.windows;a<c.length;){var d=
c[a];++a;switch(b[1]){case 0:d.backend.element.style.cursor="default";break;case 1:d.backend.element.style.cursor="crosshair";break;case 3:d.backend.element.style.cursor="move";break;case 4:d.backend.element.style.cursor="pointer";break;case 5:d.backend.element.style.cursor="nesw-resize";break;case 6:d.backend.element.style.cursor="ns-resize";break;case 7:d.backend.element.style.cursor="nwse-resize";break;case 8:d.backend.element.style.cursor="ew-resize";break;case 9:d.backend.element.style.cursor=
"text";break;case 10:d.backend.element.style.cursor="wait";break;case 11:d.backend.element.style.cursor="wait";break;default:d.backend.element.style.cursor="auto"}}e._backend.html5.HTML5Mouse.__cursor=b}return e._backend.html5.HTML5Mouse.__cursor};e._backend.html5.HTML5Renderer=function(b){this.parent=b};l["lime._backend.html5.HTML5Renderer"]=e._backend.html5.HTML5Renderer;e._backend.html5.HTML5Renderer.__name__=!0;e._backend.html5.HTML5Renderer.prototype={create:function(){this.createContext();switch(this.parent.context[1]){case 0:this.parent.window.backend.canvas.addEventListener("webglcontextlost",
p(this,this.handleEvent),!1),this.parent.window.backend.canvas.addEventListener("webglcontextrestored",p(this,this.handleEvent),!1)}},createContext:function(){null!=this.parent.window.backend.div?(this.parent.context=e.graphics.RenderContext.DOM(this.parent.window.backend.div),this.parent.type=e.graphics.RendererType.DOM):null!=this.parent.window.backend.canvas&&(this.parent.context=e.graphics.RenderContext.CANVAS(this.parent.window.backend.canvas.getContext("2d")),this.parent.type=e.graphics.RendererType.CANVAS)},
flip:function(){},handleEvent:function(b){switch(b.type){case "webglcontextlost":b.preventDefault();this.parent.context=null;this.parent.onContextLost.dispatch();break;case "webglcontextrestored":this.createContext(),this.parent.onContextRestored.dispatch(this.parent.context)}},__class__:e._backend.html5.HTML5Renderer};e._backend.html5.HTML5Window=function(b){this.unusedTouchesPool=new da;this.currentTouches=new t.ds.IntMap;this.parent=b;null!=b.config&&Object.prototype.hasOwnProperty.call(b.config,
"element")&&(this.element=b.config.element)};l["lime._backend.html5.HTML5Window"]=e._backend.html5.HTML5Window;e._backend.html5.HTML5Window.__name__=!0;e._backend.html5.HTML5Window.textInput=null;e._backend.html5.HTML5Window.prototype={close:function(){this.parent.application.removeWindow(this.parent)},create:function(b){this.setWidth=this.parent.__width;this.setHeight=this.parent.__height;this.parent.id=e._backend.html5.HTML5Window.windowID++;w.Boot.__instanceof(this.element,HTMLCanvasElement)?this.canvas=
this.element:this.canvas=window.document.createElement("canvas");null!=this.canvas?(b=this.canvas.style,b.setProperty("-webkit-transform","translateZ(0)",null),b.setProperty("transform","translateZ(0)",null)):null!=this.div&&(b=this.div.style,b.setProperty("-webkit-transform","translate3D(0,0,0)",null),b.setProperty("transform","translate3D(0,0,0)",null),b.position="relative",b.overflow="hidden",b.setProperty("-webkit-user-select","none",null),b.setProperty("-moz-user-select","none",null),b.setProperty("-ms-user-select",
"none",null),b.setProperty("-o-user-select","none",null));0==this.parent.__width&&0==this.parent.__height&&(null!=this.element?(this.parent.set_width(this.element.clientWidth),this.parent.set_height(this.element.clientHeight)):(this.parent.set_width(window.innerWidth),this.parent.set_height(window.innerHeight)),this.parent.set_fullscreen(!0));null!=this.canvas?(this.canvas.width=this.parent.__width,this.canvas.height=this.parent.__height):(this.div.style.width=this.parent.__width+"px",this.div.style.height=
this.parent.__height+"px");this.handleResize();if(null!=this.element){null!=this.canvas?this.element!=this.canvas&&this.element.appendChild(this.canvas):this.element.appendChild(this.div);b="mousedown mouseenter mouseleave mousemove mouseup wheel".split(" ");for(var a=0;a<b.length;){var c=b[a];++a;this.element.addEventListener(c,p(this,this.handleMouseEvent),!0)}window.document.addEventListener("dragstart",function(b){return"img"==b.target.nodeName.toLowerCase()?(b.preventDefault(),!1):!0},!1);this.element.addEventListener("touchstart",
p(this,this.handleTouchEvent),!0);this.element.addEventListener("touchmove",p(this,this.handleTouchEvent),!0);this.element.addEventListener("touchend",p(this,this.handleTouchEvent),!0)}},handleFocusEvent:function(b){this.enableTextEvents&&t.Timer.delay(function(){e._backend.html5.HTML5Window.textInput.focus()},20)},handleInputEvent:function(b){""!=e._backend.html5.HTML5Window.textInput.value&&(this.parent.onTextInput.dispatch(e._backend.html5.HTML5Window.textInput.value),e._backend.html5.HTML5Window.textInput.value=
"")},handleMouseEvent:function(b){var a=0,c=0;if("wheel"!=b.type)switch(null!=this.element?null!=this.canvas?(c=this.canvas.getBoundingClientRect(),a=this.parent.__width/c.width*(b.clientX-c.left),c=this.parent.__height/c.height*(b.clientY-c.top)):null!=this.div?(c=this.div.getBoundingClientRect(),a=b.clientX-c.left,c=b.clientY-c.top):(c=this.element.getBoundingClientRect(),a=this.parent.__width/c.width*(b.clientX-c.left),c=this.parent.__height/c.height*(b.clientY-c.top)):(a=b.clientX,c=b.clientY),
b.type){case "mousedown":this.parent.onMouseDown.dispatch(a,c,b.button);break;case "mouseenter":this.parent.onEnter.dispatch();break;case "mouseleave":this.parent.onLeave.dispatch();break;case "mouseup":this.parent.onMouseUp.dispatch(a,c,b.button);break;case "mousemove":this.parent.onMouseMove.dispatch(a,c)}else this.parent.onMouseWheel.dispatch(b.deltaX,-b.deltaY)},handleResize:function(){var b=this.parent.__fullscreen||0==this.setWidth&&0==this.setHeight;if(null!=this.element&&(null==this.div||
null!=this.div&&b))if(b){if(this.parent.__width!=this.element.clientWidth||this.parent.__height!=this.element.clientHeight)this.parent.set_width(this.element.clientWidth),this.parent.set_height(this.element.clientHeight),null!=this.canvas?this.element!=this.canvas&&(this.canvas.width=this.element.clientWidth,this.canvas.height=this.element.clientHeight):(this.div.style.width=this.element.clientWidth+"px",this.div.style.height=this.element.clientHeight+"px")}else b=Math.min(this.element.clientWidth/
this.setWidth,this.element.clientHeight/this.setHeight),null!=this.canvas?this.element!=this.canvas&&(this.canvas.style.width=this.setWidth*b+"px",this.canvas.style.height=this.setHeight*b+"px",this.canvas.style.marginLeft=(this.element.clientWidth-this.setWidth*b)/2+"px",this.canvas.style.marginTop=(this.element.clientHeight-this.setHeight*b)/2+"px"):(this.div.style.width=this.setWidth*b+"px",this.div.style.height=this.setHeight*b+"px",this.div.style.marginLeft=(this.element.clientWidth-this.setWidth*
b)/2+"px",this.div.style.marginTop=(this.element.clientHeight-this.setHeight*b)/2+"px")},handleTouchEvent:function(b){b.preventDefault();var a=null;null!=this.element&&(a=null!=this.canvas?this.canvas.getBoundingClientRect():null!=this.div?this.div.getBoundingClientRect():this.element.getBoundingClientRect());for(var c=0,d=b.changedTouches;c<d.length;){var g=d[c];++c;var k=0,G=0;null!=a?(k=this.parent.__width/a.width*(g.clientX-a.left),G=this.parent.__height/a.height*(g.clientY-a.top)):(k=g.clientX,
G=g.clientY);switch(b.type){case "touchstart":var h=this.unusedTouchesPool.pop();null==h?h=new e.ui.Touch(k/this.setWidth,G/this.setHeight,g.identifier,0,0,g.force,this.parent.id):(h.x=k/this.setWidth,h.y=G/this.setHeight,h.id=g.identifier,h.dx=0,h.dy=0,h.pressure=g.force,h.device=this.parent.id);this.currentTouches.set(g.identifier,h);e.ui.Touch.onStart.dispatch(h);null==this.primaryTouch&&(this.primaryTouch=h);h==this.primaryTouch&&this.parent.onMouseDown.dispatch(k,G,0);break;case "touchend":h=
this.currentTouches.get(g.identifier);if(null!=h){var O=h.x,l=h.y;h.x=k/this.setWidth;h.y=G/this.setHeight;h.dx=h.x-O;h.dy=h.y-l;h.pressure=g.force;e.ui.Touch.onEnd.dispatch(h);this.currentTouches.remove(g.identifier);this.unusedTouchesPool.add(h);h==this.primaryTouch&&(this.parent.onMouseUp.dispatch(k,G,0),this.primaryTouch=null)}break;case "touchmove":h=this.currentTouches.get(g.identifier),null!=h&&(O=h.x,l=h.y,h.x=k/this.setWidth,h.y=G/this.setHeight,h.dx=h.x-O,h.dy=h.y-l,h.pressure=g.force,e.ui.Touch.onMove.dispatch(h),
h==this.primaryTouch&&this.parent.onMouseMove.dispatch(k,G))}}},resize:function(b,a){},setEnableTextEvents:function(b){b?(null==e._backend.html5.HTML5Window.textInput&&(e._backend.html5.HTML5Window.textInput=window.document.createElement("input"),e._backend.html5.HTML5Window.textInput.type="text",e._backend.html5.HTML5Window.textInput.style.position="absolute",e._backend.html5.HTML5Window.textInput.style.opacity="0",e._backend.html5.HTML5Window.textInput.style.color="transparent",e._backend.html5.HTML5Window.textInput.value=
"",e._backend.html5.HTML5Window.textInput.autocapitalize="off",e._backend.html5.HTML5Window.textInput.autocorrect="off",e._backend.html5.HTML5Window.textInput.autocomplete="off",e._backend.html5.HTML5Window.textInput.style.left="0px",e._backend.html5.HTML5Window.textInput.style.top="50%",(new N("(iPad|iPhone|iPod).*OS 8_","gi")).match(window.navigator.userAgent)?(e._backend.html5.HTML5Window.textInput.style.fontSize="0px",e._backend.html5.HTML5Window.textInput.style.width="0px",e._backend.html5.HTML5Window.textInput.style.height=
"0px"):(e._backend.html5.HTML5Window.textInput.style.width="1px",e._backend.html5.HTML5Window.textInput.style.height="1px"),e._backend.html5.HTML5Window.textInput.style.pointerEvents="none",e._backend.html5.HTML5Window.textInput.style.zIndex="-10000000",window.document.body.appendChild(e._backend.html5.HTML5Window.textInput)),this.enableTextEvents||(e._backend.html5.HTML5Window.textInput.addEventListener("input",p(this,this.handleInputEvent),!0),e._backend.html5.HTML5Window.textInput.addEventListener("blur",
p(this,this.handleFocusEvent),!0)),e._backend.html5.HTML5Window.textInput.focus()):null!=e._backend.html5.HTML5Window.textInput&&(e._backend.html5.HTML5Window.textInput.removeEventListener("input",p(this,this.handleInputEvent),!0),e._backend.html5.HTML5Window.textInput.removeEventListener("blur",p(this,this.handleFocusEvent),!0),e._backend.html5.HTML5Window.textInput.blur());return this.enableTextEvents=b},setFullscreen:function(b){return!1},__class__:e._backend.html5.HTML5Window};e.app.IModule=function(){};
l["lime.app.IModule"]=e.app.IModule;e.app.IModule.__name__=!0;e.app.IModule.prototype={__class__:e.app.IModule};e.app.Module=function(){this.onExit=new e.app.Event_Int_Void};l["lime.app.Module"]=e.app.Module;e.app.Module.__name__=!0;e.app.Module.__interfaces__=[e.app.IModule];e.app.Module.prototype={onGamepadAxisMove:function(b,a,c){},onGamepadButtonDown:function(b,a){},onGamepadButtonUp:function(b,a){},onGamepadConnect:function(b){},onGamepadDisconnect:function(b){},onJoystickAxisMove:function(b,
a,c){},onJoystickButtonDown:function(b,a){},onJoystickButtonUp:function(b,a){},onJoystickConnect:function(b){},onJoystickDisconnect:function(b){},onJoystickHatMove:function(b,a,c){},onJoystickTrackballMove:function(b,a,c){},onKeyDown:function(b,a,c){},onKeyUp:function(b,a,c){},onModuleExit:function(b){},onMouseDown:function(b,a,c,d){},onMouseMove:function(b,a,c){},onMouseMoveRelative:function(b,a,c){},onMouseUp:function(b,a,c,d){},onMouseWheel:function(b,a,c){},onPreloadComplete:function(){},onPreloadProgress:function(b,
a){},onRenderContextLost:function(b){},onRenderContextRestored:function(b,a){},onTextEdit:function(b,a,c,d){},onTextInput:function(b,a){},onTouchEnd:function(b){},onTouchMove:function(b){},onTouchStart:function(b){},onWindowActivate:function(b){},onWindowClose:function(b){},onWindowCreate:function(b){},onWindowDeactivate:function(b){},onWindowEnter:function(b){},onWindowFocusIn:function(b){},onWindowFocusOut:function(b){},onWindowFullscreen:function(b){},onWindowLeave:function(b){},onWindowMove:function(b,
a,c){},onWindowMinimize:function(b){},onWindowResize:function(b,a,c){},onWindowRestore:function(b){},render:function(b){},update:function(b){},__class__:e.app.Module};e.app.Application=function(){this.onUpdate=new e.app.Event_Int_Void;e.app.Module.call(this);null==e.app.Application.current&&(e.app.Application.current=this);this.modules=[];this.renderers=[];this.windows=[];this.windowByID=new t.ds.IntMap;this.backend=new e._backend.html5.HTML5Application(this);this.onExit.add(p(this,this.onModuleExit));
this.onUpdate.add(p(this,this.update));e.ui.Gamepad.onConnect.add(p(this,this.onGamepadConnect));e.ui.Joystick.onConnect.add(p(this,this.onJoystickConnect));e.ui.Touch.onStart.add(p(this,this.onTouchStart));e.ui.Touch.onMove.add(p(this,this.onTouchMove));e.ui.Touch.onEnd.add(p(this,this.onTouchEnd))};l["lime.app.Application"]=e.app.Application;e.app.Application.__name__=!0;e.app.Application.current=null;e.app.Application.__super__=e.app.Module;e.app.Application.prototype=u(e.app.Module.prototype,
{addModule:function(b){this.modules.push(b);if(0<this.windows.length){for(var a=0,c=this.windows;a<c.length;){var d=c[a];++a;b.onWindowCreate(d)}if(null==this.preloader||this.preloader.complete)b.onPreloadComplete()}},addRenderer:function(b){b.onRender.add(function(b,a){return function(){return b(a)}}(p(this,this.render),b));b.onContextLost.add(function(b,a){return function(){return b(a)}}(p(this,this.onRenderContextLost),b));b.onContextRestored.add(function(b,a){return function(d){return b(a,d)}}(p(this,
this.onRenderContextRestored),b));this.renderers.push(b)},createWindow:function(b){b.onActivate.add(function(b,a){return function(){return b(a)}}(p(this,this.onWindowActivate),b));b.onClose.add(function(b,a){return function(){return b(a)}}(p(this,this.onWindowClose),b));b.onCreate.add(function(b,a){return function(){return b(a)}}(p(this,this.onWindowCreate),b));b.onDeactivate.add(function(b,a){return function(){return b(a)}}(p(this,this.onWindowDeactivate),b));b.onEnter.add(function(b,a){return function(){return b(a)}}(p(this,
this.onWindowEnter),b));b.onFocusIn.add(function(b,a){return function(){return b(a)}}(p(this,this.onWindowFocusIn),b));b.onFocusOut.add(function(b,a){return function(){return b(a)}}(p(this,this.onWindowFocusOut),b));b.onFullscreen.add(function(b,a){return function(){return b(a)}}(p(this,this.onWindowFullscreen),b));b.onKeyDown.add(function(b,a){return function(f,k){return b(a,f,k)}}(p(this,this.onKeyDown),b));b.onKeyUp.add(function(b,a){return function(f,k){return b(a,f,k)}}(p(this,this.onKeyUp),
b));b.onLeave.add(function(b,a){return function(){return b(a)}}(p(this,this.onWindowLeave),b));b.onMinimize.add(function(b,a){return function(){return b(a)}}(p(this,this.onWindowMinimize),b));b.onMouseDown.add(function(b,a){return function(f,k,e){return b(a,f,k,e)}}(p(this,this.onMouseDown),b));b.onMouseMove.add(function(b,a){return function(f,k){return b(a,f,k)}}(p(this,this.onMouseMove),b));b.onMouseMoveRelative.add(function(b,a){return function(f,k){return b(a,f,k)}}(p(this,this.onMouseMoveRelative),
b));b.onMouseUp.add(function(b,a){return function(f,k,e){return b(a,f,k,e)}}(p(this,this.onMouseUp),b));b.onMouseWheel.add(function(b,a){return function(f,k){return b(a,f,k)}}(p(this,this.onMouseWheel),b));b.onMove.add(function(b,a){return function(f,k){return b(a,f,k)}}(p(this,this.onWindowMove),b));b.onResize.add(function(b,a){return function(f,k){return b(a,f,k)}}(p(this,this.onWindowResize),b));b.onRestore.add(function(b,a){return function(){return b(a)}}(p(this,this.onWindowRestore),b));b.onTextEdit.add(function(b,
a){return function(f,k,e){return b(a,f,k,e)}}(p(this,this.onTextEdit),b));b.onTextInput.add(function(b,a){return function(f){return b(a,f)}}(p(this,this.onTextInput),b));if(null==b.renderer){var a=new e.graphics.Renderer(b);this.addRenderer(a)}b.create(this);this.windows.push(b);this.windowByID.set(b.id,b);b.onCreate.dispatch()},exec:function(){e.app.Application.current=this;return this.backend.exec()},onGamepadAxisMove:function(b,a,c){for(var d=0,g=this.modules;d<g.length;){var k=g[d];++d;k.onGamepadAxisMove(b,
a,c)}},onGamepadButtonDown:function(b,a){for(var c=0,d=this.modules;c<d.length;){var g=d[c];++c;g.onGamepadButtonDown(b,a)}},onGamepadButtonUp:function(b,a){for(var c=0,d=this.modules;c<d.length;){var g=d[c];++c;g.onGamepadButtonUp(b,a)}},onGamepadConnect:function(b){for(var a=0,c=this.modules;a<c.length;){var d=c[a];++a;d.onGamepadConnect(b)}b.onAxisMove.add(function(b,a){return function(c,f){return b(a,c,f)}}(p(this,this.onGamepadAxisMove),b));b.onButtonDown.add(function(b,a){return function(c){return b(a,
c)}}(p(this,this.onGamepadButtonDown),b));b.onButtonUp.add(function(b,a){return function(c){return b(a,c)}}(p(this,this.onGamepadButtonUp),b));b.onDisconnect.add(function(b,a){return function(){return b(a)}}(p(this,this.onGamepadDisconnect),b))},onGamepadDisconnect:function(b){for(var a=0,c=this.modules;a<c.length;){var d=c[a];++a;d.onGamepadDisconnect(b)}},onJoystickAxisMove:function(b,a,c){for(var d=0,g=this.modules;d<g.length;){var k=g[d];++d;k.onJoystickAxisMove(b,a,c)}},onJoystickButtonDown:function(b,
a){for(var c=0,d=this.modules;c<d.length;){var g=d[c];++c;g.onJoystickButtonDown(b,a)}},onJoystickButtonUp:function(b,a){for(var c=0,d=this.modules;c<d.length;){var g=d[c];++c;g.onJoystickButtonUp(b,a)}},onJoystickConnect:function(b){for(var a=0,c=this.modules;a<c.length;){var d=c[a];++a;d.onJoystickConnect(b)}b.onAxisMove.add(function(b,a){return function(c,f){return b(a,c,f)}}(p(this,this.onJoystickAxisMove),b));b.onButtonDown.add(function(b,a){return function(c){return b(a,c)}}(p(this,this.onJoystickButtonDown),
b));b.onButtonUp.add(function(b,a){return function(c){return b(a,c)}}(p(this,this.onJoystickButtonUp),b));b.onDisconnect.add(function(b,a){return function(){return b(a)}}(p(this,this.onJoystickDisconnect),b));b.onHatMove.add(function(b,a){return function(c,f){return b(a,c,f)}}(p(this,this.onJoystickHatMove),b));b.onTrackballMove.add(function(b,a){return function(c,f){return b(a,c,f)}}(p(this,this.onJoystickTrackballMove),b))},onJoystickDisconnect:function(b){for(var a=0,c=this.modules;a<c.length;){var d=
c[a];++a;d.onJoystickDisconnect(b)}},onJoystickHatMove:function(b,a,c){for(var d=0,g=this.modules;d<g.length;){var k=g[d];++d;k.onJoystickHatMove(b,a,c)}},onJoystickTrackballMove:function(b,a,c){for(var d=0,g=this.modules;d<g.length;){var k=g[d];++d;k.onJoystickTrackballMove(b,a,c)}},onKeyDown:function(b,a,c){for(var d=0,g=this.modules;d<g.length;){var k=g[d];++d;k.onKeyDown(b,a,c)}},onKeyUp:function(b,a,c){for(var d=0,g=this.modules;d<g.length;){var k=g[d];++d;k.onKeyUp(b,a,c)}},onModuleExit:function(b){for(var a=
0,c=this.modules;a<c.length;){var d=c[a];++a;d.onModuleExit(b)}this.backend.exit()},onMouseDown:function(b,a,c,d){for(var g=0,k=this.modules;g<k.length;){var e=k[g];++g;e.onMouseDown(b,a,c,d)}},onMouseMove:function(b,a,c){for(var d=0,g=this.modules;d<g.length;){var k=g[d];++d;k.onMouseMove(b,a,c)}},onMouseMoveRelative:function(b,a,c){for(var d=0,g=this.modules;d<g.length;){var k=g[d];++d;k.onMouseMoveRelative(b,a,c)}},onMouseUp:function(b,a,c,d){for(var g=0,k=this.modules;g<k.length;){var e=k[g];
++g;e.onMouseUp(b,a,c,d)}},onMouseWheel:function(b,a,c){for(var d=0,g=this.modules;d<g.length;){var k=g[d];++d;k.onMouseWheel(b,a,c)}},onPreloadComplete:function(){for(var b=0,a=this.modules;b<a.length;){var c=a[b];++b;c.onPreloadComplete()}},onPreloadProgress:function(b,a){for(var c=0,d=this.modules;c<d.length;){var g=d[c];++c;g.onPreloadProgress(b,a)}},onRenderContextLost:function(b){for(var a=0,c=this.modules;a<c.length;){var d=c[a];++a;d.onRenderContextLost(b)}},onRenderContextRestored:function(b,
a){for(var c=0,d=this.modules;c<d.length;){var g=d[c];++c;g.onRenderContextRestored(b,a)}},onTextEdit:function(b,a,c,d){for(var g=0,k=this.modules;g<k.length;){var e=k[g];++g;e.onTextEdit(b,a,c,d)}},onTextInput:function(b,a){for(var c=0,d=this.modules;c<d.length;){var g=d[c];++c;g.onTextInput(b,a)}},onTouchEnd:function(b){for(var a=0,c=this.modules;a<c.length;){var d=c[a];++a;d.onTouchEnd(b)}},onTouchMove:function(b){for(var a=0,c=this.modules;a<c.length;){var d=c[a];++a;d.onTouchMove(b)}},onTouchStart:function(b){for(var a=
0,c=this.modules;a<c.length;){var d=c[a];++a;d.onTouchStart(b)}},onWindowActivate:function(b){for(var a=0,c=this.modules;a<c.length;){var d=c[a];++a;d.onWindowActivate(b)}},onWindowClose:function(b){for(var a=0,c=this.modules;a<c.length;){var d=c[a];++a;d.onWindowClose(b)}this.removeWindow(b)},onWindowCreate:function(b){for(var a=0,c=this.modules;a<c.length;){var d=c[a];++a;d.onWindowCreate(b)}},onWindowDeactivate:function(b){for(var a=0,c=this.modules;a<c.length;){var d=c[a];++a;d.onWindowDeactivate(b)}},
onWindowEnter:function(b){for(var a=0,c=this.modules;a<c.length;){var d=c[a];++a;d.onWindowEnter(b)}},onWindowFocusIn:function(b){for(var a=0,c=this.modules;a<c.length;){var d=c[a];++a;d.onWindowFocusIn(b)}},onWindowFocusOut:function(b){for(var a=0,c=this.modules;a<c.length;){var d=c[a];++a;d.onWindowFocusOut(b)}},onWindowFullscreen:function(b){for(var a=0,c=this.modules;a<c.length;){var d=c[a];++a;d.onWindowFullscreen(b)}},onWindowLeave:function(b){for(var a=0,c=this.modules;a<c.length;){var d=c[a];
++a;d.onWindowLeave(b)}},onWindowMinimize:function(b){for(var a=0,c=this.modules;a<c.length;){var d=c[a];++a;d.onWindowMinimize(b)}},onWindowMove:function(b,a,c){for(var d=0,g=this.modules;d<g.length;){var k=g[d];++d;k.onWindowMove(b,a,c)}},onWindowResize:function(b,a,c){for(var d=0,g=this.modules;d<g.length;){var k=g[d];++d;k.onWindowResize(b,a,c)}},onWindowRestore:function(b){for(var a=0,c=this.modules;a<c.length;){var d=c[a];++a;d.onWindowRestore(b)}},removeWindow:function(b){null!=b&&this.windowByID.exists(b.id)&&
(y.remove(this.windows,b),this.windowByID.remove(b.id),b.close(),this.windows[0]==b&&(this.window=null))},render:function(b){for(var a=0,c=this.modules;a<c.length;){var d=c[a];++a;d.render(b)}},setPreloader:function(b){null!=this.preloader&&(this.preloader.onProgress.remove(p(this,this.onPreloadProgress)),this.preloader.onComplete.remove(p(this,this.onPreloadComplete)));this.preloader=b;if(b.complete)this.onPreloadComplete();else b.onProgress.add(p(this,this.onPreloadProgress)),b.onComplete.add(p(this,
this.onPreloadComplete))},update:function(b){for(var a=0,c=this.modules;a<c.length;){var d=c[a];++a;d.update(b)}},__class__:e.app.Application});e.app.Event_Float_Float_Int_Void=function(){this.listeners=[];this.priorities=[];this.repeat=[]};l["lime.app.Event_Float_Float_Int_Void"]=e.app.Event_Float_Float_Int_Void;e.app.Event_Float_Float_Int_Void.__name__=!0;e.app.Event_Float_Float_Int_Void.prototype={add:function(b,a,c){null==c&&(c=0);null==a&&(a=!1);for(var d=0,g=this.priorities.length;d<g;){var k=
d++;if(c>this.priorities[k]){this.listeners.splice(k,0,b);this.priorities.splice(k,0,c);this.repeat.splice(k,0,!a);return}}this.listeners.push(b);this.priorities.push(c);this.repeat.push(!a)},remove:function(b){for(var a=this.listeners.length;0<=--a;)v.compareMethods(this.listeners[a],b)&&(this.listeners.splice(a,1),this.priorities.splice(a,1),this.repeat.splice(a,1))},dispatch:function(b,a,c){for(var d=this.listeners,g=this.repeat,k=0;k<d.length;)d[k](b,a,c),g[k]?k++:this.remove(d[k])},__class__:e.app.Event_Float_Float_Int_Void};
e.app.Event_Float_Float_Void=function(){this.listeners=[];this.priorities=[];this.repeat=[]};l["lime.app.Event_Float_Float_Void"]=e.app.Event_Float_Float_Void;e.app.Event_Float_Float_Void.__name__=!0;e.app.Event_Float_Float_Void.prototype={add:function(b,a,c){null==c&&(c=0);null==a&&(a=!1);for(var d=0,g=this.priorities.length;d<g;){var k=d++;if(c>this.priorities[k]){this.listeners.splice(k,0,b);this.priorities.splice(k,0,c);this.repeat.splice(k,0,!a);return}}this.listeners.push(b);this.priorities.push(c);
this.repeat.push(!a)},remove:function(b){for(var a=this.listeners.length;0<=--a;)v.compareMethods(this.listeners[a],b)&&(this.listeners.splice(a,1),this.priorities.splice(a,1),this.repeat.splice(a,1))},dispatch:function(b,a){for(var c=this.listeners,d=this.repeat,g=0;g<c.length;)c[g](b,a),d[g]?g++:this.remove(c[g])},__class__:e.app.Event_Float_Float_Void};e.app.Event_Int_Float_Void=function(){this.listeners=[];this.priorities=[];this.repeat=[]};l["lime.app.Event_Int_Float_Void"]=e.app.Event_Int_Float_Void;
e.app.Event_Int_Float_Void.__name__=!0;e.app.Event_Int_Float_Void.prototype={add:function(b,a,c){null==c&&(c=0);null==a&&(a=!1);for(var d=0,g=this.priorities.length;d<g;){var k=d++;if(c>this.priorities[k]){this.listeners.splice(k,0,b);this.priorities.splice(k,0,c);this.repeat.splice(k,0,!a);return}}this.listeners.push(b);this.priorities.push(c);this.repeat.push(!a)},__class__:e.app.Event_Int_Float_Void};e.app.Event_Int_Int_Void=function(){this.listeners=[];this.priorities=[];this.repeat=[]};l["lime.app.Event_Int_Int_Void"]=
e.app.Event_Int_Int_Void;e.app.Event_Int_Int_Void.__name__=!0;e.app.Event_Int_Int_Void.prototype={add:function(b,a,c){null==c&&(c=0);null==a&&(a=!1);for(var d=0,g=this.priorities.length;d<g;){var k=d++;if(c>this.priorities[k]){this.listeners.splice(k,0,b);this.priorities.splice(k,0,c);this.repeat.splice(k,0,!a);return}}this.listeners.push(b);this.priorities.push(c);this.repeat.push(!a)},remove:function(b){for(var a=this.listeners.length;0<=--a;)v.compareMethods(this.listeners[a],b)&&(this.listeners.splice(a,
1),this.priorities.splice(a,1),this.repeat.splice(a,1))},dispatch:function(b,a){for(var c=this.listeners,d=this.repeat,g=0;g<c.length;)c[g](b,a),d[g]?g++:this.remove(c[g])},__class__:e.app.Event_Int_Int_Void};e.app.Event_Int_Void=function(){this.listeners=[];this.priorities=[];this.repeat=[]};l["lime.app.Event_Int_Void"]=e.app.Event_Int_Void;e.app.Event_Int_Void.__name__=!0;e.app.Event_Int_Void.prototype={add:function(b,a,c){null==c&&(c=0);null==a&&(a=!1);for(var d=0,g=this.priorities.length;d<g;){var k=
d++;if(c>this.priorities[k]){this.listeners.splice(k,0,b);this.priorities.splice(k,0,c);this.repeat.splice(k,0,!a);return}}this.listeners.push(b);this.priorities.push(c);this.repeat.push(!a)},remove:function(b){for(var a=this.listeners.length;0<=--a;)v.compareMethods(this.listeners[a],b)&&(this.listeners.splice(a,1),this.priorities.splice(a,1),this.repeat.splice(a,1))},dispatch:function(b){for(var a=this.listeners,c=this.repeat,d=0;d<a.length;)a[d](b),c[d]?d++:this.remove(a[d])},__class__:e.app.Event_Int_Void};
e.app.Event_Int_lime_ui_JoystickHatPosition_Void=function(){this.listeners=[];this.priorities=[];this.repeat=[]};l["lime.app.Event_Int_lime_ui_JoystickHatPosition_Void"]=e.app.Event_Int_lime_ui_JoystickHatPosition_Void;e.app.Event_Int_lime_ui_JoystickHatPosition_Void.__name__=!0;e.app.Event_Int_lime_ui_JoystickHatPosition_Void.prototype={add:function(b,a,c){null==c&&(c=0);null==a&&(a=!1);for(var d=0,g=this.priorities.length;d<g;){var k=d++;if(c>this.priorities[k]){this.listeners.splice(k,0,b);this.priorities.splice(k,
0,c);this.repeat.splice(k,0,!a);return}}this.listeners.push(b);this.priorities.push(c);this.repeat.push(!a)},__class__:e.app.Event_Int_lime_ui_JoystickHatPosition_Void};e.app.Event_String_Int_Int_Void=function(){this.listeners=[];this.priorities=[];this.repeat=[]};l["lime.app.Event_String_Int_Int_Void"]=e.app.Event_String_Int_Int_Void;e.app.Event_String_Int_Int_Void.__name__=!0;e.app.Event_String_Int_Int_Void.prototype={add:function(b,a,c){null==c&&(c=0);null==a&&(a=!1);for(var d=0,g=this.priorities.length;d<
g;){var k=d++;if(c>this.priorities[k]){this.listeners.splice(k,0,b);this.priorities.splice(k,0,c);this.repeat.splice(k,0,!a);return}}this.listeners.push(b);this.priorities.push(c);this.repeat.push(!a)},__class__:e.app.Event_String_Int_Int_Void};e.app.Event_String_Void=function(){this.listeners=[];this.priorities=[];this.repeat=[]};l["lime.app.Event_String_Void"]=e.app.Event_String_Void;e.app.Event_String_Void.__name__=!0;e.app.Event_String_Void.prototype={add:function(b,a,c){null==c&&(c=0);null==
a&&(a=!1);for(var d=0,g=this.priorities.length;d<g;){var k=d++;if(c>this.priorities[k]){this.listeners.splice(k,0,b);this.priorities.splice(k,0,c);this.repeat.splice(k,0,!a);return}}this.listeners.push(b);this.priorities.push(c);this.repeat.push(!a)},has:function(b){for(var a=0,c=this.listeners;a<c.length;){var d=c[a];++a;if(v.compareMethods(d,b))return!0}return!1},remove:function(b){for(var a=this.listeners.length;0<=--a;)v.compareMethods(this.listeners[a],b)&&(this.listeners.splice(a,1),this.priorities.splice(a,
1),this.repeat.splice(a,1))},dispatch:function(b){for(var a=this.listeners,c=this.repeat,d=0;d<a.length;)a[d](b),c[d]?d++:this.remove(a[d])},__class__:e.app.Event_String_Void};e.app.Event_lime_graphics_RenderContext_Void=function(){this.listeners=[];this.priorities=[];this.repeat=[]};l["lime.app.Event_lime_graphics_RenderContext_Void"]=e.app.Event_lime_graphics_RenderContext_Void;e.app.Event_lime_graphics_RenderContext_Void.__name__=!0;e.app.Event_lime_graphics_RenderContext_Void.prototype={add:function(b,
a,c){null==c&&(c=0);null==a&&(a=!1);for(var d=0,g=this.priorities.length;d<g;){var k=d++;if(c>this.priorities[k]){this.listeners.splice(k,0,b);this.priorities.splice(k,0,c);this.repeat.splice(k,0,!a);return}}this.listeners.push(b);this.priorities.push(c);this.repeat.push(!a)},remove:function(b){for(var a=this.listeners.length;0<=--a;)v.compareMethods(this.listeners[a],b)&&(this.listeners.splice(a,1),this.priorities.splice(a,1),this.repeat.splice(a,1))},dispatch:function(b){for(var a=this.listeners,
c=this.repeat,d=0;d<a.length;)a[d](b),c[d]?d++:this.remove(a[d])},__class__:e.app.Event_lime_graphics_RenderContext_Void};e.app.Event_lime_net_URLLoader_Int_Int_Void=function(){this.listeners=[];this.priorities=[];this.repeat=[]};l["lime.app.Event_lime_net_URLLoader_Int_Int_Void"]=e.app.Event_lime_net_URLLoader_Int_Int_Void;e.app.Event_lime_net_URLLoader_Int_Int_Void.__name__=!0;e.app.Event_lime_net_URLLoader_Int_Int_Void.prototype={remove:function(b){for(var a=this.listeners.length;0<=--a;)v.compareMethods(this.listeners[a],
b)&&(this.listeners.splice(a,1),this.priorities.splice(a,1),this.repeat.splice(a,1))},dispatch:function(b,a,c){for(var d=this.listeners,g=this.repeat,k=0;k<d.length;)d[k](b,a,c),g[k]?k++:this.remove(d[k])},__class__:e.app.Event_lime_net_URLLoader_Int_Int_Void};e.app.Event_lime_net_URLLoader_Int_Void=function(){this.listeners=[];this.priorities=[];this.repeat=[]};l["lime.app.Event_lime_net_URLLoader_Int_Void"]=e.app.Event_lime_net_URLLoader_Int_Void;e.app.Event_lime_net_URLLoader_Int_Void.__name__=
!0;e.app.Event_lime_net_URLLoader_Int_Void.prototype={remove:function(b){for(var a=this.listeners.length;0<=--a;)v.compareMethods(this.listeners[a],b)&&(this.listeners.splice(a,1),this.priorities.splice(a,1),this.repeat.splice(a,1))},dispatch:function(b,a){for(var c=this.listeners,d=this.repeat,g=0;g<c.length;)c[g](b,a),d[g]?g++:this.remove(c[g])},__class__:e.app.Event_lime_net_URLLoader_Int_Void};e.app.Event_lime_net_URLLoader_String_Void=function(){this.listeners=[];this.priorities=[];this.repeat=
[]};l["lime.app.Event_lime_net_URLLoader_String_Void"]=e.app.Event_lime_net_URLLoader_String_Void;e.app.Event_lime_net_URLLoader_String_Void.__name__=!0;e.app.Event_lime_net_URLLoader_String_Void.prototype={remove:function(b){for(var a=this.listeners.length;0<=--a;)v.compareMethods(this.listeners[a],b)&&(this.listeners.splice(a,1),this.priorities.splice(a,1),this.repeat.splice(a,1))},dispatch:function(b,a){for(var c=this.listeners,d=this.repeat,g=0;g<c.length;)c[g](b,a),d[g]?g++:this.remove(c[g])},
__class__:e.app.Event_lime_net_URLLoader_String_Void};e.app.Event_lime_net_URLLoader_Void=function(){this.listeners=[];this.priorities=[];this.repeat=[]};l["lime.app.Event_lime_net_URLLoader_Void"]=e.app.Event_lime_net_URLLoader_Void;e.app.Event_lime_net_URLLoader_Void.__name__=!0;e.app.Event_lime_net_URLLoader_Void.prototype={add:function(b,a,c){null==c&&(c=0);null==a&&(a=!1);for(var d=0,g=this.priorities.length;d<g;){var k=d++;if(c>this.priorities[k]){this.listeners.splice(k,0,b);this.priorities.splice(k,
0,c);this.repeat.splice(k,0,!a);return}}this.listeners.push(b);this.priorities.push(c);this.repeat.push(!a)},remove:function(b){for(var a=this.listeners.length;0<=--a;)v.compareMethods(this.listeners[a],b)&&(this.listeners.splice(a,1),this.priorities.splice(a,1),this.repeat.splice(a,1))},dispatch:function(b){for(var a=this.listeners,c=this.repeat,d=0;d<a.length;)a[d](b),c[d]?d++:this.remove(a[d])},__class__:e.app.Event_lime_net_URLLoader_Void};e.app.Event_lime_ui_GamepadAxis_Float_Void=function(){this.listeners=
[];this.priorities=[];this.repeat=[]};l["lime.app.Event_lime_ui_GamepadAxis_Float_Void"]=e.app.Event_lime_ui_GamepadAxis_Float_Void;e.app.Event_lime_ui_GamepadAxis_Float_Void.__name__=!0;e.app.Event_lime_ui_GamepadAxis_Float_Void.prototype={add:function(b,a,c){null==c&&(c=0);null==a&&(a=!1);for(var d=0,g=this.priorities.length;d<g;){var k=d++;if(c>this.priorities[k]){this.listeners.splice(k,0,b);this.priorities.splice(k,0,c);this.repeat.splice(k,0,!a);return}}this.listeners.push(b);this.priorities.push(c);
this.repeat.push(!a)},__class__:e.app.Event_lime_ui_GamepadAxis_Float_Void};e.app.Event_lime_ui_GamepadButton_Void=function(){this.listeners=[];this.priorities=[];this.repeat=[]};l["lime.app.Event_lime_ui_GamepadButton_Void"]=e.app.Event_lime_ui_GamepadButton_Void;e.app.Event_lime_ui_GamepadButton_Void.__name__=!0;e.app.Event_lime_ui_GamepadButton_Void.prototype={add:function(b,a,c){null==c&&(c=0);null==a&&(a=!1);for(var d=0,g=this.priorities.length;d<g;){var k=d++;if(c>this.priorities[k]){this.listeners.splice(k,
0,b);this.priorities.splice(k,0,c);this.repeat.splice(k,0,!a);return}}this.listeners.push(b);this.priorities.push(c);this.repeat.push(!a)},__class__:e.app.Event_lime_ui_GamepadButton_Void};e.app.Event_lime_ui_Gamepad_Void=function(){this.listeners=[];this.priorities=[];this.repeat=[]};l["lime.app.Event_lime_ui_Gamepad_Void"]=e.app.Event_lime_ui_Gamepad_Void;e.app.Event_lime_ui_Gamepad_Void.__name__=!0;e.app.Event_lime_ui_Gamepad_Void.prototype={add:function(b,a,c){null==c&&(c=0);null==a&&(a=!1);for(var d=
0,g=this.priorities.length;d<g;){var k=d++;if(c>this.priorities[k]){this.listeners.splice(k,0,b);this.priorities.splice(k,0,c);this.repeat.splice(k,0,!a);return}}this.listeners.push(b);this.priorities.push(c);this.repeat.push(!a)},__class__:e.app.Event_lime_ui_Gamepad_Void};e.app.Event_lime_ui_Joystick_Void=function(){this.listeners=[];this.priorities=[];this.repeat=[]};l["lime.app.Event_lime_ui_Joystick_Void"]=e.app.Event_lime_ui_Joystick_Void;e.app.Event_lime_ui_Joystick_Void.__name__=!0;e.app.Event_lime_ui_Joystick_Void.prototype=
{add:function(b,a,c){null==c&&(c=0);null==a&&(a=!1);for(var d=0,g=this.priorities.length;d<g;){var k=d++;if(c>this.priorities[k]){this.listeners.splice(k,0,b);this.priorities.splice(k,0,c);this.repeat.splice(k,0,!a);return}}this.listeners.push(b);this.priorities.push(c);this.repeat.push(!a)},__class__:e.app.Event_lime_ui_Joystick_Void};e.app.Event_lime_ui_KeyCode_lime_ui_KeyModifier_Void=function(){this.listeners=[];this.priorities=[];this.repeat=[]};l["lime.app.Event_lime_ui_KeyCode_lime_ui_KeyModifier_Void"]=
e.app.Event_lime_ui_KeyCode_lime_ui_KeyModifier_Void;e.app.Event_lime_ui_KeyCode_lime_ui_KeyModifier_Void.__name__=!0;e.app.Event_lime_ui_KeyCode_lime_ui_KeyModifier_Void.prototype={add:function(b,a,c){null==c&&(c=0);null==a&&(a=!1);for(var d=0,g=this.priorities.length;d<g;){var k=d++;if(c>this.priorities[k]){this.listeners.splice(k,0,b);this.priorities.splice(k,0,c);this.repeat.splice(k,0,!a);return}}this.listeners.push(b);this.priorities.push(c);this.repeat.push(!a)},remove:function(b){for(var a=
this.listeners.length;0<=--a;)v.compareMethods(this.listeners[a],b)&&(this.listeners.splice(a,1),this.priorities.splice(a,1),this.repeat.splice(a,1))},dispatch:function(b,a){for(var c=this.listeners,d=this.repeat,g=0;g<c.length;)c[g](b,a),d[g]?g++:this.remove(c[g])},__class__:e.app.Event_lime_ui_KeyCode_lime_ui_KeyModifier_Void};e.app.Event_lime_ui_Touch_Void=function(){this.listeners=[];this.priorities=[];this.repeat=[]};l["lime.app.Event_lime_ui_Touch_Void"]=e.app.Event_lime_ui_Touch_Void;e.app.Event_lime_ui_Touch_Void.__name__=
!0;e.app.Event_lime_ui_Touch_Void.prototype={add:function(b,a,c){null==c&&(c=0);null==a&&(a=!1);for(var d=0,g=this.priorities.length;d<g;){var k=d++;if(c>this.priorities[k]){this.listeners.splice(k,0,b);this.priorities.splice(k,0,c);this.repeat.splice(k,0,!a);return}}this.listeners.push(b);this.priorities.push(c);this.repeat.push(!a)},remove:function(b){for(var a=this.listeners.length;0<=--a;)v.compareMethods(this.listeners[a],b)&&(this.listeners.splice(a,1),this.priorities.splice(a,1),this.repeat.splice(a,
1))},dispatch:function(b){for(var a=this.listeners,c=this.repeat,d=0;d<a.length;)a[d](b),c[d]?d++:this.remove(a[d])},__class__:e.app.Event_lime_ui_Touch_Void};e.app.Preloader=function(){this.loaded=this.total=0;this.onProgress=new e.app.Event_Int_Int_Void;this.onComplete=new e.app.Event_Void_Void;this.onProgress.add(p(this,this.update))};l["lime.app.Preloader"]=e.app.Preloader;e.app.Preloader.__name__=!0;e.app.Preloader.prototype={create:function(b){},load:function(b,a){for(var c=null,d=0,g=b.length;d<
g;){var k=d++,c=b[k];switch(a[k]){case "IMAGE":e.app.Preloader.images.exists(c)||(k=new Image,e.app.Preloader.images.set(c,k),k.onload=p(this,this.image_onLoad),k.src=c,this.total++);break;case "BINARY":e.app.Preloader.loaders.exists(c)||(k=new e.net.URLLoader,k.set_dataFormat(e.net.URLLoaderDataFormat.BINARY),e.app.Preloader.loaders.set(c,k),this.total++);break;case "TEXT":e.app.Preloader.loaders.exists(c)||(k=new e.net.URLLoader,e.app.Preloader.loaders.set(c,k),this.total++);break;case "FONT":this.total++,
this.loadFont(c)}}for(c=e.app.Preloader.loaders.keys();c.hasNext();)d=c.next(),g=e.app.Preloader.loaders.get(d),g.onComplete.add(p(this,this.loader_onComplete)),g.load(new e.net.URLRequest(d));0==this.total&&this.start()},loadFont:function(b){var a=this;if(window.document.fonts&&window.document.fonts.load)window.document.fonts.load("1em '"+b+"'").then(function(b){a.loaded++;a.onProgress.dispatch(a.loaded,a.total);a.loaded==a.total&&a.start()});else{var c=window.document.createElement("span");c.innerHTML=
"giItT1WQy@!-/#";var d=c.style;d.position="absolute";d.left="-10000px";d.top="-10000px";d.fontSize="300px";d.fontFamily="sans-serif";d.fontVariant="normal";d.fontStyle="normal";d.fontWeight="normal";d.letterSpacing="0";window.document.body.appendChild(c);var g=c.offsetWidth;d.fontFamily="'"+b+"', sans-serif";var k=null,e=!1;b=function(){if(c.offsetWidth!=g){if(!e)return e=!0,!1;a.loaded++;null!=k&&window.clearInterval(k);c.parentNode.removeChild(c);c=null;a.onProgress.dispatch(a.loaded,a.total);a.loaded==
a.total&&a.start();return!0}return!1};b()||(k=window.setInterval(b,50))}},start:function(){this.complete=!0;this.onComplete.dispatch()},update:function(b,a){},image_onLoad:function(b){this.loaded++;this.onProgress.dispatch(this.loaded,this.total);this.loaded==this.total&&this.start()},loader_onComplete:function(b){this.loaded++;this.onProgress.dispatch(this.loaded,this.total);this.loaded==this.total&&this.start()},__class__:e.app.Preloader};e.audio={};e.audio.ALAudioContext=function(){};l["lime.audio.ALAudioContext"]=
e.audio.ALAudioContext;e.audio.ALAudioContext.__name__=!0;e.audio.ALCAudioContext=function(){};l["lime.audio.ALCAudioContext"]=e.audio.ALCAudioContext;e.audio.ALCAudioContext.__name__=!0;e.audio.AudioBuffer=function(){};l["lime.audio.AudioBuffer"]=e.audio.AudioBuffer;e.audio.AudioBuffer.__name__=!0;e.audio.AudioContext=l["lime.audio.AudioContext"]={__ename__:!0,__constructs__:["OPENAL","HTML5","WEB","FLASH","CUSTOM"]};e.audio.AudioContext.OPENAL=function(b,a){var c=["OPENAL",0,b,a];c.__enum__=e.audio.AudioContext;
c.toString=m;return c};e.audio.AudioContext.HTML5=function(b){b=["HTML5",1,b];b.__enum__=e.audio.AudioContext;b.toString=m;return b};e.audio.AudioContext.WEB=function(b){b=["WEB",2,b];b.__enum__=e.audio.AudioContext;b.toString=m;return b};e.audio.AudioContext.FLASH=function(b){b=["FLASH",3,b];b.__enum__=e.audio.AudioContext;b.toString=m;return b};e.audio.AudioContext.CUSTOM=function(b){b=["CUSTOM",4,b];b.__enum__=e.audio.AudioContext;b.toString=m;return b};e.audio.AudioManager=function(){};l["lime.audio.AudioManager"]=
e.audio.AudioManager;e.audio.AudioManager.__name__=!0;e.audio.AudioManager.context=null;e.audio.AudioManager.init=function(b){if(null==e.audio.AudioManager.context)if(null==b)try{window.AudioContext=window.AudioContext||window.webkitAudioContext,e.audio.AudioManager.context=e.audio.AudioContext.WEB(new AudioContext)}catch(a){e.audio.AudioManager.context=e.audio.AudioContext.HTML5(new e.audio.HTML5AudioContext)}else e.audio.AudioManager.context=b};e.audio.FlashAudioContext=function(){};l["lime.audio.FlashAudioContext"]=
e.audio.FlashAudioContext;e.audio.FlashAudioContext.__name__=!0;e.audio.HTML5AudioContext=function(){};l["lime.audio.HTML5AudioContext"]=e.audio.HTML5AudioContext;e.audio.HTML5AudioContext.__name__=!0;e.audio.HTML5AudioContext.prototype={__class__:e.audio.HTML5AudioContext};e.graphics={};e.graphics.ConsoleRenderContext=function(){};l["lime.graphics.ConsoleRenderContext"]=e.graphics.ConsoleRenderContext;e.graphics.ConsoleRenderContext.__name__=!0;e.graphics.FlashRenderContext=function(){};l["lime.graphics.FlashRenderContext"]=
e.graphics.FlashRenderContext;e.graphics.FlashRenderContext.__name__=!0;e.graphics.Image=function(b,a,c,d,g,k,G){null==g&&(g=-1);null==d&&(d=-1);null==c&&(c=0);null==a&&(a=0);this.offsetX=a;this.offsetY=c;this.width=d;this.height=g;if(null==G)if(null!=e.app.Application.current&&null!=e.app.Application.current.renderers[0])switch(e.app.Application.current.renderers[0].context[1]){case 2:case 1:this.type=e.graphics.ImageType.CANVAS;break;case 3:this.type=e.graphics.ImageType.FLASH;break;default:this.type=
e.graphics.ImageType.DATA}else this.type=e.graphics.ImageType.DATA;else this.type=G;if(null==b){if(0<d&&0<g)switch(this.type[1]){case 0:this.buffer=new e.graphics.ImageBuffer(null,d,g);e.graphics.utils.ImageCanvasUtil.createCanvas(this,d,g);null!=k&&this.fillRect(new e.math.Rectangle(0,0,d,g),k);break;case 1:b=e.graphics.ImageBuffer,a=d*g*4,a=null!=a?new Uint8Array(a):null,this.buffer=new b(a,d,g),null!=k&&this.fillRect(new e.math.Rectangle(0,0,d,g),k)}}else this.__fromImageBuffer(b)};l["lime.graphics.Image"]=
e.graphics.Image;e.graphics.Image.__name__=!0;e.graphics.Image.__base64Encoder=null;e.graphics.Image.fromBytes=function(b,a){if(null==b)return null;var c=new e.graphics.Image;c.__fromBytes(b,a);return c};e.graphics.Image.fromCanvas=function(b){if(null==b)return null;var a=new e.graphics.ImageBuffer(null,b.width,b.height);a.set_src(b);return new e.graphics.Image(a)};e.graphics.Image.fromImageElement=function(b){if(null==b)return null;var a=new e.graphics.ImageBuffer(null,b.width,b.height);a.set_src(b);
return new e.graphics.Image(a)};e.graphics.Image.__base64Encode=function(b){var a;switch(b.length%3){case 1:a="==";break;case 2:a="=";break;default:a=""}null==e.graphics.Image.__base64Encoder&&(e.graphics.Image.__base64Encoder=new t.crypto.BaseCode(t.io.Bytes.ofString(e.graphics.Image.__base64Chars)));return e.graphics.Image.__base64Encoder.encodeBytes(t.io.Bytes.ofData(b.byteView)).toString()+a};e.graphics.Image.__isJPG=function(b){b.position=0;return 255==b.readUnsignedByte()&&216==b.readUnsignedByte()};
e.graphics.Image.__isPNG=function(b){b.position=0;return 137==b.readUnsignedByte()&&80==b.readUnsignedByte()&&78==b.readUnsignedByte()&&71==b.readUnsignedByte()&&13==b.readUnsignedByte()&&10==b.readUnsignedByte()&&26==b.readUnsignedByte()&&10==b.readUnsignedByte()};e.graphics.Image.__isGIF=function(b){b.position=0;if(71==b.readUnsignedByte()&&73==b.readUnsignedByte()&&70==b.readUnsignedByte()&&56==b.readUnsignedByte()){var a=b.readUnsignedByte();return(55==a||57==a)&&97==b.readUnsignedByte()}return!1};
e.graphics.Image.prototype={clone:function(){if(null!=this.buffer){this.type==e.graphics.ImageType.CANVAS&&null==this.buffer.__srcImage&&(e.graphics.utils.ImageCanvasUtil.convertToCanvas(this),e.graphics.utils.ImageCanvasUtil.sync(this,!0));var b=new e.graphics.Image(this.buffer.clone(),this.offsetX,this.offsetY,this.width,this.height,null,this.type);b.dirty=this.dirty;return b}return new e.graphics.Image(null,this.offsetX,this.offsetY,this.width,this.height,null,this.type)},fillRect:function(b,a,
c){b=this.__clipRect(b);if(null!=this.buffer&&null!=b)switch(this.type[1]){case 0:e.graphics.utils.ImageCanvasUtil.fillRect(this,b,a,c);break;case 1:e.graphics.utils.ImageCanvasUtil.convertToData(this);if(0==this.buffer.data.length)break;e.graphics.utils.ImageDataUtil.fillRect(this,b,a,c);break;case 2:b.offset(this.offsetX,this.offsetY);switch(c){case 1:break;case 2:a=(a&255)<<24|(a>>8&255)<<16|(a>>16&255)<<8|a>>24&255;break;default:a=(a&255)<<24|(a>>24&255)<<16|(a>>16&255)<<8|a>>8&255}this.buffer.__srcBitmapData.fillRect(b.__toFlashRectangle(),
a)}},resize:function(b,a){switch(this.type[1]){case 0:e.graphics.utils.ImageCanvasUtil.resize(this,b,a);break;case 1:e.graphics.utils.ImageDataUtil.resize(this,b,a)}this.buffer.width=b;this.buffer.height=a;this.offsetY=this.offsetX=0;this.width=b;this.height=a},__clipRect:function(b){return null==b||0>b.x&&(b.width-=-b.x,b.x=0,0>=b.x+b.width)||0>b.y&&(b.height-=-b.y,b.y=0,0>=b.y+b.height)||b.x+b.width>=this.width&&(b.width-=b.x+b.width-this.width,0>=b.width)||b.y+b.height>=this.height&&(b.height-=
b.y+b.height-this.height,0>=b.height)?null:b},__fromBase64:function(b,a,c){var d=this,g=new Image;g.addEventListener("load",function(b){d.buffer=new e.graphics.ImageBuffer(null,g.width,g.height);d.buffer.__srcImage=g;d.offsetX=0;d.offsetY=0;d.width=d.buffer.width;d.height=d.buffer.height;null!=c&&c(d)},!1);g.src="data:"+a+";base64,"+b},__fromBytes:function(b,a){var c="";if(e.graphics.Image.__isPNG(b))c="image/png";else if(e.graphics.Image.__isJPG(b))c="image/jpeg";else if(e.graphics.Image.__isGIF(b))c=
"image/gif";else throw"Image tried to read a PNG/JPG ByteArray, but found an invalid header.";this.__fromBase64(e.graphics.Image.__base64Encode(b),c,a)},__fromImageBuffer:function(b){this.buffer=b;null!=b&&(-1==this.width&&(this.width=b.width),-1==this.height&&(this.height=b.height))},get_data:function(){null==this.buffer.data&&0<this.buffer.width&&0<this.buffer.height&&(e.graphics.utils.ImageCanvasUtil.convertToCanvas(this),e.graphics.utils.ImageCanvasUtil.sync(this,!1),e.graphics.utils.ImageCanvasUtil.createImageData(this));
return this.buffer.data},get_format:function(){return this.buffer.format},set_format:function(b){if(this.buffer.format!=b)switch(this.type[1]){case 1:e.graphics.utils.ImageDataUtil.setFormat(this,b)}return this.buffer.format=b},get_powerOfTwo:function(){return 0!=this.buffer.width&&(this.buffer.width&~this.buffer.width+1)==this.buffer.width&&0!=this.buffer.height&&(this.buffer.height&~this.buffer.height+1)==this.buffer.height},get_premultiplied:function(){return this.buffer.premultiplied},set_premultiplied:function(b){if(b&&
!this.buffer.premultiplied)switch(this.type[1]){case 1:e.graphics.utils.ImageCanvasUtil.convertToData(this),e.graphics.utils.ImageDataUtil.multiplyAlpha(this)}else if(!b&&this.buffer.premultiplied)switch(this.type[1]){case 1:e.graphics.utils.ImageCanvasUtil.convertToData(this),e.graphics.utils.ImageDataUtil.unmultiplyAlpha(this)}return b},get_rect:function(){return new e.math.Rectangle(0,0,this.width,this.height)},get_src:function(){null==this.buffer.__srcCanvas&&e.graphics.utils.ImageCanvasUtil.convertToCanvas(this);
return this.buffer.get_src()},get_transparent:function(){return null==this.buffer?!1:this.buffer.transparent},set_transparent:function(b){return null==this.buffer?!1:this.buffer.transparent=b},__class__:e.graphics.Image,__properties__:{set_transparent:"set_transparent",get_transparent:"get_transparent",get_src:"get_src",get_rect:"get_rect",set_premultiplied:"set_premultiplied",get_premultiplied:"get_premultiplied",get_powerOfTwo:"get_powerOfTwo",set_format:"set_format",get_format:"get_format",get_data:"get_data"}};
e.graphics.ImageBuffer=function(b,a,c,d,g){null==d&&(d=32);null==c&&(c=0);null==a&&(a=0);this.data=b;this.width=a;this.height=c;this.bitsPerPixel=d;this.format=null==g?0:g;this.transparent=!0};l["lime.graphics.ImageBuffer"]=e.graphics.ImageBuffer;e.graphics.ImageBuffer.__name__=!0;e.graphics.ImageBuffer.prototype={clone:function(){var b=new e.graphics.ImageBuffer(this.data,this.width,this.height,this.bitsPerPixel);if(null!=this.data){var a=this.data.byteLength,a=null!=a?new Uint8Array(a):null;b.data=
a;a=this.data;a=null!=a?new Uint8Array(a):null;b.data.set(a)}else null!=this.__srcImageData?(b.__srcCanvas=window.document.createElement("canvas"),b.__srcContext=b.__srcCanvas.getContext("2d"),b.__srcCanvas.width=this.__srcImageData.width,b.__srcCanvas.height=this.__srcImageData.height,b.__srcImageData=b.__srcContext.createImageData(this.__srcImageData.width,this.__srcImageData.height),a=new Uint8ClampedArray(this.__srcImageData.data),b.__srcImageData.data.set(a)):null!=this.__srcCanvas?(b.__srcCanvas=
window.document.createElement("canvas"),b.__srcContext=b.__srcCanvas.getContext("2d"),b.__srcCanvas.width=this.__srcCanvas.width,b.__srcCanvas.height=this.__srcCanvas.height,b.__srcContext.drawImage(this.__srcCanvas,0,0)):b.__srcImage=this.__srcImage;b.bitsPerPixel=this.bitsPerPixel;b.format=this.format;b.premultiplied=this.premultiplied;b.transparent=this.transparent;return b},get_src:function(){return null!=this.__srcImage?this.__srcImage:this.__srcCanvas},set_src:function(b){w.Boot.__instanceof(b,
Image)?this.__srcImage=b:w.Boot.__instanceof(b,HTMLCanvasElement)&&(this.__srcCanvas=b,this.__srcContext=this.__srcCanvas.getContext("2d"));return b},get_stride:function(){return 4*this.width},__class__:e.graphics.ImageBuffer,__properties__:{get_stride:"get_stride",set_src:"set_src",get_src:"get_src"}};e.graphics.ImageType=l["lime.graphics.ImageType"]={__ename__:!0,__constructs__:["CANVAS","DATA","FLASH","CUSTOM"]};e.graphics.ImageType.CANVAS=["CANVAS",0];e.graphics.ImageType.CANVAS.toString=m;e.graphics.ImageType.CANVAS.__enum__=
e.graphics.ImageType;e.graphics.ImageType.DATA=["DATA",1];e.graphics.ImageType.DATA.toString=m;e.graphics.ImageType.DATA.__enum__=e.graphics.ImageType;e.graphics.ImageType.FLASH=["FLASH",2];e.graphics.ImageType.FLASH.toString=m;e.graphics.ImageType.FLASH.__enum__=e.graphics.ImageType;e.graphics.ImageType.CUSTOM=["CUSTOM",3];e.graphics.ImageType.CUSTOM.toString=m;e.graphics.ImageType.CUSTOM.__enum__=e.graphics.ImageType;e.graphics.RenderContext=l["lime.graphics.RenderContext"]={__ename__:!0,__constructs__:"OPENGL CANVAS DOM FLASH CAIRO CONSOLE CUSTOM NONE".split(" ")};
e.graphics.RenderContext.OPENGL=function(b){b=["OPENGL",0,b];b.__enum__=e.graphics.RenderContext;b.toString=m;return b};e.graphics.RenderContext.CANVAS=function(b){b=["CANVAS",1,b];b.__enum__=e.graphics.RenderContext;b.toString=m;return b};e.graphics.RenderContext.DOM=function(b){b=["DOM",2,b];b.__enum__=e.graphics.RenderContext;b.toString=m;return b};e.graphics.RenderContext.FLASH=function(b){b=["FLASH",3,b];b.__enum__=e.graphics.RenderContext;b.toString=m;return b};e.graphics.RenderContext.CAIRO=
function(b){b=["CAIRO",4,b];b.__enum__=e.graphics.RenderContext;b.toString=m;return b};e.graphics.RenderContext.CONSOLE=function(b){b=["CONSOLE",5,b];b.__enum__=e.graphics.RenderContext;b.toString=m;return b};e.graphics.RenderContext.CUSTOM=function(b){b=["CUSTOM",6,b];b.__enum__=e.graphics.RenderContext;b.toString=m;return b};e.graphics.RenderContext.NONE=["NONE",7];e.graphics.RenderContext.NONE.toString=m;e.graphics.RenderContext.NONE.__enum__=e.graphics.RenderContext;e.graphics.Renderer=function(b){this.onRender=
new e.app.Event_Void_Void;this.onContextRestored=new e.app.Event_lime_graphics_RenderContext_Void;this.onContextLost=new e.app.Event_Void_Void;this.window=b;this.backend=new e._backend.html5.HTML5Renderer(this);this.window.renderer=this};l["lime.graphics.Renderer"]=e.graphics.Renderer;e.graphics.Renderer.__name__=!0;e.graphics.Renderer.prototype={create:function(){this.backend.create()},flip:function(){this.backend.flip()},__class__:e.graphics.Renderer};e.graphics.RendererType=l["lime.graphics.RendererType"]=
{__ename__:!0,__constructs__:"OPENGL CANVAS DOM FLASH CAIRO CONSOLE CUSTOM".split(" ")};e.graphics.RendererType.OPENGL=["OPENGL",0];e.graphics.RendererType.OPENGL.toString=m;e.graphics.RendererType.OPENGL.__enum__=e.graphics.RendererType;e.graphics.RendererType.CANVAS=["CANVAS",1];e.graphics.RendererType.CANVAS.toString=m;e.graphics.RendererType.CANVAS.__enum__=e.graphics.RendererType;e.graphics.RendererType.DOM=["DOM",2];e.graphics.RendererType.DOM.toString=m;e.graphics.RendererType.DOM.__enum__=
e.graphics.RendererType;e.graphics.RendererType.FLASH=["FLASH",3];e.graphics.RendererType.FLASH.toString=m;e.graphics.RendererType.FLASH.__enum__=e.graphics.RendererType;e.graphics.RendererType.CAIRO=["CAIRO",4];e.graphics.RendererType.CAIRO.toString=m;e.graphics.RendererType.CAIRO.__enum__=e.graphics.RendererType;e.graphics.RendererType.CONSOLE=["CONSOLE",5];e.graphics.RendererType.CONSOLE.toString=m;e.graphics.RendererType.CONSOLE.__enum__=e.graphics.RendererType;e.graphics.RendererType.CUSTOM=
["CUSTOM",6];e.graphics.RendererType.CUSTOM.toString=m;e.graphics.RendererType.CUSTOM.__enum__=e.graphics.RendererType;e.graphics.cairo={};e.graphics.cairo.Cairo=function(){};l["lime.graphics.cairo.Cairo"]=e.graphics.cairo.Cairo;e.graphics.cairo.Cairo.__name__=!0;e.graphics.cairo.Cairo.prototype={arc:function(b,a,c,d,g){},clip:function(){},curveTo:function(b,a,c,d,g,k){},fill:function(){},identityMatrix:function(){},lineTo:function(b,a){},moveTo:function(b,a){},newPath:function(){},paint:function(){},
paintWithAlpha:function(b){},popGroupToSource:function(){},pushGroup:function(){},rectangle:function(b,a,c,d){},restore:function(){},save:function(){},setSourceRGB:function(b,a,c){},get_currentPoint:function(){return null},get_hasCurrentPoint:function(){return!1},set_matrix:function(b){return b},set_source:function(b){return b},__class__:e.graphics.cairo.Cairo,__properties__:{set_source:"set_source",set_matrix:"set_matrix",get_hasCurrentPoint:"get_hasCurrentPoint",get_currentPoint:"get_currentPoint"}};
e.graphics.cairo._CairoImageSurface={};e.graphics.cairo._CairoImageSurface.CairoImageSurface_Impl_=function(){};l["lime.graphics.cairo._CairoImageSurface.CairoImageSurface_Impl_"]=e.graphics.cairo._CairoImageSurface.CairoImageSurface_Impl_;e.graphics.cairo._CairoImageSurface.CairoImageSurface_Impl_.__name__=!0;e.graphics.cairo._CairoImageSurface.CairoImageSurface_Impl_.fromImage=function(b){return null};e.graphics.cairo._CairoPattern={};e.graphics.cairo._CairoPattern.CairoPattern_Impl_=function(){};
l["lime.graphics.cairo._CairoPattern.CairoPattern_Impl_"]=e.graphics.cairo._CairoPattern.CairoPattern_Impl_;e.graphics.cairo._CairoPattern.CairoPattern_Impl_.__name__=!0;e.graphics.cairo._CairoPattern.CairoPattern_Impl_.__properties__={set_filter:"set_filter"};e.graphics.cairo._CairoPattern.CairoPattern_Impl_.createForSurface=function(b){return 0};e.graphics.cairo._CairoPattern.CairoPattern_Impl_.set_filter=function(b,a){return a};e.graphics.cairo._CairoSurface={};e.graphics.cairo._CairoSurface.CairoSurface_Impl_=
function(){};l["lime.graphics.cairo._CairoSurface.CairoSurface_Impl_"]=e.graphics.cairo._CairoSurface.CairoSurface_Impl_;e.graphics.cairo._CairoSurface.CairoSurface_Impl_.__name__=!0;e.graphics.cairo._CairoSurface.CairoSurface_Impl_.flush=function(b){};e.graphics.opengl={};e.graphics.opengl.GL=function(){};l["lime.graphics.opengl.GL"]=e.graphics.opengl.GL;e.graphics.opengl.GL.__name__=!0;e.graphics.opengl.GL.context=null;e.graphics.utils={};e.graphics.utils.ImageCanvasUtil=function(){};l["lime.graphics.utils.ImageCanvasUtil"]=
e.graphics.utils.ImageCanvasUtil;e.graphics.utils.ImageCanvasUtil.__name__=!0;e.graphics.utils.ImageCanvasUtil.convertToCanvas=function(b){var a=b.buffer;null!=a.__srcImage?(null==a.__srcCanvas&&(e.graphics.utils.ImageCanvasUtil.createCanvas(b,a.__srcImage.width,a.__srcImage.height),a.__srcContext.drawImage(a.__srcImage,0,0)),a.__srcImage=null):null!=a.data&&null==a.__srcCanvas?(e.graphics.utils.ImageCanvasUtil.createCanvas(b,a.width,a.height),e.graphics.utils.ImageCanvasUtil.createImageData(b)):
null==a.data&&null!=a.__srcImageData&&(a.data=a.__srcImageData.data)};e.graphics.utils.ImageCanvasUtil.convertToData=function(b){null==b.buffer.data&&(e.graphics.utils.ImageCanvasUtil.convertToCanvas(b),e.graphics.utils.ImageCanvasUtil.sync(b,!1),e.graphics.utils.ImageCanvasUtil.createImageData(b),b.buffer.__srcCanvas=null,b.buffer.__srcContext=null)};e.graphics.utils.ImageCanvasUtil.createCanvas=function(b,a,c){var d=b.buffer;null==d.__srcCanvas&&(d.__srcCanvas=window.document.createElement("canvas"),
d.__srcCanvas.width=a,d.__srcCanvas.height=c,b.get_transparent()?d.__srcContext=d.__srcCanvas.getContext("2d"):(b.get_transparent()||d.__srcCanvas.setAttribute("moz-opaque","true"),d.__srcContext=d.__srcCanvas.getContext("2d",{alpha:!1})),d.__srcContext.mozImageSmoothingEnabled=!1,d.__srcContext.msImageSmoothingEnabled=!1,d.__srcContext.imageSmoothingEnabled=!1)};e.graphics.utils.ImageCanvasUtil.createImageData=function(b){b=b.buffer;if(null==b.__srcImageData){null==b.data?b.__srcImageData=b.__srcContext.getImageData(0,
0,b.width,b.height):(b.__srcImageData=b.__srcContext.createImageData(b.width,b.height),b.__srcImageData.data.set(b.data));var a=b.__srcImageData.data.buffer,a=null!=a?new Uint8Array(a):null;b.data=a}};e.graphics.utils.ImageCanvasUtil.fillRect=function(b,a,c,d){e.graphics.utils.ImageCanvasUtil.convertToCanvas(b);e.graphics.utils.ImageCanvasUtil.sync(b,!0);if(0==a.x&&0==a.y&&a.width==b.width&&a.height==b.height&&b.get_transparent()&&0==(c&255))b.buffer.__srcCanvas.width=b.buffer.width;else{var g,k;
1==d?(d=c>>16&255,g=c>>8&255,k=c&255,c=b.get_transparent()?c>>24&255:255):(d=c>>24&255,g=c>>16&255,k=c>>8&255,c=b.get_transparent()?c&255:255);b.buffer.__srcContext.fillStyle="rgba("+d+", "+g+", "+k+", "+c/255+")";b.buffer.__srcContext.fillRect(a.x+b.offsetX,a.y+b.offsetY,a.width+b.offsetX,a.height+b.offsetY)}};e.graphics.utils.ImageCanvasUtil.resize=function(b,a,c){var d=b.buffer;if(null==d.__srcCanvas)e.graphics.utils.ImageCanvasUtil.createCanvas(b,a,c),d.__srcContext.drawImage(d.get_src(),0,0,
a,c);else{e.graphics.utils.ImageCanvasUtil.sync(b,!0);var g=d.__srcCanvas;d.__srcCanvas=null;e.graphics.utils.ImageCanvasUtil.createCanvas(b,a,c);d.__srcContext.drawImage(g,0,0,a,c)}};e.graphics.utils.ImageCanvasUtil.sync=function(b,a){b.dirty&&null!=b.buffer.__srcImageData&&b.type!=e.graphics.ImageType.DATA&&(b.buffer.__srcContext.putImageData(b.buffer.__srcImageData,0,0),b.buffer.data=null,b.dirty=!1);a&&(b.buffer.__srcImageData=null,b.buffer.data=null)};e.graphics.utils.ImageDataUtil=function(){};
l["lime.graphics.utils.ImageDataUtil"]=e.graphics.utils.ImageDataUtil;e.graphics.utils.ImageDataUtil.__name__=!0;e.graphics.utils.ImageDataUtil.fillRect=function(b,a,c,d){switch(d){case 1:c=(c>>16&255)<<24|(c>>8&255)<<16|(c&255)<<8|c>>24&255;break;case 2:c=(c>>8&255)<<24|(c>>16&255)<<16|(c>>24&255)<<8|c&255;break}b.get_transparent()||(c=(c>>24&255)<<24|(c>>16&255)<<16|(c>>8&255)<<8|255,255);d=b.buffer.data;if(null!=d){var g=b.buffer.format,k=b.buffer.premultiplied;a=new e.graphics.utils._ImageDataUtil.ImageDataView(b,
a);for(var G,h=0,O=a.height;h<O;){G=h++;G=a.offset+a.stride*G;for(var l=0,Ca=a.width;l<Ca;){var m=l++,m=G+4*m;k&&(0==(c&255)?0!=c&&(c=0):255!=(c&255)&&(e.math.color._RGBA.RGBA_Impl_.a16=e.math.color._RGBA.RGBA_Impl_.__alpha16[c&255],c=((c>>24&255)*e.math.color._RGBA.RGBA_Impl_.a16>>16&255)<<24|((c>>16&255)*e.math.color._RGBA.RGBA_Impl_.a16>>16&255)<<16|((c>>8&255)*e.math.color._RGBA.RGBA_Impl_.a16>>16&255)<<8|c&255));switch(g){case 2:d[m]=c>>8&255;d[m+1]=c>>16&255;d[m+2]=c>>24&255;d[m+3]=c&255;break;
case 0:d[m]=c>>24&255;d[m+1]=c>>16&255;d[m+2]=c>>8&255;d[m+3]=c&255;break;case 1:d[m]=c&255,d[m+1]=c>>24&255,d[m+2]=c>>16&255,d[m+3]=c>>8&255}}}b.dirty=!0}};e.graphics.utils.ImageDataUtil.multiplyAlpha=function(b){var a=b.buffer.data;if(null!=a&&b.buffer.transparent){for(var c=b.buffer.format,d=a.length/4|0,g,k=0;k<d;){var G=k++,h=4*G;switch(c){case 2:g=(a[h+2]&255)<<24|(a[h+1]&255)<<16|(a[h]&255)<<8|a[h+3]&255;break;case 0:g=(a[h]&255)<<24|(a[h+1]&255)<<16|(a[h+2]&255)<<8|a[h+3]&255;break;case 1:g=
(a[h+1]&255)<<24|(a[h+2]&255)<<16|(a[h+3]&255)<<8|a[h]&255}G*=4;0==(g&255)?0!=g&&(g=0):255!=(g&255)&&(e.math.color._RGBA.RGBA_Impl_.a16=e.math.color._RGBA.RGBA_Impl_.__alpha16[g&255],g=((g>>24&255)*e.math.color._RGBA.RGBA_Impl_.a16>>16&255)<<24|((g>>16&255)*e.math.color._RGBA.RGBA_Impl_.a16>>16&255)<<16|((g>>8&255)*e.math.color._RGBA.RGBA_Impl_.a16>>16&255)<<8|g&255);switch(c){case 2:a[G]=g>>8&255;a[G+1]=g>>16&255;a[G+2]=g>>24&255;a[G+3]=g&255;break;case 0:a[G]=g>>24&255;a[G+1]=g>>16&255;a[G+2]=g>>
8&255;a[G+3]=g&255;break;case 1:a[G]=g&255,a[G+1]=g>>24&255,a[G+2]=g>>16&255,a[G+3]=g>>8&255}}b.buffer.premultiplied=!0;b.dirty=!0}};e.graphics.utils.ImageDataUtil.resize=function(b,a,c){var d=b.buffer;if(d.width!=a||d.height!=c){var g=new e.graphics.ImageBuffer(function(b){b=a*c*4;return null!=b?new Uint8Array(b):null}(this),a,c),k=b.width,G=b.height,h=b.get_data();b=g.data;for(var O,l,m,q,n,t,r,x,p,u=0;u<c;)for(var A=u++,z=0;z<a;)n=z++,x=(n+.5)/a*k-.5,p=(A+.5)/c*G-.5,t=x|0,r=p|0,O=4*(r*k+t),l=t<
k-1?O+4:O,m=r<G-1?O+4*k:O,q=l!=O?m+4:m,n=4*(A*a+n),t=x-t,r=p-r,p=1-t,x=1-r,b[n]=(function(b){b=h[O];return 0>b?4294967296+b:b+0}(this)*p+function(b){b=h[l];return 0>b?4294967296+b:b+0}(this)*t)*x+(function(b){b=h[m];return 0>b?4294967296+b:b+0}(this)*p+function(b){b=h[q];return 0>b?4294967296+b:b+0}(this)*t)*r|0,b[n+1]=(function(b){b=h[O+1];return 0>b?4294967296+b:b+0}(this)*p+function(b){b=h[l+1];return 0>b?4294967296+b:b+0}(this)*t)*x+(function(b){b=h[m+1];return 0>b?4294967296+b:b+0}(this)*p+function(b){b=
h[q+1];return 0>b?4294967296+b:b+0}(this)*t)*r|0,b[n+2]=(function(b){b=h[O+2];return 0>b?4294967296+b:b+0}(this)*p+function(b){b=h[l+2];return 0>b?4294967296+b:b+0}(this)*t)*x+(function(b){b=h[m+2];return 0>b?4294967296+b:b+0}(this)*p+function(b){b=h[q+2];return 0>b?4294967296+b:b+0}(this)*t)*r|0,0==function(b){b=h[l+3];return 0>b?4294967296+b:b+0}(this)||0==function(b){b=h[m+3];return 0>b?4294967296+b:b+0}(this)||0==function(b){b=h[q+3];return 0>b?4294967296+b:b+0}(this)?b[n+3]=0:b[n+3]=h[O+3];d.data=
g.data;d.width=a;d.height=c}};e.graphics.utils.ImageDataUtil.setFormat=function(b,a){var c=b.buffer.data;if(null!=c){var d,g=c.length/4|0,k,e,h,l,H,m,q,n,t,r,x,p;switch(b.get_format()){case 0:k=0;e=1;h=2;l=3;break;case 1:k=1;e=2;h=3;l=0;break;case 2:k=2,e=1,h=0,l=3}switch(a){case 0:H=0;m=1;q=2;n=3;break;case 1:H=1;m=2;q=3;n=0;break;case 2:H=2,m=1,q=0,n=3}for(var u=0;u<g;)d=4*u++,t=c[d+k],r=c[d+e],x=c[d+h],p=c[d+l],c[d+H]=t,c[d+m]=r,c[d+q]=x,c[d+n]=p;b.buffer.format=a;b.dirty=!0}};e.graphics.utils.ImageDataUtil.unmultiplyAlpha=
function(b){var a=b.buffer.data;if(null!=a){for(var c=b.buffer.format,d=a.length/4|0,g,k=0;k<d;){var G=k++,h=4*G;switch(c){case 2:g=(a[h+2]&255)<<24|(a[h+1]&255)<<16|(a[h]&255)<<8|a[h+3]&255;break;case 0:g=(a[h]&255)<<24|(a[h+1]&255)<<16|(a[h+2]&255)<<8|a[h+3]&255;break;case 1:g=(a[h+1]&255)<<24|(a[h+2]&255)<<16|(a[h+3]&255)<<8|a[h]&255}if(0!=(g&255)&&255!=(g&255)){e.math.color._RGBA.RGBA_Impl_.unmult=255/(g&255);var h=Math.round((g>>24&255)*e.math.color._RGBA.RGBA_Impl_.unmult),h=e.math.color._RGBA.RGBA_Impl_.__clamp[h],
l;l=Math.round((g>>16&255)*e.math.color._RGBA.RGBA_Impl_.unmult);l=e.math.color._RGBA.RGBA_Impl_.__clamp[l];var H=Math.round((g>>8&255)*e.math.color._RGBA.RGBA_Impl_.unmult);g=(h&255)<<24|(l&255)<<16|(e.math.color._RGBA.RGBA_Impl_.__clamp[H]&255)<<8|g&255}G*=4;switch(c){case 2:a[G]=g>>8&255;a[G+1]=g>>16&255;a[G+2]=g>>24&255;a[G+3]=g&255;break;case 0:a[G]=g>>24&255;a[G+1]=g>>16&255;a[G+2]=g>>8&255;a[G+3]=g&255;break;case 1:a[G]=g&255,a[G+1]=g>>24&255,a[G+2]=g>>16&255,a[G+3]=g>>8&255}}b.buffer.premultiplied=
!1;b.dirty=!0}};e.graphics.utils._ImageDataUtil={};e.graphics.utils._ImageDataUtil.ImageDataView=function(b,a){this.image=b;null==a?this.rect=b.get_rect():(0>a.x&&(a.x=0),0>a.y&&(a.y=0),a.x+a.width>b.width&&(a.width=b.width-a.x),a.y+a.height>b.height&&(a.height=b.height-a.y),0>a.width&&(a.width=0),0>a.height&&(a.height=0),this.rect=a);this.stride=b.buffer.get_stride();this.x=Math.ceil(this.rect.x);this.y=Math.ceil(this.rect.y);this.width=Math.floor(this.rect.width);this.height=Math.floor(this.rect.height);
this.offset=this.stride*(this.y+b.offsetY)+4*(this.x+b.offsetX)};l["lime.graphics.utils._ImageDataUtil.ImageDataView"]=e.graphics.utils._ImageDataUtil.ImageDataView;e.graphics.utils._ImageDataUtil.ImageDataView.__name__=!0;e.graphics.utils._ImageDataUtil.ImageDataView.prototype={__class__:e.graphics.utils._ImageDataUtil.ImageDataView};e.math={};e.math.Matrix3=function(b,a,c,d,g,k){null==k&&(k=0);null==g&&(g=0);null==d&&(d=1);null==c&&(c=0);null==a&&(a=0);null==b&&(b=1);this.a=b;this.b=a;this.c=c;
this.d=d;this.tx=g;this.ty=k};l["lime.math.Matrix3"]=e.math.Matrix3;e.math.Matrix3.__name__=!0;e.math.Matrix3.prototype={__class__:e.math.Matrix3};e.math.Rectangle=function(b,a,c,d){null==d&&(d=0);null==c&&(c=0);null==a&&(a=0);null==b&&(b=0);this.x=b;this.y=a;this.width=c;this.height=d};l["lime.math.Rectangle"]=e.math.Rectangle;e.math.Rectangle.__name__=!0;e.math.Rectangle.prototype={offset:function(b,a){this.x+=b;this.y+=a},__toFlashRectangle:function(){return null},__class__:e.math.Rectangle};e.math.Vector2=
function(b,a){null==a&&(a=0);null==b&&(b=0);this.x=b;this.y=a};l["lime.math.Vector2"]=e.math.Vector2;e.math.Vector2.__name__=!0;e.math.Vector2.prototype={__class__:e.math.Vector2};e.math.color={};e.math.color._RGBA={};e.math.color._RGBA.RGBA_Impl_=function(){};l["lime.math.color._RGBA.RGBA_Impl_"]=e.math.color._RGBA.RGBA_Impl_;e.math.color._RGBA.RGBA_Impl_.__name__=!0;e.math.color._RGBA.RGBA_Impl_.__alpha16=null;e.math.color._RGBA.RGBA_Impl_.__clamp=null;e.math.color._RGBA.RGBA_Impl_.a16=null;e.math.color._RGBA.RGBA_Impl_.unmult=
null;e.net={};e.net.URLLoader=function(b){this.onSecurityError=new e.app.Event_lime_net_URLLoader_String_Void;this.onProgress=new e.app.Event_lime_net_URLLoader_Int_Int_Void;this.onOpen=new e.app.Event_lime_net_URLLoader_Void;this.onIOError=new e.app.Event_lime_net_URLLoader_String_Void;this.onHTTPStatus=new e.app.Event_lime_net_URLLoader_Int_Void;this.onComplete=new e.app.Event_lime_net_URLLoader_Void;this.bytesTotal=this.bytesLoaded=0;this.set_dataFormat(e.net.URLLoaderDataFormat.TEXT);null!=b&&
this.load(b)};l["lime.net.URLLoader"]=e.net.URLLoader;e.net.URLLoader.__name__=!0;e.net.URLLoader.prototype={getData:function(){return null},load:function(b){this.requestUrl(b.url,b.method,b.data,b.formatRequestHeaders())},registerEvents:function(b){var a=this,c=this;"undefined"!=typeof XMLHttpRequestProgressEvent&&b.addEventListener("progress",p(this,this.__onProgress),!1);b.onreadystatechange=function(){if(4==b.readyState){var d;try{d=b.status}catch(g){d=null}void 0==d&&(d=null);null!=d&&c.onHTTPStatus.dispatch(a,
d);null!=d&&200<=d&&400>d?c.__onData(b.response):null==d?c.onIOError.dispatch(a,"Failed to connect or resolve host"):12029==d?c.onIOError.dispatch(a,"Failed to connect to host"):12007==d?c.onIOError.dispatch(a,"Unknown host"):0==d?(c.onIOError.dispatch(a,"Unable to make request (may be blocked due to cross-domain permissions)"),c.onSecurityError.dispatch(a,"Unable to make request (may be blocked due to cross-domain permissions)")):c.onIOError.dispatch(a,"Http Error #"+b.status)}}},requestUrl:function(b,
a,c,d){var g=new XMLHttpRequest;this.registerEvents(g);var k="";if(w.Boot.__instanceof(c,e.utils.ByteArray))switch(this.dataFormat[1]){case 0:k=c.data.buffer;break;default:k=c.readUTFBytes(c.length)}else if(w.Boot.__instanceof(c,e.net.URLVariables))for(var G=0,h=v.fields(c);G<h.length;){var l=h[G];++G;0!=k.length&&(k+="&");k+=encodeURIComponent(l)+"="+B.urlEncode(v.field(c,l))}else null!=c&&(k=c.toString());try{if("GET"==a&&null!=k&&""!=k){var H=1>=b.split("?").length;g.open("GET",b+(H?"?":"&")+r.string(k),
!0);k=""}else g.open(w.Boot.__cast(a,String),b,!0)}catch(m){this.onIOError.dispatch(this,m.toString());return}switch(this.dataFormat[1]){case 0:g.responseType="arraybuffer"}for(b=0;b<d.length;)a=d[b],++b,g.setRequestHeader(a.name,a.value);g.send(k);this.onOpen.dispatch(this);this.getData=function(){return null!=g.response?g.response:g.responseText}},__onData:function(b){b=this.getData();switch(this.dataFormat[1]){case 0:this.data=e.utils.ByteArray.__ofBuffer(b);break;default:this.data=r.string(b)}this.onComplete.dispatch(this)},
__onProgress:function(b){this.bytesLoaded=b.loaded;this.bytesTotal=b.total;this.onProgress.dispatch(this,this.bytesLoaded,this.bytesTotal)},set_dataFormat:function(b){b!=e.net.URLLoaderDataFormat.BINARY||v.hasField(window,"ArrayBuffer")?this.dataFormat=b:this.dataFormat=e.net.URLLoaderDataFormat.TEXT;return this.dataFormat},__class__:e.net.URLLoader,__properties__:{set_dataFormat:"set_dataFormat"}};e.net.URLLoaderDataFormat=l["lime.net.URLLoaderDataFormat"]={__ename__:!0,__constructs__:["BINARY",
"TEXT","VARIABLES"]};e.net.URLLoaderDataFormat.BINARY=["BINARY",0];e.net.URLLoaderDataFormat.BINARY.toString=m;e.net.URLLoaderDataFormat.BINARY.__enum__=e.net.URLLoaderDataFormat;e.net.URLLoaderDataFormat.TEXT=["TEXT",1];e.net.URLLoaderDataFormat.TEXT.toString=m;e.net.URLLoaderDataFormat.TEXT.__enum__=e.net.URLLoaderDataFormat;e.net.URLLoaderDataFormat.VARIABLES=["VARIABLES",2];e.net.URLLoaderDataFormat.VARIABLES.toString=m;e.net.URLLoaderDataFormat.VARIABLES.__enum__=e.net.URLLoaderDataFormat;e.net.URLRequest=
function(b){null!=b&&(this.url=b);this.requestHeaders=[];this.method="GET";this.contentType=null};l["lime.net.URLRequest"]=e.net.URLRequest;e.net.URLRequest.__name__=!0;e.net.URLRequest.prototype={formatRequestHeaders:function(){var b=this.requestHeaders;null==b&&(b=[]);if("GET"==this.method||null==this.data)return b;if("string"==typeof this.data||w.Boot.__instanceof(this.data,e.utils.ByteArray))b=b.slice(),b.push(new e.net.URLRequestHeader("Content-Type",null!=this.contentType?this.contentType:"application/x-www-form-urlencoded"));
return b},__class__:e.net.URLRequest};e.net.URLRequestHeader=function(b,a){null==a&&(a="");null==b&&(b="");this.name=b;this.value=a};l["lime.net.URLRequestHeader"]=e.net.URLRequestHeader;e.net.URLRequestHeader.__name__=!0;e.net.URLRequestHeader.prototype={__class__:e.net.URLRequestHeader};e.net.URLVariables=function(){};l["lime.net.URLVariables"]=e.net.URLVariables;e.net.URLVariables.__name__=!0;e.system={};e.system.Clipboard=function(){};l["lime.system.Clipboard"]=e.system.Clipboard;e.system.Clipboard.__name__=
!0;e.system.Clipboard.__properties__={set_text:"set_text",get_text:"get_text"};e.system.Clipboard.get_text=function(){return null};e.system.Clipboard.set_text=function(b){return null};e.system.System=function(){};l["lime.system.System"]=e.system.System;e.system.System.__name__=!0;e.system.System.embed=F.lime.embed=function(b,a,c,d,g){var k=null,k="string"==typeof b?window.document.getElementById(w.Boot.__cast(b,String)):null==b?window.document.createElement("div"):b;b=null;null!=d&&(d=B.replace(d,
"#",""),b=-1<d.indexOf("0x")?r.parseInt(d):r.parseInt("0x"+d));null==a&&(a=0);null==c&&(c=0);C.config.windows[0].background=b;C.config.windows[0].element=k;C.config.windows[0].width=a;C.config.windows[0].height=c;C.config.assetsPrefix=g;C.create()};e.system.System.getTimer=function(){return(new Date).getTime()};e.ui={};e.ui.Gamepad=function(){this.onDisconnect=new e.app.Event_Void_Void;this.onButtonUp=new e.app.Event_lime_ui_GamepadButton_Void;this.onButtonDown=new e.app.Event_lime_ui_GamepadButton_Void;
this.onAxisMove=new e.app.Event_lime_ui_GamepadAxis_Float_Void};l["lime.ui.Gamepad"]=e.ui.Gamepad;e.ui.Gamepad.__name__=!0;e.ui.Gamepad.prototype={__class__:e.ui.Gamepad};e.ui.Joystick=function(){this.onTrackballMove=new e.app.Event_Int_Float_Void;this.onHatMove=new e.app.Event_Int_lime_ui_JoystickHatPosition_Void;this.onDisconnect=new e.app.Event_Void_Void;this.onButtonUp=new e.app.Event_Int_Void;this.onButtonDown=new e.app.Event_Int_Void;this.onAxisMove=new e.app.Event_Int_Float_Void};l["lime.ui.Joystick"]=
e.ui.Joystick;e.ui.Joystick.__name__=!0;e.ui.Joystick.prototype={__class__:e.ui.Joystick};e.ui._KeyModifier={};e.ui._KeyModifier.KeyModifier_Impl_=function(){};l["lime.ui._KeyModifier.KeyModifier_Impl_"]=e.ui._KeyModifier.KeyModifier_Impl_;e.ui._KeyModifier.KeyModifier_Impl_.__name__=!0;e.ui._KeyModifier.KeyModifier_Impl_.__properties__={get_shiftKey:"get_shiftKey",get_metaKey:"get_metaKey",get_ctrlKey:"get_ctrlKey",get_altKey:"get_altKey"};e.ui._KeyModifier.KeyModifier_Impl_.get_altKey=function(b){return 0<
(b&256)||0<(b&512)};e.ui._KeyModifier.KeyModifier_Impl_.get_ctrlKey=function(b){return 0<(b&64)||0<(b&128)};e.ui._KeyModifier.KeyModifier_Impl_.get_metaKey=function(b){return 0<(b&1024)||0<(b&2048)};e.ui._KeyModifier.KeyModifier_Impl_.get_shiftKey=function(b){return 0<(b&1)||0<(b&2)};e.ui.Mouse=function(){};l["lime.ui.Mouse"]=e.ui.Mouse;e.ui.Mouse.__name__=!0;e.ui.Mouse.__properties__={set_cursor:"set_cursor"};e.ui.Mouse.set_cursor=function(b){return e._backend.html5.HTML5Mouse.set_cursor(b)};e.ui.MouseCursor=
l["lime.ui.MouseCursor"]={__ename__:!0,__constructs__:"ARROW CROSSHAIR DEFAULT MOVE POINTER RESIZE_NESW RESIZE_NS RESIZE_NWSE RESIZE_WE TEXT WAIT WAIT_ARROW CUSTOM".split(" ")};e.ui.MouseCursor.ARROW=["ARROW",0];e.ui.MouseCursor.ARROW.toString=m;e.ui.MouseCursor.ARROW.__enum__=e.ui.MouseCursor;e.ui.MouseCursor.CROSSHAIR=["CROSSHAIR",1];e.ui.MouseCursor.CROSSHAIR.toString=m;e.ui.MouseCursor.CROSSHAIR.__enum__=e.ui.MouseCursor;e.ui.MouseCursor.DEFAULT=["DEFAULT",2];e.ui.MouseCursor.DEFAULT.toString=
m;e.ui.MouseCursor.DEFAULT.__enum__=e.ui.MouseCursor;e.ui.MouseCursor.MOVE=["MOVE",3];e.ui.MouseCursor.MOVE.toString=m;e.ui.MouseCursor.MOVE.__enum__=e.ui.MouseCursor;e.ui.MouseCursor.POINTER=["POINTER",4];e.ui.MouseCursor.POINTER.toString=m;e.ui.MouseCursor.POINTER.__enum__=e.ui.MouseCursor;e.ui.MouseCursor.RESIZE_NESW=["RESIZE_NESW",5];e.ui.MouseCursor.RESIZE_NESW.toString=m;e.ui.MouseCursor.RESIZE_NESW.__enum__=e.ui.MouseCursor;e.ui.MouseCursor.RESIZE_NS=["RESIZE_NS",6];e.ui.MouseCursor.RESIZE_NS.toString=
m;e.ui.MouseCursor.RESIZE_NS.__enum__=e.ui.MouseCursor;e.ui.MouseCursor.RESIZE_NWSE=["RESIZE_NWSE",7];e.ui.MouseCursor.RESIZE_NWSE.toString=m;e.ui.MouseCursor.RESIZE_NWSE.__enum__=e.ui.MouseCursor;e.ui.MouseCursor.RESIZE_WE=["RESIZE_WE",8];e.ui.MouseCursor.RESIZE_WE.toString=m;e.ui.MouseCursor.RESIZE_WE.__enum__=e.ui.MouseCursor;e.ui.MouseCursor.TEXT=["TEXT",9];e.ui.MouseCursor.TEXT.toString=m;e.ui.MouseCursor.TEXT.__enum__=e.ui.MouseCursor;e.ui.MouseCursor.WAIT=["WAIT",10];e.ui.MouseCursor.WAIT.toString=
m;e.ui.MouseCursor.WAIT.__enum__=e.ui.MouseCursor;e.ui.MouseCursor.WAIT_ARROW=["WAIT_ARROW",11];e.ui.MouseCursor.WAIT_ARROW.toString=m;e.ui.MouseCursor.WAIT_ARROW.__enum__=e.ui.MouseCursor;e.ui.MouseCursor.CUSTOM=["CUSTOM",12];e.ui.MouseCursor.CUSTOM.toString=m;e.ui.MouseCursor.CUSTOM.__enum__=e.ui.MouseCursor;e.ui.Touch=function(b,a,c,d,g,k,e){this.x=b;this.y=a;this.id=c;this.dx=d;this.dy=g;this.pressure=k;this.device=e};l["lime.ui.Touch"]=e.ui.Touch;e.ui.Touch.__name__=!0;e.ui.Touch.prototype={__class__:e.ui.Touch};
e.ui.Window=function(b){this.onTextInput=new e.app.Event_String_Void;this.onTextEdit=new e.app.Event_String_Int_Int_Void;this.onRestore=new e.app.Event_Void_Void;this.onResize=new e.app.Event_Int_Int_Void;this.onMove=new e.app.Event_Float_Float_Void;this.onMouseWheel=new e.app.Event_Float_Float_Void;this.onMouseUp=new e.app.Event_Float_Float_Int_Void;this.onMouseMoveRelative=new e.app.Event_Float_Float_Void;this.onMouseMove=new e.app.Event_Float_Float_Void;this.onMouseDown=new e.app.Event_Float_Float_Int_Void;
this.onMinimize=new e.app.Event_Void_Void;this.onLeave=new e.app.Event_Void_Void;this.onKeyUp=new e.app.Event_lime_ui_KeyCode_lime_ui_KeyModifier_Void;this.onKeyDown=new e.app.Event_lime_ui_KeyCode_lime_ui_KeyModifier_Void;this.onFullscreen=new e.app.Event_Void_Void;this.onFocusOut=new e.app.Event_Void_Void;this.onFocusIn=new e.app.Event_Void_Void;this.onEnter=new e.app.Event_Void_Void;this.onDeactivate=new e.app.Event_Void_Void;this.onCreate=new e.app.Event_Void_Void;this.onClose=new e.app.Event_Void_Void;
this.onActivate=new e.app.Event_Void_Void;this.config=b;this.__height=this.__width=0;this.__fullscreen=!1;this.__scale=1;this.__y=this.__x=0;this.__title="";this.id=-1;null!=b&&(Object.prototype.hasOwnProperty.call(b,"width")&&(this.__width=b.width),Object.prototype.hasOwnProperty.call(b,"height")&&(this.__height=b.height),Object.prototype.hasOwnProperty.call(b,"x")&&(this.__x=b.x),Object.prototype.hasOwnProperty.call(b,"y")&&(this.__y=b.y),Object.prototype.hasOwnProperty.call(b,"fullscreen")&&(this.__fullscreen=
b.fullscreen),Object.prototype.hasOwnProperty.call(b,"title")&&(this.__title=b.title));this.backend=new e._backend.html5.HTML5Window(this)};l["lime.ui.Window"]=e.ui.Window;e.ui.Window.__name__=!0;e.ui.Window.prototype={close:function(){this.backend.close()},create:function(b){this.application=b;this.backend.create(b);null!=this.renderer&&this.renderer.create()},resize:function(b,a){this.backend.resize(b,a);this.__width=b;this.__height=a},set_fullscreen:function(b){return this.__fullscreen=this.backend.setFullscreen(b)},
set_height:function(b){this.resize(this.__width,b);return this.__height},set_width:function(b){this.resize(b,this.__height);return this.__width},__class__:e.ui.Window,__properties__:{set_width:"set_width",set_height:"set_height",set_fullscreen:"set_fullscreen"}};e.utils={};e.utils.ByteArray=function(b){null==b&&(b=0);this.length=this.position=this.allocated=0;0<b&&(this.allocated=b);this.___resizeBuffer(this.allocated);this.set_length(this.allocated)};l["lime.utils.ByteArray"]=e.utils.ByteArray;e.utils.ByteArray.__name__=
!0;e.utils.ByteArray.__ofBuffer=function(b){var a=new e.utils.ByteArray;a.set_length(a.allocated=b.byteLength);a.data=new DataView(b);a.byteView=new Uint8Array(b);return a};e.utils.ByteArray.prototype={readUnsignedByte:function(){return this.data.getUint8(this.position++)},readUTFBytes:function(b){var a="";for(b=this.position+b;this.position<b;){var c=this.data,d=c.getUint8(this.position++);if(128>d){if(0==d)break;a+=String.fromCharCode(d)}else if(224>d)a+=String.fromCharCode((d&63)<<6|c.getUint8(this.position++)&
127);else if(240>d)var g=c.getUint8(this.position++),a=a+String.fromCharCode((d&31)<<12|(g&127)<<6|c.getUint8(this.position++)&127);else var g=c.getUint8(this.position++),k=c.getUint8(this.position++),a=a+String.fromCharCode((d&15)<<18|(g&127)<<12|k<<6&127|c.getUint8(this.position++)&127)}return a},__get:function(b){return this.data.getInt8(b)},___resizeBuffer:function(b){var a=this.byteView,c=new Uint8Array(b);null!=a&&(a.length<=b?c.set(a):c.set(a.subarray(0,b)));this.byteView=c;this.data=new DataView(c.buffer)},
__set:function(b,a){this.data.setUint8(b,a)},set_length:function(b){this.allocated<b?this.___resizeBuffer(this.allocated=r["int"](Math.max(b,2*this.allocated))):this.allocated>2*b&&this.___resizeBuffer(this.allocated=b);return this.length=b},__class__:e.utils.ByteArray,__properties__:{set_length:"set_length"}};var q={actuators:{}};q.actuators.IGenericActuator=function(){};l["motion.actuators.IGenericActuator"]=q.actuators.IGenericActuator;q.actuators.IGenericActuator.__name__=!0;q.actuators.IGenericActuator.prototype=
{__class__:q.actuators.IGenericActuator};q.actuators.GenericActuator=function(b,a,c){this._autoVisible=!0;this._delay=0;this._reflect=!1;this._repeat=0;this.special=this._snapping=this._smartRotation=this._reverse=!1;this.target=b;this.properties=c;this.duration=a;this._ease=q.Actuate.defaultEase};l["motion.actuators.GenericActuator"]=q.actuators.GenericActuator;q.actuators.GenericActuator.__name__=!0;q.actuators.GenericActuator.__interfaces__=[q.actuators.IGenericActuator];q.actuators.GenericActuator.prototype=
{apply:function(){for(var b=0,a=v.fields(this.properties);b<a.length;){var c=a[b];++b;Object.prototype.hasOwnProperty.call(this.target,c)?v.setField(this.target,c,v.field(this.properties,c)):v.setProperty(this.target,c,v.field(this.properties,c))}},autoVisible:function(b){null==b&&(b=!0);this._autoVisible=b;return this},callMethod:function(b,a){null==a&&(a=[]);return b.apply(b,a)},change:function(){null!=this._onUpdate&&this.callMethod(this._onUpdate,this._onUpdateParams)},complete:function(b){null==
b&&(b=!0);b&&(this.change(),null!=this._onComplete&&this.callMethod(this._onComplete,this._onCompleteParams));q.Actuate.unload(this)},delay:function(b){this._delay=b;return this},ease:function(b){this._ease=b;return this},move:function(){},onComplete:function(b,a){this._onComplete=b;this._onCompleteParams=null==a?[]:a;0==this.duration&&this.complete();return this},onRepeat:function(b,a){this._onRepeat=b;this._onRepeatParams=null==a?[]:a;return this},onUpdate:function(b,a){this._onUpdate=b;this._onUpdateParams=
null==a?[]:a;return this},onPause:function(b,a){this._onPause=b;this._onPauseParams=null==a?[]:a;return this},onResume:function(b,a){this._onResume=b;this._onResumeParams=null==a?[]:a;return this},pause:function(){null!=this._onPause&&this.callMethod(this._onPause,this._onPauseParams)},reflect:function(b){null==b&&(b=!0);this._reflect=b;this.special=!0;return this},repeat:function(b){null==b&&(b=-1);this._repeat=b;return this},resume:function(){null!=this._onResume&&this.callMethod(this._onResume,
this._onResumeParams)},reverse:function(b){null==b&&(b=!0);this._reverse=b;this.special=!0;return this},smartRotation:function(b){null==b&&(b=!0);this._smartRotation=b;this.special=!0;return this},snapping:function(b){null==b&&(b=!0);this._snapping=b;this.special=!0;return this},stop:function(b,a,c){},__class__:q.actuators.GenericActuator};q.actuators.SimpleActuator=function(b,f,c){this.active=!0;this.propertyDetails=[];this.toggleVisible=this.setVisible=this.initialized=this.cacheVisible=this.paused=
this.sendChange=!1;this.startTime=a.Lib.getTimer()/1E3;q.actuators.GenericActuator.call(this,b,f,c);q.actuators.SimpleActuator.addedEvent||(q.actuators.SimpleActuator.addedEvent=!0,a.Lib.current.stage.addEventListener(a.events.Event.ENTER_FRAME,q.actuators.SimpleActuator.stage_onEnterFrame))};l["motion.actuators.SimpleActuator"]=q.actuators.SimpleActuator;q.actuators.SimpleActuator.__name__=!0;q.actuators.SimpleActuator.stage_onEnterFrame=function(b){b=a.Lib.getTimer()/1E3;for(var f,c=0,d=0,g=q.actuators.SimpleActuator.actuatorsLength;d<
g;)d++,f=q.actuators.SimpleActuator.actuators[c],null!=f&&f.active?(b>=f.timeOffset&&f.update(b),c++):(q.actuators.SimpleActuator.actuators.splice(c,1),--q.actuators.SimpleActuator.actuatorsLength)};q.actuators.SimpleActuator.__super__=q.actuators.GenericActuator;q.actuators.SimpleActuator.prototype=u(q.actuators.GenericActuator.prototype,{setField_motion_actuators_SimpleActuator_T:function(b,a,c){Object.prototype.hasOwnProperty.call(b,a)?b[a]=c:v.setProperty(b,a,c)},autoVisible:function(b){null==
b&&(b=!0);this._autoVisible=b;b||(this.toggleVisible=!1,this.setVisible&&this.setField_motion_actuators_SimpleActuator_T(this.target,"visible",this.cacheVisible));return this},delay:function(b){this._delay=b;this.timeOffset=this.startTime+b;return this},getField:function(b,a){var c=null;return c=Object.prototype.hasOwnProperty.call(b,a)?v.field(b,a):v.getProperty(b,a)},initialize:function(){for(var b,a=0,c=v.fields(this.properties);a<c.length;){var d=c[a];++a;var g=!0;!Object.prototype.hasOwnProperty.call(this.target,
d)||this.target.__properties__&&this.target.__properties__["set_"+d]?(g=!1,b=v.getProperty(this.target,d)):b=v.field(this.target,d);if("number"==typeof b){var k=this.getField(this.properties,d);null==b&&(b=0);null==k&&(k=0);b=new q.actuators.PropertyDetails(this.target,d,b,k-b,g);this.propertyDetails.push(b)}}this.detailsLength=this.propertyDetails.length;this.initialized=!0},move:function(){(this.toggleVisible=Object.prototype.hasOwnProperty.call(this.properties,"alpha")&&w.Boot.__instanceof(this.target,
a.display.DisplayObject))&&0!=this.properties.alpha&&!this.getField(this.target,"visible")&&(this.setVisible=!0,this.cacheVisible=this.getField(this.target,"visible"),this.setField_motion_actuators_SimpleActuator_T(this.target,"visible",!0));this.timeOffset=this.startTime;q.actuators.SimpleActuator.actuators.push(this);++q.actuators.SimpleActuator.actuatorsLength},onUpdate:function(b,a){this._onUpdate=b;this._onUpdateParams=null==a?[]:a;this.sendChange=!0;return this},pause:function(){this.paused||
(this.paused=!0,q.actuators.GenericActuator.prototype.pause.call(this),this.pauseTime=a.Lib.getTimer())},resume:function(){this.paused&&(this.paused=!1,this.timeOffset+=(a.Lib.getTimer()-this.pauseTime)/1E3,q.actuators.GenericActuator.prototype.resume.call(this))},setProperty:function(b,a){b.isField?b.target[b.propertyName]=a:v.setProperty(b.target,b.propertyName,a)},stop:function(b,a,c){if(this.active)if(null==b)this.active=!1,a&&this.apply(),this.complete(c);else{var d=0;for(b=v.fields(b);d<b.length;){var g=
b[d];++d;if(Object.prototype.hasOwnProperty.call(this.properties,g)){this.active=!1;a&&this.apply();this.complete(c);break}}}},update:function(b){if(!this.paused){var a,c,d=(b-this.timeOffset)/this.duration;1<d&&(d=1);this.initialized||this.initialize();if(this.special){c=this._reverse?this._ease.calculate(1-d):this._ease.calculate(d);for(var g,k=0,e=this.detailsLength;k<e;)a=k++,a=this.propertyDetails[a],!this._smartRotation||"rotation"!=a.propertyName&&"rotationX"!=a.propertyName&&"rotationY"!=
a.propertyName&&"rotationZ"!=a.propertyName?g=a.start+a.change*c:(g=a.change%360,180<g?g-=360:-180>g&&(g+=360),g=a.start+g*c),this._snapping?this.setProperty(a,Math.round(g)):a.isField?a.target[a.propertyName]=g:v.setProperty(a.target,a.propertyName,g)}else for(c=this._ease.calculate(d),k=0,e=this.detailsLength;k<e;)a=k++,a=this.propertyDetails[a],this.setProperty(a,a.start+a.change*c);if(1==d){if(0==this._repeat){this.active=!1;this.toggleVisible&&0==this.getField(this.target,"alpha")&&this.setField_motion_actuators_SimpleActuator_T(this.target,
"visible",!1);this.complete(!0);return}null!=this._onRepeat&&this.callMethod(this._onRepeat,this._onRepeatParams);this._reflect&&(this._reverse=!this._reverse);this.startTime=b;this.timeOffset=this.startTime+this._delay;0<this._repeat&&this._repeat--}this.sendChange&&this.change()}},__class__:q.actuators.SimpleActuator});q.easing={};q.easing.Expo=function(){};l["motion.easing.Expo"]=q.easing.Expo;q.easing.Expo.__name__=!0;q.easing.Expo.__properties__={get_easeOut:"get_easeOut"};q.easing.Expo.get_easeOut=
function(){return new q.easing.ExpoEaseOut};q.easing.IEasing=function(){};l["motion.easing.IEasing"]=q.easing.IEasing;q.easing.IEasing.__name__=!0;q.easing.IEasing.prototype={__class__:q.easing.IEasing};q.easing.ExpoEaseOut=function(){};l["motion.easing.ExpoEaseOut"]=q.easing.ExpoEaseOut;q.easing.ExpoEaseOut.__name__=!0;q.easing.ExpoEaseOut.__interfaces__=[q.easing.IEasing];q.easing.ExpoEaseOut.prototype={calculate:function(b){return 1==b?1:1-Math.pow(2,-10*b)},__class__:q.easing.ExpoEaseOut};q.Actuate=
function(){};l["motion.Actuate"]=q.Actuate;q.Actuate.__name__=!0;q.Actuate.apply=function(b,a,c){q.Actuate.stop(b,a);null==c&&(c=q.Actuate.defaultActuator);b=I.createInstance(c,[b,0,a]);b.apply();return b};q.Actuate.getLibrary=function(b,a){null==a&&(a=!0);null==q.Actuate.targetLibraries.h.__keys__[b.__id__]&&a&&q.Actuate.targetLibraries.set(b,[]);return q.Actuate.targetLibraries.h[b.__id__]};q.Actuate.stop=function(b,a,c,d){null==d&&(d=!0);null==c&&(c=!1);if(null!=b)if(w.Boot.__instanceof(b,q.actuators.IGenericActuator))b.stop(null,
c,d);else if(b=q.Actuate.getLibrary(b,!1),null!=b){if("string"==typeof a){var g={};v.setField(g,a,null);a=g}else if(a instanceof Array&&null==a.__enum__){var g={},k=0;for(a=w.Boot.__cast(a,Array);k<a.length;){var e=a[k];++k;v.setField(g,e,null)}a=g}for(g=b.length-1;0<=g;)b[g].stop(a,c,d),g--}};q.Actuate.tween=function(b,a,c,d,g){null==d&&(d=!0);if(null!=b){if(0<a){null==g&&(g=q.Actuate.defaultActuator);b=I.createInstance(g,[b,a,c]);a=q.Actuate.getLibrary(b.target);if(d){for(d=a.length-1;0<=d;)a[d].stop(b.properties,
!1,!1),d--;a=q.Actuate.getLibrary(b.target)}a.push(b);b.move();return b}return q.Actuate.apply(b,c,g)}return null};q.Actuate.unload=function(b){var a=b.target;null!=q.Actuate.targetLibraries.h.__keys__[a.__id__]&&(y.remove(q.Actuate.targetLibraries.h[a.__id__],b),0==q.Actuate.targetLibraries.h[a.__id__].length&&q.Actuate.targetLibraries.remove(a))};q.IComponentPath=function(){};l["motion.IComponentPath"]=q.IComponentPath;q.IComponentPath.__name__=!0;q.IComponentPath.prototype={__class__:q.IComponentPath};
q.actuators.FilterActuator=function(b,a,c){this.filterIndex=-1;q.actuators.SimpleActuator.call(this,b,a,c);if(w.Boot.__instanceof(c.filter,ya))for(this.filterClass=c.filter,0==b.get_filters().length&&b.set_filters([I.createInstance(this.filterClass,[])]),a=0,b=b.get_filters();a<b.length;)c=b[a],++a,w.Boot.__instanceof(c,this.filterClass)&&(this.filter=c);else this.filterIndex=c.filter,this.filter=b.get_filters()[this.filterIndex]};l["motion.actuators.FilterActuator"]=q.actuators.FilterActuator;q.actuators.FilterActuator.__name__=
!0;q.actuators.FilterActuator.__super__=q.actuators.SimpleActuator;q.actuators.FilterActuator.prototype=u(q.actuators.SimpleActuator.prototype,{setField_openfl_display_DisplayObject:function(b,a,c){Object.prototype.hasOwnProperty.call(b,a)?b[a]=c:v.setProperty(b,a,c)},apply:function(){for(var b=0,a=v.fields(this.properties);b<a.length;){var c=a[b];++b;"filter"!=c&&v.setField(this.filter,c,v.field(this.properties,c))}b=this.getField(this.target,"filters");v.setField(b,this.properties.filter,this.filter);
this.setField_openfl_display_DisplayObject(this.target,"filters",b)},initialize:function(){for(var b,a=0,c=v.fields(this.properties);a<c.length;){var d=c[a];++a;"filter"!=d&&(b=this.getField(this.filter,d),b=new q.actuators.PropertyDetails(this.filter,d,b,v.field(this.properties,d)-b),this.propertyDetails.push(b))}this.detailsLength=this.propertyDetails.length;this.initialized=!0},update:function(b){q.actuators.SimpleActuator.prototype.update.call(this,b);b=this.target.get_filters();if(-1<this.filterIndex)v.setField(b,
this.properties.filter,this.filter);else for(var a=0,c=b.length;a<c;){var d=a++;w.Boot.__instanceof(b[d],this.filterClass)&&(b[d]=this.filter)}this.setField_openfl_display_DisplayObject(this.target,"filters",b)},__class__:q.actuators.FilterActuator});q.actuators.MethodActuator=function(b,a,c){this.currentParameters=[];this.tweenProperties={};q.actuators.SimpleActuator.call(this,b,a,c);Object.prototype.hasOwnProperty.call(c,"start")||(this.properties.start=[]);Object.prototype.hasOwnProperty.call(c,
"end")||(this.properties.end=this.properties.start);b=0;for(a=this.properties.start.length;b<a;)c=b++,this.currentParameters.push(this.properties.start[c])};l["motion.actuators.MethodActuator"]=q.actuators.MethodActuator;q.actuators.MethodActuator.__name__=!0;q.actuators.MethodActuator.__super__=q.actuators.SimpleActuator;q.actuators.MethodActuator.prototype=u(q.actuators.SimpleActuator.prototype,{apply:function(){this.callMethod(this.target,this.properties.end)},complete:function(b){null==b&&(b=
!0);for(var a=0,c=this.properties.start.length;a<c;){var d=a++;this.currentParameters[d]=v.field(this.tweenProperties,"param"+d)}this.callMethod(this.target,this.currentParameters);q.actuators.SimpleActuator.prototype.complete.call(this,b)},initialize:function(){for(var b,a,c=0,d=this.properties.start.length;c<d;){var g=c++;b="param"+g;a=this.properties.start[g];this.tweenProperties[b]=a;if("number"==typeof a||(a|0)===a)b=new q.actuators.PropertyDetails(this.tweenProperties,b,a,this.properties.end[g]-
a),this.propertyDetails.push(b)}this.detailsLength=this.propertyDetails.length;this.initialized=!0},update:function(b){q.actuators.SimpleActuator.prototype.update.call(this,b);if(this.active&&!this.paused){b=0;for(var a=this.properties.start.length;b<a;){var c=b++;this.currentParameters[c]=v.field(this.tweenProperties,"param"+c)}this.callMethod(this.target,this.currentParameters)}},__class__:q.actuators.MethodActuator});q.actuators.MotionPathActuator=function(b,a,c){q.actuators.SimpleActuator.call(this,
b,a,c)};l["motion.actuators.MotionPathActuator"]=q.actuators.MotionPathActuator;q.actuators.MotionPathActuator.__name__=!0;q.actuators.MotionPathActuator.__super__=q.actuators.SimpleActuator;q.actuators.MotionPathActuator.prototype=u(q.actuators.SimpleActuator.prototype,{setField_motion_actuators_MotionPathActuator_T:function(b,a,c){Object.prototype.hasOwnProperty.call(b,a)?b[a]=c:v.setProperty(b,a,c)},apply:function(){for(var b=0,a=v.fields(this.properties);b<a.length;){var c=a[b];++b;Object.prototype.hasOwnProperty.call(this.target,
c)?v.setField(this.target,c,w.Boot.__cast(v.field(this.properties,c),q.IComponentPath).get_end()):v.setProperty(this.target,c,w.Boot.__cast(v.field(this.properties,c),q.IComponentPath).get_end())}},initialize:function(){for(var b,a=0,c=v.fields(this.properties);a<c.length;){var d=c[a];++a;b=w.Boot.__cast(v.field(this.properties,d),q.IComponentPath);if(null!=b){var g=!0;Object.prototype.hasOwnProperty.call(this.target,d)?b.start=v.field(this.target,d):(g=!1,b.start=v.getProperty(this.target,d));b=
new q.actuators.PropertyPathDetails(this.target,d,b,g);this.propertyDetails.push(b)}}this.detailsLength=this.propertyDetails.length;this.initialized=!0},update:function(b){if(!this.paused){var a,c=(b-this.timeOffset)/this.duration;1<c&&(c=1);this.initialized||this.initialize();if(this.special){a=this._reverse?this._ease.calculate(1-c):this._ease.calculate(c);for(var d=0,g=this.propertyDetails;d<g.length;){var k=g[d];++d;this._snapping?k.isField?v.setField(k.target,k.propertyName,Math.round(w.Boot.__cast(k,
q.actuators.PropertyPathDetails).path.calculate(a))):v.setProperty(k.target,k.propertyName,Math.round(w.Boot.__cast(k,q.actuators.PropertyPathDetails).path.calculate(a))):k.isField?v.setField(k.target,k.propertyName,w.Boot.__cast(k,q.actuators.PropertyPathDetails).path.calculate(a)):v.setProperty(k.target,k.propertyName,w.Boot.__cast(k,q.actuators.PropertyPathDetails).path.calculate(a))}}else for(a=this._ease.calculate(c),d=0,g=this.propertyDetails;d<g.length;)k=g[d],++d,k.isField?v.setField(k.target,
k.propertyName,w.Boot.__cast(k,q.actuators.PropertyPathDetails).path.calculate(a)):v.setProperty(k.target,k.propertyName,w.Boot.__cast(k,q.actuators.PropertyPathDetails).path.calculate(a));if(1==c){if(0==this._repeat){this.active=!1;this.toggleVisible&&0==this.getField(this.target,"alpha")&&this.setField_motion_actuators_MotionPathActuator_T(this.target,"visible",!1);this.complete(!0);return}null!=this._onRepeat&&this.callMethod(this._onRepeat,this._onRepeatParams);this._reflect&&(this._reverse=!this._reverse);
this.startTime=b;this.timeOffset=this.startTime+this._delay;0<this._repeat&&this._repeat--}this.sendChange&&this.change()}},__class__:q.actuators.MotionPathActuator});q.actuators.PropertyDetails=function(b,a,c,d,g){null==g&&(g=!0);this.target=b;this.propertyName=a;this.start=c;this.change=d;this.isField=g};l["motion.actuators.PropertyDetails"]=q.actuators.PropertyDetails;q.actuators.PropertyDetails.__name__=!0;q.actuators.PropertyDetails.prototype={__class__:q.actuators.PropertyDetails};q.actuators.PropertyPathDetails=
function(b,a,c,d){null==d&&(d=!0);q.actuators.PropertyDetails.call(this,b,a,0,0,d);this.path=c};l["motion.actuators.PropertyPathDetails"]=q.actuators.PropertyPathDetails;q.actuators.PropertyPathDetails.__name__=!0;q.actuators.PropertyPathDetails.__super__=q.actuators.PropertyDetails;q.actuators.PropertyPathDetails.prototype=u(q.actuators.PropertyDetails.prototype,{__class__:q.actuators.PropertyPathDetails});q.actuators.TransformActuator=function(b,a,c){q.actuators.SimpleActuator.call(this,b,a,c)};
l["motion.actuators.TransformActuator"]=q.actuators.TransformActuator;q.actuators.TransformActuator.__name__=!0;q.actuators.TransformActuator.__super__=q.actuators.SimpleActuator;q.actuators.TransformActuator.prototype=u(q.actuators.SimpleActuator.prototype,{setField_openfl_geom_Transform:function(b,a,c){Object.prototype.hasOwnProperty.call(b,a)?b[a]=c:v.setProperty(b,a,c)},setField_motion_actuators_TransformActuator_T:function(b,a,c){Object.prototype.hasOwnProperty.call(b,a)?b[a]=c:v.setProperty(b,
a,c)},apply:function(){this.initialize();if(null!=this.endColorTransform){var b=this.getField(this.target,"transform");this.setField_openfl_geom_Transform(b,"colorTransform",this.endColorTransform)}null!=this.endSoundTransform&&this.setField_motion_actuators_TransformActuator_T(this.target,"soundTransform",this.endSoundTransform)},initialize:function(){Object.prototype.hasOwnProperty.call(this.properties,"colorValue")&&w.Boot.__instanceof(this.target,a.display.DisplayObject)&&this.initializeColor();
(Object.prototype.hasOwnProperty.call(this.properties,"soundVolume")||Object.prototype.hasOwnProperty.call(this.properties,"soundPan"))&&this.initializeSound();this.detailsLength=this.propertyDetails.length;this.initialized=!0},initializeColor:function(){this.endColorTransform=new a.geom.ColorTransform;var b=this.properties.colorValue,f=this.properties.colorStrength;if(1>f){var c;.5>f?(c=1,f*=2):(c=1-2*(f-.5),f=1);this.endColorTransform.redMultiplier=c;this.endColorTransform.greenMultiplier=c;this.endColorTransform.blueMultiplier=
c;this.endColorTransform.redOffset=f*(b>>16&255);this.endColorTransform.greenOffset=f*(b>>8&255);this.endColorTransform.blueOffset=f*(b&255)}else this.endColorTransform.redMultiplier=0,this.endColorTransform.greenMultiplier=0,this.endColorTransform.blueMultiplier=0,this.endColorTransform.redOffset=b>>16&255,this.endColorTransform.greenOffset=b>>8&255,this.endColorTransform.blueOffset=b&255;b="redMultiplier greenMultiplier blueMultiplier redOffset greenOffset blueOffset".split(" ");Object.prototype.hasOwnProperty.call(this.properties,
"colorAlpha")?(this.endColorTransform.alphaMultiplier=this.properties.colorAlpha,b.push("alphaMultiplier")):this.endColorTransform.alphaMultiplier=this.getField(this.target,"alpha");c=this.getField(this.target,"transform");c=this.getField(c,"colorTransform");this.tweenColorTransform=new a.geom.ColorTransform;for(var d,f=0;f<b.length;){var g=b[f];++f;d=this.getField(c,g);d=new q.actuators.PropertyDetails(this.tweenColorTransform,g,d,this.getField(this.endColorTransform,g)-d);this.propertyDetails.push(d)}},
initializeSound:function(){null==this.getField(this.target,"soundTransform")&&this.setField_motion_actuators_TransformActuator_T(this.target,"soundTransform",new a.media.SoundTransform);var b=this.getField(this.target,"soundTransform");this.endSoundTransform=this.getField(this.target,"soundTransform");this.tweenSoundTransform=new a.media.SoundTransform;Object.prototype.hasOwnProperty.call(this.properties,"soundVolume")&&(this.endSoundTransform.volume=this.properties.soundVolume,this.propertyDetails.push(new q.actuators.PropertyDetails(this.tweenSoundTransform,
"volume",b.volume,this.endSoundTransform.volume-b.volume)));Object.prototype.hasOwnProperty.call(this.properties,"soundPan")&&(this.endSoundTransform.pan=this.properties.soundPan,this.propertyDetails.push(new q.actuators.PropertyDetails(this.tweenSoundTransform,"pan",b.pan,this.endSoundTransform.pan-b.pan)))},update:function(b){q.actuators.SimpleActuator.prototype.update.call(this,b);null!=this.endColorTransform&&(b=this.getField(this.target,"transform"),this.setField_openfl_geom_Transform(b,"colorTransform",
this.tweenColorTransform));null!=this.endSoundTransform&&this.setField_motion_actuators_TransformActuator_T(this.target,"soundTransform",this.tweenSoundTransform)},__class__:q.actuators.TransformActuator});a.IAssetCache=function(){};l["openfl.IAssetCache"]=a.IAssetCache;a.IAssetCache.__name__=!0;a.IAssetCache.prototype={__class__:a.IAssetCache};a.AssetCache=function(){this.__enabled=!0;this.bitmapData=new t.ds.StringMap;this.font=new t.ds.StringMap;this.sound=new t.ds.StringMap};l["openfl.AssetCache"]=
a.AssetCache;a.AssetCache.__name__=!0;a.AssetCache.__interfaces__=[a.IAssetCache];a.AssetCache.prototype={getBitmapData:function(b){return this.bitmapData.get(b)},getFont:function(b){return this.font.get(b)},hasBitmapData:function(b){return this.bitmapData.exists(b)},hasFont:function(b){return this.font.exists(b)},setBitmapData:function(b,a){this.bitmapData.set(b,a)},setFont:function(b,a){this.font.set(b,a)},get_enabled:function(){return this.__enabled},__class__:a.AssetCache,__properties__:{get_enabled:"get_enabled"}};
a.Assets=function(){};l["openfl.Assets"]=a.Assets;a.Assets.__name__=!0;a.Assets.getBitmapData=function(b,f){null==f&&(f=!0);if(f&&a.Assets.cache.get_enabled()&&a.Assets.cache.hasBitmapData(b)){var c=a.Assets.cache.getBitmapData(b);if(a.Assets.isValidBitmapData(c))return c}c=e.Assets.getImage(b,!1);return null!=c?(c=a.display.BitmapData.fromImage(c),f&&a.Assets.cache.get_enabled()&&a.Assets.cache.setBitmapData(b,c),c):null};a.Assets.getFont=function(b,f){null==f&&(f=!0);if(f&&a.Assets.cache.get_enabled()&&
a.Assets.cache.hasFont(b))return a.Assets.cache.getFont(b);var c=e.Assets.getFont(b,!1);return null!=c?(c=a.text.Font.__fromLimeFont(c),f&&a.Assets.cache.get_enabled()&&a.Assets.cache.setFont(b,c),c):new a.text.Font};a.Assets.isValidBitmapData=function(b){return null!=b&&null!=b.image};a.display.MovieClip=function(){a.display.Sprite.call(this);this.__currentFrame=0;this.__currentLabels=[];this.__totalFrames=0;this.enabled=!0};l["openfl.display.MovieClip"]=a.display.MovieClip;a.display.MovieClip.__name__=
!0;a.display.MovieClip.__super__=a.display.Sprite;a.display.MovieClip.prototype=u(a.display.Sprite.prototype,{__class__:a.display.MovieClip});a.display.LoaderInfo=function(){a.events.EventDispatcher.call(this);this.applicationDomain=a.system.ApplicationDomain.currentDomain;this.bytesTotal=this.bytesLoaded=0;this.childAllowsParent=!0;this.parameters={}};l["openfl.display.LoaderInfo"]=a.display.LoaderInfo;a.display.LoaderInfo.__name__=!0;a.display.LoaderInfo.create=function(b){var f=new a.display.LoaderInfo;
f.uncaughtErrorEvents=new a.events.UncaughtErrorEvents;null!=b?f.loader=b:f.url=a.display.LoaderInfo.__rootURL;return f};a.display.LoaderInfo.__super__=a.events.EventDispatcher;a.display.LoaderInfo.prototype=u(a.events.EventDispatcher.prototype,{__class__:a.display.LoaderInfo});a.system={};a.system.ApplicationDomain=function(b){this.parentDomain=null!=b?b:a.system.ApplicationDomain.currentDomain};l["openfl.system.ApplicationDomain"]=a.system.ApplicationDomain;a.system.ApplicationDomain.__name__=!0;
a.system.ApplicationDomain.prototype={__class__:a.system.ApplicationDomain};a.events.UncaughtErrorEvents=function(b){a.events.EventDispatcher.call(this,b)};l["openfl.events.UncaughtErrorEvents"]=a.events.UncaughtErrorEvents;a.events.UncaughtErrorEvents.__name__=!0;a.events.UncaughtErrorEvents.__super__=a.events.EventDispatcher;a.events.UncaughtErrorEvents.prototype=u(a.events.EventDispatcher.prototype,{__class__:a.events.UncaughtErrorEvents});a.geom.Matrix=function(b,a,c,d,g,k){null==k&&(k=0);null==
g&&(g=0);null==d&&(d=1);null==c&&(c=0);null==a&&(a=0);null==b&&(b=1);this.a=b;this.b=a;this.c=c;this.d=d;this.tx=g;this.ty=k};l["openfl.geom.Matrix"]=a.geom.Matrix;a.geom.Matrix.__name__=!0;a.geom.Matrix.prototype={clone:function(){return new a.geom.Matrix(this.a,this.b,this.c,this.d,this.tx,this.ty)},concat:function(b){var a=this.a*b.a+this.b*b.c;this.b=this.a*b.b+this.b*b.d;this.a=a;a=this.c*b.a+this.d*b.c;this.d=this.c*b.b+this.d*b.d;this.c=a;a=this.tx*b.a+this.ty*b.c+b.tx;this.ty=this.tx*b.b+
this.ty*b.d+b.ty;this.tx=a},copyFrom:function(b){this.a=b.a;this.b=b.b;this.c=b.c;this.d=b.d;this.tx=b.tx;this.ty=b.ty},deltaTransformPoint:function(b){return new a.geom.Point(b.x*this.a+b.y*this.c,b.x*this.b+b.y*this.d)},identity:function(){this.a=1;this.c=this.b=0;this.d=1;this.ty=this.tx=0},invert:function(){var b=this.a*this.d-this.b*this.c;if(0==b)this.a=this.b=this.c=this.d=0,this.tx=-this.tx,this.ty=-this.ty;else{var b=1/b,a=this.d*b;this.d=this.a*b;this.a=a;this.b*=-b;this.c*=-b;b=-this.a*
this.tx-this.c*this.ty;this.ty=-this.b*this.tx-this.d*this.ty;this.tx=b}return this},scale:function(b,a){this.a*=b;this.b*=a;this.c*=b;this.d*=a;this.tx*=b;this.ty*=a},to3DString:function(b){null==b&&(b=!1);return b?"matrix3d("+this.a+", "+this.b+", 0, 0, "+this.c+", "+this.d+", 0, 0, 0, 0, 1, 0, "+(this.tx|0)+", "+(this.ty|0)+", 0, 1)":"matrix3d("+this.a+", "+this.b+", 0, 0, "+this.c+", "+this.d+", 0, 0, 0, 0, 1, 0, "+this.tx+", "+this.ty+", 0, 1)"},transformPoint:function(b){return new a.geom.Point(b.x*
this.a+b.y*this.c+this.tx,b.x*this.b+b.y*this.d+this.ty)},translate:function(b,a){this.tx+=b;this.ty+=a},toArray:function(b){null==b&&(b=!1);null==this.__array&&(this.__array=new Float32Array(9));b?(this.__array[0]=this.a,this.__array[1]=this.b,this.__array[2]=0,this.__array[3]=this.c,this.__array[4]=this.d,this.__array[5]=0,this.__array[6]=this.tx,this.__array[7]=this.ty):(this.__array[0]=this.a,this.__array[1]=this.c,this.__array[2]=this.tx,this.__array[3]=this.b,this.__array[4]=this.d,this.__array[5]=
this.ty,this.__array[6]=0,this.__array[7]=0);this.__array[8]=1;return this.__array},__toMatrix3:function(){return new e.math.Matrix3(this.a,this.b,this.c,this.d,this.tx,this.ty)},__transformInversePoint:function(b){var a=this.a*this.d-this.b*this.c;if(0==a)b.x=-this.tx,b.y=-this.ty;else{var c=1/a*(this.c*(this.ty-b.y)+this.d*(b.x-this.tx));b.y=1/a*(this.a*(b.y-this.ty)+this.b*(this.tx-b.x));b.x=c}},__transformInverseX:function(b,a){var c=this.a*this.d-this.b*this.c;return 0==c?-this.tx:1/c*(this.c*
(this.ty-a)+this.d*(b-this.tx))},__transformInverseY:function(b,a){var c=this.a*this.d-this.b*this.c;return 0==c?-this.ty:1/c*(this.a*(a-this.ty)+this.b*(this.tx-b))},__translateTransformed:function(b,a){this.tx=b*this.a+a*this.c+this.tx;this.ty=b*this.b+a*this.d+this.ty},__class__:a.geom.Matrix};a.geom.ColorTransform=function(b,a,c,d,g,k,e,h){null==h&&(h=0);null==e&&(e=0);null==k&&(k=0);null==g&&(g=0);null==d&&(d=1);null==c&&(c=1);null==a&&(a=1);null==b&&(b=1);this.redMultiplier=b;this.greenMultiplier=
a;this.blueMultiplier=c;this.alphaMultiplier=d;this.redOffset=g;this.greenOffset=k;this.blueOffset=e;this.alphaOffset=h};l["openfl.geom.ColorTransform"]=a.geom.ColorTransform;a.geom.ColorTransform.__name__=!0;a.geom.ColorTransform.prototype={__clone:function(){return new a.geom.ColorTransform(this.redMultiplier,this.greenMultiplier,this.blueMultiplier,this.alphaMultiplier,this.redOffset,this.greenOffset,this.blueOffset,this.alphaOffset)},__combine:function(b){this.redMultiplier*=b.redMultiplier;this.greenMultiplier*=
b.greenMultiplier;this.blueMultiplier*=b.blueMultiplier;this.alphaMultiplier*=b.alphaMultiplier;this.redOffset+=b.redOffset;this.greenOffset+=b.greenOffset;this.blueOffset+=b.blueOffset;this.alphaOffset+=b.alphaOffset},__equals:function(b,a){null==a&&(a=!1);return null!=b&&this.redMultiplier==b.redMultiplier&&this.greenMultiplier==b.greenMultiplier&&this.blueMultiplier==b.blueMultiplier&&(a||this.alphaMultiplier==b.alphaMultiplier)&&this.redOffset==b.redOffset&&this.greenOffset==b.greenOffset&&this.blueOffset==
b.blueOffset&&this.alphaOffset==b.alphaOffset},__isDefault:function(){return 1==this.redMultiplier&&1==this.greenMultiplier&&1==this.blueMultiplier&&1==this.alphaMultiplier&&0==this.redOffset&&0==this.greenOffset&&0==this.blueOffset&&0==this.alphaOffset},__class__:a.geom.ColorTransform};a.Lib=function(){};l["openfl.Lib"]=a.Lib;a.Lib.__name__=!0;a.Lib.application=null;a.Lib.embed=F.openfl.embed=function(b,a,c,d,g){e.system.System.embed(b,a,c,d,g)};a.Lib.getTimer=function(){return e.system.System.getTimer()};
a.VectorData=function(){this.length=0};l["openfl.VectorData"]=a.VectorData;a.VectorData.__name__=!0;a.VectorData.prototype={__class__:a.VectorData};a._internal={};a._internal.renderer={};a._internal.renderer.AbstractMaskManager=function(b){this.renderSession=b};l["openfl._internal.renderer.AbstractMaskManager"]=a._internal.renderer.AbstractMaskManager;a._internal.renderer.AbstractMaskManager.__name__=!0;a._internal.renderer.AbstractMaskManager.prototype={pushMask:function(b){},pushRect:function(b,
a){},popMask:function(){},popRect:function(){},saveState:function(){},restoreState:function(){},__class__:a._internal.renderer.AbstractMaskManager};a._internal.renderer.AbstractRenderer=function(b,a){this.width=b;this.height=a};l["openfl._internal.renderer.AbstractRenderer"]=a._internal.renderer.AbstractRenderer;a._internal.renderer.AbstractRenderer.__name__=!0;a._internal.renderer.AbstractRenderer.prototype={render:function(b){},setViewport:function(b,a,c,d){},resize:function(b,a){},__class__:a._internal.renderer.AbstractRenderer};
a._internal.renderer.DrawCommandBuffer=function(){this.types=[];this.b=[];this.i=[];this.f=[];this.o=[];this.ff=[];this.ii=[];this.ts=[]};l["openfl._internal.renderer.DrawCommandBuffer"]=a._internal.renderer.DrawCommandBuffer;a._internal.renderer.DrawCommandBuffer.__name__=!0;a._internal.renderer.DrawCommandBuffer.prototype={append:function(b){for(var f=new a._internal.renderer.DrawCommandReader(b),c=0,d=b.types;c<d.length;){var g=d[c];++c;switch(g[1]){case 0:f.advance();f.prev=a._internal.renderer.DrawCommandType.BEGIN_BITMAP_FILL;
g=f;this.beginBitmapFill(g.buffer.o[g.oPos],g.buffer.o[g.oPos+1],g.buffer.b[g.bPos],g.buffer.b[g.bPos+1]);break;case 1:f.advance();f.prev=a._internal.renderer.DrawCommandType.BEGIN_FILL;g=f;this.beginFill(g.buffer.i[g.iPos],g.buffer.f[g.fPos]);break;case 2:f.advance();f.prev=a._internal.renderer.DrawCommandType.BEGIN_GRADIENT_FILL;g=f;this.beginGradientFill(g.buffer.o[g.oPos],g.buffer.ii[g.iiPos],g.buffer.ff[g.ffPos],g.buffer.ii[g.iiPos+1],g.buffer.o[g.oPos+1],g.buffer.o[g.oPos+2],g.buffer.o[g.oPos+
3],g.buffer.o[g.oPos+4]);break;case 3:f.advance();f.prev=a._internal.renderer.DrawCommandType.CUBIC_CURVE_TO;g=f;this.cubicCurveTo(g.buffer.f[g.fPos],g.buffer.f[g.fPos+1],g.buffer.f[g.fPos+3],g.buffer.f[g.fPos+4],g.buffer.f[g.fPos+5],g.buffer.f[g.fPos+6]);break;case 4:f.advance();f.prev=a._internal.renderer.DrawCommandType.CURVE_TO;g=f;this.curveTo(g.buffer.f[g.fPos],g.buffer.f[g.fPos+1],g.buffer.f[g.fPos+2],g.buffer.f[g.fPos+3]);break;case 5:f.advance();f.prev=a._internal.renderer.DrawCommandType.DRAW_CIRCLE;
g=f;this.drawCircle(g.buffer.f[g.fPos],g.buffer.f[g.fPos+1],g.buffer.f[g.fPos+2]);break;case 6:f.advance();f.prev=a._internal.renderer.DrawCommandType.DRAW_ELLIPSE;g=f;this.drawEllipse(g.buffer.f[g.fPos],g.buffer.f[g.fPos+1],g.buffer.f[g.fPos+2],g.buffer.f[g.fPos+3]);break;case 7:f.advance();f.prev=a._internal.renderer.DrawCommandType.DRAW_PATH;g=f;this.drawPath(g.buffer.o[g.oPos],g.buffer.o[g.oPos+1],g.buffer.o[g.oPos+2]);break;case 8:f.advance();f.prev=a._internal.renderer.DrawCommandType.DRAW_RECT;
g=f;this.drawRect(g.buffer.f[g.fPos],g.buffer.f[g.fPos+1],g.buffer.f[g.fPos+2],g.buffer.f[g.fPos+3]);break;case 9:f.advance();f.prev=a._internal.renderer.DrawCommandType.DRAW_ROUND_RECT;g=f;this.drawRoundRect(g.buffer.f[g.fPos],g.buffer.f[g.fPos+1],g.buffer.f[g.fPos+2],g.buffer.f[g.fPos+3],g.buffer.f[g.fPos+4],g.buffer.f[g.fPos+5]);break;case 10:f.advance();f.prev=a._internal.renderer.DrawCommandType.DRAW_TILES;g=f;this.drawTiles(g.buffer.ts[g.tsPos],g.buffer.ff[g.ffPos],g.buffer.b[g.bPos],g.buffer.i[g.iPos],
g.buffer.o[g.oPos],g.buffer.i[g.iPos+1]);break;case 11:f.advance();f.prev=a._internal.renderer.DrawCommandType.DRAW_TRIANGLES;g=f;this.drawTriangles(g.buffer.o[g.oPos],g.buffer.o[g.oPos+1],g.buffer.o[g.oPos+2],g.buffer.o[g.oPos+3],g.buffer.o[g.oPos+4],g.buffer.i[g.iPos]);break;case 12:f.advance();f.prev=a._internal.renderer.DrawCommandType.END_FILL;this.endFill();break;case 13:f.advance();f.prev=a._internal.renderer.DrawCommandType.LINE_BITMAP_STYLE;g=f;this.lineBitmapStyle(g.buffer.o[g.oPos],g.buffer.o[g.oPos+
1],g.buffer.b[g.bPos],g.buffer.b[g.bPos+1]);break;case 14:f.advance();f.prev=a._internal.renderer.DrawCommandType.LINE_GRADIENT_STYLE;g=f;this.lineGradientStyle(g.buffer.o[g.oPos],g.buffer.ii[g.iiPos],g.buffer.ff[g.ffPos],g.buffer.ii[g.iiPos+1],g.buffer.o[g.oPos+1],g.buffer.o[g.oPos+2],g.buffer.o[g.oPos+3],g.buffer.o[g.oPos+4]);break;case 15:f.advance();f.prev=a._internal.renderer.DrawCommandType.LINE_STYLE;g=f;this.lineStyle(g.buffer.o[g.oPos],g.buffer.o[g.oPos+1],g.buffer.o[g.oPos+2],g.buffer.o[g.oPos+
3],g.buffer.o[g.oPos+4],g.buffer.o[g.oPos+5],g.buffer.o[g.oPos+6],g.buffer.o[g.oPos+7]);break;case 16:f.advance();f.prev=a._internal.renderer.DrawCommandType.LINE_TO;g=f;this.lineTo(g.buffer.f[g.fPos],g.buffer.f[g.fPos+1]);break;case 17:f.advance();f.prev=a._internal.renderer.DrawCommandType.MOVE_TO;g=f;this.moveTo(g.buffer.f[g.fPos],g.buffer.f[g.fPos+1]);break;case 18:f.advance(),f.prev=a._internal.renderer.DrawCommandType.OVERRIDE_MATRIX,g=f,this.overrideMatrix(g.buffer.o[g.oPos])}}f.destroy();
return b},beginBitmapFill:function(b,f,c,d){this.types.push(a._internal.renderer.DrawCommandType.BEGIN_BITMAP_FILL);this.o.push(b);this.o.push(f);this.b.push(c);this.b.push(d)},beginFill:function(b,f){this.types.push(a._internal.renderer.DrawCommandType.BEGIN_FILL);this.i.push(b);this.f.push(f)},beginGradientFill:function(b,f,c,d,g,k,e,h){this.types.push(a._internal.renderer.DrawCommandType.BEGIN_GRADIENT_FILL);this.o.push(b);this.ii.push(f);this.ff.push(c);this.ii.push(d);this.o.push(g);this.o.push(k);
this.o.push(e);this.o.push(h)},clear:function(){this.types.splice(0,this.types.length);this.b.splice(0,this.b.length);this.i.splice(0,this.i.length);this.f.splice(0,this.f.length);this.o.splice(0,this.o.length);this.ff.splice(0,this.ff.length);this.ii.splice(0,this.ii.length);this.ts.splice(0,this.ts.length)},cubicCurveTo:function(b,f,c,d,g,k){this.types.push(a._internal.renderer.DrawCommandType.CUBIC_CURVE_TO);this.f.push(b);this.f.push(f);this.f.push(c);this.f.push(d);this.f.push(g);this.f.push(k)},
curveTo:function(b,f,c,d){this.types.push(a._internal.renderer.DrawCommandType.CURVE_TO);this.f.push(b);this.f.push(f);this.f.push(c);this.f.push(d)},drawCircle:function(b,f,c){this.types.push(a._internal.renderer.DrawCommandType.DRAW_CIRCLE);this.f.push(b);this.f.push(f);this.f.push(c)},drawEllipse:function(b,f,c,d){this.types.push(a._internal.renderer.DrawCommandType.DRAW_ELLIPSE);this.f.push(b);this.f.push(f);this.f.push(c);this.f.push(d)},drawPath:function(b,f,c){this.types.push(a._internal.renderer.DrawCommandType.DRAW_PATH);
this.o.push(b);this.o.push(f);this.o.push(c)},drawRect:function(b,f,c,d){this.types.push(a._internal.renderer.DrawCommandType.DRAW_RECT);this.f.push(b);this.f.push(f);this.f.push(c);this.f.push(d)},drawRoundRect:function(b,f,c,d,g,k){this.types.push(a._internal.renderer.DrawCommandType.DRAW_ROUND_RECT);this.f.push(b);this.f.push(f);this.f.push(c);this.f.push(d);this.f.push(g);this.f.push(k)},drawTiles:function(b,f,c,d,g,k){this.types.push(a._internal.renderer.DrawCommandType.DRAW_TILES);this.ts.push(b);
this.ff.push(f);this.b.push(c);this.i.push(d);this.o.push(g);this.i.push(k)},drawTriangles:function(b,f,c,d,g,k){this.types.push(a._internal.renderer.DrawCommandType.DRAW_TRIANGLES);this.o.push(b);this.o.push(f);this.o.push(c);this.o.push(d);this.o.push(g);this.i.push(k)},endFill:function(){this.types.push(a._internal.renderer.DrawCommandType.END_FILL)},lineBitmapStyle:function(b,f,c,d){this.types.push(a._internal.renderer.DrawCommandType.LINE_BITMAP_STYLE);this.o.push(b);this.o.push(f);this.b.push(c);
this.b.push(d)},lineGradientStyle:function(b,f,c,d,g,k,e,h){this.types.push(a._internal.renderer.DrawCommandType.LINE_GRADIENT_STYLE);this.o.push(b);this.ii.push(f);this.ff.push(c);this.ii.push(d);this.o.push(g);this.o.push(k);this.o.push(e);this.o.push(h)},lineStyle:function(b,f,c,d,g,k,e,h){this.types.push(a._internal.renderer.DrawCommandType.LINE_STYLE);this.o.push(b);this.o.push(f);this.o.push(c);this.o.push(d);this.o.push(g);this.o.push(k);this.o.push(e);this.o.push(h)},lineTo:function(b,f){this.types.push(a._internal.renderer.DrawCommandType.LINE_TO);
this.f.push(b);this.f.push(f)},moveTo:function(b,f){this.types.push(a._internal.renderer.DrawCommandType.MOVE_TO);this.f.push(b);this.f.push(f)},overrideMatrix:function(b){this.types.push(a._internal.renderer.DrawCommandType.OVERRIDE_MATRIX);this.o.push(b)},get_length:function(){return this.types.length},__class__:a._internal.renderer.DrawCommandBuffer,__properties__:{get_length:"get_length"}};a._internal.renderer.DrawCommandReader=function(b){this.buffer=b;this.bPos=this.iPos=this.fPos=this.oPos=
this.ffPos=this.iiPos=this.tsPos=0;this.prev=a._internal.renderer.DrawCommandType.UNKNOWN};l["openfl._internal.renderer.DrawCommandReader"]=a._internal.renderer.DrawCommandReader;a._internal.renderer.DrawCommandReader.__name__=!0;a._internal.renderer.DrawCommandReader.prototype={advance:function(){switch(this.prev[1]){case 0:this.oPos+=2;this.bPos+=2;break;case 1:this.iPos+=1;this.fPos+=1;break;case 2:this.oPos+=5;this.iiPos+=2;this.ffPos+=1;break;case 3:this.fPos+=6;break;case 4:this.fPos+=4;break;
case 5:this.fPos+=3;break;case 6:this.fPos+=4;break;case 7:this.oPos+=3;break;case 8:this.fPos+=4;break;case 9:this.fPos+=6;break;case 10:this.tsPos+=1;this.ffPos+=1;this.bPos+=1;this.iPos+=2;this.oPos+=1;break;case 11:this.oPos+=5;this.iPos+=1;break;case 13:this.oPos+=2;this.bPos+=2;break;case 14:this.oPos+=5;this.iiPos+=2;this.ffPos+=1;break;case 15:this.oPos+=8;break;case 16:this.fPos+=2;break;case 17:this.fPos+=2;break;case 18:this.oPos+=1}},destroy:function(){this.buffer=null;this.reset()},reset:function(){this.bPos=
this.iPos=this.fPos=this.oPos=this.ffPos=this.iiPos=this.tsPos=0},__class__:a._internal.renderer.DrawCommandReader};a._internal.renderer.DrawCommandType=l["openfl._internal.renderer.DrawCommandType"]={__ename__:!0,__constructs__:"BEGIN_BITMAP_FILL BEGIN_FILL BEGIN_GRADIENT_FILL CUBIC_CURVE_TO CURVE_TO DRAW_CIRCLE DRAW_ELLIPSE DRAW_PATH DRAW_RECT DRAW_ROUND_RECT DRAW_TILES DRAW_TRIANGLES END_FILL LINE_BITMAP_STYLE LINE_GRADIENT_STYLE LINE_STYLE LINE_TO MOVE_TO OVERRIDE_MATRIX UNKNOWN".split(" ")};
a._internal.renderer.DrawCommandType.BEGIN_BITMAP_FILL=["BEGIN_BITMAP_FILL",0];a._internal.renderer.DrawCommandType.BEGIN_BITMAP_FILL.toString=m;a._internal.renderer.DrawCommandType.BEGIN_BITMAP_FILL.__enum__=a._internal.renderer.DrawCommandType;a._internal.renderer.DrawCommandType.BEGIN_FILL=["BEGIN_FILL",1];a._internal.renderer.DrawCommandType.BEGIN_FILL.toString=m;a._internal.renderer.DrawCommandType.BEGIN_FILL.__enum__=a._internal.renderer.DrawCommandType;a._internal.renderer.DrawCommandType.BEGIN_GRADIENT_FILL=
["BEGIN_GRADIENT_FILL",2];a._internal.renderer.DrawCommandType.BEGIN_GRADIENT_FILL.toString=m;a._internal.renderer.DrawCommandType.BEGIN_GRADIENT_FILL.__enum__=a._internal.renderer.DrawCommandType;a._internal.renderer.DrawCommandType.CUBIC_CURVE_TO=["CUBIC_CURVE_TO",3];a._internal.renderer.DrawCommandType.CUBIC_CURVE_TO.toString=m;a._internal.renderer.DrawCommandType.CUBIC_CURVE_TO.__enum__=a._internal.renderer.DrawCommandType;a._internal.renderer.DrawCommandType.CURVE_TO=["CURVE_TO",4];a._internal.renderer.DrawCommandType.CURVE_TO.toString=
m;a._internal.renderer.DrawCommandType.CURVE_TO.__enum__=a._internal.renderer.DrawCommandType;a._internal.renderer.DrawCommandType.DRAW_CIRCLE=["DRAW_CIRCLE",5];a._internal.renderer.DrawCommandType.DRAW_CIRCLE.toString=m;a._internal.renderer.DrawCommandType.DRAW_CIRCLE.__enum__=a._internal.renderer.DrawCommandType;a._internal.renderer.DrawCommandType.DRAW_ELLIPSE=["DRAW_ELLIPSE",6];a._internal.renderer.DrawCommandType.DRAW_ELLIPSE.toString=m;a._internal.renderer.DrawCommandType.DRAW_ELLIPSE.__enum__=
a._internal.renderer.DrawCommandType;a._internal.renderer.DrawCommandType.DRAW_PATH=["DRAW_PATH",7];a._internal.renderer.DrawCommandType.DRAW_PATH.toString=m;a._internal.renderer.DrawCommandType.DRAW_PATH.__enum__=a._internal.renderer.DrawCommandType;a._internal.renderer.DrawCommandType.DRAW_RECT=["DRAW_RECT",8];a._internal.renderer.DrawCommandType.DRAW_RECT.toString=m;a._internal.renderer.DrawCommandType.DRAW_RECT.__enum__=a._internal.renderer.DrawCommandType;a._internal.renderer.DrawCommandType.DRAW_ROUND_RECT=
["DRAW_ROUND_RECT",9];a._internal.renderer.DrawCommandType.DRAW_ROUND_RECT.toString=m;a._internal.renderer.DrawCommandType.DRAW_ROUND_RECT.__enum__=a._internal.renderer.DrawCommandType;a._internal.renderer.DrawCommandType.DRAW_TILES=["DRAW_TILES",10];a._internal.renderer.DrawCommandType.DRAW_TILES.toString=m;a._internal.renderer.DrawCommandType.DRAW_TILES.__enum__=a._internal.renderer.DrawCommandType;a._internal.renderer.DrawCommandType.DRAW_TRIANGLES=["DRAW_TRIANGLES",11];a._internal.renderer.DrawCommandType.DRAW_TRIANGLES.toString=
m;a._internal.renderer.DrawCommandType.DRAW_TRIANGLES.__enum__=a._internal.renderer.DrawCommandType;a._internal.renderer.DrawCommandType.END_FILL=["END_FILL",12];a._internal.renderer.DrawCommandType.END_FILL.toString=m;a._internal.renderer.DrawCommandType.END_FILL.__enum__=a._internal.renderer.DrawCommandType;a._internal.renderer.DrawCommandType.LINE_BITMAP_STYLE=["LINE_BITMAP_STYLE",13];a._internal.renderer.DrawCommandType.LINE_BITMAP_STYLE.toString=m;a._internal.renderer.DrawCommandType.LINE_BITMAP_STYLE.__enum__=
a._internal.renderer.DrawCommandType;a._internal.renderer.DrawCommandType.LINE_GRADIENT_STYLE=["LINE_GRADIENT_STYLE",14];a._internal.renderer.DrawCommandType.LINE_GRADIENT_STYLE.toString=m;a._internal.renderer.DrawCommandType.LINE_GRADIENT_STYLE.__enum__=a._internal.renderer.DrawCommandType;a._internal.renderer.DrawCommandType.LINE_STYLE=["LINE_STYLE",15];a._internal.renderer.DrawCommandType.LINE_STYLE.toString=m;a._internal.renderer.DrawCommandType.LINE_STYLE.__enum__=a._internal.renderer.DrawCommandType;
a._internal.renderer.DrawCommandType.LINE_TO=["LINE_TO",16];a._internal.renderer.DrawCommandType.LINE_TO.toString=m;a._internal.renderer.DrawCommandType.LINE_TO.__enum__=a._internal.renderer.DrawCommandType;a._internal.renderer.DrawCommandType.MOVE_TO=["MOVE_TO",17];a._internal.renderer.DrawCommandType.MOVE_TO.toString=m;a._internal.renderer.DrawCommandType.MOVE_TO.__enum__=a._internal.renderer.DrawCommandType;a._internal.renderer.DrawCommandType.OVERRIDE_MATRIX=["OVERRIDE_MATRIX",18];a._internal.renderer.DrawCommandType.OVERRIDE_MATRIX.toString=
m;a._internal.renderer.DrawCommandType.OVERRIDE_MATRIX.__enum__=a._internal.renderer.DrawCommandType;a._internal.renderer.DrawCommandType.UNKNOWN=["UNKNOWN",19];a._internal.renderer.DrawCommandType.UNKNOWN.toString=m;a._internal.renderer.DrawCommandType.UNKNOWN.__enum__=a._internal.renderer.DrawCommandType;a._internal.renderer.GraphicsPaths=function(){};l["openfl._internal.renderer.GraphicsPaths"]=a._internal.renderer.GraphicsPaths;a._internal.renderer.GraphicsPaths.__name__=!0;a._internal.renderer.GraphicsPaths.ellipse=
function(b,a,c,d,g,k){var e=2*Math.PI/k,h=0;for(k+=1;h<k;){var l=h++;b.push(a+Math.sin(e*l)*d);b.push(c+Math.cos(e*l)*g)}};a._internal.renderer.GraphicsPaths.cubicCurveTo=function(b,a,c,d,g,k,e){for(var h=0,l=0,H=0,m=0,q=0,n=b[b.length-2],t=b[b.length-1],r=0,x=h=0,p=1;21>p;)x=p++/20,h=1-x,l=h*h,H=l*h,m=x*x,q=m*x,r=H*n+3*l*x*a+3*h*m*d+q*k,h=H*t+3*l*x*c+3*h*m*g+q*e,b.push(r),b.push(h)};a._internal.renderer.GraphicsPaths.curveTo=function(b,a,c,d,g){for(var k=0,e=0,h=b[b.length-2],l=b[b.length-1],H=e=
k=0,m=1;21>m;)H=m++/20,k=h+(a-h)*H,e=l+(c-l)*H,k+=(a+(d-a)*H-k)*H,e+=(c+(g-c)*H-e)*H,b.push(k),b.push(e)};a._internal.renderer.GraphicsPaths.roundRectangle=function(b,f,c,d,g,k,e){d=f+d;g=c+g;var h=-k+k*a._internal.renderer.GraphicsPaths.SIN45,l=-k+k*a._internal.renderer.GraphicsPaths.TAN22,H=-e+e*a._internal.renderer.GraphicsPaths.SIN45,m=-e+e*a._internal.renderer.GraphicsPaths.TAN22;b.push(d);b.push(g-e);a._internal.renderer.GraphicsPaths.curveTo(b,d,g+m,d+h,g+H);a._internal.renderer.GraphicsPaths.curveTo(b,
d+l,g,d-k,g);b.push(f+k);b.push(g);a._internal.renderer.GraphicsPaths.curveTo(b,f-l,g,f-h,g+H);a._internal.renderer.GraphicsPaths.curveTo(b,f,g+m,f,g-e);b.push(f);b.push(c+e);a._internal.renderer.GraphicsPaths.curveTo(b,f,c-m,f-h,c-H);a._internal.renderer.GraphicsPaths.curveTo(b,f-l,c,f+k,c);b.push(d-k);b.push(c);a._internal.renderer.GraphicsPaths.curveTo(b,d+l,c,d+h,c-H);a._internal.renderer.GraphicsPaths.curveTo(b,d,c-m,d,c+e);b.push(d);b.push(g-e)};a._internal.renderer.PolyK=function(){};l["openfl._internal.renderer.PolyK"]=
a._internal.renderer.PolyK;a._internal.renderer.PolyK.__name__=!0;a._internal.renderer.PolyK.triangulate=function(b,f){var c=!0,d=f.length>>1;if(3>d)return[];var g;g=[];for(var k=0;k<d;){var e=k++;g.push(e)}for(var k=0,e=d,h=!1;3<e;){var l=g[k%e],H=g[(k+1)%e],m=g[(k+2)%e],q=f[2*l],n=f[2*l+1],t=f[2*H],r=f[2*H+1],x=f[2*m],p=f[2*m+1],h=!1;if(a._internal.renderer.PolyK._convex(q,n,t,r,x,p,c))for(var h=!0,u=0;u<e;){var A=u++,A=g[A];if(A!=l&&A!=H&&A!=m&&a._internal.renderer.PolyK._PointInTriangle(f[2*A],
f[2*A+1],q,n,t,r,x,p)){h=!1;break}}if(h)b.push(l),b.push(H),b.push(m),g.splice((k+1)%e,1),e--,k=0;else if(k++>3*e)if(c){b=[];c=[];for(g=0;g<d;)k=g++,c.push(k);g=c;k=0;e=d;c=!1}else return console.log("Warning: shape too complex to fill"),[]}b.push(g[0]);b.push(g[1]);b.push(g[2]);return b};a._internal.renderer.PolyK._PointInTriangle=function(b,a,c,d,g,k,e,h){e=e-c|0;h=h-d|0;g=g-c|0;k=k-d|0;b=b-c|0;c=a-d|0;a=e*e+h*h;d=e*g+h*k;e=e*b+h*c;h=g*g+k*k;g=g*b+k*c;k=1/(a*h-d*d);h=(h*e-d*g)*k;e=(a*g-d*e)*k;return 0<=
h&&0<=e&&1>h+e};a._internal.renderer.PolyK._convex=function(b,a,c,d,g,k,e){return 0<=(a-d)*(g-c)+(c-b)*(k-d)==e};a._internal.renderer.RenderSession=function(){this.activeTextures=0};l["openfl._internal.renderer.RenderSession"]=a._internal.renderer.RenderSession;a._internal.renderer.RenderSession.__name__=!0;a._internal.renderer.RenderSession.prototype={__class__:a._internal.renderer.RenderSession};a._internal.renderer.cairo={};a._internal.renderer.cairo.CairoBitmap=function(){};l["openfl._internal.renderer.cairo.CairoBitmap"]=
a._internal.renderer.cairo.CairoBitmap;a._internal.renderer.cairo.CairoBitmap.__name__=!0;a._internal.renderer.cairo.CairoBitmap.render=function(a,f){if(a.__renderable&&!(0>=a.__worldAlpha)){var c=f.cairo;if(null!=a.bitmapData&&a.bitmapData.__isValid){null!=a.__mask&&f.maskManager.pushMask(a.__mask);var d=a.__worldTransform,g=a.get_scrollRect();f.roundPixels?(d=d.__toMatrix3(),d.tx=Math.round(d.tx),d.ty=Math.round(d.ty),c.set_matrix(d)):c.set_matrix(d.__toMatrix3());d=a.bitmapData.getSurface();null!=
d&&(d=e.graphics.cairo._CairoPattern.CairoPattern_Impl_.createForSurface(d),e.graphics.cairo._CairoPattern.CairoPattern_Impl_.set_filter(d,a.smoothing?1:3),null!=g?(c.pushGroup(),c.set_source(d),c.newPath(),c.rectangle(g.x,g.y,g.width,g.height),c.fill(),c.popGroupToSource()):c.set_source(d),1==a.__worldAlpha?c.paint():c.paintWithAlpha(a.__worldAlpha));null!=a.__mask&&f.maskManager.popMask()}}};a._internal.renderer.cairo.CairoGraphics=function(){};l["openfl._internal.renderer.cairo.CairoGraphics"]=
a._internal.renderer.cairo.CairoGraphics;a._internal.renderer.cairo.CairoGraphics.__name__=!0;a._internal.renderer.cairo.CairoGraphics.cairo=null;a._internal.renderer.cairo.CairoGraphics.drawRoundRect=function(b,f,c,d,g,k){-1==k&&(k=g);g*=.5;k*=.5;g>c/2&&(g=c/2);k>d/2&&(k=d/2);c=b+c;d=f+d;var e=-g+g*a._internal.renderer.cairo.CairoGraphics.SIN45,h=-g+g*a._internal.renderer.cairo.CairoGraphics.TAN22,l=-k+k*a._internal.renderer.cairo.CairoGraphics.SIN45,H=-k+k*a._internal.renderer.cairo.CairoGraphics.TAN22;
a._internal.renderer.cairo.CairoGraphics.cairo.moveTo(c,d-k);a._internal.renderer.cairo.CairoGraphics.quadraticCurveTo(c,d+H,c+e,d+l);a._internal.renderer.cairo.CairoGraphics.quadraticCurveTo(c+h,d,c-g,d);a._internal.renderer.cairo.CairoGraphics.cairo.lineTo(b+g,d);a._internal.renderer.cairo.CairoGraphics.quadraticCurveTo(b-h,d,b-e,d+l);a._internal.renderer.cairo.CairoGraphics.quadraticCurveTo(b,d+H,b,d-k);a._internal.renderer.cairo.CairoGraphics.cairo.lineTo(b,f+k);a._internal.renderer.cairo.CairoGraphics.quadraticCurveTo(b,
f-H,b-e,f-l);a._internal.renderer.cairo.CairoGraphics.quadraticCurveTo(b-h,f,b+g,f);a._internal.renderer.cairo.CairoGraphics.cairo.lineTo(c-g,f);a._internal.renderer.cairo.CairoGraphics.quadraticCurveTo(c+h,f,c+e,f-l);a._internal.renderer.cairo.CairoGraphics.quadraticCurveTo(c,f-H,c,f+k);a._internal.renderer.cairo.CairoGraphics.cairo.lineTo(c,d-k)};a._internal.renderer.cairo.CairoGraphics.quadraticCurveTo=function(b,f,c,d){var g=null;a._internal.renderer.cairo.CairoGraphics.cairo.get_hasCurrentPoint()?
g=a._internal.renderer.cairo.CairoGraphics.cairo.get_currentPoint():(a._internal.renderer.cairo.CairoGraphics.cairo.moveTo(b,f),g=new e.math.Vector2(b,f));a._internal.renderer.cairo.CairoGraphics.cairo.curveTo(g.x+.6666666666666666*(b-g.x),g.y+.6666666666666666*(f-g.y),c+.6666666666666666*(b-c),d+.6666666666666666*(f-d),c,d)};a._internal.renderer.cairo.CairoGraphics.renderMask=function(b,f){if(0!=b.__commands.get_length()){for(var c=f.cairo,d=new a._internal.renderer.DrawCommandReader(b.__commands),
g=0,k=b.__commands.types;g<k.length;){var e=k[g];++g;switch(e[1]){case 3:d.advance();d.prev=a._internal.renderer.DrawCommandType.CUBIC_CURVE_TO;e=d;c.curveTo(e.buffer.f[e.fPos]-0,e.buffer.f[e.fPos+1]-0,e.buffer.f[e.fPos+3]-0,e.buffer.f[e.fPos+4]-0,e.buffer.f[e.fPos+5]-0,e.buffer.f[e.fPos+6]-0);break;case 4:d.advance();d.prev=a._internal.renderer.DrawCommandType.CURVE_TO;e=d;a._internal.renderer.cairo.CairoGraphics.quadraticCurveTo(e.buffer.f[e.fPos]-0,e.buffer.f[e.fPos+1]-0,e.buffer.f[e.fPos+2]-0,
e.buffer.f[e.fPos+3]-0);break;case 5:d.advance();d.prev=a._internal.renderer.DrawCommandType.DRAW_CIRCLE;e=d;c.arc(e.buffer.f[e.fPos]-0,e.buffer.f[e.fPos+1]-0,e.buffer.f[e.fPos+2],0,2*Math.PI);break;case 6:var h;d.advance();d.prev=a._internal.renderer.DrawCommandType.DRAW_ELLIPSE;h=d;var e=h.buffer.f[h.fPos],l=h.buffer.f[h.fPos+1],H=h.buffer.f[h.fPos+2],m=h.buffer.f[h.fPos+3],e=e-0,l=l-0;h=H/2*.5522848;var q=m/2*.5522848,n=e+H,t=l+m,H=e+H/2,m=l+m/2;c.moveTo(e,m);c.curveTo(e,m-q,H-h,l,H,l);c.curveTo(H+
h,l,n,m-q,n,m);c.curveTo(n,m+q,H+h,t,H,t);c.curveTo(H-h,t,e,m+q,e,m);break;case 8:d.advance();d.prev=a._internal.renderer.DrawCommandType.DRAW_RECT;e=d;c.rectangle(e.buffer.f[e.fPos]-0,e.buffer.f[e.fPos+1]-0,e.buffer.f[e.fPos+2],e.buffer.f[e.fPos+3]);break;case 9:d.advance();d.prev=a._internal.renderer.DrawCommandType.DRAW_ROUND_RECT;e=d;a._internal.renderer.cairo.CairoGraphics.drawRoundRect(e.buffer.f[e.fPos]-0,e.buffer.f[e.fPos+1]-0,e.buffer.f[e.fPos+2],e.buffer.f[e.fPos+3],e.buffer.f[e.fPos+4],
e.buffer.f[e.fPos+5]);break;case 16:d.advance();d.prev=a._internal.renderer.DrawCommandType.LINE_TO;e=d;c.lineTo(e.buffer.f[e.fPos]-0,e.buffer.f[e.fPos+1]-0);break;case 17:d.advance();d.prev=a._internal.renderer.DrawCommandType.MOVE_TO;e=d;c.moveTo(e.buffer.f[e.fPos]-0,e.buffer.f[e.fPos+1]-0);break;default:d.advance(),d.prev=e}}d.destroy()}};a._internal.renderer.cairo.CairoMaskManager=function(b){a._internal.renderer.AbstractMaskManager.call(this,b)};l["openfl._internal.renderer.cairo.CairoMaskManager"]=
a._internal.renderer.cairo.CairoMaskManager;a._internal.renderer.cairo.CairoMaskManager.__name__=!0;a._internal.renderer.cairo.CairoMaskManager.__super__=a._internal.renderer.AbstractMaskManager;a._internal.renderer.cairo.CairoMaskManager.prototype=u(a._internal.renderer.AbstractMaskManager.prototype,{pushMask:function(a){var f=this.renderSession.cairo;f.save();var c=a.__getWorldTransform();f.set_matrix(c.__toMatrix3());f.newPath();a.__renderCairoMask(this.renderSession);f.clip()},pushRect:function(a,
f){var c=this.renderSession.cairo;c.save();c.set_matrix(new e.math.Matrix3(f.a,f.c,f.b,f.d,f.tx,f.ty));c.newPath();c.rectangle(a.x,a.y,a.width,a.height);c.clip()},popMask:function(){this.renderSession.cairo.restore()},popRect:function(){this.renderSession.context.restore()},__class__:a._internal.renderer.cairo.CairoMaskManager});a._internal.renderer.cairo.CairoRenderer=function(b,f,c){a._internal.renderer.AbstractRenderer.call(this,b,f);this.cairo=c;this.renderSession=new a._internal.renderer.RenderSession;
this.renderSession.cairo=c;this.renderSession.roundPixels=!0;this.renderSession.renderer=this;this.renderSession.maskManager=new a._internal.renderer.cairo.CairoMaskManager(this.renderSession)};l["openfl._internal.renderer.cairo.CairoRenderer"]=a._internal.renderer.cairo.CairoRenderer;a._internal.renderer.cairo.CairoRenderer.__name__=!0;a._internal.renderer.cairo.CairoRenderer.__super__=a._internal.renderer.AbstractRenderer;a._internal.renderer.cairo.CairoRenderer.prototype=u(a._internal.renderer.AbstractRenderer.prototype,
{render:function(a){this.cairo.identityMatrix();a.__clearBeforeRender&&(this.cairo.setSourceRGB(a.__colorSplit[0],a.__colorSplit[1],a.__colorSplit[2]),this.cairo.paint());a.__renderCairo(this.renderSession)},__class__:a._internal.renderer.cairo.CairoRenderer});a._internal.renderer.cairo.CairoShape=function(){};l["openfl._internal.renderer.cairo.CairoShape"]=a._internal.renderer.cairo.CairoShape;a._internal.renderer.cairo.CairoShape.__name__=!0;a._internal.renderer.cairo.CairoShape.render=function(a,
f){};a._internal.renderer.cairo.CairoTextField=function(){};l["openfl._internal.renderer.cairo.CairoTextField"]=a._internal.renderer.cairo.CairoTextField;a._internal.renderer.cairo.CairoTextField.__name__=!0;a._internal.renderer.cairo.CairoTextField.render=function(a,f){};a._internal.renderer.canvas={};a._internal.renderer.canvas.CanvasBitmap=function(){};l["openfl._internal.renderer.canvas.CanvasBitmap"]=a._internal.renderer.canvas.CanvasBitmap;a._internal.renderer.canvas.CanvasBitmap.__name__=!0;
a._internal.renderer.canvas.CanvasBitmap.render=function(a,f){if(a.__renderable&&!(0>=a.__worldAlpha)){var c=f.context;if(null!=a.bitmapData&&a.bitmapData.__isValid){null!=a.__mask&&f.maskManager.pushMask(a.__mask);a.bitmapData.__sync();c.globalAlpha=a.__worldAlpha;var d=a.__worldTransform,g=a.get_scrollRect();f.roundPixels?c.setTransform(d.a,d.b,d.c,d.d,d.tx|0,d.ty|0):c.setTransform(d.a,d.b,d.c,d.d,d.tx,d.ty);a.smoothing||(c.mozImageSmoothingEnabled=!1,c.msImageSmoothingEnabled=!1,c.imageSmoothingEnabled=
!1);null==g?c.drawImage(a.bitmapData.image.get_src(),0,0):c.drawImage(a.bitmapData.image.get_src(),g.x,g.y,g.width,g.height,g.x,g.y,g.width,g.height);a.smoothing||(c.mozImageSmoothingEnabled=!0,c.msImageSmoothingEnabled=!0,c.imageSmoothingEnabled=!0);null!=a.__mask&&f.maskManager.popMask()}}};a._internal.renderer.canvas.CanvasGraphics=function(){};l["openfl._internal.renderer.canvas.CanvasGraphics"]=a._internal.renderer.canvas.CanvasGraphics;a._internal.renderer.canvas.CanvasGraphics.__name__=!0;
a._internal.renderer.canvas.CanvasGraphics.bitmapFill=null;a._internal.renderer.canvas.CanvasGraphics.bitmapRepeat=null;a._internal.renderer.canvas.CanvasGraphics.bounds=null;a._internal.renderer.canvas.CanvasGraphics.graphics=null;a._internal.renderer.canvas.CanvasGraphics.hasFill=null;a._internal.renderer.canvas.CanvasGraphics.hasStroke=null;a._internal.renderer.canvas.CanvasGraphics.hitTesting=null;a._internal.renderer.canvas.CanvasGraphics.inversePendingMatrix=null;a._internal.renderer.canvas.CanvasGraphics.pendingMatrix=
null;a._internal.renderer.canvas.CanvasGraphics.context=null;a._internal.renderer.canvas.CanvasGraphics.closePath=function(){null!=a._internal.renderer.canvas.CanvasGraphics.context.strokeStyle&&(a._internal.renderer.canvas.CanvasGraphics.context.closePath(),a._internal.renderer.canvas.CanvasGraphics.context.stroke(),a._internal.renderer.canvas.CanvasGraphics.context.beginPath())};a._internal.renderer.canvas.CanvasGraphics.createBitmapFill=function(b,f){b.__sync();return a._internal.renderer.canvas.CanvasGraphics.context.createPattern(b.image.get_src(),
f?"repeat":"no-repeat")};a._internal.renderer.canvas.CanvasGraphics.createGradientPattern=function(b,f,c,d,g,k,e,h){k=null;switch(b[1]){case 0:null==g&&(g=new a.geom.Matrix);k=g.transformPoint(new a.geom.Point(1638.4,0));k=a._internal.renderer.canvas.CanvasGraphics.context.createRadialGradient(g.tx,g.ty,0,g.tx,g.ty,(k.x-g.tx)/2);break;case 1:g=null!=g?g:new a.geom.Matrix,k=g.transformPoint(new a.geom.Point(-819.2,0)),g=g.transformPoint(new a.geom.Point(819.2,0)),k=a._internal.renderer.canvas.CanvasGraphics.context.createLinearGradient(k.x,
k.y,g.x,g.y)}g=0;for(b=f.length;g<b;){var l=g++,m=f[l];e=c[l];h=(m&16711680)>>>16;var q=(m&65280)>>>8,m=m&255,l=d[l]/255;0>l&&(l=0);1<l&&(l=1);k.addColorStop(l,"rgba("+h+", "+q+", "+m+", "+e+")")}return k};a._internal.renderer.canvas.CanvasGraphics.createTempPatternCanvas=function(b,f,c,d){var g=window.document.createElement("canvas"),k=g.getContext("2d");g.width=c;g.height=d;k.fillStyle=k.createPattern(b.image.get_src(),f?"repeat":"no-repeat");k.beginPath();k.moveTo(0,0);k.lineTo(0,d);k.lineTo(c,
d);k.lineTo(c,0);k.lineTo(0,0);k.closePath();a._internal.renderer.canvas.CanvasGraphics.hitTesting||k.fill();return g};a._internal.renderer.canvas.CanvasGraphics.drawRoundRect=function(b,f,c,d,g,k){-1==k&&(k=g);g*=.5;k*=.5;g>c/2&&(g=c/2);k>d/2&&(k=d/2);c=b+c;d=f+d;var e=-g+g*a._internal.renderer.canvas.CanvasGraphics.SIN45,h=-g+g*a._internal.renderer.canvas.CanvasGraphics.TAN22,l=-k+k*a._internal.renderer.canvas.CanvasGraphics.SIN45,m=-k+k*a._internal.renderer.canvas.CanvasGraphics.TAN22;a._internal.renderer.canvas.CanvasGraphics.context.moveTo(c,
d-k);a._internal.renderer.canvas.CanvasGraphics.context.quadraticCurveTo(c,d+m,c+e,d+l);a._internal.renderer.canvas.CanvasGraphics.context.quadraticCurveTo(c+h,d,c-g,d);a._internal.renderer.canvas.CanvasGraphics.context.lineTo(b+g,d);a._internal.renderer.canvas.CanvasGraphics.context.quadraticCurveTo(b-h,d,b-e,d+l);a._internal.renderer.canvas.CanvasGraphics.context.quadraticCurveTo(b,d+m,b,d-k);a._internal.renderer.canvas.CanvasGraphics.context.lineTo(b,f+k);a._internal.renderer.canvas.CanvasGraphics.context.quadraticCurveTo(b,
f-m,b-e,f-l);a._internal.renderer.canvas.CanvasGraphics.context.quadraticCurveTo(b-h,f,b+g,f);a._internal.renderer.canvas.CanvasGraphics.context.lineTo(c-g,f);a._internal.renderer.canvas.CanvasGraphics.context.quadraticCurveTo(c+h,f,c+e,f-l);a._internal.renderer.canvas.CanvasGraphics.context.quadraticCurveTo(c,f-m,c,f+k);a._internal.renderer.canvas.CanvasGraphics.context.lineTo(c,d-k)};a._internal.renderer.canvas.CanvasGraphics.endFill=function(){a._internal.renderer.canvas.CanvasGraphics.context.beginPath();
a._internal.renderer.canvas.CanvasGraphics.playCommands(a._internal.renderer.canvas.CanvasGraphics.fillCommands,!1);a._internal.renderer.canvas.CanvasGraphics.fillCommands.clear()};a._internal.renderer.canvas.CanvasGraphics.endStroke=function(){a._internal.renderer.canvas.CanvasGraphics.context.beginPath();a._internal.renderer.canvas.CanvasGraphics.playCommands(a._internal.renderer.canvas.CanvasGraphics.strokeCommands,!0);a._internal.renderer.canvas.CanvasGraphics.context.closePath();a._internal.renderer.canvas.CanvasGraphics.strokeCommands.clear()};
a._internal.renderer.canvas.CanvasGraphics.hitTest=function(b,f,c){if(!(0==b.__commands.get_length()||null==a._internal.renderer.canvas.CanvasGraphics.bounds||0>=a._internal.renderer.canvas.CanvasGraphics.bounds.width||0>=a._internal.renderer.canvas.CanvasGraphics.bounds.height)){a._internal.renderer.canvas.CanvasGraphics.hitTesting=!0;f-=a._internal.renderer.canvas.CanvasGraphics.bounds.x;c-=a._internal.renderer.canvas.CanvasGraphics.bounds.y;null==b.__canvas&&(b.__canvas=window.document.createElement("canvas"),
b.__context=b.__canvas.getContext("2d"));a._internal.renderer.canvas.CanvasGraphics.context=b.__context;a._internal.renderer.canvas.CanvasGraphics.fillCommands.clear();a._internal.renderer.canvas.CanvasGraphics.strokeCommands.clear();a._internal.renderer.canvas.CanvasGraphics.hasFill=!1;a._internal.renderer.canvas.CanvasGraphics.hasStroke=!1;a._internal.renderer.canvas.CanvasGraphics.bitmapFill=null;a._internal.renderer.canvas.CanvasGraphics.bitmapRepeat=!1;a._internal.renderer.canvas.CanvasGraphics.context.beginPath();
var d=new a._internal.renderer.DrawCommandReader(b.__commands),g=0;for(b=b.__commands.types;g<b.length;){var k=b[g];++g;switch(k[1]){case 3:d.advance();d.prev=a._internal.renderer.DrawCommandType.CUBIC_CURVE_TO;k=d;a._internal.renderer.canvas.CanvasGraphics.fillCommands.cubicCurveTo(k.buffer.f[k.fPos],k.buffer.f[k.fPos+1],k.buffer.f[k.fPos+3],k.buffer.f[k.fPos+4],k.buffer.f[k.fPos+5],k.buffer.f[k.fPos+6]);a._internal.renderer.canvas.CanvasGraphics.strokeCommands.cubicCurveTo(k.buffer.f[k.fPos],k.buffer.f[k.fPos+
1],k.buffer.f[k.fPos+3],k.buffer.f[k.fPos+4],k.buffer.f[k.fPos+5],k.buffer.f[k.fPos+6]);break;case 4:d.advance();d.prev=a._internal.renderer.DrawCommandType.CURVE_TO;k=d;a._internal.renderer.canvas.CanvasGraphics.fillCommands.curveTo(k.buffer.f[k.fPos],k.buffer.f[k.fPos+1],k.buffer.f[k.fPos+2],k.buffer.f[k.fPos+3]);a._internal.renderer.canvas.CanvasGraphics.strokeCommands.curveTo(k.buffer.f[k.fPos],k.buffer.f[k.fPos+1],k.buffer.f[k.fPos+2],k.buffer.f[k.fPos+3]);break;case 16:d.advance();d.prev=a._internal.renderer.DrawCommandType.LINE_TO;
k=d;a._internal.renderer.canvas.CanvasGraphics.fillCommands.lineTo(k.buffer.f[k.fPos],k.buffer.f[k.fPos+1]);a._internal.renderer.canvas.CanvasGraphics.strokeCommands.lineTo(k.buffer.f[k.fPos],k.buffer.f[k.fPos+1]);break;case 17:d.advance();d.prev=a._internal.renderer.DrawCommandType.MOVE_TO;k=d;a._internal.renderer.canvas.CanvasGraphics.fillCommands.moveTo(k.buffer.f[k.fPos],k.buffer.f[k.fPos+1]);a._internal.renderer.canvas.CanvasGraphics.strokeCommands.moveTo(k.buffer.f[k.fPos],k.buffer.f[k.fPos+
1]);break;case 14:d.advance();d.prev=a._internal.renderer.DrawCommandType.LINE_GRADIENT_STYLE;k=d;a._internal.renderer.canvas.CanvasGraphics.strokeCommands.lineGradientStyle(k.buffer.o[k.oPos],k.buffer.ii[k.iiPos],k.buffer.ff[k.ffPos],k.buffer.ii[k.iiPos+1],k.buffer.o[k.oPos+1],k.buffer.o[k.oPos+2],k.buffer.o[k.oPos+3],k.buffer.o[k.oPos+4]);break;case 13:d.advance();d.prev=a._internal.renderer.Draw