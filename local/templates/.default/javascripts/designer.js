(function(J){var g;function w(b,a){function c(){}c.prototype=b;var d=new c,f;for(f in a)d[f]=a[f];a.toString!==Object.prototype.toString&&(d.toString=a.toString);return d}function ua(b){return b instanceof Array?function(){return z.iter(b)}:"function"==typeof b.iterator?t(b,b.iterator):b.iterator}function t(b,a){if(null==a)return null;null==a.__id__&&(a.__id__=Ca++);var c;null==b.hx__closures__?b.hx__closures__={}:c=b.hx__closures__[a.__id__];null==c&&(c=function(){return c.method.apply(c.scope,arguments)},
c.scope=b,c.method=a,b.hx__closures__[a.__id__]=c);return c}J.openfl=J.openfl||{};J.lime=J.lime||{};J.ru=J.ru||{};J.ru.octasoft=J.ru.octasoft||{};J.ru.octasoft.oem=J.ru.octasoft.oem||{};J.ru.octasoft.oem.designer=J.ru.octasoft.oem.designer||{};var l={},m=function(){return x.Boot.__string_rec(this,"")},D=function(){};l.ApplicationMain=D;D.__name__=!0;D.config=null;D.preloader=null;D.create=function(){var b=new a.display.Application;b.create(D.config);var h=new W;D.preloader=new a.display.Preloader(h);
b.setPreloader(D.preloader);D.preloader.onComplete.add(D.init);D.preloader.create(D.config);var h=[],c=[];h.push("Gotham Pro Bold");c.push("FONT");h.push("Gotham Pro Regular");c.push("FONT");h.push("assets/images/border1.png");c.push("IMAGE");h.push("assets/images/border2.png");c.push("IMAGE");h.push("assets/images/decor.png");c.push("IMAGE");h.push("assets/images/delete.png");c.push("IMAGE");h.push("assets/images/popup_left.png");c.push("IMAGE");h.push("assets/images/popup_right.png");c.push("IMAGE");
h.push("assets/images/popup_top.png");c.push("IMAGE");h.push("assets/images/redo.png");c.push("IMAGE");h.push("assets/images/rotate.png");c.push("IMAGE");h.push("assets/images/shelf_bg1.png");c.push("IMAGE");h.push("assets/images/undo.png");c.push("IMAGE");h.push("assets/images/zoomIn.png");c.push("IMAGE");h.push("assets/images/zoomOut.png");c.push("IMAGE");if(null!=D.config.assetsPrefix)for(var d=0,f=h.length;d<f;){var k=d++;"FONT"!=c[k]&&(h[k]=D.config.assetsPrefix+h[k])}D.preloader.load(h,c);b.exec()};
D.init=function(){D.preloader=null;D.start()};D.main=function(){D.config={build:"1771",company:"Octasoft",file:"designer",fps:60,name:"Editor",orientation:"",packageName:"ru.octasoft.oem.designer",version:"1.0.0",windows:[{antialiasing:0,background:16777215,borderless:!1,depthBuffer:!1,display:0,fullscreen:!1,hardware:!0,height:0,parameters:"{}",resizable:!0,stencilBuffer:!0,title:"Editor",vsync:!1,width:0,x:null,y:null}]}};D.start=function(){for(var b=!1,h=K.resolveClass("ru.octasoft.oem.designer.Main"),
c=0,d=K.getClassFields(h);c<d.length;){var f=d[c];++c;if("main"==f){b=!0;break}}e.Assets.initialize();b?v.callMethod(h,v.field(h,"main"),[]):K.createInstance(da,[]);a.Lib.current.stage.window.__fullscreen&&a.Lib.current.stage.dispatchEvent(new a.events.FullScreenEvent(a.events.FullScreenEvent.FULL_SCREEN,!1,!1,!0,!0));a.Lib.current.stage.dispatchEvent(new a.events.Event(a.events.Event.RESIZE,!1,!1))};var a={events:{}};a.events.IEventDispatcher=function(){};l["openfl.events.IEventDispatcher"]=a.events.IEventDispatcher;
a.events.IEventDispatcher.__name__=!0;a.events.EventDispatcher=function(b){null!=b&&(this.__targetDispatcher=b)};l["openfl.events.EventDispatcher"]=a.events.EventDispatcher;a.events.EventDispatcher.__name__=!0;a.events.EventDispatcher.__interfaces__=[a.events.IEventDispatcher];a.events.EventDispatcher.__sortByPriority=function(b,a){return b.priority==a.priority?0:b.priority>a.priority?-1:1};a.events.EventDispatcher.prototype={addEventListener:function(b,h,c,d,f){null==d&&(d=0);null==c&&(c=!1);null==
this.__eventMap&&(this.__dispatching=new q.ds.StringMap,this.__eventMap=new q.ds.StringMap,this.__newEventMap=new q.ds.StringMap);if(this.__eventMap.exists(b)){1==this.__dispatching.get(b)?this.__newEventMap.exists(b)?f=this.__newEventMap.get(b):(f=this.__eventMap.get(b).slice(),this.__newEventMap.set(b,f)):f=this.__eventMap.get(b);b=0;for(var k=f.length;b<k;){var e=b++;if(v.compareMethods(f[e].callback,h))return}f.push(new a.events._EventDispatcher.Listener(h,c,d));f.sort(a.events.EventDispatcher.__sortByPriority)}else f=
[],f.push(new a.events._EventDispatcher.Listener(h,c,d)),this.__eventMap.set(b,f)},dispatchEvent:function(b){b.target=null!=this.__targetDispatcher?this.__targetDispatcher:this;return this.__dispatchEvent(b)},hasEventListener:function(b){return null==this.__eventMap?!1:1==this.__dispatching.get(b)&&this.__newEventMap.exists(b)?0<this.__newEventMap.get(b).length:this.__eventMap.exists(b)},removeEventListener:function(b,a,c){null==c&&(c=!1);if(null!=this.__eventMap){var d=this.__eventMap.get(b);if(null!=
d){var f=1==this.__dispatching.get(b);f&&(this.__newEventMap.exists(b)?d=this.__newEventMap.get(b):(d=this.__eventMap.get(b).slice(),this.__newEventMap.set(b,d)));for(var k=0,e=d.length;k<e;){var g=k++;if(d[g].match(a,c)){d.splice(g,1);break}}f||(0==d.length&&this.__eventMap.remove(b),this.__eventMap.iterator().hasNext()||(this.__newEventMap=this.__eventMap=null))}}},__dispatchEvent:function(b){if(null==this.__eventMap||null==b)return!1;var h=b.type,c;if(1==this.__dispatching.get(h)){c=this.__newEventMap.get(h);
if(null==c)return!1;c=c.slice()}else{c=this.__eventMap.get(h);if(null==c)return!1;this.__dispatching.set(h,!0)}null==b.target&&(b.target=null!=this.__targetDispatcher?this.__targetDispatcher:this);b.currentTarget=this;for(var d=b.eventPhase==a.events.EventPhase.CAPTURING_PHASE,f=0,k;f<c.length;){k=c[f];if(k.useCapture==d&&(k.callback(b),b.__isCancelledNow))break;k==c[f]&&f++}null!=this.__newEventMap&&this.__newEventMap.exists(h)&&(c=this.__newEventMap.get(h),0<c.length?this.__eventMap.set(h,c):this.__eventMap.remove(h),
this.__eventMap.iterator().hasNext()?this.__newEventMap.remove(h):this.__newEventMap=this.__eventMap=null);this.__dispatching.set(b.type,!1);return!0},__class__:a.events.EventDispatcher};a.display={};a.display.IBitmapDrawable=function(){};l["openfl.display.IBitmapDrawable"]=a.display.IBitmapDrawable;a.display.IBitmapDrawable.__name__=!0;a.display.IBitmapDrawable.prototype={__class__:a.display.IBitmapDrawable};a.display.DisplayObject=function(){this.__cacheAsBitmapSmooth=!0;this.__maskCached=this.__cacheAsBitmap=
!1;a.events.EventDispatcher.call(this);this.__alpha=1;this.__transform=new a.geom.Matrix;this.__visible=!0;this.__rotationSine=this.__rotation=0;this.__rotationCosine=1;this.__renderTransform=new a.geom.Matrix;this.__offset=new a.geom.Point;this.__worldOffset=new a.geom.Point;this.__worldAlpha=1;this.__worldTransform=new a.geom.Matrix;this.__worldColorTransform=new a.geom.ColorTransform;this.set_name("instance"+ ++a.display.DisplayObject.__instanceCount)};l["openfl.display.DisplayObject"]=a.display.DisplayObject;
a.display.DisplayObject.__name__=!0;a.display.DisplayObject.__interfaces__=[a.display.IBitmapDrawable];a.display.DisplayObject.__super__=a.events.EventDispatcher;a.display.DisplayObject.prototype=w(a.events.EventDispatcher.prototype,{getBounds:function(b){var h;null!=b?(h=this.__getWorldTransform().clone(),h.concat(b.__getWorldTransform().clone().invert())):(h=a.geom.Matrix.__temp,h.identity());b=new a.geom.Rectangle;this.__getBounds(b,h);return b},globalToLocal:function(b){b=b.clone();this.__getWorldTransform().__transformInversePoint(b);
return b},localToGlobal:function(b){return this.__getWorldTransform().transformPoint(b)},__broadcast:function(b,h){if(null!=this.__eventMap&&this.hasEventListener(b.type)){var c=a.events.EventDispatcher.prototype.__dispatchEvent.call(this,b);return b.__isCancelled?!0:c}return!1},__dispatchEvent:function(b){var h=a.events.EventDispatcher.prototype.__dispatchEvent.call(this,b);if(b.__isCancelled)return!0;b.bubbles&&null!=this.parent&&this.parent!=this&&(b.eventPhase=a.events.EventPhase.BUBBLING_PHASE,
null==b.target&&(b.target=this),this.parent.__dispatchEvent(b));return h},__enterFrame:function(b){},__getBounds:function(b,a){null!=this.__graphics&&this.__graphics.__getBounds(b,a)},__getRenderBounds:function(b,h){if(null==this.__scrollRect)this.__getBounds(b,h);else{var c=a.geom.Rectangle.__temp;c.copyFrom(this.__scrollRect);c.__transform(c,h);b.__expand(h.tx,h.ty,c.width,c.height)}},__getCursor:function(){return null},__getInteractive:function(b){return!1},__getWorldTransform:function(){if(this.__transformDirty||
0<a.display.DisplayObject.__worldTransformDirty){var b=[],h=this,c=this.__transformDirty;if(null==this.parent)c&&this.__update(!0,!1);else for(;null!=h.parent;)b.push(h),h=h.parent,h.__transformDirty&&(c=!0);if(c)for(h=b.length;0<=--h;)b[h].__update(!0,!1)}return this.__worldTransform},__hitTest:function(b,a,c,d,f){if(null!=this.__graphics){if(!this.get_visible()||this.__isMask||null!=this.get_mask()&&!this.get_mask().__hitTestMask(b,a))return!1;if(this.__graphics.__hitTest(b,a,c,this.__getWorldTransform()))return null==
d||f||d.push(this),!0}return!1},__hitTestMask:function(b,a){return null!=this.__graphics&&this.__graphics.__hitTest(b,a,!0,this.__getWorldTransform())?!0:!1},__renderCairo:function(b){null!=this.__graphics&&a._internal.renderer.cairo.CairoShape.render(this,b)},__renderCairoMask:function(b){null!=this.__graphics&&a._internal.renderer.cairo.CairoGraphics.renderMask(this.__graphics,b)},__renderCanvas:function(b){null!=this.__graphics&&a._internal.renderer.canvas.CanvasShape.render(this,b)},__renderCanvasMask:function(b){null!=
this.__graphics&&a._internal.renderer.canvas.CanvasGraphics.renderMask(this.__graphics,b)},__renderDOM:function(b){null!=this.__graphics&&a._internal.renderer.dom.DOMShape.render(this,b)},__renderGL:function(b){!this.__renderable||0>=this.__worldAlpha||(this.__cacheAsBitmap?this.__cacheGL(b):(null!=this.__scrollRect&&b.maskManager.pushRect(this.__scrollRect,this.__renderTransform),null!=this.__mask&&null!=this.__maskGraphics&&0<this.__maskGraphics.__commands.get_length()&&b.maskManager.pushMask(this),
null!=this.__graphics&&(this.__graphics.__hardware?a._internal.renderer.opengl.utils.GraphicsRenderer.render(this,b):(a._internal.renderer.canvas.CanvasGraphics.render(this.__graphics,b),a._internal.renderer.opengl.GLRenderer.renderBitmap(this,b))),null!=this.__mask&&null!=this.__maskGraphics&&0<this.__maskGraphics.__commands.get_length()&&b.maskManager.popMask(),null!=this.__scrollRect&&b.maskManager.popRect()))},__cacheGL:function(b){var h=null!=this.__cacheAsBitmapMatrix,c=this.__cachedBitmapBounds.x,
d=this.__cachedBitmapBounds.y,f=this.__cachedBitmapBounds.width,k=this.__cachedBitmapBounds.height;null==this.__cacheGLMatrix&&(this.__cacheGLMatrix=new a.geom.Matrix);h?(h=a.geom.Rectangle.__temp,this.__cachedBitmapBounds.__transform(h,this.__cacheAsBitmapMatrix),c=h.x,d=h.y,f=h.width,k=h.height,this.__cacheGLMatrix=this.__cacheAsBitmapMatrix.clone()):this.__cacheGLMatrix.identity();if(0>=f&&0>=k)throw"Error creating a cached bitmap. The texture size is "+f+"x"+k;if(this.__updateCachedBitmap||this.__updateFilters)null!=
this.__cachedFilterBounds&&(f+=Math.abs(this.__cachedFilterBounds.x)+Math.abs(this.__cachedFilterBounds.width),k+=Math.abs(this.__cachedFilterBounds.y)+Math.abs(this.__cachedFilterBounds.height)),null==this.__cachedBitmap&&(this.__cachedBitmap=a.display.BitmapData.__asRenderTexture()),this.__cachedBitmap.__resize(Math.ceil(f),Math.ceil(k)),f=this.__cacheGLMatrix.clone(),f.translate(-c,-d),h=this.__shader,this.__shader=null,this.__cachedBitmap.__drawGL(b,this,f,null,null,null,!0,!1,!0),this.__shader=
h,this.__updateCachedBitmap=!1;this.__updateFilters&&(a.filters.BitmapFilter.__applyFilters(this.__filters,b,this.__cachedBitmap,this.__cachedBitmap,null,null),this.__updateFilters=!1);this.__cacheGLMatrix.invert();this.__cacheGLMatrix.__translateTransformed(c,d);this.__cacheGLMatrix.concat(this.__renderTransform);this.__cacheGLMatrix.translate(this.__offset.x,this.__offset.y);b.spriteBatch.renderBitmapData(this.__cachedBitmap,this.__cacheAsBitmapSmooth,this.__cacheGLMatrix,this.__worldColorTransform,
this.__worldAlpha,this.blendMode,this.__shader,a.display.PixelSnapping.ALWAYS)},__setStageReference:function(b){this.stage!=b&&(null!=this.stage&&(this.stage.get_focus()==this&&this.stage.set_focus(null),this.dispatchEvent(new a.events.Event(a.events.Event.REMOVED_FROM_STAGE,!1,!1))),this.stage=b,null!=b&&this.dispatchEvent(new a.events.Event(a.events.Event.ADDED_TO_STAGE,!1,!1)))},__setRenderDirty:function(){this.__renderDirty||(this.__updateCachedBitmap=!0,this.__updateFilters=null!=this.get_filters()&&
0<this.get_filters().length,this.__renderDirty=!0,a.display.DisplayObject.__worldRenderDirty++)},__updateTransforms:function(b){var h=null!=b;b=h?new a.geom.Matrix(b.a,b.b,b.c,b.d,b.tx,b.ty):this.__transform;h||null==this.parent?(this.__worldTransform.copyFrom(b),this.__worldOffset.setTo(0,0)):(h=this.parent.__worldTransform,this.__worldTransform.a=b.a*h.a+b.b*h.c,this.__worldTransform.b=b.a*h.b+b.b*h.d,this.__worldTransform.c=b.c*h.a+b.d*h.c,this.__worldTransform.d=b.c*h.b+b.d*h.d,this.__worldTransform.tx=
b.tx*h.a+b.ty*h.c+h.tx,this.__worldTransform.ty=b.tx*h.b+b.ty*h.d+h.ty,this.__worldOffset.copyFrom(this.parent.__worldOffset));null!=this.__scrollRect?(this.__offset=this.__worldTransform.deltaTransformPoint(this.__scrollRect.get_topLeft()),this.__worldOffset.offset(this.__offset.x,this.__offset.y)):this.__offset.setTo(0,0);this.__renderTransform.copyFrom(this.__worldTransform);this.__renderTransform.translate(-this.__worldOffset.x,-this.__worldOffset.y)},__update:function(b,h,c){this.__renderable=
this.get_visible()&&0!=this.get_scaleX()&&0!=this.get_scaleY()&&!this.__isMask;this.__updateTransforms();null!=this.parent&&this.__isMask&&(this.__maskCached=!1);h&&this.__transformDirty&&(this.__transformDirty=!1,a.display.DisplayObject.__worldTransformDirty--);b||null==this.__mask||this.__mask.__maskCached||(null==this.__maskGraphics&&(this.__maskGraphics=new a.display.Graphics),this.__maskGraphics.clear(),this.__mask.__update(!0,!0,this.__maskGraphics),this.__mask.__maskCached=!0);null!=c&&this.__updateMask(c);
!b&&this.__cacheAsBitmap&&(this.__updateCachedBitmap||this.__updateFilters)&&(null==this.__cachedBitmapBounds&&(this.__cachedBitmapBounds=new a.geom.Rectangle),null!=this.cacheAsBitmapBounds?this.__cachedBitmapBounds.copyFrom(this.cacheAsBitmapBounds):(this.__cachedBitmapBounds.setEmpty(),this.__getRenderBounds(this.__cachedBitmapBounds,a.geom.Matrix.__identity)),null!=this.__filters&&(null==this.__cachedFilterBounds&&(this.__cachedFilterBounds=new a.geom.Rectangle),this.__cachedFilterBounds.setEmpty(),
a.filters.BitmapFilter.__expandBounds(this.__filters,this.__cachedFilterBounds,a.geom.Matrix.__identity),this.__cachedBitmapBounds.x+=this.__cachedFilterBounds.x,this.__cachedBitmapBounds.y+=this.__cachedFilterBounds.y));if(!b){this.__worldColorTransform.__equals(this.get_transform().get_colorTransform())||(this.__worldColorTransform=this.get_transform().get_colorTransform().__clone());if(null!=this.parent){this.__worldAlpha=this.get_alpha()*this.parent.__worldAlpha;this.__worldColorTransform.__combine(this.parent.__worldColorTransform);
if(null==this.blendMode||this.blendMode==a.display.BlendMode.NORMAL)this.__blendMode=this.parent.__blendMode;null==this.shader&&(this.__shader=this.parent.__shader)}else this.__worldAlpha=this.get_alpha();h&&this.__renderDirty&&(this.__renderDirty=!1)}},__updateChildren:function(b){if((this.__renderable=this.get_visible()&&0!=this.get_scaleX()&&0!=this.get_scaleY()&&!this.__isMask)||this.__isMask)this.__worldAlpha=this.get_alpha(),this.__transformDirty&&(this.__transformDirty=!1,a.display.DisplayObject.__worldTransformDirty--)},
__updateMask:function(b){null!=this.__graphics&&(b.__commands.overrideMatrix(this.__worldTransform),b.__commands.append(this.__graphics.__commands),b.set___dirty(!0),b.__visible=!0,null==b.__bounds&&(b.__bounds=new a.geom.Rectangle),this.__graphics.__getBounds(b.__bounds,a.geom.Matrix.__identity))},get_alpha:function(){return this.__alpha},get_cacheAsBitmap:function(){return this.__cacheAsBitmap},get_filters:function(){return null==this.__filters?[]:this.__filters.slice()},set_filters:function(b){null!=
b&&0<b.length?(this.__filters=b,this.__updateFilters=this.__cacheAsBitmap=this.__forceCacheAsBitmap=!0):(this.__filters=null,this.__updateFilters=this.__cacheAsBitmap=this.__forceCacheAsBitmap=!1);this.__renderDirty||(this.__updateCachedBitmap=!0,this.__updateFilters=null!=this.get_filters()&&0<this.get_filters().length,this.__renderDirty=!0,a.display.DisplayObject.__worldRenderDirty++);return b},get_height:function(){var b=new a.geom.Rectangle;this.__getBounds(b,this.__transform);return b.height},
set_height:function(b){var h=new a.geom.Rectangle,c=a.geom.Matrix.__temp;c.identity();this.__getBounds(h,c);b!=h.height?this.set_scaleY(b/h.height):this.set_scaleY(1);return b},get_mask:function(){return this.__mask},get_mouseX:function(){var b;b=null!=this.stage?this.stage.__mouseX:a.Lib.current.stage.__mouseX;var h;h=null!=this.stage?this.stage.__mouseY:a.Lib.current.stage.__mouseY;return this.__getWorldTransform().__transformInverseX(b,h)},get_mouseY:function(){var b;b=null!=this.stage?this.stage.__mouseX:
a.Lib.current.stage.__mouseX;var h;h=null!=this.stage?this.stage.__mouseY:a.Lib.current.stage.__mouseY;return this.__getWorldTransform().__transformInverseY(b,h)},get_name:function(){return this.__name},set_name:function(b){return this.__name=b},get_rotation:function(){return this.__rotation},set_rotation:function(b){if(b!=this.__rotation){this.__rotation=b;var h=Math.PI/180*this.__rotation;this.__rotationSine=Math.sin(h);this.__rotationCosine=Math.cos(h);var h=this.get_scaleX(),c=this.get_scaleY();
this.__transform.a=this.__rotationCosine*h;this.__transform.b=this.__rotationSine*h;this.__transform.c=-this.__rotationSine*c;this.__transform.d=this.__rotationCosine*c;this.__transformDirty||(this.__transformDirty=!0,a.display.DisplayObject.__worldTransformDirty++)}return b},get_scaleX:function(){return 0==this.__transform.b?this.__transform.a:Math.sqrt(this.__transform.a*this.__transform.a+this.__transform.b*this.__transform.b)},set_scaleX:function(b){if(0==this.__transform.c)b==this.__transform.a||
this.__transformDirty||(this.__transformDirty=!0,a.display.DisplayObject.__worldTransformDirty++),this.__transform.a=b;else{var h=this.__rotationCosine*b,c=this.__rotationSine*b;this.__transform.a==h&&this.__transform.b==c||this.__transformDirty||(this.__transformDirty=!0,a.display.DisplayObject.__worldTransformDirty++);this.__transform.a=h;this.__transform.b=c}return b},get_scaleY:function(){return 0==this.__transform.c?this.__transform.d:Math.sqrt(this.__transform.c*this.__transform.c+this.__transform.d*
this.__transform.d)},set_scaleY:function(b){if(0==this.__transform.c)b==this.__transform.d||this.__transformDirty||(this.__transformDirty=!0,a.display.DisplayObject.__worldTransformDirty++),this.__transform.d=b;else{var h=-this.__rotationSine*b,c=this.__rotationCosine*b;this.__transform.d==c&&this.__transform.c==h||this.__transformDirty||(this.__transformDirty=!0,a.display.DisplayObject.__worldTransformDirty++);this.__transform.c=h;this.__transform.d=c}return b},get_scrollRect:function(){return null==
this.__scrollRect?null:this.__scrollRect.clone()},set_scrollRect:function(b){b==this.__scrollRect||this.__transformDirty||(this.__transformDirty=!0,a.display.DisplayObject.__worldTransformDirty++);return this.__scrollRect=b},get_transform:function(){null==this.__objectTransform&&(this.__objectTransform=new a.geom.Transform(this));return this.__objectTransform},get_visible:function(){return this.__visible},set_visible:function(b){b==this.__visible||this.__renderDirty||(this.__updateCachedBitmap=!0,
this.__updateFilters=null!=this.get_filters()&&0<this.get_filters().length,this.__renderDirty=!0,a.display.DisplayObject.__worldRenderDirty++);return this.__visible=b},get_width:function(){var b=new a.geom.Rectangle;this.__getBounds(b,this.__transform);return b.width},get_x:function(){return this.__transform.tx},set_x:function(b){b==this.__transform.tx||this.__transformDirty||(this.__transformDirty=!0,a.display.DisplayObject.__worldTransformDirty++);return this.__transform.tx=b},get_y:function(){return this.__transform.ty},
set_y:function(b){b==this.__transform.ty||this.__transformDirty||(this.__transformDirty=!0,a.display.DisplayObject.__worldTransformDirty++);return this.__transform.ty=b},__class__:a.display.DisplayObject,__properties__:{set_y:"set_y",get_y:"get_y",set_x:"set_x",get_x:"get_x",get_width:"get_width",set_visible:"set_visible",get_visible:"get_visible",get_transform:"get_transform",set_scrollRect:"set_scrollRect",get_scrollRect:"get_scrollRect",set_scaleY:"set_scaleY",get_scaleY:"get_scaleY",set_scaleX:"set_scaleX",
get_scaleX:"get_scaleX",set_rotation:"set_rotation",get_rotation:"get_rotation",set_name:"set_name",get_name:"get_name",get_mouseY:"get_mouseY",get_mouseX:"get_mouseX",get_mask:"get_mask",set_height:"set_height",get_height:"get_height",set_filters:"set_filters",get_filters:"get_filters",get_cacheAsBitmap:"get_cacheAsBitmap",get_alpha:"get_alpha"}});a.display.InteractiveObject=function(){a.display.DisplayObject.call(this);this.doubleClickEnabled=!1;this.mouseEnabled=!0;this.__tabEnabled=this.needsSoftKeyboard=
!1;this.tabIndex=-1};l["openfl.display.InteractiveObject"]=a.display.InteractiveObject;a.display.InteractiveObject.__name__=!0;a.display.InteractiveObject.__super__=a.display.DisplayObject;a.display.InteractiveObject.prototype=w(a.display.DisplayObject.prototype,{__getInteractive:function(b){null!=b&&(b.push(this),null!=this.parent&&this.parent.__getInteractive(b));return!0},__hitTest:function(b,h,c,d,f){return!this.get_visible()||this.__isMask||f&&!this.mouseEnabled?!1:a.display.DisplayObject.prototype.__hitTest.call(this,
b,h,c,d,f)},get_tabEnabled:function(){return this.__tabEnabled},__class__:a.display.InteractiveObject,__properties__:w(a.display.DisplayObject.prototype.__properties__,{get_tabEnabled:"get_tabEnabled"})});a.display.DisplayObjectContainer=function(){a.display.InteractiveObject.call(this);this.mouseChildren=!0;this.__children=[];this.__removedChildren=[]};l["openfl.display.DisplayObjectContainer"]=a.display.DisplayObjectContainer;a.display.DisplayObjectContainer.__name__=!0;a.display.DisplayObjectContainer.__super__=
a.display.InteractiveObject;a.display.DisplayObjectContainer.prototype=w(a.display.InteractiveObject.prototype,{addChild:function(b){if(null!=b){null!=b.parent&&b.parent.removeChild(b);this.__children.push(b);b.parent=this;null!=this.stage&&b.__setStageReference(this.stage);b.__transformDirty||(b.__transformDirty=!0,a.display.DisplayObject.__worldTransformDirty++);b.__renderDirty||(b.__updateCachedBitmap=!0,b.__updateFilters=null!=b.get_filters()&&0<b.get_filters().length,b.__renderDirty=!0,a.display.DisplayObject.__worldRenderDirty++);
this.__renderDirty||(this.__updateCachedBitmap=!0,this.__updateFilters=null!=this.get_filters()&&0<this.get_filters().length,this.__renderDirty=!0,a.display.DisplayObject.__worldRenderDirty++);var h=new a.events.Event(a.events.Event.ADDED,!0);h.target=b;b.__dispatchEvent(h)}return b},getChildAt:function(b){return 0<=b&&b<this.__children.length?this.__children[b]:null},getObjectsUnderPoint:function(b){var a=[];this.__hitTest(b.x,b.y,!1,a,!1);a.reverse();return a},removeChild:function(b){null!=b&&b.parent==
this&&(b.__dispatchEvent(new a.events.Event(a.events.Event.REMOVED,!0)),null!=this.stage&&b.__setStageReference(null),b.parent=null,z.remove(this.__children,b),this.__removedChildren.push(b),b.__transformDirty||(b.__transformDirty=!0,a.display.DisplayObject.__worldTransformDirty++),b.__renderDirty||(b.__updateCachedBitmap=!0,b.__updateFilters=null!=b.get_filters()&&0<b.get_filters().length,b.__renderDirty=!0,a.display.DisplayObject.__worldRenderDirty++),this.__renderDirty||(this.__updateCachedBitmap=
!0,this.__updateFilters=null!=this.get_filters()&&0<this.get_filters().length,this.__renderDirty=!0,a.display.DisplayObject.__worldRenderDirty++));return b},removeChildAt:function(b){return 0<=b&&b<this.__children.length?this.removeChild(this.__children[b]):null},__broadcast:function(b,h){null==b.target&&(b.target=this);var c=a.display.InteractiveObject.prototype.__broadcast.call(this,b,h);if(!b.__isCancelled&&h)for(var d=0,f=this.__children;d<f.length;){var k=f[d];++d;k.__broadcast(b,!0);if(b.__isCancelled)return!0}return c},
__enterFrame:function(b){for(var a=0,c=this.__children;a<c.length;){var d=c[a];++a;d.__enterFrame(b)}},__getBounds:function(b,h){a.display.InteractiveObject.prototype.__getBounds.call(this,b,h);if(0!=this.__children.length){null!=h&&(this.__updateTransforms(h),this.__updateChildren(!0));for(var c=0,d=this.__children;c<d.length;){var f=d[c];++c;0==f.get_scaleX()||0==f.get_scaleY()||f.__isMask||f.__getBounds(b,f.__worldTransform)}null!=h&&(this.__updateTransforms(),this.__updateChildren(!0))}},__getRenderBounds:function(b,
h){if(null!=this.__scrollRect)a.display.InteractiveObject.prototype.__getRenderBounds.call(this,b,h);else if(a.display.InteractiveObject.prototype.__getBounds.call(this,b,h),0!=this.__children.length){null!=h&&(this.__updateTransforms(h),this.__updateChildren(!0));for(var c=0,d=this.__children;c<d.length;){var f=d[c];++c;0==f.get_scaleX()||0==f.get_scaleY()||f.__isMask||f.__getRenderBounds(b,f.__worldTransform)}null!=h&&(this.__updateTransforms(),this.__updateChildren(!0))}},__hitTest:function(b,
h,c,d,f){if(!this.get_visible()||this.__isMask||f&&!this.mouseEnabled&&!this.mouseChildren||null!=this.get_mask()&&!this.get_mask().__hitTestMask(b,h)||null!=this.get_scrollRect()&&!this.get_scrollRect().containsPoint(this.globalToLocal(new a.geom.Point(b,h))))return!1;var k=this.__children.length;if(f)if(null==d||!this.mouseChildren)for(;0<=--k;){if(this.__children[k].__hitTest(b,h,c,null,!0))return null!=d&&d.push(this),!0}else{if(null!=d){f=d.length;for(var e=!1,g=!1;0<=--k&&!(((e=this.__children[k].__getInteractive(null))||
this.mouseEnabled&&!g)&&this.__children[k].__hitTest(b,h,c,d,!0)&&(g=!0,e)););if(g)return d.splice(f,0,this),!0}}else for(;0<=--k;)this.__children[k].__hitTest(b,h,c,d,!1);return!1},__hitTestMask:function(b,a){for(var c=this.__children.length;0<=--c;)if(this.__children[c].__hitTestMask(b,a))return!0;return!1},__renderCairo:function(b){if(this.__renderable&&!(0>=this.__worldAlpha)){a.display.InteractiveObject.prototype.__renderCairo.call(this,b);null!=this.get_scrollRect()&&b.maskManager.pushRect(this.get_scrollRect(),
this.__worldTransform);null!=this.__mask&&b.maskManager.pushMask(this.__mask);for(var h=0,c=this.__children;h<c.length;){var d=c[h];++h;d.__renderCairo(b)}0<this.__removedChildren.length&&this.__removedChildren.splice(0,this.__removedChildren.length);null!=this.__mask&&b.maskManager.popMask();null!=this.get_scrollRect()&&b.maskManager.popRect()}},__renderCairoMask:function(b){null!=this.__graphics&&a._internal.renderer.cairo.CairoGraphics.renderMask(this.__graphics,b);for(var h=0,c=this.__children;h<
c.length;){var d=c[h];++h;d.__renderCairoMask(b)}},__renderCanvas:function(b){if(this.__renderable&&!(0>=this.__worldAlpha)){a.display.InteractiveObject.prototype.__renderCanvas.call(this,b);null!=this.get_scrollRect()&&b.maskManager.pushRect(this.get_scrollRect(),this.__worldTransform);null!=this.__mask&&b.maskManager.pushMask(this.__mask);for(var h=0,c=this.__children;h<c.length;){var d=c[h];++h;d.__renderCanvas(b)}0<this.__removedChildren.length&&this.__removedChildren.splice(0,this.__removedChildren.length);
null!=this.__mask&&b.maskManager.popMask();null!=this.get_scrollRect()&&b.maskManager.popRect()}},__renderCanvasMask:function(b){null!=this.__graphics&&a._internal.renderer.canvas.CanvasGraphics.renderMask(this.__graphics,b);var h=new a.geom.Rectangle;this.__getBounds(h,this.__transform);b.context.rect(0,0,h.width,h.height)},__renderDOM:function(b){a.display.InteractiveObject.prototype.__renderDOM.call(this,b);null!=this.__mask&&b.maskManager.pushMask(this.__mask);for(var h=0,c=this.__children;h<
c.length;){var d=c[h];++h;d.__renderDOM(b)}h=0;for(c=this.__removedChildren;h<c.length;)d=c[h],++h,null==d.stage&&d.__renderDOM(b);0<this.__removedChildren.length&&this.__removedChildren.splice(0,this.__removedChildren.length);null!=this.__mask&&b.maskManager.popMask()},__renderGL:function(b){if(this.__renderable&&!(0>=this.__worldAlpha))if(this.__cacheAsBitmap)this.__cacheGL(b);else{null!=this.__scrollRect&&b.maskManager.pushRect(this.__scrollRect,this.__renderTransform);null!=this.__mask&&null!=
this.__maskGraphics&&0<this.__maskGraphics.__commands.get_length()&&b.maskManager.pushMask(this);null!=this.__graphics&&(this.__graphics.__hardware?a._internal.renderer.opengl.utils.GraphicsRenderer.render(this,b):(a._internal.renderer.canvas.CanvasGraphics.render(this.__graphics,b),a._internal.renderer.opengl.GLRenderer.renderBitmap(this,b)));for(var h=0,c=this.__children;h<c.length;){var d=c[h];++h;d.__renderGL(b)}null!=this.__mask&&null!=this.__maskGraphics&&0<this.__maskGraphics.__commands.get_length()&&
b.maskManager.popMask();null!=this.__scrollRect&&b.maskManager.popRect();0<this.__removedChildren.length&&this.__removedChildren.splice(0,this.__removedChildren.length)}},__setStageReference:function(b){if(this.stage!=b&&(null!=this.stage&&this.__dispatchEvent(new a.events.Event(a.events.Event.REMOVED_FROM_STAGE,!1,!1)),this.stage=b,null!=b&&this.__dispatchEvent(new a.events.Event(a.events.Event.ADDED_TO_STAGE,!1,!1)),null!=this.__children))for(var h=0,c=this.__children;h<c.length;){var d=c[h];++h;
d.__setStageReference(b)}},__update:function(b,h,c){a.display.InteractiveObject.prototype.__update.call(this,b,h,c);if((this.__renderable||this.__isMask)&&h){h=0;for(var d=this.__children;h<d.length;){var f=d[h];++h;f.__update(b,!0,c)}}},__updateChildren:function(b){a.display.InteractiveObject.prototype.__updateChildren.call(this,b);for(var h=0,c=this.__children;h<c.length;){var d=c[h];++h;d.__update(b,!0)}},get_numChildren:function(){return this.__children.length},__class__:a.display.DisplayObjectContainer,
__properties__:w(a.display.InteractiveObject.prototype.__properties__,{get_numChildren:"get_numChildren"})});a.display.Sprite=function(){a.display.DisplayObjectContainer.call(this);this.buttonMode=!1;this.useHandCursor=!0;this.loaderInfo=a.display.LoaderInfo.create(null)};l["openfl.display.Sprite"]=a.display.Sprite;a.display.Sprite.__name__=!0;a.display.Sprite.__super__=a.display.DisplayObjectContainer;a.display.Sprite.prototype=w(a.display.DisplayObjectContainer.prototype,{startDrag:function(b,a){null==
b&&(b=!1);null!=this.stage&&this.stage.__startDrag(this,b,a)},stopDrag:function(){null!=this.stage&&this.stage.__stopDrag(this)},__getCursor:function(){return this.buttonMode&&this.useHandCursor?e.ui.MouseCursor.POINTER:null},__hitTest:function(b,h,c,d,f){return!this.get_visible()||this.__isMask||f&&!this.mouseEnabled&&!this.mouseChildren||null!=this.get_mask()&&!this.get_mask().__hitTestMask(b,h)?!1:a.display.DisplayObjectContainer.prototype.__hitTest.call(this,b,h,c,d,f)?f:f&&!this.mouseEnabled||
null==this.__graphics||!this.__graphics.__hitTest(b,h,c,this.__getWorldTransform())?!1:(null!=d&&d.push(this),!0)},__hitTestMask:function(b,h){return a.display.DisplayObjectContainer.prototype.__hitTestMask.call(this,b,h)||null!=this.__graphics&&this.__graphics.__hitTest(b,h,!0,this.__getWorldTransform())?!0:!1},get_graphics:function(){null==this.__graphics&&(this.__graphics=new a.display.Graphics,this.__graphics.__owner=this);return this.__graphics},get_tabEnabled:function(){return this.__tabEnabled||
this.buttonMode},__class__:a.display.Sprite,__properties__:w(a.display.DisplayObjectContainer.prototype.__properties__,{get_graphics:"get_graphics"})});a.geom={};a.geom.Point=function(b,a){null==a&&(a=0);null==b&&(b=0);this.x=b;this.y=a};l["openfl.geom.Point"]=a.geom.Point;a.geom.Point.__name__=!0;a.geom.Point.prototype={clone:function(){return new a.geom.Point(this.x,this.y)},copyFrom:function(b){this.x=b.x;this.y=b.y},offset:function(b,a){this.x+=b;this.y+=a},setTo:function(b,a){this.x=b;this.y=
a},toString:function(){return"(x="+this.x+", y="+this.y+")"},__class__:a.geom.Point};g={};g.Main=J.ru.octasoft.oem.designer.Main=function(){var b=this;a.display.Sprite.call(this);g.Main.messages=new g.Messages(null);g.Main.view=this;g.Main.undo=new ea;g.Main.redo=new ea;g.Main.toolbar=new g.Toolbar;this.addChild(g.Main.toolbar);this.set_name("main");g.Main.cont=new a.display.Sprite;g.Main.cont.set_name("cont");g.Main.cont.set_x(6);g.Main.cont.set_y(g.Main.toolbar.get_height()+g.Main.GRID_PADDING);
g.Main.cont.set_scrollRect(new a.geom.Rectangle(-6,-6,g.Main.clipSize+12,g.Main.clipSize+12));this.addChild(g.Main.cont);g.Main.grid=new g.Grid;g.Main.gridScale=g.Main.grid.scale;g.Main.cont.addChild(g.Main.grid);g.Main.cont.addEventListener(a.events.MouseEvent.MOUSE_DOWN,function(b){g.Main.click.x=b.stageX;g.Main.click.y=b.stageY;g.Main.draggable&&(p.Actuate.stop(g.Main.grid),g.Main.grid.startDrag())});g.Main.cont.addEventListener(a.events.MouseEvent.MOUSE_MOVE,function(b){g.Main.gridDown&&!g.Main.dragged&&
(g.Main.dragged=!0)});g.Main.cont.addEventListener(a.events.MouseEvent.MOUSE_UP,function(h){g.Main.click.x==h.stageX&&g.Main.click.y==h.stageY&&(h=new a.geom.Point(h.stageX,h.stageY),1==b.stage.getObjectsUnderPoint(h).length&&null!=g.Main.selected&&g.Main.selected.get_selected()&&(g.Main.selected.set_selected(!1),g.Main.selected=null,b.showPopup(g.Main.selected,!1)));g.Main.dragged=!1;g.Main.grid.stopDrag();g.Main.validateEditor();g.Main.gridDown=!1});g.Main.cont.addEventListener(a.events.MouseEvent.MOUSE_OUT,
function(b){g.Main.stopDragging()});g.Main.toolbar.addEventListener(g.events.ZoomEvent.ZOOM_IN,function(b){g.Main.shelfPopup.set_visible(!1);g.Main.grid.zoomIn();g.Main.validateEditor()});g.Main.toolbar.addEventListener(g.events.ZoomEvent.ZOOM_OUT,function(b){g.Main.shelfPopup.set_visible(!1);g.Main.grid.zoomOut();g.Main.validateEditor()});g.Main.toolbar.addEventListener(g.events.ClearEvent.NAME,function(b){g.Main.reset(!1)});g.Main.toolbar.addEventListener(g.events.DeleteEvent.NAME,function(b){null!=
g.Main.selected&&(g.Main.grid.dispatchEvent(new g.events.FigureDeletedEvent(g.Main.selected,new a.geom.Point(g.Main.selected.get_x(),g.Main.selected.get_y()),g.events.EventContext.DIRECT)),g.Main.selected=null)});g.Main.toolbar.addEventListener(g.events.UndoEvent.NAME,t(this,this.onUndo));g.Main.toolbar.addEventListener(g.events.RedoEvent.NAME,t(this,this.onRedo));var h=this.stage.stageWidth-g.Main.RIGHTCOL_WIDTH,c=g.Main.RIGHTCOL_WIDTH;g.Main.rightTitle=new a.display.Sprite;g.Main.rightTitle.set_x(h);
this.addChild(g.Main.rightTitle);g.Main.rightTitle.get_graphics().beginBitmapFill(a.Assets.getBitmapData("assets/images/border2.png"));g.Main.rightTitle.get_graphics().drawRect(0,0,c,g.Main.TOOLBAR_HEIGHT);g.Main.rightTitle.get_graphics().endFill();var d=a.Assets.getFont(g.Main.FONT_BOLD),d=new a.text.TextFormat(d.name,21,0);d.align=a.text.TextFormatAlign.LEFT;g.Main.label=new a.text.TextField;g.Main.label.set_defaultTextFormat(d);g.Main.label.set_embedFonts(!0);g.Main.label.set_autoSize(a.text.TextFieldAutoSize.CENTER);
g.Main.label.set_text(g.Main.messages.rightColumnLabel);g.Main.label.set_x(h+c/2-g.Main.label.get_width()/2);g.Main.label.set_y(g.Main.TOOLBAR_HEIGHT/2-g.Main.label.get_height()/2);this.addChild(g.Main.label);g.Main.eq=new g.Equipment(g.Main.grid);g.Main.eq.set_x(h);g.Main.eq.set_y(g.Main.TOOLBAR_HEIGHT+30);this.addChild(g.Main.eq);g.Main.grid.addEventListener(g.events.FigureDeletedEvent.NAME,function(b){console.log("FigureDeletedEvent"+r.string(b.from));g.Main.shelfPopup.set_visible(!1);var a=b.figure,
h=b.from;g.Main.grid.removeChild(a);a.set_selected(!1);for(var c=0,d=g.Main.eq.body.get_numChildren();c<d;){var e=c++,e=x.Boot.__cast(g.Main.eq.body.getChildAt(e),g.Item);if(e.figure.id==b.figure.id){var l=e.usedQty;e.set_usedQty(l-1);l}}switch(b.context[1]){case 1:g.Main.redo.push(new g.events.FigureAddedEvent(a,h,g.events.EventContext.REDO));break;case 2:g.Main.undo.push(new g.events.FigureAddedEvent(a,h,g.events.EventContext.UNDO));break;default:g.Main.redo.clear(),g.Main.undo.push(new g.events.FigureAddedEvent(a,
h,g.events.EventContext.UNDO))}});g.Main.grid.addEventListener(g.events.FigureAddedEvent.NAME,function(a){console.log("FigureAddedEvent "+r.string(a.to));var h=a.figure,c=a.to;h.set_x(c.x);h.set_y(c.y);g.Main.grid.addChild(h);if(a.shift){var d=h.picture.getBounds(b);h.set_x(h.get_x()+d.width/2);h.set_y(h.get_y()+d.height/2)}if(b.validateDrop(h)){b.validatePosition(h);b.validateBounds(h);for(var d=0,e=g.Main.eq.body.get_numChildren();d<e;){var l=d++,l=x.Boot.__cast(g.Main.eq.body.getChildAt(l),g.Item);
if(l.figure.id==a.figure.id){var y=l.usedQty;l.set_usedQty(y+1);y}}switch(a.context[1]){case 1:g.Main.redo.push(new g.events.FigureDeletedEvent(h,c,g.events.EventContext.REDO));break;case 2:g.Main.undo.push(new g.events.FigureDeletedEvent(h,c,g.events.EventContext.UNDO));break;default:g.Main.redo.clear(),g.Main.undo.push(new g.events.FigureDeletedEvent(h,c,g.events.EventContext.UNDO))}b.showPopup(h,!0)}else g.Main.grid.removeChild(h)});g.Main.grid.addEventListener(g.events.FigureMovedEvent.NAME,function(a){console.log("FigureMovedEvent"+
r.string(a.from)+" -> "+r.string(a.to));var h=a.figure,c=a.to;h.set_x(c.x);h.set_y(c.y);if(b.validateDrop(h))switch(b.validatePosition(h),b.validateBounds(h),g.Main.grid.addChild(h),a.context[1]){case 1:g.Main.redo.push(new g.events.FigureMovedEvent(h,a.to,a.from,g.events.EventContext.REDO));break;case 2:g.Main.undo.push(new g.events.FigureMovedEvent(h,a.to,a.from,g.events.EventContext.UNDO));break;default:g.Main.redo.clear(),g.Main.undo.push(new g.events.FigureMovedEvent(h,a.to,a.from,g.events.EventContext.UNDO))}else h.set_x(a.from.x),
h.set_y(a.from.y)});g.Main.grid.addEventListener(g.events.FigureRotatedEvent.NAME,function(b){console.log("FigureRotateEvent "+b.from+" "+b.to);var a=b.figure;a.set_rotation(b.to);switch(b.context[1]){case 1:g.Main.redo.push(new g.events.FigureRotatedEvent(a,b.to,b.from,g.events.EventContext.REDO));break;case 2:g.Main.undo.push(new g.events.FigureRotatedEvent(a,b.to,b.from,g.events.EventContext.UNDO));break;default:g.Main.redo.clear(),g.Main.undo.push(new g.events.FigureRotatedEvent(a,b.to,b.from,
g.events.EventContext.UNDO))}});g.Main.grid.addEventListener(g.events.FigureDraggedEvent.NAME,function(a){b.validateBounds(a.figure)});g.Main.grid.addEventListener(g.events.FigureSelectedEvent.NAME,t(this,this.onSelect));this.stage.addEventListener(a.events.KeyboardEvent.KEY_UP,function(a){switch(a.keyCode){case 37:b.keyboardNav(!1);break;case 39:b.keyboardNav(!0)}});g.Main.shelfPopup=new g.ShelfPopup;g.Main.cont.addChild(g.Main.shelfPopup);window.onEditorReady()};l["ru.octasoft.oem.designer.Main"]=
g.Main;g.Main.__name__=!0;g.Main.messages=null;g.Main.view=null;g.Main.rightTitle=null;g.Main.label=null;g.Main.toolbar=null;g.Main.cont=null;g.Main.grid=null;g.Main.eq=null;g.Main.dragged=null;g.Main.gridDown=null;g.Main.shelfPopup=null;g.Main.selected=null;g.Main.undo=null;g.Main.redo=null;g.Main.gridScale=null;g.Main.compare2=function(b,a,c){return Math.abs(b-a)<=c};g.Main.compare=function(b,a){return g.Main.compare2(b,a,.5)};g.Main.validateEditor=function(){0<g.Main.grid.get_x()&&p.Actuate.tween(g.Main.grid,
1,{x:0});g.Main.grid.get_x()+g.Main.grid.scaledW<=g.Main.clipSize&&g.Main.grid.scaledW>=g.Main.clipSize&&p.Actuate.tween(g.Main.grid,1,{x:g.Main.clipSize-g.Main.grid.scaledW});0<g.Main.grid.get_y()&&p.Actuate.tween(g.Main.grid,1,{y:0})};g.Main.stopDragging=function(){g.Main.dragged&&(g.Main.dragged=!1,g.Main.grid.stopDrag(),g.Main.validateEditor())};g.Main.updateLanguage=function(){g.Main.label.set_text(g.Main.messages.rightColumnLabel);g.Main.shelfPopup.updateLanguage()};g.Main.init=function(b){g.Main.reset();
b.hideControls&&(g.Main.eq.set_visible(g.Main.toolbar.set_visible(g.Main.label.set_visible(g.Main.rightTitle.set_visible(!1)))),g.Main.cont.set_scrollRect(null),g.Main.cont.set_y(6),g.Main.draggable=!1);b.language&&(g.Main.messages=new g.Messages(b.language),g.Main.updateLanguage());g.Main.grid.init(b.w,b.h,K.createEnum(g.GridType,b.type),g.Main.clipSize);var a=Y.array(b.items);g.Main.load(a,function(){if(null!=b.placedItems)for(var a=b.placedItems,h=0;h<a.length;){var f=a[h];++h;var k=g.Main.eq.findItemById(f.id);
null!=k&&g.Main.grid.add(k,f.x,f.y,f.rotation,f.lift)}})};g.Main.load=function(b,a){if(0==b.length)a();else{var c=b.shift();g.Main.eq.addObject(c,function(){g.Main.load(b,a)})}};g.Main.scroll=function(b,a,c){0==g.Main.prev&&(g.Main.prev=b);if(b!=a){var d=g.Main.prev-c;c<b&&0<d&&(c=b);c>a&&0>d&&(c=a);d=(c-b)/(a-b);g.Main.view.set_y((a-b)*d);g.Main.eq.scroll(d);g.Main.prev=c}};g.Main.reset=function(b){for(null==b&&(b=!0);0<g.Main.grid.get_numChildren();)g.Main.grid.removeChildAt(0);if(b){for(;0<g.Main.eq.body.get_numChildren();)g.Main.eq.body.removeChildAt(0);
g.Main.eq.items=[];g.Main.eq.offY=0;g.Main.eq.body.set_y(0);g.Main.eq.body.set_height(0)}b=0;for(var a=g.Main.eq.body.get_numChildren();b<a;){var c=b++;x.Boot.__cast(g.Main.eq.body.getChildAt(c),g.Item).set_usedQty(0)}g.Main.undo.clear();g.Main.redo.clear()};g.Main.placeItem=function(b){var a=g.Main.eq.findItemById(b.id);null!=a&&g.Main.grid.add(a,b.x,b.y,b.rotation,b.lift)};g.Main.saveJPG=function(){var b=g.Main.shelfPopup.get_visible();g.Main.shelfPopup.set_visible(!1);null!=g.Main.selected&&g.Main.selected.set_selected(!1);
var h=g.Main.grid.scale;g.Main.grid.setScale(g.Main.gridScale);var c=new a.display.BitmapData(r["int"](g.Main.grid.get_width())-12,r["int"](g.Main.grid.get_height())-12,!1,16777215);c.draw(g.Main.grid,new a.geom.Matrix(1,0,0,1,6,6));for(var d=c.getPixels(new a.geom.Rectangle(0,0,c.width,c.height)),f=q.io.Bytes.alloc(d.length),k=0,e=d.length;k<e;){var Ra=k++;f.set(Ra,d.readByte())}d=new q.io.BytesOutput;c={width:c.width,height:c.height,quality:100,pixels:f};(new g.jpg.Writer(d)).write(c);g.Main.grid.setScale(h);
g.Main.shelfPopup.set_visible(b);null!=g.Main.selected&&g.Main.selected.set_selected(!0);return q.crypto.Base64.encode(d.getBytes())};g.Main.getScene=function(){for(var b={objects:[]},a=0,c=g.Main.grid.get_numChildren();a<c;){var d=a++,d=g.Main.grid.getChildAt(d);if(x.Boot.__instanceof(d,g.figures.Figure)){var f=d.picture.getBounds(g.Main.grid),k=d.get_x()-f.width/2,f=d.get_y()-f.height/2,k={id:d.id,x:Math.max(0,g.SizeUtil.pixelsToUnits(k/g.Main.grid.scale)),y:Math.max(0,g.SizeUtil.pixelsToUnits(f/
g.Main.grid.scale)),rotation:d.get_rotation()};b.objects.push(k);d.type==g.ItemType.shelf&&v.setField(k,"lift",d.get_lift())}}return b};g.Main.__super__=a.display.Sprite;g.Main.prototype=w(a.display.Sprite.prototype,{keyboardNav:function(b){if(null!=g.Main.selected&&g.Main.selected.type==g.ItemType.shelf){for(var a=[],c=0,d=g.Main.grid.get_numChildren();c<d;){var f=c++,f=g.Main.grid.getChildAt(f);x.Boot.__instanceof(f,g.figures.Figure)&&f.type==g.Main.selected.type&&a.push(f)}1>=a.length||(a.sort(function(b,
a){return b.number-a.number}),c=z.indexOf(a,g.Main.selected,0),b?(c++,c==a.length&&(c=0)):(c--,-1==c&&(c=a.length-1)),g.Main.selected.set_selected(!1),g.Main.selected=a[c],g.Main.selected.set_selected(!0),g.Main.selected.parent.addChild(g.Main.selected),this.showPopup(g.Main.selected,!0))}},showPopup:function(b,a){a?b.type==g.ItemType.shelf?(g.Main.shelfPopup.set_visible(!0),g.Main.shelfPopup.update(b)):g.Main.shelfPopup.set_visible(!1):g.Main.shelfPopup.set_visible(!1)},nearWall:function(b){var a=
b.picture.getBounds(g.Main.grid);return g.Main.compare(b.get_x(),a.width/2)||g.Main.compare(b.get_y(),a.height/2)||g.Main.compare(b.get_x(),g.Main.grid.scaledW-a.width/2)||g.Main.compare(b.get_y(),g.Main.grid.scaledH-a.height/2)},validateBounds:function(b){var a=b.picture.getBounds(g.Main.grid);0>a.x&&b.set_x(a.width/2);0>a.y&&b.set_y(a.height/2);a.get_right()>g.Main.grid.scaledW&&b.set_x(g.Main.grid.scaledW-a.width/2);a.get_bottom()>g.Main.grid.scaledH&&b.set_y(g.Main.grid.scaledH-a.height/2);b.set_x(Math.round(b.get_x()));
b.set_y(Math.round(b.get_y()))},validatePosition:function(b){var a=b.picture.getBounds(g.Main.grid);0>a.x&&b.set_x(a.width/2);0>a.y&&b.set_y(a.height/2);a.get_right()>g.Main.grid.scaledW&&b.set_x(g.Main.grid.scaledW-a.width/2);a.get_bottom()>g.Main.grid.scaledH&&b.set_y(g.Main.grid.scaledH-a.height/2);switch(b.type[1]){case 1:var c=b.get_x(),d=b.get_y(),f=g.Main.grid.scaledW-b.get_x(),k=g.Main.grid.scaledH-b.get_y(),e=Math.min(c,Math.min(d,Math.min(f,k)));e==c&&b.set_x(a.width/2);e==d&&b.set_y(a.height/
2);e==f&&b.set_x(g.Main.grid.scaledW-a.width/2);e==k&&b.set_y(g.Main.grid.scaledH-a.height/2);break;case 3:c=b.get_x();d=b.get_y();f=g.Main.grid.scaledW-b.get_x();k=0;switch(g.Main.grid.gridType[1]){case 0:k=Math.min(c,Math.min(d,f));break;case 1:k=Math.min(d,f);break;case 2:k=d}k==c&&b.set_x(a.width/2);k==d&&b.set_y(a.height/2);k==f&&b.set_x(g.Main.grid.scaledW-a.width/2)}b.set_x(Math.round(b.get_x()));b.set_y(Math.round(b.get_y()))},validateDrop:function(b){if((b.type==g.ItemType.light||b.type==
g.ItemType.shelf)&&g.Main.grid.gridType==g.GridType.island)return!1;for(var a=0,c=g.Main.grid.get_numChildren();a<c;){var d=a++,d=g.Main.grid.getChildAt(g.Main.grid.get_numChildren()-d-1);if(x.Boot.__instanceof(d,g.figures.Figure)&&b!=d){var f=b.picture.getBounds(g.Main.grid),k=d.picture.getBounds(g.Main.grid);if(f.intersects(k)&&b.type!=g.ItemType.plug&&b.type!=g.ItemType.shelf&&(b.type!=g.ItemType.light||!this.nearWall(d)))return!1}}return!0},onUndo:function(b){0!=g.Main.undo.length&&(b=g.Main.undo.pop(),
g.Main.grid.dispatchEvent(b))},onRedo:function(b){0!=g.Main.redo.length&&(b=g.Main.redo.pop(),g.Main.grid.dispatchEvent(b))},onSelect:function(b){b.figure==g.Main.selected?(g.Main.selected=null,b.figure.set_selected(!1),this.showPopup(g.Main.selected,!1)):(null!=g.Main.selected&&g.Main.selected.set_selected(!1),g.Main.selected=b.figure,g.Main.selected.set_selected(!0),this.showPopup(g.Main.selected,!0))},listObjectsUnderMouse:function(b){var h=new a.geom.Point(b.stageX,b.stageY),h=this.stage.getObjectsUnderPoint(h);
0<h.length&&h[0]!=b.target&&(b=x.Boot.__cast(h[0],a.display.Sprite),b.get_graphics().beginFill(16711680),b.get_graphics().drawRect(0,0,100,100))},__class__:g.Main});var da=function(){a.Lib.current.addChild(this);g.Main.call(this);this.dispatchEvent(new a.events.Event(a.events.Event.ADDED_TO_STAGE,!1,!1))};l.DocumentClass=da;da.__name__=!0;da.__super__=g.Main;da.prototype=w(g.Main.prototype,{__class__:da});var e={AssetLibrary:function(){this.onChange=new e.app.Event_Void_Void}};l["lime.AssetLibrary"]=
e.AssetLibrary;e.AssetLibrary.__name__=!0;e.AssetLibrary.prototype={exists:function(b,a){return!1},getFont:function(b){return null},getImage:function(b){return null},isLocal:function(b,a){return!0},unload:function(){},__class__:e.AssetLibrary};var ja=function(){this.type=new q.ds.StringMap;this.path=new q.ds.StringMap;this.className=new q.ds.StringMap;e.AssetLibrary.call(this);a.text.Font.registerFont(T);a.text.Font.registerFont(U);var b;b="assets/fonts/gothaprobol-webfont.ttf";this.className.set(b,
Z);this.type.set(b,"FONT");b="assets/fonts/gothaproreg-webfont.ttf";this.className.set(b,aa);this.type.set(b,"FONT");b="assets/images/border1.png";this.path.set(b,b);this.type.set(b,"IMAGE");b="assets/images/border2.png";this.path.set(b,b);this.type.set(b,"IMAGE");b="assets/images/decor.png";this.path.set(b,b);this.type.set(b,"IMAGE");b="assets/images/delete.png";this.path.set(b,b);this.type.set(b,"IMAGE");b="assets/images/popup_left.png";this.path.set(b,b);this.type.set(b,"IMAGE");b="assets/images/popup_right.png";
this.path.set(b,b);this.type.set(b,"IMAGE");b="assets/images/popup_top.png";this.path.set(b,b);this.type.set(b,"IMAGE");b="assets/images/redo.png";this.path.set(b,b);this.type.set(b,"IMAGE");b="assets/images/rotate.png";this.path.set(b,b);this.type.set(b,"IMAGE");b="assets/images/shelf_bg1.png";this.path.set(b,b);this.type.set(b,"IMAGE");b="assets/images/undo.png";this.path.set(b,b);this.type.set(b,"IMAGE");b="assets/images/zoomIn.png";this.path.set(b,b);this.type.set(b,"IMAGE");b="assets/images/zoomOut.png";
this.path.set(b,b);this.type.set(b,"IMAGE");b=null;null!=D.config&&Object.prototype.hasOwnProperty.call(D.config,"assetsPrefix")&&(b=D.config.assetsPrefix);if(null!=b)for(var h=this.path.keys();h.hasNext();){var c=h.next(),d=b+this.path.get(c);this.path.set(c,d)}};l.DefaultAssetLibrary=ja;ja.__name__=!0;ja.__super__=e.AssetLibrary;ja.prototype=w(e.AssetLibrary.prototype,{exists:function(b,a){var c;c=null!=a?x.Boot.__cast(a,String):null;var d=this.type.get(b);return null==d||d!=c&&("SOUND"!=c&&"MUSIC"!=
c||"MUSIC"!=d&&"SOUND"!=d)&&"BINARY"!=c&&null!=c&&("BINARY"!=d||"TEXT"!=c)?!1:!0},getFont:function(b){return x.Boot.__cast(K.createInstance(this.className.get(b),[]),e.text.Font)},getImage:function(b){return e.graphics.Image.fromImageElement(function(a){a=a.path.get(b);return e.app.Preloader.images.get(a)}(this))},isLocal:function(b,a){null!=a&&x.Boot.__cast(a,String);return!0},__class__:ja});e.text={};e.text.Font=function(b){null!=b&&(this.name=b);null!=this.__fontPath&&this.__fromFile(this.__fontPath)};
l["lime.text.Font"]=e.text.Font;e.text.Font.__name__=!0;e.text.Font.prototype={__fromFile:function(b){this.__fontPath=b},__class__:e.text.Font};var Z=function(){e.text.Font.call(this);this.name="Gotham Pro Bold"};l.__ASSET__assets_fonts_gothaprobol_webfont_ttf=Z;Z.__name__=!0;Z.__super__=e.text.Font;Z.prototype=w(e.text.Font.prototype,{__class__:Z});var aa=function(){e.text.Font.call(this);this.name="Gotham Pro Regular"};l.__ASSET__assets_fonts_gothaproreg_webfont_ttf=aa;aa.__name__=!0;aa.__super__=
e.text.Font;aa.prototype=w(e.text.Font.prototype,{__class__:aa});a.text={};a.text.Font=function(b){e.text.Font.call(this,b)};l["openfl.text.Font"]=a.text.Font;a.text.Font.__name__=!0;a.text.Font.registerFont=function(b){b=x.Boot.__cast(K.createInstance(b,[]),a.text.Font);null!=b&&a.text.Font.__registeredFonts.push(b)};a.text.Font.__fromLimeFont=function(b){var h=new a.text.Font;h.name=b.name;h.src=b.src;return h};a.text.Font.__super__=e.text.Font;a.text.Font.prototype=w(e.text.Font.prototype,{__class__:a.text.Font});
var T=function(){var b=new Z;this.src=b.src;this.name=b.name;a.text.Font.call(this)};l.__ASSET__OPENFL__assets_fonts_gothaprobol_webfont_ttf=T;T.__name__=!0;T.__super__=a.text.Font;T.prototype=w(a.text.Font.prototype,{__class__:T});var U=function(){var b=new aa;this.src=b.src;this.name=b.name;a.text.Font.call(this)};l.__ASSET__OPENFL__assets_fonts_gothaproreg_webfont_ttf=U;U.__name__=!0;U.__super__=a.text.Font;U.prototype=w(a.text.Font.prototype,{__class__:U});var P=function(b,a){a=a.split("u").join("");
this.r=new RegExp(b,a)};l.EReg=P;P.__name__=!0;P.prototype={match:function(b){this.r.global&&(this.r.lastIndex=0);this.r.m=this.r.exec(b);this.r.s=b;return null!=this.r.m},replace:function(b,a){return b.replace(this.r,a)},__class__:P};var z=function(){};l.HxOverrides=z;z.__name__=!0;z.cca=function(b,a){var c=b.charCodeAt(a);return c!=c?void 0:c};z.substr=function(b,a,c){if(null!=a&&0!=a&&null!=c&&0>c)return"";null==c&&(c=b.length);0>a?(a=b.length+a,0>a&&(a=0)):0>c&&(c=b.length+c-a);return b.substr(a,
c)};z.indexOf=function(b,a,c){var d=b.length;0>c&&(c+=d,0>c&&(c=0));for(;c<d;){if(b[c]===a)return c;c++}return-1};z.remove=function(b,a){var c=z.indexOf(b,a,0);if(-1==c)return!1;b.splice(c,1);return!0};z.iter=function(b){return{cur:0,arr:b,hasNext:function(){return this.cur<this.arr.length},next:function(){return this.arr[this.cur++]}}};var Y=function(){};l.Lambda=Y;Y.__name__=!0;Y.array=function(b){var a=[];for(b=ua(b)();b.hasNext();){var c=b.next();a.push(c)}return a};Y.count=function(b,a){var c=
0;if(null==a)for(var d=ua(b)();d.hasNext();)d.next(),c++;else for(d=ua(b)();d.hasNext();){var f=d.next();a(f)&&c++}return c};var ea=function(){this.length=0};l.List=ea;ea.__name__=!0;ea.prototype={add:function(b){b=[b];null==this.h?this.h=b:this.q[1]=b;this.q=b;this.length++},push:function(b){this.h=b=[b,this.h];null==this.q&&(this.q=b);this.length++},pop:function(){if(null==this.h)return null;var b=this.h[0];this.h=this.h[1];null==this.h&&(this.q=null);this.length--;return b},clear:function(){this.q=
this.h=null;this.length=0},__class__:ea};var O=function(){};l.IMap=O;O.__name__=!0;Math.__name__=!0;var W=function(){a.display.Sprite.call(this);var b=this.getBackgroundColor(),h=0;70>.299*(b>>16&255)+.587*(b>>8&255)+.114*(b&255)&&(h=16777215);var b=this.getHeight()/2-3.5,c=this.getWidth()-60;this.outline=new a.display.Sprite;this.outline.get_graphics().beginFill(h,.07);this.outline.get_graphics().drawRect(0,0,c,7);this.outline.set_x(30);this.outline.set_y(b);this.addChild(this.outline);this.progress=
new a.display.Sprite;this.progress.get_graphics().beginFill(h,.35);this.progress.get_graphics().drawRect(0,0,c-4,3);this.progress.set_x(32);this.progress.set_y(b+2);this.progress.set_scaleX(0);this.addChild(this.progress)};l.NMEPreloader=W;W.__name__=!0;W.__super__=a.display.Sprite;W.prototype=w(a.display.Sprite.prototype,{getBackgroundColor:function(){return 16777215},getHeight:function(){return a.Lib.current.stage.stageHeight},getWidth:function(){return a.Lib.current.stage.stageWidth},onInit:function(){},
onLoaded:function(){this.dispatchEvent(new a.events.Event(a.events.Event.COMPLETE))},onUpdate:function(b,a){var c=b/a;1<c&&(c=1);this.progress.set_scaleX(c)},__class__:W});var v=function(){};l.Reflect=v;v.__name__=!0;v.hasField=function(b,a){return Object.prototype.hasOwnProperty.call(b,a)};v.field=function(b,a){try{return b[a]}catch(c){return null}};v.setField=function(b,a,c){b[a]=c};v.getProperty=function(b,a){var c;return null==b?null:b.__properties__&&(c=b.__properties__["get_"+a])?b[c]():b[a]};
v.setProperty=function(b,a,c){var d;if(b.__properties__&&(d=b.__properties__["set_"+a]))b[d](c);else b[a]=c};v.callMethod=function(b,a,c){return a.apply(b,c)};v.fields=function(b){var a=[];if(null!=b){var c=Object.prototype.hasOwnProperty,d;for(d in b)"__id__"!=d&&"hx__closures__"!=d&&c.call(b,d)&&a.push(d)}return a};v.isFunction=function(b){return"function"==typeof b&&!(b.__name__||b.__ename__)};v.compareMethods=function(b,a){return b==a?!0:v.isFunction(b)&&v.isFunction(a)?b.scope==a.scope&&b.method==
a.method&&null!=b.method:!1};var r=function(){};l.Std=r;r.__name__=!0;r.string=function(b){return x.Boot.__string_rec(b,"")};r["int"]=function(b){return b|0};r.parseInt=function(b){var a=parseInt(b,10);0!=a||120!=z.cca(b,1)&&88!=z.cca(b,1)||(a=parseInt(b));return isNaN(a)?null:a};var G=function(){};l.StringTools=G;G.__name__=!0;G.urlEncode=function(b){return encodeURIComponent(b)};G.startsWith=function(b,a){return b.length>=a.length&&z.substr(b,0,a.length)==a};G.isSpace=function(b,a){var c=z.cca(b,
a);return 8<c&&14>c||32==c};G.ltrim=function(b){for(var a=b.length,c=0;c<a&&G.isSpace(b,c);)c++;return 0<c?z.substr(b,c,a-c):b};G.rtrim=function(b){for(var a=b.length,c=0;c<a&&G.isSpace(b,a-c-1);)c++;return 0<c?z.substr(b,0,a-c):b};G.trim=function(b){return G.ltrim(G.rtrim(b))};G.replace=function(b,a,c){return b.split(a).join(c)};G.hex=function(b,a){var c="";do c="0123456789ABCDEF".charAt(b&15)+c,b>>>=4;while(0<b);if(null!=a)for(;c.length<a;)c="0"+c;return c};G.fastCodeAt=function(b,a){return b.charCodeAt(a)};
var K=function(){};l.Type=K;K.__name__=!0;K.resolveClass=function(b){b=l[b];return null!=b&&b.__name__?b:null};K.resolveEnum=function(b){b=l[b];return null!=b&&b.__ename__?b:null};K.createInstance=function(b,a){switch(a.length){case 0:return new b;case 1:return new b(a[0]);case 2:return new b(a[0],a[1]);case 3:return new b(a[0],a[1],a[2]);case 4:return new b(a[0],a[1],a[2],a[3]);case 5:return new b(a[0],a[1],a[2],a[3],a[4]);case 6:return new b(a[0],a[1],a[2],a[3],a[4],a[5]);case 7:return new b(a[0],
a[1],a[2],a[3],a[4],a[5],a[6]);case 8:return new b(a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7]);default:throw"Too many arguments";}};K.createEnum=function(b,a,c){var d=v.field(b,a);if(null==d)throw"No such constructor "+a;if(v.isFunction(d)){if(null==c)throw"Constructor "+a+" need parameters";return d.apply(b,c)}if(null!=c&&0!=c.length)throw"Constructor "+a+" does not need parameters";return d};K.getClassFields=function(b){b=v.fields(b);z.remove(b,"__name__");z.remove(b,"__interfaces__");z.remove(b,"__properties__");
z.remove(b,"__super__");z.remove(b,"prototype");return b};var q={Timer:function(b){var a=this;this.id=setInterval(function(){a.run()},b)}};l["haxe.Timer"]=q.Timer;q.Timer.__name__=!0;q.Timer.delay=function(b,a){var c=new q.Timer(a);c.run=function(){c.stop();b()};return c};q.Timer.prototype={stop:function(){null!=this.id&&(clearInterval(this.id),this.id=null)},run:function(){},__class__:q.Timer};q.io={};q.io.Bytes=function(b,a){this.length=b;this.b=a};l["haxe.io.Bytes"]=q.io.Bytes;q.io.Bytes.__name__=
!0;q.io.Bytes.alloc=function(b){for(var a=[],c=0;c<b;)c++,a.push(0);return new q.io.Bytes(b,a)};q.io.Bytes.ofString=function(b){for(var a=[],c=0;c<b.length;){var d=G.fastCodeAt(b,c++);55296<=d&&56319>=d&&(d=d-55232<<10|G.fastCodeAt(b,c++)&1023);127>=d?a.push(d):(2047>=d?a.push(192|d>>6):(65535>=d?a.push(224|d>>12):(a.push(240|d>>18),a.push(128|d>>12&63)),a.push(128|d>>6&63)),a.push(128|d&63))}return new q.io.Bytes(a.length,a)};q.io.Bytes.ofData=function(b){return new q.io.Bytes(b.length,b)};q.io.Bytes.prototype=
{get:function(b){return this.b[b]},set:function(b,a){this.b[b]=a&255},getString:function(b,a){if(0>b||0>a||b+a>this.length)throw q.io.Error.OutsideBounds;for(var c="",d=this.b,f=String.fromCharCode,k=b,e=b+a;k<e;){var g=d[k++];if(128>g){if(0==g)break;c+=f(g)}else if(224>g)c+=f((g&63)<<6|d[k++]&127);else if(240>g)var C=d[k++],c=c+f((g&31)<<12|(C&127)<<6|d[k++]&127);else var C=d[k++],l=d[k++],g=(g&15)<<18|(C&127)<<12|(l&127)<<6|d[k++]&127,c=c+f((g>>10)+55232),c=c+f(g&1023|56320)}return c},toString:function(){return this.getString(0,
this.length)},__class__:q.io.Bytes};q.crypto={};q.crypto.Base64=function(){};l["haxe.crypto.Base64"]=q.crypto.Base64;q.crypto.Base64.__name__=!0;q.crypto.Base64.encode=function(b,a){null==a&&(a=!0);var c=(new q.crypto.BaseCode(q.crypto.Base64.BYTES)).encodeBytes(b).toString();if(a)for(var d=0,f=(3-4*b.length%3)%3;d<f;)d++,c+="=";return c};q.crypto.BaseCode=function(b){for(var a=b.length,c=1;a>1<<c;)c++;if(8<c||a!=1<<c)throw"BaseCode : base length must be a power of two.";this.base=b;this.nbits=c};
l["haxe.crypto.BaseCode"]=q.crypto.BaseCode;q.crypto.BaseCode.__name__=!0;q.crypto.BaseCode.prototype={encodeBytes:function(b){for(var a=this.nbits,c=this.base,d=8*b.length/a|0,f=q.io.Bytes.alloc(d+(0==8*b.length%a?0:1)),k=0,e=0,g=(1<<a)-1,C=0,l=0;l<d;){for(;e<a;)e+=8,k<<=8,k|=b.get(C++);e-=a;f.set(l++,c.b[k>>e&g])}0<e&&f.set(l++,c.b[k<<a-e&g]);return f},__class__:q.crypto.BaseCode};q.crypto.Md5=function(){};l["haxe.crypto.Md5"]=q.crypto.Md5;q.crypto.Md5.__name__=!0;q.crypto.Md5.encode=function(b){var a=
new q.crypto.Md5;b=a.doEncode(q.crypto.Md5.str2blks(b));return a.hex(b)};q.crypto.Md5.str2blks=function(b){for(var a=(b.length+8>>6)+1,c=[],d=16*a,f=0;f<d;){var k=f++;c[k]=0}for(d=0;d<b.length;)c[d>>2]|=z.cca(b,d)<<(8*b.length+d)%4*8,d++;c[d>>2]|=128<<(8*b.length+d)%4*8;b=8*b.length;a=16*a-2;c[a]=b&255;c[a]|=(b>>>8&255)<<8;c[a]|=(b>>>16&255)<<16;c[a]|=(b>>>24&255)<<24;return c};q.crypto.Md5.prototype={bitOR:function(b,a){return(b>>>1|a>>>1)<<1|b&1|a&1},bitXOR:function(b,a){return(b>>>1^a>>>1)<<1|
b&1^a&1},bitAND:function(b,a){return(b>>>1&a>>>1)<<1|b&1&a&1},addme:function(b,a){var c=(b&65535)+(a&65535);return(b>>16)+(a>>16)+(c>>16)<<16|c&65535},hex:function(b){for(var a="",c=0;c<b.length;){var d=b[c];++c;for(var f=0;4>f;)var k=f++,a=a+("0123456789abcdef".charAt(d>>8*k+4&15)+"0123456789abcdef".charAt(d>>8*k&15))}return a},rol:function(b,a){return b<<a|b>>>32-a},cmn:function(b,a,c,d,f,k){return this.addme(this.rol(this.addme(this.addme(a,b),this.addme(d,k)),f),c)},ff:function(b,a,c,d,f,k,e){return this.cmn(this.bitOR(this.bitAND(a,
c),this.bitAND(~a,d)),b,a,f,k,e)},gg:function(b,a,c,d,f,k,e){return this.cmn(this.bitOR(this.bitAND(a,d),this.bitAND(c,~d)),b,a,f,k,e)},hh:function(b,a,c,d,f,k,e){return this.cmn(this.bitXOR(this.bitXOR(a,c),d),b,a,f,k,e)},ii:function(b,a,c,d,f,k,e){return this.cmn(this.bitXOR(c,this.bitOR(a,~d)),b,a,f,k,e)},doEncode:function(b){for(var a=1732584193,c=-271733879,d=-1732584194,f=271733878,k=0;k<b.length;)var e=a,g=c,C=d,l=f,a=this.ff(a,c,d,f,b[k],7,-680876936),f=this.ff(f,a,c,d,b[k+1],12,-389564586),
d=this.ff(d,f,a,c,b[k+2],17,606105819),c=this.ff(c,d,f,a,b[k+3],22,-1044525330),a=this.ff(a,c,d,f,b[k+4],7,-176418897),f=this.ff(f,a,c,d,b[k+5],12,1200080426),d=this.ff(d,f,a,c,b[k+6],17,-1473231341),c=this.ff(c,d,f,a,b[k+7],22,-45705983),a=this.ff(a,c,d,f,b[k+8],7,1770035416),f=this.ff(f,a,c,d,b[k+9],12,-1958414417),d=this.ff(d,f,a,c,b[k+10],17,-42063),c=this.ff(c,d,f,a,b[k+11],22,-1990404162),a=this.ff(a,c,d,f,b[k+12],7,1804603682),f=this.ff(f,a,c,d,b[k+13],12,-40341101),d=this.ff(d,f,a,c,b[k+14],
17,-1502002290),c=this.ff(c,d,f,a,b[k+15],22,1236535329),a=this.gg(a,c,d,f,b[k+1],5,-165796510),f=this.gg(f,a,c,d,b[k+6],9,-1069501632),d=this.gg(d,f,a,c,b[k+11],14,643717713),c=this.gg(c,d,f,a,b[k],20,-373897302),a=this.gg(a,c,d,f,b[k+5],5,-701558691),f=this.gg(f,a,c,d,b[k+10],9,38016083),d=this.gg(d,f,a,c,b[k+15],14,-660478335),c=this.gg(c,d,f,a,b[k+4],20,-405537848),a=this.gg(a,c,d,f,b[k+9],5,568446438),f=this.gg(f,a,c,d,b[k+14],9,-1019803690),d=this.gg(d,f,a,c,b[k+3],14,-187363961),c=this.gg(c,
d,f,a,b[k+8],20,1163531501),a=this.gg(a,c,d,f,b[k+13],5,-1444681467),f=this.gg(f,a,c,d,b[k+2],9,-51403784),d=this.gg(d,f,a,c,b[k+7],14,1735328473),c=this.gg(c,d,f,a,b[k+12],20,-1926607734),a=this.hh(a,c,d,f,b[k+5],4,-378558),f=this.hh(f,a,c,d,b[k+8],11,-2022574463),d=this.hh(d,f,a,c,b[k+11],16,1839030562),c=this.hh(c,d,f,a,b[k+14],23,-35309556),a=this.hh(a,c,d,f,b[k+1],4,-1530992060),f=this.hh(f,a,c,d,b[k+4],11,1272893353),d=this.hh(d,f,a,c,b[k+7],16,-155497632),c=this.hh(c,d,f,a,b[k+10],23,-1094730640),
a=this.hh(a,c,d,f,b[k+13],4,681279174),f=this.hh(f,a,c,d,b[k],11,-358537222),d=this.hh(d,f,a,c,b[k+3],16,-722521979),c=this.hh(c,d,f,a,b[k+6],23,76029189),a=this.hh(a,c,d,f,b[k+9],4,-640364487),f=this.hh(f,a,c,d,b[k+12],11,-421815835),d=this.hh(d,f,a,c,b[k+15],16,530742520),c=this.hh(c,d,f,a,b[k+2],23,-995338651),a=this.ii(a,c,d,f,b[k],6,-198630844),f=this.ii(f,a,c,d,b[k+7],10,1126891415),d=this.ii(d,f,a,c,b[k+14],15,-1416354905),c=this.ii(c,d,f,a,b[k+5],21,-57434055),a=this.ii(a,c,d,f,b[k+12],6,
1700485571),f=this.ii(f,a,c,d,b[k+3],10,-1894986606),d=this.ii(d,f,a,c,b[k+10],15,-1051523),c=this.ii(c,d,f,a,b[k+1],21,-2054922799),a=this.ii(a,c,d,f,b[k+8],6,1873313359),f=this.ii(f,a,c,d,b[k+15],10,-30611744),d=this.ii(d,f,a,c,b[k+6],15,-1560198380),c=this.ii(c,d,f,a,b[k+13],21,1309151649),a=this.ii(a,c,d,f,b[k+4],6,-145523070),f=this.ii(f,a,c,d,b[k+11],10,-1120210379),d=this.ii(d,f,a,c,b[k+2],15,718787259),c=this.ii(c,d,f,a,b[k+9],21,-343485551),a=this.addme(a,e),c=this.addme(c,g),d=this.addme(d,
C),f=this.addme(f,l),k=k+16;return[a,c,d,f]},__class__:q.crypto.Md5};q.ds={};q.ds.IntMap=function(){this.h={}};l["haxe.ds.IntMap"]=q.ds.IntMap;q.ds.IntMap.__name__=!0;q.ds.IntMap.__interfaces__=[O];q.ds.IntMap.prototype={set:function(b,a){this.h[b]=a},get:function(b){return this.h[b]},exists:function(b){return this.h.hasOwnProperty(b)},remove:function(b){if(!this.h.hasOwnProperty(b))return!1;delete this.h[b];return!0},__class__:q.ds.IntMap};q.ds.ObjectMap=function(){this.h={};this.h.__keys__={}};
l["haxe.ds.ObjectMap"]=q.ds.ObjectMap;q.ds.ObjectMap.__name__=!0;q.ds.ObjectMap.__interfaces__=[O];q.ds.ObjectMap.prototype={set:function(b,a){var c=b.__id__||(b.__id__=++q.ds.ObjectMap.count);this.h[c]=a;this.h.__keys__[c]=b},remove:function(b){b=b.__id__;if(null==this.h.__keys__[b])return!1;delete this.h[b];delete this.h.__keys__[b];return!0},keys:function(){var b=[],a;for(a in this.h.__keys__)this.h.hasOwnProperty(a)&&b.push(this.h.__keys__[a]);return z.iter(b)},iterator:function(){return{ref:this.h,
it:this.keys(),hasNext:function(){return this.it.hasNext()},next:function(){var b=this.it.next();return this.ref[b.__id__]}}},__class__:q.ds.ObjectMap};q.ds.StringMap=function(){this.h={}};l["haxe.ds.StringMap"]=q.ds.StringMap;q.ds.StringMap.__name__=!0;q.ds.StringMap.__interfaces__=[O];q.ds.StringMap.prototype={set:function(b,a){this.h["$"+b]=a},get:function(b){return this.h["$"+b]},exists:function(b){return this.h.hasOwnProperty("$"+b)},remove:function(b){b="$"+b;if(!this.h.hasOwnProperty(b))return!1;
delete this.h[b];return!0},keys:function(){var b=[],a;for(a in this.h)this.h.hasOwnProperty(a)&&b.push(a.substr(1));return z.iter(b)},iterator:function(){return{ref:this.h,it:this.keys(),hasNext:function(){return this.it.hasNext()},next:function(){var b=this.it.next();return this.ref["$"+b]}}},__class__:q.ds.StringMap};q.ds._Vector={};q.ds._Vector.Vector_Impl_=function(){};l["haxe.ds._Vector.Vector_Impl_"]=q.ds._Vector.Vector_Impl_;q.ds._Vector.Vector_Impl_.__name__=!0;q.ds._Vector.Vector_Impl_.blit=
function(b,a,c,d,f){for(var k=0;k<f;){var e=k++;c[d+e]=b[a+e]}};q.io.BytesBuffer=function(){this.b=[]};l["haxe.io.BytesBuffer"]=q.io.BytesBuffer;q.io.BytesBuffer.__name__=!0;q.io.BytesBuffer.prototype={addBytes:function(b,a,c){if(0>a||0>c||a+c>b.length)throw q.io.Error.OutsideBounds;b=b.b;var d=a;for(a+=c;d<a;)c=d++,this.b.push(b[c])},getBytes:function(){var b=new q.io.Bytes(this.b.length,this.b);this.b=null;return b},__class__:q.io.BytesBuffer};q.io.Output=function(){};l["haxe.io.Output"]=q.io.Output;
q.io.Output.__name__=!0;q.io.Output.prototype={writeByte:function(b){throw"Not implemented";},writeBytes:function(b,a,c){var d=c,f=b.b;if(0>a||0>c||a+c>b.length)throw q.io.Error.OutsideBounds;for(;0<d;)this.writeByte(f[a]),a++,d--;return c},write:function(b){for(var a=b.length,c=0;0<a;){var d=this.writeBytes(b,c,a);if(0==d)throw q.io.Error.Blocked;c+=d;a-=d}},__class__:q.io.Output};q.io.BytesOutput=function(){this.b=new q.io.BytesBuffer};l["haxe.io.BytesOutput"]=q.io.BytesOutput;q.io.BytesOutput.__name__=
!0;q.io.BytesOutput.__super__=q.io.Output;q.io.BytesOutput.prototype=w(q.io.Output.prototype,{writeByte:function(b){this.b.b.push(b)},writeBytes:function(b,a,c){this.b.addBytes(b,a,c);return c},getBytes:function(){return this.b.getBytes()},__class__:q.io.BytesOutput});q.io.Eof=function(){};l["haxe.io.Eof"]=q.io.Eof;q.io.Eof.__name__=!0;q.io.Eof.prototype={toString:function(){return"Eof"},__class__:q.io.Eof};q.io.Error=l["haxe.io.Error"]={__ename__:!0,__constructs__:["Blocked","Overflow","OutsideBounds",
"Custom"]};q.io.Error.Blocked=["Blocked",0];q.io.Error.Blocked.toString=m;q.io.Error.Blocked.__enum__=q.io.Error;q.io.Error.Overflow=["Overflow",1];q.io.Error.Overflow.toString=m;q.io.Error.Overflow.__enum__=q.io.Error;q.io.Error.OutsideBounds=["OutsideBounds",2];q.io.Error.OutsideBounds.toString=m;q.io.Error.OutsideBounds.__enum__=q.io.Error;q.io.Error.Custom=function(b){b=["Custom",3,b];b.__enum__=q.io.Error;b.toString=m;return b};q.io.Path=function(b){var a=b.lastIndexOf("/"),c=b.lastIndexOf("\\");
a<c?(this.dir=z.substr(b,0,c),b=z.substr(b,c+1,null),this.backslash=!0):c<a?(this.dir=z.substr(b,0,a),b=z.substr(b,a+1,null)):this.dir=null;a=b.lastIndexOf(".");-1!=a?(this.ext=z.substr(b,a+1,null),this.file=z.substr(b,0,a)):(this.ext=null,this.file=b)};l["haxe.io.Path"]=q.io.Path;q.io.Path.__name__=!0;q.io.Path.withoutExtension=function(b){b=new q.io.Path(b);b.ext=null;return b.toString()};q.io.Path.prototype={toString:function(){return(null==this.dir?"":this.dir+(this.backslash?"\\":"/"))+this.file+
(null==this.ext?"":"."+this.ext)},__class__:q.io.Path};var x={Boot:function(){}};l["js.Boot"]=x.Boot;x.Boot.__name__=!0;x.Boot.getClass=function(b){if(b instanceof Array&&null==b.__enum__)return Array;var a=b.__class__;if(null!=a)return a;b=x.Boot.__nativeClassName(b);return null!=b?x.Boot.__resolveNativeClass(b):null};x.Boot.__string_rec=function(b,a){if(null==b)return"null";if(5<=a.length)return"<...>";var c=typeof b;"function"==c&&(b.__name__||b.__ename__)&&(c="object");switch(c){case "object":if(b instanceof
Array){if(b.__enum__){if(2==b.length)return b[0];c=b[0]+"(";a+="\t";for(var d=2,f=b.length;d<f;)var k=d++,c=2!=k?c+(","+x.Boot.__string_rec(b[k],a)):c+x.Boot.__string_rec(b[k],a);return c+")"}c=b.length;d="[";a+="\t";for(f=0;f<c;)k=f++,d+=(0<k?",":"")+x.Boot.__string_rec(b[k],a);return d+"]"}try{d=b.toString}catch(e){return"???"}if(null!=d&&d!=Object.toString&&"function"==typeof d&&(c=b.toString(),"[object Object]"!=c))return c;c=null;d="{\n";a+="\t";f=null!=b.hasOwnProperty;for(c in b)f&&!b.hasOwnProperty(c)||
"prototype"==c||"__class__"==c||"__super__"==c||"__interfaces__"==c||"__properties__"==c||(2!=d.length&&(d+=", \n"),d+=a+c+" : "+x.Boot.__string_rec(b[c],a));a=a.substring(1);return d+("\n"+a+"}");case "function":return"<function>";case "string":return b;default:return String(b)}};x.Boot.__interfLoop=function(b,a){if(null==b)return!1;if(b==a)return!0;var c=b.__interfaces__;if(null!=c)for(var d=0,f=c.length;d<f;){var k=d++,k=c[k];if(k==a||x.Boot.__interfLoop(k,a))return!0}return x.Boot.__interfLoop(b.__super__,
a)};x.Boot.__instanceof=function(b,a){if(null==a)return!1;switch(a){case Da:return(b|0)===b;case va:return"number"==typeof b;case wa:return"boolean"==typeof b;case String:return"string"==typeof b;case Array:return b instanceof Array&&null==b.__enum__;case Ea:return!0;default:if(null!=b)if("function"==typeof a){if(b instanceof a||x.Boot.__interfLoop(x.Boot.getClass(b),a))return!0}else{if("object"==typeof a&&x.Boot.__isNativeObj(a)&&b instanceof a)return!0}else return!1;return a==xa&&null!=b.__name__||
a==Sa&&null!=b.__ename__?!0:b.__enum__==a}};x.Boot.__cast=function(b,a){if(x.Boot.__instanceof(b,a))return b;throw"Cannot cast "+r.string(b)+" to "+r.string(a);};x.Boot.__nativeClassName=function(b){b=x.Boot.__toStr.call(b).slice(8,-1);return"Object"==b||"Function"==b||"Math"==b||"JSON"==b?null:b};x.Boot.__isNativeObj=function(b){return null!=x.Boot.__nativeClassName(b)};x.Boot.__resolveNativeClass=function(b){return Function("return typeof "+b+' != "undefined" ? '+b+" : null")()};e.AssetCache=function(){this.enabled=
!0;this.audio=new q.ds.StringMap;this.font=new q.ds.StringMap;this.image=new q.ds.StringMap};l["lime.AssetCache"]=e.AssetCache;e.AssetCache.__name__=!0;e.AssetCache.prototype={clear:function(b){if(null==b)this.audio=new q.ds.StringMap,this.font=new q.ds.StringMap,this.image=new q.ds.StringMap;else{for(var a=this.audio.keys();a.hasNext();){var c=a.next();G.startsWith(c,b)&&this.audio.remove(c)}for(a=this.font.keys();a.hasNext();)c=a.next(),G.startsWith(c,b)&&this.font.remove(c);for(a=this.image.keys();a.hasNext();)c=
a.next(),G.startsWith(c,b)&&this.image.remove(c)}},__class__:e.AssetCache};e.app={};e.app.Event_Void_Void=function(){this.listeners=[];this.priorities=[];this.repeat=[]};l["lime.app.Event_Void_Void"]=e.app.Event_Void_Void;e.app.Event_Void_Void.__name__=!0;e.app.Event_Void_Void.prototype={add:function(b,a,c){null==c&&(c=0);null==a&&(a=!1);for(var d=0,f=this.priorities.length;d<f;){var k=d++;if(c>this.priorities[k]){this.listeners.splice(k,0,b);this.priorities.splice(k,0,c);this.repeat.splice(k,0,!a);
return}}this.listeners.push(b);this.priorities.push(c);this.repeat.push(!a)},remove:function(b){for(var a=this.listeners.length;0<=--a;)v.compareMethods(this.listeners[a],b)&&(this.listeners.splice(a,1),this.priorities.splice(a,1),this.repeat.splice(a,1))},dispatch:function(){for(var b=this.listeners,a=this.repeat,c=0;c<b.length;)b[c](),a[c]?c++:this.remove(b[c])},__class__:e.app.Event_Void_Void};e.Assets=function(){};l["lime.Assets"]=e.Assets;e.Assets.__name__=!0;e.Assets.getFont=function(b,a){null==
a&&(a=!0);e.Assets.initialize();if(a&&e.Assets.cache.enabled&&e.Assets.cache.font.exists(b))return e.Assets.cache.font.get(b);var c=b.substring(0,b.indexOf(":")),d;d=b.indexOf(":")+1;d=z.substr(b,d,null);var f=e.Assets.getLibrary(c);if(null!=f)if(f.exists(d,"FONT")){if(f.isLocal(d,"FONT"))return c=f.getFont(d),a&&e.Assets.cache.enabled&&e.Assets.cache.font.set(b,c),c;console.log('[Assets] Font asset "'+b+'" exists, but only asynchronously')}else console.log('[Assets] There is no Font asset with an ID of "'+
b+'"');else console.log('[Assets] There is no asset library named "'+c+'"');return null};e.Assets.getImage=function(b,a){null==a&&(a=!0);e.Assets.initialize();if(a&&e.Assets.cache.enabled&&e.Assets.cache.image.exists(b)){var c=e.Assets.cache.image.get(b);if(e.Assets.isValidImage(c))return c}var c=b.substring(0,b.indexOf(":")),d;d=b.indexOf(":")+1;d=z.substr(b,d,null);var f=e.Assets.getLibrary(c);if(null!=f)if(f.exists(d,"IMAGE")){if(f.isLocal(d,"IMAGE"))return c=f.getImage(d),a&&e.Assets.cache.enabled&&
e.Assets.cache.image.set(b,c),c;console.log('[Assets] Image asset "'+b+'" exists, but only asynchronously')}else console.log('[Assets] There is no Image asset with an ID of "'+b+'"');else console.log('[Assets] There is no asset library named "'+c+'"');return null};e.Assets.getLibrary=function(b){if(null==b||""==b)b="default";return e.Assets.libraries.get(b)};e.Assets.initialize=function(){e.Assets.initialized||(e.Assets.registerLibrary("default",new ja),e.Assets.initialized=!0)};e.Assets.isValidImage=
function(b){return!0};e.Assets.registerLibrary=function(b,a){if(e.Assets.libraries.exists(b)){if(e.Assets.libraries.get(b)==a)return;e.Assets.unloadLibrary(b)}null!=a&&a.onChange.add(e.Assets.library_onChange);e.Assets.libraries.set(b,a)};e.Assets.unloadLibrary=function(b){e.Assets.initialize();var a=e.Assets.libraries.get(b);null!=a&&(e.Assets.cache.clear(b+":"),a.onChange.remove(e.Assets.library_onChange),a.unload());e.Assets.libraries.remove(b)};e.Assets.library_onChange=function(){e.Assets.cache.clear();
e.Assets.onChange.dispatch()};e._backend={};e._backend.html5={};e._backend.html5.HTML5Application=function(b){this.parent=b;this.nextUpdate=this.lastUpdate=this.currentUpdate=0;this.framePeriod=-1;e.audio.AudioManager.init()};l["lime._backend.html5.HTML5Application"]=e._backend.html5.HTML5Application;e._backend.html5.HTML5Application.__name__=!0;e._backend.html5.HTML5Application.prototype={convertKeyCode:function(b){if(65<=b&&90>=b)return b+32;switch(b){case 16:return 1073742049;case 17:return 1073742048;
case 18:return 1073742050;case 20:return 1073741881;case 144:return 1073741907;case 37:return 1073741904;case 38:return 1073741906;case 39:return 1073741903;case 40:return 1073741905;case 45:return 1073741897;case 46:return 127;case 36:return 1073741898;case 35:return 1073741901;case 33:return 1073741899;case 34:return 1073741902;case 112:return 1073741882;case 113:return 1073741883;case 114:return 1073741884;case 115:return 1073741885;case 116:return 1073741886;case 117:return 1073741887;case 118:return 1073741888;
case 119:return 1073741889;case 120:return 1073741890;case 121:return 1073741891;case 122:return 1073741892;case 123:return 1073741893;case 124:return 1073741928;case 125:return 1073741929;case 126:return 1073741930;case 186:return 59;case 187:return 61;case 188:return 44;case 189:return 45;case 190:return 46;case 191:return 47;case 192:return 96;case 219:return 91;case 220:return 92;case 221:return 93;case 222:return 39}return b},create:function(b){},exec:function(){window.addEventListener("keydown",
t(this,this.handleKeyEvent),!1);window.addEventListener("keyup",t(this,this.handleKeyEvent),!1);window.addEventListener("focus",t(this,this.handleWindowEvent),!1);window.addEventListener("blur",t(this,this.handleWindowEvent),!1);window.addEventListener("resize",t(this,this.handleWindowEvent),!1);window.addEventListener("beforeunload",t(this,this.handleWindowEvent),!1);for(var b=0,a=["ms","moz","webkit","o"],c=0;c<a.length&&!window.requestAnimationFrame;++c)window.requestAnimationFrame=window[a[c]+
"RequestAnimationFrame"],window.cancelAnimationFrame=window[a[c]+"CancelAnimationFrame"]||window[a[c]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(a,c){var h=(new Date).getTime(),e=Math.max(0,16-(h-b)),g=window.setTimeout(function(){a(h+e)},e);b=h+e;return g});window.cancelAnimationFrame||(window.cancelAnimationFrame=function(b){clearTimeout(b)});window.requestAnimFrame=window.requestAnimationFrame;this.lastUpdate=(new Date).getTime();this.handleApplicationEvent();
return 0},exit:function(){},handleApplicationEvent:function(b){this.currentUpdate=(new Date).getTime();this.currentUpdate>=this.nextUpdate&&(this.deltaTime=this.currentUpdate-this.lastUpdate,this.parent.onUpdate.dispatch(this.deltaTime|0),null!=this.parent.renderers[0]&&(this.parent.renderers[0].onRender.dispatch(),this.parent.renderers[0].flip()),this.nextUpdate=0>this.framePeriod?this.nextUpdate=this.currentUpdate:this.currentUpdate+this.framePeriod,this.lastUpdate=this.currentUpdate);window.requestAnimationFrame(t(this,
this.handleApplicationEvent))},handleKeyEvent:function(b){if(null!=this.parent.windows[0]){var a=this.convertKeyCode(null!=b.keyCode?b.keyCode:b.which),c;c=(b.shiftKey?3:0)|(b.ctrlKey?192:0)|(b.altKey?768:0)|(b.metaKey?3072:0);"keydown"==b.type?this.parent.windows[0].onKeyDown.dispatch(a,c):this.parent.windows[0].onKeyUp.dispatch(a,c)}},handleWindowEvent:function(b){if(null!=this.parent.windows[0])switch(b.type){case "focus":this.parent.windows[0].onFocusIn.dispatch();this.parent.windows[0].onActivate.dispatch();
break;case "blur":this.parent.windows[0].onFocusOut.dispatch();this.parent.windows[0].onDeactivate.dispatch();break;case "resize":b=this.parent.windows[0].__width;var a=this.parent.windows[0].__height;this.parent.windows[0].backend.handleResize();this.parent.windows[0].__width==b&&this.parent.windows[0].__height==a||this.parent.windows[0].onResize.dispatch(this.parent.windows[0].__width,this.parent.windows[0].__height);break;case "beforeunload":this.parent.windows[0].onClose.dispatch()}},setFrameRate:function(b){this.framePeriod=
60<=b?-1:0<b?1E3/b:1E3;return b},__class__:e._backend.html5.HTML5Application};e._backend.html5.HTML5Mouse=function(){};l["lime._backend.html5.HTML5Mouse"]=e._backend.html5.HTML5Mouse;e._backend.html5.HTML5Mouse.__name__=!0;e._backend.html5.HTML5Mouse.__cursor=null;e._backend.html5.HTML5Mouse.__hidden=null;e._backend.html5.HTML5Mouse.set_cursor=function(b){if(e._backend.html5.HTML5Mouse.__cursor!=b){if(!e._backend.html5.HTML5Mouse.__hidden)for(var a=0,c=e.app.Application.current.windows;a<c.length;){var d=
c[a];++a;switch(b[1]){case 0:d.backend.element.style.cursor="default";break;case 1:d.backend.element.style.cursor="crosshair";break;case 3:d.backend.element.style.cursor="move";break;case 4:d.backend.element.style.cursor="pointer";break;case 5:d.backend.element.style.cursor="nesw-resize";break;case 6:d.backend.element.style.cursor="ns-resize";break;case 7:d.backend.element.style.cursor="nwse-resize";break;case 8:d.backend.element.style.cursor="ew-resize";break;case 9:d.backend.element.style.cursor=
"text";break;case 10:d.backend.element.style.cursor="wait";break;case 11:d.backend.element.style.cursor="wait";break;default:d.backend.element.style.cursor="auto"}}e._backend.html5.HTML5Mouse.__cursor=b}return e._backend.html5.HTML5Mouse.__cursor};e._backend.html5.HTML5Renderer=function(b){this.parent=b};l["lime._backend.html5.HTML5Renderer"]=e._backend.html5.HTML5Renderer;e._backend.html5.HTML5Renderer.__name__=!0;e._backend.html5.HTML5Renderer.prototype={create:function(){this.createContext();switch(this.parent.context[1]){case 0:this.parent.window.backend.canvas.addEventListener("webglcontextlost",
t(this,this.handleEvent),!1),this.parent.window.backend.canvas.addEventListener("webglcontextrestored",t(this,this.handleEvent),!1)}},createContext:function(){null!=this.parent.window.backend.div?(this.parent.context=e.graphics.RenderContext.DOM(this.parent.window.backend.div),this.parent.type=e.graphics.RendererType.DOM):null!=this.parent.window.backend.canvas&&(this.parent.context=e.graphics.RenderContext.CANVAS(this.parent.window.backend.canvas.getContext("2d")),this.parent.type=e.graphics.RendererType.CANVAS)},
flip:function(){},handleEvent:function(b){switch(b.type){case "webglcontextlost":b.preventDefault();this.parent.context=null;this.parent.onContextLost.dispatch();break;case "webglcontextrestored":this.createContext(),this.parent.onContextRestored.dispatch(this.parent.context)}},__class__:e._backend.html5.HTML5Renderer};e._backend.html5.HTML5Window=function(b){this.unusedTouchesPool=new ea;this.currentTouches=new q.ds.IntMap;this.parent=b;null!=b.config&&Object.prototype.hasOwnProperty.call(b.config,
"element")&&(this.element=b.config.element)};l["lime._backend.html5.HTML5Window"]=e._backend.html5.HTML5Window;e._backend.html5.HTML5Window.__name__=!0;e._backend.html5.HTML5Window.textInput=null;e._backend.html5.HTML5Window.prototype={close:function(){this.parent.application.removeWindow(this.parent)},create:function(b){this.setWidth=this.parent.__width;this.setHeight=this.parent.__height;this.parent.id=e._backend.html5.HTML5Window.windowID++;x.Boot.__instanceof(this.element,HTMLCanvasElement)?this.canvas=
this.element:this.canvas=window.document.createElement("canvas");null!=this.canvas?(b=this.canvas.style,b.setProperty("-webkit-transform","translateZ(0)",null),b.setProperty("transform","translateZ(0)",null)):null!=this.div&&(b=this.div.style,b.setProperty("-webkit-transform","translate3D(0,0,0)",null),b.setProperty("transform","translate3D(0,0,0)",null),b.position="relative",b.overflow="hidden",b.setProperty("-webkit-user-select","none",null),b.setProperty("-moz-user-select","none",null),b.setProperty("-ms-user-select",
"none",null),b.setProperty("-o-user-select","none",null));0==this.parent.__width&&0==this.parent.__height&&(null!=this.element?(this.parent.set_width(this.element.clientWidth),this.parent.set_height(this.element.clientHeight)):(this.parent.set_width(window.innerWidth),this.parent.set_height(window.innerHeight)),this.parent.set_fullscreen(!0));null!=this.canvas?(this.canvas.width=this.parent.__width,this.canvas.height=this.parent.__height):(this.div.style.width=this.parent.__width+"px",this.div.style.height=
this.parent.__height+"px");this.handleResize();if(null!=this.element){null!=this.canvas?this.element!=this.canvas&&this.element.appendChild(this.canvas):this.element.appendChild(this.div);b="mousedown mouseenter mouseleave mousemove mouseup wheel".split(" ");for(var a=0;a<b.length;){var c=b[a];++a;this.element.addEventListener(c,t(this,this.handleMouseEvent),!0)}window.document.addEventListener("dragstart",function(b){return"img"==b.target.nodeName.toLowerCase()?(b.preventDefault(),!1):!0},!1);this.element.addEventListener("touchstart",
t(this,this.handleTouchEvent),!0);this.element.addEventListener("touchmove",t(this,this.handleTouchEvent),!0);this.element.addEventListener("touchend",t(this,this.handleTouchEvent),!0)}},handleFocusEvent:function(b){this.enableTextEvents&&q.Timer.delay(function(){e._backend.html5.HTML5Window.textInput.focus()},20)},handleInputEvent:function(b){""!=e._backend.html5.HTML5Window.textInput.value&&(this.parent.onTextInput.dispatch(e._backend.html5.HTML5Window.textInput.value),e._backend.html5.HTML5Window.textInput.value=
"")},handleMouseEvent:function(b){var a=0,c=0;if("wheel"!=b.type)switch(null!=this.element?null!=this.canvas?(c=this.canvas.getBoundingClientRect(),a=this.parent.__width/c.width*(b.clientX-c.left),c=this.parent.__height/c.height*(b.clientY-c.top)):null!=this.div?(c=this.div.getBoundingClientRect(),a=b.clientX-c.left,c=b.clientY-c.top):(c=this.element.getBoundingClientRect(),a=this.parent.__width/c.width*(b.clientX-c.left),c=this.parent.__height/c.height*(b.clientY-c.top)):(a=b.clientX,c=b.clientY),
b.type){case "mousedown":this.parent.onMouseDown.dispatch(a,c,b.button);break;case "mouseenter":this.parent.onEnter.dispatch();break;case "mouseleave":this.parent.onLeave.dispatch();break;case "mouseup":this.parent.onMouseUp.dispatch(a,c,b.button);break;case "mousemove":this.parent.onMouseMove.dispatch(a,c)}else this.parent.onMouseWheel.dispatch(b.deltaX,-b.deltaY)},handleResize:function(){var b=this.parent.__fullscreen||0==this.setWidth&&0==this.setHeight;if(null!=this.element&&(null==this.div||
null!=this.div&&b))if(b){if(this.parent.__width!=this.element.clientWidth||this.parent.__height!=this.element.clientHeight)this.parent.set_width(this.element.clientWidth),this.parent.set_height(this.element.clientHeight),null!=this.canvas?this.element!=this.canvas&&(this.canvas.width=this.element.clientWidth,this.canvas.height=this.element.clientHeight):(this.div.style.width=this.element.clientWidth+"px",this.div.style.height=this.element.clientHeight+"px")}else b=Math.min(this.element.clientWidth/
this.setWidth,this.element.clientHeight/this.setHeight),null!=this.canvas?this.element!=this.canvas&&(this.canvas.style.width=this.setWidth*b+"px",this.canvas.style.height=this.setHeight*b+"px",this.canvas.style.marginLeft=(this.element.clientWidth-this.setWidth*b)/2+"px",this.canvas.style.marginTop=(this.element.clientHeight-this.setHeight*b)/2+"px"):(this.div.style.width=this.setWidth*b+"px",this.div.style.height=this.setHeight*b+"px",this.div.style.marginLeft=(this.element.clientWidth-this.setWidth*
b)/2+"px",this.div.style.marginTop=(this.element.clientHeight-this.setHeight*b)/2+"px")},handleTouchEvent:function(b){b.preventDefault();var a=null;null!=this.element&&(a=null!=this.canvas?this.canvas.getBoundingClientRect():null!=this.div?this.div.getBoundingClientRect():this.element.getBoundingClientRect());for(var c=0,d=b.changedTouches;c<d.length;){var f=d[c];++c;var k=0,I=0;null!=a?(k=this.parent.__width/a.width*(f.clientX-a.left),I=this.parent.__height/a.height*(f.clientY-a.top)):(k=f.clientX,
I=f.clientY);switch(b.type){case "touchstart":var g=this.unusedTouchesPool.pop();null==g?g=new e.ui.Touch(k/this.setWidth,I/this.setHeight,f.identifier,0,0,f.force,this.parent.id):(g.x=k/this.setWidth,g.y=I/this.setHeight,g.id=f.identifier,g.dx=0,g.dy=0,g.pressure=f.force,g.device=this.parent.id);this.currentTouches.set(f.identifier,g);e.ui.Touch.onStart.dispatch(g);null==this.primaryTouch&&(this.primaryTouch=g);g==this.primaryTouch&&this.parent.onMouseDown.dispatch(k,I,0);break;case "touchend":g=
this.currentTouches.get(f.identifier);if(null!=g){var C=g.x,l=g.y;g.x=k/this.setWidth;g.y=I/this.setHeight;g.dx=g.x-C;g.dy=g.y-l;g.pressure=f.force;e.ui.Touch.onEnd.dispatch(g);this.currentTouches.remove(f.identifier);this.unusedTouchesPool.add(g);g==this.primaryTouch&&(this.parent.onMouseUp.dispatch(k,I,0),this.primaryTouch=null)}break;case "touchmove":g=this.currentTouches.get(f.identifier),null!=g&&(C=g.x,l=g.y,g.x=k/this.setWidth,g.y=I/this.setHeight,g.dx=g.x-C,g.dy=g.y-l,g.pressure=f.force,e.ui.Touch.onMove.dispatch(g),
g==this.primaryTouch&&this.parent.onMouseMove.dispatch(k,I))}}},resize:function(b,a){},setEnableTextEvents:function(b){b?(null==e._backend.html5.HTML5Window.textInput&&(e._backend.html5.HTML5Window.textInput=window.document.createElement("input"),e._backend.html5.HTML5Window.textInput.type="text",e._backend.html5.HTML5Window.textInput.style.position="absolute",e._backend.html5.HTML5Window.textInput.style.opacity="0",e._backend.html5.HTML5Window.textInput.style.color="transparent",e._backend.html5.HTML5Window.textInput.value=
"",e._backend.html5.HTML5Window.textInput.autocapitalize="off",e._backend.html5.HTML5Window.textInput.autocorrect="off",e._backend.html5.HTML5Window.textInput.autocomplete="off",e._backend.html5.HTML5Window.textInput.style.left="0px",e._backend.html5.HTML5Window.textInput.style.top="50%",(new P("(iPad|iPhone|iPod).*OS 8_","gi")).match(window.navigator.userAgent)?(e._backend.html5.HTML5Window.textInput.style.fontSize="0px",e._backend.html5.HTML5Window.textInput.style.width="0px",e._backend.html5.HTML5Window.textInput.style.height=
"0px"):(e._backend.html5.HTML5Window.textInput.style.width="1px",e._backend.html5.HTML5Window.textInput.style.height="1px"),e._backend.html5.HTML5Window.textInput.style.pointerEvents="none",e._backend.html5.HTML5Window.textInput.style.zIndex="-10000000",window.document.body.appendChild(e._backend.html5.HTML5Window.textInput)),this.enableTextEvents||(e._backend.html5.HTML5Window.textInput.addEventListener("input",t(this,this.handleInputEvent),!0),e._backend.html5.HTML5Window.textInput.addEventListener("blur",
t(this,this.handleFocusEvent),!0)),e._backend.html5.HTML5Window.textInput.focus()):null!=e._backend.html5.HTML5Window.textInput&&(e._backend.html5.HTML5Window.textInput.removeEventListener("input",t(this,this.handleInputEvent),!0),e._backend.html5.HTML5Window.textInput.removeEventListener("blur",t(this,this.handleFocusEvent),!0),e._backend.html5.HTML5Window.textInput.blur());return this.enableTextEvents=b},setFullscreen:function(b){return!1},__class__:e._backend.html5.HTML5Window};e.app.IModule=function(){};
l["lime.app.IModule"]=e.app.IModule;e.app.IModule.__name__=!0;e.app.IModule.prototype={__class__:e.app.IModule};e.app.Module=function(){this.onExit=new e.app.Event_Int_Void};l["lime.app.Module"]=e.app.Module;e.app.Module.__name__=!0;e.app.Module.__interfaces__=[e.app.IModule];e.app.Module.prototype={onGamepadAxisMove:function(b,a,c){},onGamepadButtonDown:function(b,a){},onGamepadButtonUp:function(b,a){},onGamepadConnect:function(b){},onGamepadDisconnect:function(b){},onJoystickAxisMove:function(b,
a,c){},onJoystickButtonDown:function(b,a){},onJoystickButtonUp:function(b,a){},onJoystickConnect:function(b){},onJoystickDisconnect:function(b){},onJoystickHatMove:function(b,a,c){},onJoystickTrackballMove:function(b,a,c){},onKeyDown:function(b,a,c){},onKeyUp:function(b,a,c){},onModuleExit:function(b){},onMouseDown:function(b,a,c,d){},onMouseMove:function(b,a,c){},onMouseMoveRelative:function(b,a,c){},onMouseUp:function(b,a,c,d){},onMouseWheel:function(b,a,c){},onPreloadComplete:function(){},onPreloadProgress:function(b,
a){},onRenderContextLost:function(b){},onRenderContextRestored:function(b,a){},onTextEdit:function(b,a,c,d){},onTextInput:function(b,a){},onTouchEnd:function(b){},onTouchMove:function(b){},onTouchStart:function(b){},onWindowActivate:function(b){},onWindowClose:function(b){},onWindowCreate:function(b){},onWindowDeactivate:function(b){},onWindowEnter:function(b){},onWindowFocusIn:function(b){},onWindowFocusOut:function(b){},onWindowFullscreen:function(b){},onWindowLeave:function(b){},onWindowMove:function(b,
a,c){},onWindowMinimize:function(b){},onWindowResize:function(b,a,c){},onWindowRestore:function(b){},render:function(b){},update:function(b){},__class__:e.app.Module};e.app.Application=function(){this.onUpdate=new e.app.Event_Int_Void;e.app.Module.call(this);null==e.app.Application.current&&(e.app.Application.current=this);this.modules=[];this.renderers=[];this.windows=[];this.windowByID=new q.ds.IntMap;this.backend=new e._backend.html5.HTML5Application(this);this.onExit.add(t(this,this.onModuleExit));
this.onUpdate.add(t(this,this.update));e.ui.Gamepad.onConnect.add(t(this,this.onGamepadConnect));e.ui.Joystick.onConnect.add(t(this,this.onJoystickConnect));e.ui.Touch.onStart.add(t(this,this.onTouchStart));e.ui.Touch.onMove.add(t(this,this.onTouchMove));e.ui.Touch.onEnd.add(t(this,this.onTouchEnd))};l["lime.app.Application"]=e.app.Application;e.app.Application.__name__=!0;e.app.Application.current=null;e.app.Application.__super__=e.app.Module;e.app.Application.prototype=w(e.app.Module.prototype,
{addModule:function(b){this.modules.push(b);if(0<this.windows.length){for(var a=0,c=this.windows;a<c.length;){var d=c[a];++a;b.onWindowCreate(d)}if(null==this.preloader||this.preloader.complete)b.onPreloadComplete()}},addRenderer:function(b){b.onRender.add(function(b,a){return function(){return b(a)}}(t(this,this.render),b));b.onContextLost.add(function(b,a){return function(){return b(a)}}(t(this,this.onRenderContextLost),b));b.onContextRestored.add(function(b,a){return function(d){return b(a,d)}}(t(this,
this.onRenderContextRestored),b));this.renderers.push(b)},createWindow:function(b){b.onActivate.add(function(b,a){return function(){return b(a)}}(t(this,this.onWindowActivate),b));b.onClose.add(function(b,a){return function(){return b(a)}}(t(this,this.onWindowClose),b));b.onCreate.add(function(b,a){return function(){return b(a)}}(t(this,this.onWindowCreate),b));b.onDeactivate.add(function(b,a){return function(){return b(a)}}(t(this,this.onWindowDeactivate),b));b.onEnter.add(function(b,a){return function(){return b(a)}}(t(this,
this.onWindowEnter),b));b.onFocusIn.add(function(b,a){return function(){return b(a)}}(t(this,this.onWindowFocusIn),b));b.onFocusOut.add(function(b,a){return function(){return b(a)}}(t(this,this.onWindowFocusOut),b));b.onFullscreen.add(function(b,a){return function(){return b(a)}}(t(this,this.onWindowFullscreen),b));b.onKeyDown.add(function(b,a){return function(h,k){return b(a,h,k)}}(t(this,this.onKeyDown),b));b.onKeyUp.add(function(b,a){return function(h,k){return b(a,h,k)}}(t(this,this.onKeyUp),
b));b.onLeave.add(function(b,a){return function(){return b(a)}}(t(this,this.onWindowLeave),b));b.onMinimize.add(function(b,a){return function(){return b(a)}}(t(this,this.onWindowMinimize),b));b.onMouseDown.add(function(b,a){return function(h,k,e){return b(a,h,k,e)}}(t(this,this.onMouseDown),b));b.onMouseMove.add(function(b,a){return function(h,k){return b(a,h,k)}}(t(this,this.onMouseMove),b));b.onMouseMoveRelative.add(function(b,a){return function(h,k){return b(a,h,k)}}(t(this,this.onMouseMoveRelative),
b));b.onMouseUp.add(function(b,a){return function(h,k,e){return b(a,h,k,e)}}(t(this,this.onMouseUp),b));b.onMouseWheel.add(function(b,a){return function(h,k){return b(a,h,k)}}(t(this,this.onMouseWheel),b));b.onMove.add(function(b,a){return function(h,k){return b(a,h,k)}}(t(this,this.onWindowMove),b));b.onResize.add(function(b,a){return function(h,k){return b(a,h,k)}}(t(this,this.onWindowResize),b));b.onRestore.add(function(b,a){return function(){return b(a)}}(t(this,this.onWindowRestore),b));b.onTextEdit.add(function(b,
a){return function(h,k,e){return b(a,h,k,e)}}(t(this,this.onTextEdit),b));b.onTextInput.add(function(b,a){return function(h){return b(a,h)}}(t(this,this.onTextInput),b));if(null==b.renderer){var a=new e.graphics.Renderer(b);this.addRenderer(a)}b.create(this);this.windows.push(b);this.windowByID.set(b.id,b);b.onCreate.dispatch()},exec:function(){e.app.Application.current=this;return this.backend.exec()},onGamepadAxisMove:function(b,a,c){for(var d=0,f=this.modules;d<f.length;){var k=f[d];++d;k.onGamepadAxisMove(b,
a,c)}},onGamepadButtonDown:function(b,a){for(var c=0,d=this.modules;c<d.length;){var f=d[c];++c;f.onGamepadButtonDown(b,a)}},onGamepadButtonUp:function(b,a){for(var c=0,d=this.modules;c<d.length;){var f=d[c];++c;f.onGamepadButtonUp(b,a)}},onGamepadConnect:function(b){for(var a=0,c=this.modules;a<c.length;){var d=c[a];++a;d.onGamepadConnect(b)}b.onAxisMove.add(function(b,a){return function(c,h){return b(a,c,h)}}(t(this,this.onGamepadAxisMove),b));b.onButtonDown.add(function(b,a){return function(c){return b(a,
c)}}(t(this,this.onGamepadButtonDown),b));b.onButtonUp.add(function(b,a){return function(c){return b(a,c)}}(t(this,this.onGamepadButtonUp),b));b.onDisconnect.add(function(b,a){return function(){return b(a)}}(t(this,this.onGamepadDisconnect),b))},onGamepadDisconnect:function(b){for(var a=0,c=this.modules;a<c.length;){var d=c[a];++a;d.onGamepadDisconnect(b)}},onJoystickAxisMove:function(b,a,c){for(var d=0,f=this.modules;d<f.length;){var k=f[d];++d;k.onJoystickAxisMove(b,a,c)}},onJoystickButtonDown:function(b,
a){for(var c=0,d=this.modules;c<d.length;){var f=d[c];++c;f.onJoystickButtonDown(b,a)}},onJoystickButtonUp:function(b,a){for(var c=0,d=this.modules;c<d.length;){var f=d[c];++c;f.onJoystickButtonUp(b,a)}},onJoystickConnect:function(b){for(var a=0,c=this.modules;a<c.length;){var d=c[a];++a;d.onJoystickConnect(b)}b.onAxisMove.add(function(b,a){return function(c,h){return b(a,c,h)}}(t(this,this.onJoystickAxisMove),b));b.onButtonDown.add(function(b,a){return function(c){return b(a,c)}}(t(this,this.onJoystickButtonDown),
b));b.onButtonUp.add(function(b,a){return function(c){return b(a,c)}}(t(this,this.onJoystickButtonUp),b));b.onDisconnect.add(function(b,a){return function(){return b(a)}}(t(this,this.onJoystickDisconnect),b));b.onHatMove.add(function(b,a){return function(c,h){return b(a,c,h)}}(t(this,this.onJoystickHatMove),b));b.onTrackballMove.add(function(b,a){return function(c,h){return b(a,c,h)}}(t(this,this.onJoystickTrackballMove),b))},onJoystickDisconnect:function(b){for(var a=0,c=this.modules;a<c.length;){var d=
c[a];++a;d.onJoystickDisconnect(b)}},onJoystickHatMove:function(b,a,c){for(var d=0,f=this.modules;d<f.length;){var k=f[d];++d;k.onJoystickHatMove(b,a,c)}},onJoystickTrackballMove:function(b,a,c){for(var d=0,f=this.modules;d<f.length;){var k=f[d];++d;k.onJoystickTrackballMove(b,a,c)}},onKeyDown:function(b,a,c){for(var d=0,f=this.modules;d<f.length;){var k=f[d];++d;k.onKeyDown(b,a,c)}},onKeyUp:function(b,a,c){for(var d=0,f=this.modules;d<f.length;){var k=f[d];++d;k.onKeyUp(b,a,c)}},onModuleExit:function(b){for(var a=
0,c=this.modules;a<c.length;){var d=c[a];++a;d.onModuleExit(b)}this.backend.exit()},onMouseDown:function(b,a,c,d){for(var f=0,k=this.modules;f<k.length;){var e=k[f];++f;e.onMouseDown(b,a,c,d)}},onMouseMove:function(b,a,c){for(var d=0,f=this.modules;d<f.length;){var k=f[d];++d;k.onMouseMove(b,a,c)}},onMouseMoveRelative:function(b,a,c){for(var d=0,f=this.modules;d<f.length;){var k=f[d];++d;k.onMouseMoveRelative(b,a,c)}},onMouseUp:function(b,a,c,d){for(var f=0,k=this.modules;f<k.length;){var e=k[f];
++f;e.onMouseUp(b,a,c,d)}},onMouseWheel:function(b,a,c){for(var d=0,f=this.modules;d<f.length;){var k=f[d];++d;k.onMouseWheel(b,a,c)}},onPreloadComplete:function(){for(var b=0,a=this.modules;b<a.length;){var c=a[b];++b;c.onPreloadComplete()}},onPreloadProgress:function(b,a){for(var c=0,d=this.modules;c<d.length;){var f=d[c];++c;f.onPreloadProgress(b,a)}},onRenderContextLost:function(b){for(var a=0,c=this.modules;a<c.length;){var d=c[a];++a;d.onRenderContextLost(b)}},onRenderContextRestored:function(b,
a){for(var c=0,d=this.modules;c<d.length;){var f=d[c];++c;f.onRenderContextRestored(b,a)}},onTextEdit:function(b,a,c,d){for(var f=0,k=this.modules;f<k.length;){var e=k[f];++f;e.onTextEdit(b,a,c,d)}},onTextInput:function(b,a){for(var c=0,d=this.modules;c<d.length;){var f=d[c];++c;f.onTextInput(b,a)}},onTouchEnd:function(b){for(var a=0,c=this.modules;a<c.length;){var d=c[a];++a;d.onTouchEnd(b)}},onTouchMove:function(b){for(var a=0,c=this.modules;a<c.length;){var d=c[a];++a;d.onTouchMove(b)}},onTouchStart:function(b){for(var a=
0,c=this.modules;a<c.length;){var d=c[a];++a;d.onTouchStart(b)}},onWindowActivate:function(b){for(var a=0,c=this.modules;a<c.length;){var d=c[a];++a;d.onWindowActivate(b)}},onWindowClose:function(b){for(var a=0,c=this.modules;a<c.length;){var d=c[a];++a;d.onWindowClose(b)}this.removeWindow(b)},onWindowCreate:function(b){for(var a=0,c=this.modules;a<c.length;){var d=c[a];++a;d.onWindowCreate(b)}},onWindowDeactivate:function(b){for(var a=0,c=this.modules;a<c.length;){var d=c[a];++a;d.onWindowDeactivate(b)}},
onWindowEnter:function(b){for(var a=0,c=this.modules;a<c.length;){var d=c[a];++a;d.onWindowEnter(b)}},onWindowFocusIn:function(b){for(var a=0,c=this.modules;a<c.length;){var d=c[a];++a;d.onWindowFocusIn(b)}},onWindowFocusOut:function(b){for(var a=0,c=this.modules;a<c.length;){var d=c[a];++a;d.onWindowFocusOut(b)}},onWindowFullscreen:function(b){for(var a=0,c=this.modules;a<c.length;){var d=c[a];++a;d.onWindowFullscreen(b)}},onWindowLeave:function(b){for(var a=0,c=this.modules;a<c.length;){var d=c[a];
++a;d.onWindowLeave(b)}},onWindowMinimize:function(b){for(var a=0,c=this.modules;a<c.length;){var d=c[a];++a;d.onWindowMinimize(b)}},onWindowMove:function(b,a,c){for(var d=0,f=this.modules;d<f.length;){var k=f[d];++d;k.onWindowMove(b,a,c)}},onWindowResize:function(b,a,c){for(var d=0,f=this.modules;d<f.length;){var k=f[d];++d;k.onWindowResize(b,a,c)}},onWindowRestore:function(b){for(var a=0,c=this.modules;a<c.length;){var d=c[a];++a;d.onWindowRestore(b)}},removeWindow:function(b){null!=b&&this.windowByID.exists(b.id)&&
(z.remove(this.windows,b),this.windowByID.remove(b.id),b.close(),this.windows[0]==b&&(this.window=null))},render:function(b){for(var a=0,c=this.modules;a<c.length;){var d=c[a];++a;d.render(b)}},setPreloader:function(b){null!=this.preloader&&(this.preloader.onProgress.remove(t(this,this.onPreloadProgress)),this.preloader.onComplete.remove(t(this,this.onPreloadComplete)));this.preloader=b;if(b.complete)this.onPreloadComplete();else b.onProgress.add(t(this,this.onPreloadProgress)),b.onComplete.add(t(this,
this.onPreloadComplete))},update:function(b){for(var a=0,c=this.modules;a<c.length;){var d=c[a];++a;d.update(b)}},__class__:e.app.Application});e.app.Event_Float_Float_Int_Void=function(){this.listeners=[];this.priorities=[];this.repeat=[]};l["lime.app.Event_Float_Float_Int_Void"]=e.app.Event_Float_Float_Int_Void;e.app.Event_Float_Float_Int_Void.__name__=!0;e.app.Event_Float_Float_Int_Void.prototype={add:function(b,a,c){null==c&&(c=0);null==a&&(a=!1);for(var d=0,f=this.priorities.length;d<f;){var k=
d++;if(c>this.priorities[k]){this.listeners.splice(k,0,b);this.priorities.splice(k,0,c);this.repeat.splice(k,0,!a);return}}this.listeners.push(b);this.priorities.push(c);this.repeat.push(!a)},remove:function(b){for(var a=this.listeners.length;0<=--a;)v.compareMethods(this.listeners[a],b)&&(this.listeners.splice(a,1),this.priorities.splice(a,1),this.repeat.splice(a,1))},dispatch:function(b,a,c){for(var d=this.listeners,f=this.repeat,k=0;k<d.length;)d[k](b,a,c),f[k]?k++:this.remove(d[k])},__class__:e.app.Event_Float_Float_Int_Void};
e.app.Event_Float_Float_Void=function(){this.listeners=[];this.priorities=[];this.repeat=[]};l["lime.app.Event_Float_Float_Void"]=e.app.Event_Float_Float_Void;e.app.Event_Float_Float_Void.__name__=!0;e.app.Event_Float_Float_Void.prototype={add:function(b,a,c){null==c&&(c=0);null==a&&(a=!1);for(var d=0,f=this.priorities.length;d<f;){var k=d++;if(c>this.priorities[k]){this.listeners.splice(k,0,b);this.priorities.splice(k,0,c);this.repeat.splice(k,0,!a);return}}this.listeners.push(b);this.priorities.push(c);
this.repeat.push(!a)},remove:function(b){for(var a=this.listeners.length;0<=--a;)v.compareMethods(this.listeners[a],b)&&(this.listeners.splice(a,1),this.priorities.splice(a,1),this.repeat.splice(a,1))},dispatch:function(b,a){for(var c=this.listeners,d=this.repeat,f=0;f<c.length;)c[f](b,a),d[f]?f++:this.remove(c[f])},__class__:e.app.Event_Float_Float_Void};e.app.Event_Int_Float_Void=function(){this.listeners=[];this.priorities=[];this.repeat=[]};l["lime.app.Event_Int_Float_Void"]=e.app.Event_Int_Float_Void;
e.app.Event_Int_Float_Void.__name__=!0;e.app.Event_Int_Float_Void.prototype={add:function(b,a,c){null==c&&(c=0);null==a&&(a=!1);for(var d=0,f=this.priorities.length;d<f;){var k=d++;if(c>this.priorities[k]){this.listeners.splice(k,0,b);this.priorities.splice(k,0,c);this.repeat.splice(k,0,!a);return}}this.listeners.push(b);this.priorities.push(c);this.repeat.push(!a)},__class__:e.app.Event_Int_Float_Void};e.app.Event_Int_Int_Void=function(){this.listeners=[];this.priorities=[];this.repeat=[]};l["lime.app.Event_Int_Int_Void"]=
e.app.Event_Int_Int_Void;e.app.Event_Int_Int_Void.__name__=!0;e.app.Event_Int_Int_Void.prototype={add:function(b,a,c){null==c&&(c=0);null==a&&(a=!1);for(var d=0,f=this.priorities.length;d<f;){var k=d++;if(c>this.priorities[k]){this.listeners.splice(k,0,b);this.priorities.splice(k,0,c);this.repeat.splice(k,0,!a);return}}this.listeners.push(b);this.priorities.push(c);this.repeat.push(!a)},remove:function(b){for(var a=this.listeners.length;0<=--a;)v.compareMethods(this.listeners[a],b)&&(this.listeners.splice(a,
1),this.priorities.splice(a,1),this.repeat.splice(a,1))},dispatch:function(b,a){for(var c=this.listeners,d=this.repeat,f=0;f<c.length;)c[f](b,a),d[f]?f++:this.remove(c[f])},__class__:e.app.Event_Int_Int_Void};e.app.Event_Int_Void=function(){this.listeners=[];this.priorities=[];this.repeat=[]};l["lime.app.Event_Int_Void"]=e.app.Event_Int_Void;e.app.Event_Int_Void.__name__=!0;e.app.Event_Int_Void.prototype={add:function(b,a,c){null==c&&(c=0);null==a&&(a=!1);for(var d=0,f=this.priorities.length;d<f;){var k=
d++;if(c>this.priorities[k]){this.listeners.splice(k,0,b);this.priorities.splice(k,0,c);this.repeat.splice(k,0,!a);return}}this.listeners.push(b);this.priorities.push(c);this.repeat.push(!a)},remove:function(b){for(var a=this.listeners.length;0<=--a;)v.compareMethods(this.listeners[a],b)&&(this.listeners.splice(a,1),this.priorities.splice(a,1),this.repeat.splice(a,1))},dispatch:function(b){for(var a=this.listeners,c=this.repeat,d=0;d<a.length;)a[d](b),c[d]?d++:this.remove(a[d])},__class__:e.app.Event_Int_Void};
e.app.Event_Int_lime_ui_JoystickHatPosition_Void=function(){this.listeners=[];this.priorities=[];this.repeat=[]};l["lime.app.Event_Int_lime_ui_JoystickHatPosition_Void"]=e.app.Event_Int_lime_ui_JoystickHatPosition_Void;e.app.Event_Int_lime_ui_JoystickHatPosition_Void.__name__=!0;e.app.Event_Int_lime_ui_JoystickHatPosition_Void.prototype={add:function(b,a,c){null==c&&(c=0);null==a&&(a=!1);for(var d=0,f=this.priorities.length;d<f;){var k=d++;if(c>this.priorities[k]){this.listeners.splice(k,0,b);this.priorities.splice(k,
0,c);this.repeat.splice(k,0,!a);return}}this.listeners.push(b);this.priorities.push(c);this.repeat.push(!a)},__class__:e.app.Event_Int_lime_ui_JoystickHatPosition_Void};e.app.Event_String_Int_Int_Void=function(){this.listeners=[];this.priorities=[];this.repeat=[]};l["lime.app.Event_String_Int_Int_Void"]=e.app.Event_String_Int_Int_Void;e.app.Event_String_Int_Int_Void.__name__=!0;e.app.Event_String_Int_Int_Void.prototype={add:function(b,a,c){null==c&&(c=0);null==a&&(a=!1);for(var d=0,f=this.priorities.length;d<
f;){var k=d++;if(c>this.priorities[k]){this.listeners.splice(k,0,b);this.priorities.splice(k,0,c);this.repeat.splice(k,0,!a);return}}this.listeners.push(b);this.priorities.push(c);this.repeat.push(!a)},__class__:e.app.Event_String_Int_Int_Void};e.app.Event_String_Void=function(){this.listeners=[];this.priorities=[];this.repeat=[]};l["lime.app.Event_String_Void"]=e.app.Event_String_Void;e.app.Event_String_Void.__name__=!0;e.app.Event_String_Void.prototype={add:function(b,a,c){null==c&&(c=0);null==
a&&(a=!1);for(var d=0,f=this.priorities.length;d<f;){var k=d++;if(c>this.priorities[k]){this.listeners.splice(k,0,b);this.priorities.splice(k,0,c);this.repeat.splice(k,0,!a);return}}this.listeners.push(b);this.priorities.push(c);this.repeat.push(!a)},has:function(b){for(var a=0,c=this.listeners;a<c.length;){var d=c[a];++a;if(v.compareMethods(d,b))return!0}return!1},remove:function(b){for(var a=this.listeners.length;0<=--a;)v.compareMethods(this.listeners[a],b)&&(this.listeners.splice(a,1),this.priorities.splice(a,
1),this.repeat.splice(a,1))},dispatch:function(b){for(var a=this.listeners,c=this.repeat,d=0;d<a.length;)a[d](b),c[d]?d++:this.remove(a[d])},__class__:e.app.Event_String_Void};e.app.Event_lime_graphics_RenderContext_Void=function(){this.listeners=[];this.priorities=[];this.repeat=[]};l["lime.app.Event_lime_graphics_RenderContext_Void"]=e.app.Event_lime_graphics_RenderContext_Void;e.app.Event_lime_graphics_RenderContext_Void.__name__=!0;e.app.Event_lime_graphics_RenderContext_Void.prototype={add:function(b,
a,c){null==c&&(c=0);null==a&&(a=!1);for(var d=0,f=this.priorities.length;d<f;){var k=d++;if(c>this.priorities[k]){this.listeners.splice(k,0,b);this.priorities.splice(k,0,c);this.repeat.splice(k,0,!a);return}}this.listeners.push(b);this.priorities.push(c);this.repeat.push(!a)},remove:function(b){for(var a=this.listeners.length;0<=--a;)v.compareMethods(this.listeners[a],b)&&(this.listeners.splice(a,1),this.priorities.splice(a,1),this.repeat.splice(a,1))},dispatch:function(b){for(var a=this.listeners,
c=this.repeat,d=0;d<a.length;)a[d](b),c[d]?d++:this.remove(a[d])},__class__:e.app.Event_lime_graphics_RenderContext_Void};e.app.Event_lime_net_URLLoader_Int_Int_Void=function(){this.listeners=[];this.priorities=[];this.repeat=[]};l["lime.app.Event_lime_net_URLLoader_Int_Int_Void"]=e.app.Event_lime_net_URLLoader_Int_Int_Void;e.app.Event_lime_net_URLLoader_Int_Int_Void.__name__=!0;e.app.Event_lime_net_URLLoader_Int_Int_Void.prototype={remove:function(b){for(var a=this.listeners.length;0<=--a;)v.compareMethods(this.listeners[a],
b)&&(this.listeners.splice(a,1),this.priorities.splice(a,1),this.repeat.splice(a,1))},dispatch:function(b,a,c){for(var d=this.listeners,f=this.repeat,k=0;k<d.length;)d[k](b,a,c),f[k]?k++:this.remove(d[k])},__class__:e.app.Event_lime_net_URLLoader_Int_Int_Void};e.app.Event_lime_net_URLLoader_Int_Void=function(){this.listeners=[];this.priorities=[];this.repeat=[]};l["lime.app.Event_lime_net_URLLoader_Int_Void"]=e.app.Event_lime_net_URLLoader_Int_Void;e.app.Event_lime_net_URLLoader_Int_Void.__name__=
!0;e.app.Event_lime_net_URLLoader_Int_Void.prototype={remove:function(b){for(var a=this.listeners.length;0<=--a;)v.compareMethods(this.listeners[a],b)&&(this.listeners.splice(a,1),this.priorities.splice(a,1),this.repeat.splice(a,1))},dispatch:function(b,a){for(var c=this.listeners,d=this.repeat,f=0;f<c.length;)c[f](b,a),d[f]?f++:this.remove(c[f])},__class__:e.app.Event_lime_net_URLLoader_Int_Void};e.app.Event_lime_net_URLLoader_String_Void=function(){this.listeners=[];this.priorities=[];this.repeat=
[]};l["lime.app.Event_lime_net_URLLoader_String_Void"]=e.app.Event_lime_net_URLLoader_String_Void;e.app.Event_lime_net_URLLoader_String_Void.__name__=!0;e.app.Event_lime_net_URLLoader_String_Void.prototype={remove:function(b){for(var a=this.listeners.length;0<=--a;)v.compareMethods(this.listeners[a],b)&&(this.listeners.splice(a,1),this.priorities.splice(a,1),this.repeat.splice(a,1))},dispatch:function(b,a){for(var c=this.listeners,d=this.repeat,f=0;f<c.length;)c[f](b,a),d[f]?f++:this.remove(c[f])},
__class__:e.app.Event_lime_net_URLLoader_String_Void};e.app.Event_lime_net_URLLoader_Void=function(){this.listeners=[];this.priorities=[];this.repeat=[]};l["lime.app.Event_lime_net_URLLoader_Void"]=e.app.Event_lime_net_URLLoader_Void;e.app.Event_lime_net_URLLoader_Void.__name__=!0;e.app.Event_lime_net_URLLoader_Void.prototype={add:function(b,a,c){null==c&&(c=0);null==a&&(a=!1);for(var d=0,f=this.priorities.length;d<f;){var k=d++;if(c>this.priorities[k]){this.listeners.splice(k,0,b);this.priorities.splice(k,
0,c);this.repeat.splice(k,0,!a);return}}this.listeners.push(b);this.priorities.push(c);this.repeat.push(!a)},remove:function(b){for(var a=this.listeners.length;0<=--a;)v.compareMethods(this.listeners[a],b)&&(this.listeners.splice(a,1),this.priorities.splice(a,1),this.repeat.splice(a,1))},dispatch:function(b){for(var a=this.listeners,c=this.repeat,d=0;d<a.length;)a[d](b),c[d]?d++:this.remove(a[d])},__class__:e.app.Event_lime_net_URLLoader_Void};e.app.Event_lime_ui_GamepadAxis_Float_Void=function(){this.listeners=
[];this.priorities=[];this.repeat=[]};l["lime.app.Event_lime_ui_GamepadAxis_Float_Void"]=e.app.Event_lime_ui_GamepadAxis_Float_Void;e.app.Event_lime_ui_GamepadAxis_Float_Void.__name__=!0;e.app.Event_lime_ui_GamepadAxis_Float_Void.prototype={add:function(b,a,c){null==c&&(c=0);null==a&&(a=!1);for(var d=0,f=this.priorities.length;d<f;){var k=d++;if(c>this.priorities[k]){this.listeners.splice(k,0,b);this.priorities.splice(k,0,c);this.repeat.splice(k,0,!a);return}}this.listeners.push(b);this.priorities.push(c);
this.repeat.push(!a)},__class__:e.app.Event_lime_ui_GamepadAxis_Float_Void};e.app.Event_lime_ui_GamepadButton_Void=function(){this.listeners=[];this.priorities=[];this.repeat=[]};l["lime.app.Event_lime_ui_GamepadButton_Void"]=e.app.Event_lime_ui_GamepadButton_Void;e.app.Event_lime_ui_GamepadButton_Void.__name__=!0;e.app.Event_lime_ui_GamepadButton_Void.prototype={add:function(b,a,c){null==c&&(c=0);null==a&&(a=!1);for(var d=0,f=this.priorities.length;d<f;){var k=d++;if(c>this.priorities[k]){this.listeners.splice(k,
0,b);this.priorities.splice(k,0,c);this.repeat.splice(k,0,!a);return}}this.listeners.push(b);this.priorities.push(c);this.repeat.push(!a)},__class__:e.app.Event_lime_ui_GamepadButton_Void};e.app.Event_lime_ui_Gamepad_Void=function(){this.listeners=[];this.priorities=[];this.repeat=[]};l["lime.app.Event_lime_ui_Gamepad_Void"]=e.app.Event_lime_ui_Gamepad_Void;e.app.Event_lime_ui_Gamepad_Void.__name__=!0;e.app.Event_lime_ui_Gamepad_Void.prototype={add:function(b,a,c){null==c&&(c=0);null==a&&(a=!1);for(var d=
0,f=this.priorities.length;d<f;){var k=d++;if(c>this.priorities[k]){this.listeners.splice(k,0,b);this.priorities.splice(k,0,c);this.repeat.splice(k,0,!a);return}}this.listeners.push(b);this.priorities.push(c);this.repeat.push(!a)},__class__:e.app.Event_lime_ui_Gamepad_Void};e.app.Event_lime_ui_Joystick_Void=function(){this.listeners=[];this.priorities=[];this.repeat=[]};l["lime.app.Event_lime_ui_Joystick_Void"]=e.app.Event_lime_ui_Joystick_Void;e.app.Event_lime_ui_Joystick_Void.__name__=!0;e.app.Event_lime_ui_Joystick_Void.prototype=
{add:function(b,a,c){null==c&&(c=0);null==a&&(a=!1);for(var d=0,f=this.priorities.length;d<f;){var k=d++;if(c>this.priorities[k]){this.listeners.splice(k,0,b);this.priorities.splice(k,0,c);this.repeat.splice(k,0,!a);return}}this.listeners.push(b);this.priorities.push(c);this.repeat.push(!a)},__class__:e.app.Event_lime_ui_Joystick_Void};e.app.Event_lime_ui_KeyCode_lime_ui_KeyModifier_Void=function(){this.listeners=[];this.priorities=[];this.repeat=[]};l["lime.app.Event_lime_ui_KeyCode_lime_ui_KeyModifier_Void"]=
e.app.Event_lime_ui_KeyCode_lime_ui_KeyModifier_Void;e.app.Event_lime_ui_KeyCode_lime_ui_KeyModifier_Void.__name__=!0;e.app.Event_lime_ui_KeyCode_lime_ui_KeyModifier_Void.prototype={add:function(b,a,c){null==c&&(c=0);null==a&&(a=!1);for(var d=0,f=this.priorities.length;d<f;){var k=d++;if(c>this.priorities[k]){this.listeners.splice(k,0,b);this.priorities.splice(k,0,c);this.repeat.splice(k,0,!a);return}}this.listeners.push(b);this.priorities.push(c);this.repeat.push(!a)},remove:function(b){for(var a=
this.listeners.length;0<=--a;)v.compareMethods(this.listeners[a],b)&&(this.listeners.splice(a,1),this.priorities.splice(a,1),this.repeat.splice(a,1))},dispatch:function(b,a){for(var c=this.listeners,d=this.repeat,f=0;f<c.length;)c[f](b,a),d[f]?f++:this.remove(c[f])},__class__:e.app.Event_lime_ui_KeyCode_lime_ui_KeyModifier_Void};e.app.Event_lime_ui_Touch_Void=function(){this.listeners=[];this.priorities=[];this.repeat=[]};l["lime.app.Event_lime_ui_Touch_Void"]=e.app.Event_lime_ui_Touch_Void;e.app.Event_lime_ui_Touch_Void.__name__=
!0;e.app.Event_lime_ui_Touch_Void.prototype={add:function(b,a,c){null==c&&(c=0);null==a&&(a=!1);for(var d=0,f=this.priorities.length;d<f;){var k=d++;if(c>this.priorities[k]){this.listeners.splice(k,0,b);this.priorities.splice(k,0,c);this.repeat.splice(k,0,!a);return}}this.listeners.push(b);this.priorities.push(c);this.repeat.push(!a)},remove:function(b){for(var a=this.listeners.length;0<=--a;)v.compareMethods(this.listeners[a],b)&&(this.listeners.splice(a,1),this.priorities.splice(a,1),this.repeat.splice(a,
1))},dispatch:function(b){for(var a=this.listeners,c=this.repeat,d=0;d<a.length;)a[d](b),c[d]?d++:this.remove(a[d])},__class__:e.app.Event_lime_ui_Touch_Void};e.app.Preloader=function(){this.loaded=this.total=0;this.onProgress=new e.app.Event_Int_Int_Void;this.onComplete=new e.app.Event_Void_Void;this.onProgress.add(t(this,this.update))};l["lime.app.Preloader"]=e.app.Preloader;e.app.Preloader.__name__=!0;e.app.Preloader.prototype={create:function(b){},load:function(b,a){for(var c=null,d=0,f=b.length;d<
f;){var k=d++,c=b[k];switch(a[k]){case "IMAGE":e.app.Preloader.images.exists(c)||(k=new Image,e.app.Preloader.images.set(c,k),k.onload=t(this,this.image_onLoad),k.src=c,this.total++);break;case "BINARY":e.app.Preloader.loaders.exists(c)||(k=new e.net.URLLoader,k.set_dataFormat(e.net.URLLoaderDataFormat.BINARY),e.app.Preloader.loaders.set(c,k),this.total++);break;case "TEXT":e.app.Preloader.loaders.exists(c)||(k=new e.net.URLLoader,e.app.Preloader.loaders.set(c,k),this.total++);break;case "FONT":this.total++,
this.loadFont(c)}}for(c=e.app.Preloader.loaders.keys();c.hasNext();)d=c.next(),f=e.app.Preloader.loaders.get(d),f.onComplete.add(t(this,this.loader_onComplete)),f.load(new e.net.URLRequest(d));0==this.total&&this.start()},loadFont:function(b){var a=this;if(window.document.fonts&&window.document.fonts.load)window.document.fonts.load("1em '"+b+"'").then(function(b){a.loaded++;a.onProgress.dispatch(a.loaded,a.total);a.loaded==a.total&&a.start()});else{var c=window.document.createElement("span");c.innerHTML=
"giItT1WQy@!-/#";var d=c.style;d.position="absolute";d.left="-10000px";d.top="-10000px";d.fontSize="300px";d.fontFamily="sans-serif";d.fontVariant="normal";d.fontStyle="normal";d.fontWeight="normal";d.letterSpacing="0";window.document.body.appendChild(c);var f=c.offsetWidth;d.fontFamily="'"+b+"', sans-serif";var k=null,e=!1;b=function(){if(c.offsetWidth!=f){if(!e)return e=!0,!1;a.loaded++;null!=k&&window.clearInterval(k);c.parentNode.removeChild(c);c=null;a.onProgress.dispatch(a.loaded,a.total);a.loaded==
a.total&&a.start();return!0}return!1};b()||(k=window.setInterval(b,50))}},start:function(){this.complete=!0;this.onComplete.dispatch()},update:function(b,a){},image_onLoad:function(b){this.loaded++;this.onProgress.dispatch(this.loaded,this.total);this.loaded==this.total&&this.start()},loader_onComplete:function(b){this.loaded++;this.onProgress.dispatch(this.loaded,this.total);this.loaded==this.total&&this.start()},__class__:e.app.Preloader};e.audio={};e.audio.ALAudioContext=function(){};l["lime.audio.ALAudioContext"]=
e.audio.ALAudioContext;e.audio.ALAudioContext.__name__=!0;e.audio.ALCAudioContext=function(){};l["lime.audio.ALCAudioContext"]=e.audio.ALCAudioContext;e.audio.ALCAudioContext.__name__=!0;e.audio.AudioBuffer=function(){};l["lime.audio.AudioBuffer"]=e.audio.AudioBuffer;e.audio.AudioBuffer.__name__=!0;e.audio.AudioContext=l["lime.audio.AudioContext"]={__ename__:!0,__constructs__:["OPENAL","HTML5","WEB","FLASH","CUSTOM"]};e.audio.AudioContext.OPENAL=function(b,a){var c=["OPENAL",0,b,a];c.__enum__=e.audio.AudioContext;
c.toString=m;return c};e.audio.AudioContext.HTML5=function(b){b=["HTML5",1,b];b.__enum__=e.audio.AudioContext;b.toString=m;return b};e.audio.AudioContext.WEB=function(b){b=["WEB",2,b];b.__enum__=e.audio.AudioContext;b.toString=m;return b};e.audio.AudioContext.FLASH=function(b){b=["FLASH",3,b];b.__enum__=e.audio.AudioContext;b.toString=m;return b};e.audio.AudioContext.CUSTOM=function(b){b=["CUSTOM",4,b];b.__enum__=e.audio.AudioContext;b.toString=m;return b};e.audio.AudioManager=function(){};l["lime.audio.AudioManager"]=
e.audio.AudioManager;e.audio.AudioManager.__name__=!0;e.audio.AudioManager.context=null;e.audio.AudioManager.init=function(b){if(null==e.audio.AudioManager.context)if(null==b)try{window.AudioContext=window.AudioContext||window.webkitAudioContext,e.audio.AudioManager.context=e.audio.AudioContext.WEB(new AudioContext)}catch(a){e.audio.AudioManager.context=e.audio.AudioContext.HTML5(new e.audio.HTML5AudioContext)}else e.audio.AudioManager.context=b};e.audio.FlashAudioContext=function(){};l["lime.audio.FlashAudioContext"]=
e.audio.FlashAudioContext;e.audio.FlashAudioContext.__name__=!0;e.audio.HTML5AudioContext=function(){};l["lime.audio.HTML5AudioContext"]=e.audio.HTML5AudioContext;e.audio.HTML5AudioContext.__name__=!0;e.audio.HTML5AudioContext.prototype={__class__:e.audio.HTML5AudioContext};e.graphics={};e.graphics.ConsoleRenderContext=function(){};l["lime.graphics.ConsoleRenderContext"]=e.graphics.ConsoleRenderContext;e.graphics.ConsoleRenderContext.__name__=!0;e.graphics.FlashRenderContext=function(){};l["lime.graphics.FlashRenderContext"]=
e.graphics.FlashRenderContext;e.graphics.FlashRenderContext.__name__=!0;e.graphics.Image=function(b,a,c,d,f,k,I){null==f&&(f=-1);null==d&&(d=-1);null==c&&(c=0);null==a&&(a=0);this.offsetX=a;this.offsetY=c;this.width=d;this.height=f;if(null==I)if(null!=e.app.Application.current&&null!=e.app.Application.current.renderers[0])switch(e.app.Application.current.renderers[0].context[1]){case 2:case 1:this.type=e.graphics.ImageType.CANVAS;break;case 3:this.type=e.graphics.ImageType.FLASH;break;default:this.type=
e.graphics.ImageType.DATA}else this.type=e.graphics.ImageType.DATA;else this.type=I;if(null==b){if(0<d&&0<f)switch(this.type[1]){case 0:this.buffer=new e.graphics.ImageBuffer(null,d,f);e.graphics.utils.ImageCanvasUtil.createCanvas(this,d,f);null!=k&&this.fillRect(new e.math.Rectangle(0,0,d,f),k);break;case 1:b=e.graphics.ImageBuffer,a=d*f*4,a=null!=a?new Uint8Array(a):null,this.buffer=new b(a,d,f),null!=k&&this.fillRect(new e.math.Rectangle(0,0,d,f),k)}}else this.__fromImageBuffer(b)};l["lime.graphics.Image"]=
e.graphics.Image;e.graphics.Image.__name__=!0;e.graphics.Image.__base64Encoder=null;e.graphics.Image.fromBytes=function(b,a){if(null==b)return null;var c=new e.graphics.Image;c.__fromBytes(b,a);return c};e.graphics.Image.fromCanvas=function(b){if(null==b)return null;var a=new e.graphics.ImageBuffer(null,b.width,b.height);a.set_src(b);return new e.graphics.Image(a)};e.graphics.Image.fromImageElement=function(b){if(null==b)return null;var a=new e.graphics.ImageBuffer(null,b.width,b.height);a.set_src(b);
return new e.graphics.Image(a)};e.graphics.Image.__base64Encode=function(b){var a;switch(b.length%3){case 1:a="==";break;case 2:a="=";break;default:a=""}null==e.graphics.Image.__base64Encoder&&(e.graphics.Image.__base64Encoder=new q.crypto.BaseCode(q.io.Bytes.ofString(e.graphics.Image.__base64Chars)));return e.graphics.Image.__base64Encoder.encodeBytes(q.io.Bytes.ofData(b.byteView)).toString()+a};e.graphics.Image.__isJPG=function(b){b.position=0;return 255==b.readUnsignedByte()&&216==b.readUnsignedByte()};
e.graphics.Image.__isPNG=function(b){b.position=0;return 137==b.readUnsignedByte()&&80==b.readUnsignedByte()&&78==b.readUnsignedByte()&&71==b.readUnsignedByte()&&13==b.readUnsignedByte()&&10==b.readUnsignedByte()&&26==b.readUnsignedByte()&&10==b.readUnsignedByte()};e.graphics.Image.__isGIF=function(b){b.position=0;if(71==b.readUnsignedByte()&&73==b.readUnsignedByte()&&70==b.readUnsignedByte()&&56==b.readUnsignedByte()){var a=b.readUnsignedByte();return(55==a||57==a)&&97==b.readUnsignedByte()}return!1};
e.graphics.Image.prototype={clone:function(){if(null!=this.buffer){this.type==e.graphics.ImageType.CANVAS&&null==this.buffer.__srcImage&&(e.graphics.utils.ImageCanvasUtil.convertToCanvas(this),e.graphics.utils.ImageCanvasUtil.sync(this,!0));var b=new e.graphics.Image(this.buffer.clone(),this.offsetX,this.offsetY,this.width,this.height,null,this.type);b.dirty=this.dirty;return b}return new e.graphics.Image(null,this.offsetX,this.offsetY,this.width,this.height,null,this.type)},colorTransform:function(b,
a){b=this.__clipRect(b);if(null!=this.buffer&&null!=b)switch(this.type[1]){case 0:e.graphics.utils.ImageCanvasUtil.colorTransform(this,b,a);break;case 1:e.graphics.utils.ImageCanvasUtil.convertToData(this);e.graphics.utils.ImageDataUtil.colorTransform(this,b,a);break;case 2:b.offset(this.offsetX,this.offsetY),this.buffer.__srcBitmapData.colorTransform(b.__toFlashRectangle(),e.math._ColorMatrix.ColorMatrix_Impl_.__toFlashColorTransform(a))}},fillRect:function(b,a,c){b=this.__clipRect(b);if(null!=this.buffer&&
null!=b)switch(this.type[1]){case 0:e.graphics.utils.ImageCanvasUtil.fillRect(this,b,a,c);break;case 1:e.graphics.utils.ImageCanvasUtil.convertToData(this);if(0==this.buffer.data.length)break;e.graphics.utils.ImageDataUtil.fillRect(this,b,a,c);break;case 2:b.offset(this.offsetX,this.offsetY);switch(c){case 1:break;case 2:a=(a&255)<<24|(a>>8&255)<<16|(a>>16&255)<<8|a>>24&255;break;default:a=(a&255)<<24|(a>>24&255)<<16|(a>>16&255)<<8|a>>8&255}this.buffer.__srcBitmapData.fillRect(b.__toFlashRectangle(),
a)}},getPixels:function(b,a){if(null==this.buffer)return null;switch(this.type[1]){case 0:return e.graphics.utils.ImageCanvasUtil.getPixels(this,b,a);case 1:return e.graphics.utils.ImageCanvasUtil.convertToData(this),e.graphics.utils.ImageDataUtil.getPixels(this,b,a);case 2:b.offset(this.offsetX,this.offsetY);var c=this.buffer.__srcBitmapData.getPixels(b.__toFlashRectangle());switch(a){case 1:break;case 2:for(var d,f=c.length/4|0,k=0;k<f;){k++;d=c.readUnsignedInt();var I=0;d=I=(d&255)<<24|(d>>8&255)<<
16|(d>>16&255)<<8|d>>24&255;c.position-=4;c.writeUnsignedInt(d)}c.position=0;break;default:for(var g,f=c.length/4|0,k=0;k<f;)k++,d=c.readUnsignedInt(),I=0,g=I=(d>>16&255)<<24|(d>>8&255)<<16|(d&255)<<8|d>>24&255,c.position-=4,c.writeUnsignedInt(function(b){b=0;return b=(g>>8&255)<<24|(g>>16&255)<<16|(g>>24&255)<<8|g&255}(this));c.position=0}return c;default:return null}},resize:function(b,a){switch(this.type[1]){case 0:e.graphics.utils.ImageCanvasUtil.resize(this,b,a);break;case 1:e.graphics.utils.ImageDataUtil.resize(this,
b,a)}this.buffer.width=b;this.buffer.height=a;this.offsetY=this.offsetX=0;this.width=b;this.height=a},__clipRect:function(b){return null==b||0>b.x&&(b.width-=-b.x,b.x=0,0>=b.x+b.width)||0>b.y&&(b.height-=-b.y,b.y=0,0>=b.y+b.height)||b.x+b.width>=this.width&&(b.width-=b.x+b.width-this.width,0>=b.width)||b.y+b.height>=this.height&&(b.height-=b.y+b.height-this.height,0>=b.height)?null:b},__fromBase64:function(b,a,c){var d=this,f=new Image;f.addEventListener("load",function(b){d.buffer=new e.graphics.ImageBuffer(null,
f.width,f.height);d.buffer.__srcImage=f;d.offsetX=0;d.offsetY=0;d.width=d.buffer.width;d.height=d.buffer.height;null!=c&&c(d)},!1);f.src="data:"+a+";base64,"+b},__fromBytes:function(b,a){var c="";if(e.graphics.Image.__isPNG(b))c="image/png";else if(e.graphics.Image.__isJPG(b))c="image/jpeg";else if(e.graphics.Image.__isGIF(b))c="image/gif";else throw"Image tried to read a PNG/JPG ByteArray, but found an invalid header.";this.__fromBase64(e.graphics.Image.__base64Encode(b),c,a)},__fromImageBuffer:function(b){this.buffer=
b;null!=b&&(-1==this.width&&(this.width=b.width),-1==this.height&&(this.height=b.height))},get_data:function(){null==this.buffer.data&&0<this.buffer.width&&0<this.buffer.height&&(e.graphics.utils.ImageCanvasUtil.convertToCanvas(this),e.graphics.utils.ImageCanvasUtil.sync(this,!1),e.graphics.utils.ImageCanvasUtil.createImageData(this));return this.buffer.data},get_format:function(){return this.buffer.format},set_format:function(b){if(this.buffer.format!=b)switch(this.type[1]){case 1:e.graphics.utils.ImageDataUtil.setFormat(this,
b)}return this.buffer.format=b},get_powerOfTwo:function(){return 0!=this.buffer.width&&(this.buffer.width&~this.buffer.width+1)==this.buffer.width&&0!=this.buffer.height&&(this.buffer.height&~this.buffer.height+1)==this.buffer.height},get_premultiplied:function(){return this.buffer.premultiplied},set_premultiplied:function(b){if(b&&!this.buffer.premultiplied)switch(this.type[1]){case 1:e.graphics.utils.ImageCanvasUtil.convertToData(this),e.graphics.utils.ImageDataUtil.multiplyAlpha(this)}else if(!b&&
this.buffer.premultiplied)switch(this.type[1]){case 1:e.graphics.utils.ImageCanvasUtil.convertToData(this),e.graphics.utils.ImageDataUtil.unmultiplyAlpha(this)}return b},get_rect:function(){return new e.math.Rectangle(0,0,this.width,this.height)},get_src:function(){null==this.buffer.__srcCanvas&&e.graphics.utils.ImageCanvasUtil.convertToCanvas(this);return this.buffer.get_src()},get_transparent:function(){return null==this.buffer?!1:this.buffer.transparent},set_transparent:function(b){return null==
this.buffer?!1:this.buffer.transparent=b},__class__:e.graphics.Image,__properties__:{set_transparent:"set_transparent",get_transparent:"get_transparent",get_src:"get_src",get_rect:"get_rect",set_premultiplied:"set_premultiplied",get_premultiplied:"get_premultiplied",get_powerOfTwo:"get_powerOfTwo",set_format:"set_format",get_format:"get_format",get_data:"get_data"}};e.graphics.ImageBuffer=function(b,a,c,d,f){null==d&&(d=32);null==c&&(c=0);null==a&&(a=0);this.data=b;this.width=a;this.height=c;this.bitsPerPixel=
d;this.format=null==f?0:f;this.transparent=!0};l["lime.graphics.ImageBuffer"]=e.graphics.ImageBuffer;e.graphics.ImageBuffer.__name__=!0;e.graphics.ImageBuffer.prototype={clone:function(){var b=new e.graphics.ImageBuffer(this.data,this.width,this.height,this.bitsPerPixel);if(null!=this.data){var a=this.data.byteLength,a=null!=a?new Uint8Array(a):null;b.data=a;a=this.data;a=null!=a?new Uint8Array(a):null;b.data.set(a)}else null!=this.__srcImageData?(b.__srcCanvas=window.document.createElement("canvas"),
b.__srcContext=b.__srcCanvas.getContext("2d"),b.__srcCanvas.width=this.__srcImageData.width,b.__srcCanvas.height=this.__srcImageData.height,b.__srcImageData=b.__srcContext.createImageData(this.__srcImageData.width,this.__srcImageData.height),a=new Uint8ClampedArray(this.__srcImageData.data),b.__srcImageData.data.set(a)):null!=this.__srcCanvas?(b.__srcCanvas=window.document.createElement("canvas"),b.__srcContext=b.__srcCanvas.getContext("2d"),b.__srcCanvas.width=this.__srcCanvas.width,b.__srcCanvas.height=
this.__srcCanvas.height,b.__srcContext.drawImage(this.__srcCanvas,0,0)):b.__srcImage=this.__srcImage;b.bitsPerPixel=this.bitsPerPixel;b.format=this.format;b.premultiplied=this.premultiplied;b.transparent=this.transparent;return b},get_src:function(){return null!=this.__srcImage?this.__srcImage:this.__srcCanvas},set_src:function(b){x.Boot.__instanceof(b,Image)?this.__srcImage=b:x.Boot.__instanceof(b,HTMLCanvasElement)&&(this.__srcCanvas=b,this.__srcContext=this.__srcCanvas.getContext("2d"));return b},
get_stride:function(){return 4*this.width},__class__:e.graphics.ImageBuffer,__properties__:{get_stride:"get_stride",set_src:"set_src",get_src:"get_src"}};e.graphics.ImageType=l["lime.graphics.ImageType"]={__ename__:!0,__constructs__:["CANVAS","DATA","FLASH","CUSTOM"]};e.graphics.ImageType.CANVAS=["CANVAS",0];e.graphics.ImageType.CANVAS.toString=m;e.graphics.ImageType.CANVAS.__enum__=e.graphics.ImageType;e.graphics.ImageType.DATA=["DATA",1];e.graphics.ImageType.DATA.toString=m;e.graphics.ImageType.DATA.__enum__=
e.graphics.ImageType;e.graphics.ImageType.FLASH=["FLASH",2];e.graphics.ImageType.FLASH.toString=m;e.graphics.ImageType.FLASH.__enum__=e.graphics.ImageType;e.graphics.ImageType.CUSTOM=["CUSTOM",3];e.graphics.ImageType.CUSTOM.toString=m;e.graphics.ImageType.CUSTOM.__enum__=e.graphics.ImageType;e.graphics.RenderContext=l["lime.graphics.RenderContext"]={__ename__:!0,__constructs__:"OPENGL CANVAS DOM FLASH CAIRO CONSOLE CUSTOM NONE".split(" ")};e.graphics.RenderContext.OPENGL=function(b){b=["OPENGL",0,
b];b.__enum__=e.graphics.RenderContext;b.toString=m;return b};e.graphics.RenderContext.CANVAS=function(b){b=["CANVAS",1,b];b.__enum__=e.graphics.RenderContext;b.toString=m;return b};e.graphics.RenderContext.DOM=function(b){b=["DOM",2,b];b.__enum__=e.graphics.RenderContext;b.toString=m;return b};e.graphics.RenderContext.FLASH=function(b){b=["FLASH",3,b];b.__enum__=e.graphics.RenderContext;b.toString=m;return b};e.graphics.RenderContext.CAIRO=function(b){b=["CAIRO",4,b];b.__enum__=e.graphics.RenderContext;
b.toString=m;return b};e.graphics.RenderContext.CONSOLE=function(b){b=["CONSOLE",5,b];b.__enum__=e.graphics.RenderContext;b.toString=m;return b};e.graphics.RenderContext.CUSTOM=function(b){b=["CUSTOM",6,b];b.__enum__=e.graphics.RenderContext;b.toString=m;return b};e.graphics.RenderContext.NONE=["NONE",7];e.graphics.RenderContext.NONE.toString=m;e.graphics.RenderContext.NONE.__enum__=e.graphics.RenderContext;e.graphics.Renderer=function(b){this.onRender=new e.app.Event_Void_Void;this.onContextRestored=
new e.app.Event_lime_graphics_RenderContext_Void;this.onContextLost=new e.app.Event_Void_Void;this.window=b;this.backend=new e._backend.html5.HTML5Renderer(this);this.window.renderer=this};l["lime.graphics.Renderer"]=e.graphics.Renderer;e.graphics.Renderer.__name__=!0;e.graphics.Renderer.prototype={create:function(){this.backend.create()},flip:function(){this.backend.flip()},__class__:e.graphics.Renderer};e.graphics.RendererType=l["lime.graphics.RendererType"]={__ename__:!0,__constructs__:"OPENGL CANVAS DOM FLASH CAIRO CONSOLE CUSTOM".split(" ")};
e.graphics.RendererType.OPENGL=["OPENGL",0];e.graphics.RendererType.OPENGL.toString=m;e.graphics.RendererType.OPENGL.__enum__=e.graphics.RendererType;e.graphics.RendererType.CANVAS=["CANVAS",1];e.graphics.RendererType.CANVAS.toString=m;e.graphics.RendererType.CANVAS.__enum__=e.graphics.RendererType;e.graphics.RendererType.DOM=["DOM",2];e.graphics.RendererType.DOM.toString=m;e.graphics.RendererType.DOM.__enum__=e.graphics.RendererType;e.graphics.RendererType.FLASH=["FLASH",3];e.graphics.RendererType.FLASH.toString=
m;e.graphics.RendererType.FLASH.__enum__=e.graphics.RendererType;e.graphics.RendererType.CAIRO=["CAIRO",4];e.graphics.RendererType.CAIRO.toString=m;e.graphics.RendererType.CAIRO.__enum__=e.graphics.RendererType;e.graphics.RendererType.CONSOLE=["CONSOLE",5];e.graphics.RendererType.CONSOLE.toString=m;e.graphics.RendererType.CONSOLE.__enum__=e.graphics.RendererType;e.graphics.RendererType.CUSTOM=["CUSTOM",6];e.graphics.RendererType.CUSTOM.toString=m;e.graphics.RendererType.CUSTOM.__enum__=e.graphics.RendererType;
e.graphics.cairo={};e.graphics.cairo.Cairo=function(){};l["lime.graphics.cairo.Cairo"]=e.graphics.cairo.Cairo;e.graphics.cairo.Cairo.__name__=!0;e.graphics.cairo.Cairo.prototype={arc:function(b,a,c,d,f){},clip:function(){},curveTo:function(b,a,c,d,f,k){},fill:function(){},identityMatrix:function(){},lineTo:function(b,a){},moveTo:function(b,a){},newPath:function(){},paint:function(){},paintWithAlpha:function(b){},popGroupToSource:function(){},pushGroup:function(){},rectangle:function(b,a,c,d){},restore:function(){},
save:function(){},setSourceRGB:function(b,a,c){},get_currentPoint:function(){return null},get_hasCurrentPoint:function(){return!1},set_matrix:function(b){return b},set_source:function(b){return b},__class__:e.graphics.cairo.Cairo,__properties__:{set_source:"set_source",set_matrix:"set_matrix",get_hasCurrentPoint:"get_hasCurrentPoint",get_currentPoint:"get_currentPoint"}};e.graphics.cairo._CairoImageSurface={};e.graphics.cairo._CairoImageSurface.CairoImageSurface_Impl_=function(){};l["lime.graphics.cairo._CairoImageSurface.CairoImageSurface_Impl_"]=
e.graphics.cairo._CairoImageSurface.CairoImageSurface_Impl_;e.graphics.cairo._CairoImageSurface.CairoImageSurface_Impl_.__name__=!0;e.graphics.cairo._CairoImageSurface.CairoImageSurface_Impl_.fromImage=function(b){return null};e.graphics.cairo._CairoPattern={};e.graphics.cairo._CairoPattern.CairoPattern_Impl_=function(){};l["lime.graphics.cairo._CairoPattern.CairoPattern_Impl_"]=e.graphics.cairo._CairoPattern.CairoPattern_Impl_;e.graphics.cairo._CairoPattern.CairoPattern_Impl_.__name__=!0;e.graphics.cairo._CairoPattern.CairoPattern_Impl_.__properties__=
{set_filter:"set_filter"};e.graphics.cairo._CairoPattern.CairoPattern_Impl_.createForSurface=function(b){return 0};e.graphics.cairo._CairoPattern.CairoPattern_Impl_.set_filter=function(b,a){return a};e.graphics.cairo._CairoSurface={};e.graphics.cairo._CairoSurface.CairoSurface_Impl_=function(){};l["lime.graphics.cairo._CairoSurface.CairoSurface_Impl_"]=e.graphics.cairo._CairoSurface.CairoSurface_Impl_;e.graphics.cairo._CairoSurface.CairoSurface_Impl_.__name__=!0;e.graphics.cairo._CairoSurface.CairoSurface_Impl_.flush=
function(b){};e.graphics.opengl={};e.graphics.opengl.GL=function(){};l["lime.graphics.opengl.GL"]=e.graphics.opengl.GL;e.graphics.opengl.GL.__name__=!0;e.graphics.opengl.GL.context=null;e.graphics.utils={};e.graphics.utils.ImageCanvasUtil=function(){};l["lime.graphics.utils.ImageCanvasUtil"]=e.graphics.utils.ImageCanvasUtil;e.graphics.utils.ImageCanvasUtil.__name__=!0;e.graphics.utils.ImageCanvasUtil.colorTransform=function(b,a,c){e.graphics.utils.ImageCanvasUtil.convertToCanvas(b);e.graphics.utils.ImageCanvasUtil.createImageData(b);
e.graphics.utils.ImageDataUtil.colorTransform(b,a,c)};e.graphics.utils.ImageCanvasUtil.convertToCanvas=function(b){var a=b.buffer;null!=a.__srcImage?(null==a.__srcCanvas&&(e.graphics.utils.ImageCanvasUtil.createCanvas(b,a.__srcImage.width,a.__srcImage.height),a.__srcContext.drawImage(a.__srcImage,0,0)),a.__srcImage=null):null!=a.data&&null==a.__srcCanvas?(e.graphics.utils.ImageCanvasUtil.createCanvas(b,a.width,a.height),e.graphics.utils.ImageCanvasUtil.createImageData(b)):null==a.data&&null!=a.__srcImageData&&
(a.data=a.__srcImageData.data)};e.graphics.utils.ImageCanvasUtil.convertToData=function(b){null==b.buffer.data&&(e.graphics.utils.ImageCanvasUtil.convertToCanvas(b),e.graphics.utils.ImageCanvasUtil.sync(b,!1),e.graphics.utils.ImageCanvasUtil.createImageData(b),b.buffer.__srcCanvas=null,b.buffer.__srcContext=null)};e.graphics.utils.ImageCanvasUtil.createCanvas=function(b,a,c){var d=b.buffer;null==d.__srcCanvas&&(d.__srcCanvas=window.document.createElement("canvas"),d.__srcCanvas.width=a,d.__srcCanvas.height=
c,b.get_transparent()?d.__srcContext=d.__srcCanvas.getContext("2d"):(b.get_transparent()||d.__srcCanvas.setAttribute("moz-opaque","true"),d.__srcContext=d.__srcCanvas.getContext("2d",{alpha:!1})),d.__srcContext.mozImageSmoothingEnabled=!1,d.__srcContext.msImageSmoothingEnabled=!1,d.__srcContext.imageSmoothingEnabled=!1)};e.graphics.utils.ImageCanvasUtil.createImageData=function(b){b=b.buffer;if(null==b.__srcImageData){null==b.data?b.__srcImageData=b.__srcContext.getImageData(0,0,b.width,b.height):
(b.__srcImageData=b.__srcContext.createImageData(b.width,b.height),b.__srcImageData.data.set(b.data));var a=b.__srcImageData.data.buffer,a=null!=a?new Uint8Array(a):null;b.data=a}};e.graphics.utils.ImageCanvasUtil.fillRect=function(b,a,c,d){e.graphics.utils.ImageCanvasUtil.convertToCanvas(b);e.graphics.utils.ImageCanvasUtil.sync(b,!0);if(0==a.x&&0==a.y&&a.width==b.width&&a.height==b.height&&b.get_transparent()&&0==(c&255))b.buffer.__srcCanvas.width=b.buffer.width;else{var f,k;1==d?(d=c>>16&255,f=
c>>8&255,k=c&255,c=b.get_transparent()?c>>24&255:255):(d=c>>24&255,f=c>>16&255,k=c>>8&255,c=b.get_transparent()?c&255:255);b.buffer.__srcContext.fillStyle="rgba("+d+", "+f+", "+k+", "+c/255+")";b.buffer.__srcContext.fillRect(a.x+b.offsetX,a.y+b.offsetY,a.width+b.offsetX,a.height+b.offsetY)}};e.graphics.utils.ImageCanvasUtil.getPixels=function(b,a,c){e.graphics.utils.ImageCanvasUtil.convertToCanvas(b);e.graphics.utils.ImageCanvasUtil.createImageData(b);return e.graphics.utils.ImageDataUtil.getPixels(b,
a,c)};e.graphics.utils.ImageCanvasUtil.resize=function(b,a,c){var d=b.buffer;if(null==d.__srcCanvas)e.graphics.utils.ImageCanvasUtil.createCanvas(b,a,c),d.__srcContext.drawImage(d.get_src(),0,0,a,c);else{e.graphics.utils.ImageCanvasUtil.sync(b,!0);var f=d.__srcCanvas;d.__srcCanvas=null;e.graphics.utils.ImageCanvasUtil.createCanvas(b,a,c);d.__srcContext.drawImage(f,0,0,a,c)}};e.graphics.utils.ImageCanvasUtil.sync=function(b,a){b.dirty&&null!=b.buffer.__srcImageData&&b.type!=e.graphics.ImageType.DATA&&
(b.buffer.__srcContext.putImageData(b.buffer.__srcImageData,0,0),b.buffer.data=null,b.dirty=!1);a&&(b.buffer.__srcImageData=null,b.buffer.data=null)};e.graphics.utils.ImageDataUtil=function(){};l["lime.graphics.utils.ImageDataUtil"]=e.graphics.utils.ImageDataUtil;e.graphics.utils.ImageDataUtil.__name__=!0;e.graphics.utils.ImageDataUtil.colorTransform=function(b,a,c){var d=b.buffer.data;if(null!=d){var f=b.buffer.format,k=b.buffer.premultiplied;a=new e.graphics.utils._ImageDataUtil.ImageDataView(b,
a);var I=e.math._ColorMatrix.ColorMatrix_Impl_.getAlphaTable(c),g=e.math._ColorMatrix.ColorMatrix_Impl_.getRedTable(c),C=e.math._ColorMatrix.ColorMatrix_Impl_.getGreenTable(c);c=e.math._ColorMatrix.ColorMatrix_Impl_.getBlueTable(c);for(var l,y,u,n=0,m=a.height;n<m;){l=n++;l=a.offset+a.stride*l;for(var q=0,p=a.width;q<p;){y=q++;y=l+4*y;switch(f){case 2:u=(d[y+2]&255)<<24|(d[y+1]&255)<<16|(d[y]&255)<<8|d[y+3]&255;break;case 0:u=(d[y]&255)<<24|(d[y+1]&255)<<16|(d[y+2]&255)<<8|d[y+3]&255;break;case 1:u=
(d[y+1]&255)<<24|(d[y+2]&255)<<16|(d[y+3]&255)<<8|d[y]&255}if(k&&0!=(u&255)&&255!=(u&255)){e.math.color._RGBA.RGBA_Impl_.unmult=255/(u&255);var r;r=Math.round((u>>24&255)*e.math.color._RGBA.RGBA_Impl_.unmult);r=e.math.color._RGBA.RGBA_Impl_.__clamp[r];var t;t=Math.round((u>>16&255)*e.math.color._RGBA.RGBA_Impl_.unmult);t=e.math.color._RGBA.RGBA_Impl_.__clamp[t];var B=Math.round((u>>8&255)*e.math.color._RGBA.RGBA_Impl_.unmult);u=(r&255)<<24|(t&255)<<16|(e.math.color._RGBA.RGBA_Impl_.__clamp[B]&255)<<
8|u&255}u=(g[u>>24&255]&255)<<24|(C[u>>16&255]&255)<<16|(c[u>>8&255]&255)<<8|I[u&255]&255;k&&(0==(u&255)?0!=u&&(u=0):255!=(u&255)&&(e.math.color._RGBA.RGBA_Impl_.a16=e.math.color._RGBA.RGBA_Impl_.__alpha16[u&255],u=((u>>24&255)*e.math.color._RGBA.RGBA_Impl_.a16>>16&255)<<24|((u>>16&255)*e.math.color._RGBA.RGBA_Impl_.a16>>16&255)<<16|((u>>8&255)*e.math.color._RGBA.RGBA_Impl_.a16>>16&255)<<8|u&255));switch(f){case 2:d[y]=u>>8&255;d[y+1]=u>>16&255;d[y+2]=u>>24&255;d[y+3]=u&255;break;case 0:d[y]=u>>24&
255;d[y+1]=u>>16&255;d[y+2]=u>>8&255;d[y+3]=u&255;break;case 1:d[y]=u&255,d[y+1]=u>>24&255,d[y+2]=u>>16&255,d[y+3]=u>>8&255}}}b.dirty=!0}};e.graphics.utils.ImageDataUtil.fillRect=function(b,a,c,d){switch(d){case 1:c=(c>>16&255)<<24|(c>>8&255)<<16|(c&255)<<8|c>>24&255;break;case 2:c=(c>>8&255)<<24|(c>>16&255)<<16|(c>>24&255)<<8|c&255;break}b.get_transparent()||(c=(c>>24&255)<<24|(c>>16&255)<<16|(c>>8&255)<<8|255,255);d=b.buffer.data;if(null!=d){var f=b.buffer.format,k=b.buffer.premultiplied;a=new e.graphics.utils._ImageDataUtil.ImageDataView(b,
a);for(var I,g=0,C=a.height;g<C;){I=g++;I=a.offset+a.stride*I;for(var l=0,y=a.width;l<y;){var u=l++,u=I+4*u;k&&(0==(c&255)?0!=c&&(c=0):255!=(c&255)&&(e.math.color._RGBA.RGBA_Impl_.a16=e.math.color._RGBA.RGBA_Impl_.__alpha16[c&255],c=((c>>24&255)*e.math.color._RGBA.RGBA_Impl_.a16>>16&255)<<24|((c>>16&255)*e.math.color._RGBA.RGBA_Impl_.a16>>16&255)<<16|((c>>8&255)*e.math.color._RGBA.RGBA_Impl_.a16>>16&255)<<8|c&255));switch(f){case 2:d[u]=c>>8&255;d[u+1]=c>>16&255;d[u+2]=c>>24&255;d[u+3]=c&255;break;
case 0:d[u]=c>>24&255;d[u+1]=c>>16&255;d[u+2]=c>>8&255;d[u+3]=c&255;break;case 1:d[u]=c&255,d[u+1]=c>>24&255,d[u+2]=c>>16&255,d[u+3]=c>>8&255}}}b.dirty=!0}};e.graphics.utils.ImageDataUtil.getPixels=function(b,a,c){if(null==b.buffer.data)return null;var d=new e.utils.ByteArray(4*(a.width*a.height|0));d.position=0;var f=b.buffer.data,k=b.buffer.format,I=b.buffer.premultiplied;b=new e.graphics.utils._ImageDataUtil.ImageDataView(b,a);for(var g,C,l=a=0,y=b.height;l<y;){g=l++;g=b.offset+b.stride*g;for(var u=
0,n=b.width;u<n;){u++;switch(k){case 2:C=(f[g+2]&255)<<24|(f[g+1]&255)<<16|(f[g]&255)<<8|f[g+3]&255;break;case 0:C=(f[g]&255)<<24|(f[g+1]&255)<<16|(f[g+2]&255)<<8|f[g+3]&255;break;case 1:C=(f[g+1]&255)<<24|(f[g+2]&255)<<16|(f[g+3]&255)<<8|f[g]&255}if(I&&0!=(C&255)&&255!=(C&255)){e.math.color._RGBA.RGBA_Impl_.unmult=255/(C&255);var m;m=Math.round((C>>24&255)*e.math.color._RGBA.RGBA_Impl_.unmult);m=e.math.color._RGBA.RGBA_Impl_.__clamp[m];var q;q=Math.round((C>>16&255)*e.math.color._RGBA.RGBA_Impl_.unmult);
q=e.math.color._RGBA.RGBA_Impl_.__clamp[q];var p=Math.round((C>>8&255)*e.math.color._RGBA.RGBA_Impl_.unmult);C=(m&255)<<24|(q&255)<<16|(e.math.color._RGBA.RGBA_Impl_.__clamp[p]&255)<<8|C&255}switch(c){case 1:m=0;C=m=(C&255)<<24|(C>>24&255)<<16|(C>>16&255)<<8|C>>8&255;break;case 2:m=0,C=m=(C>>8&255)<<24|(C>>16&255)<<16|(C>>24&255)<<8|C&255}d.__set(a++,C>>24&255);d.__set(a++,C>>16&255);d.__set(a++,C>>8&255);d.__set(a++,C&255);g+=4}}d.position=0;return d};e.graphics.utils.ImageDataUtil.multiplyAlpha=
function(b){var a=b.buffer.data;if(null!=a&&b.buffer.transparent){for(var c=b.buffer.format,d=a.length/4|0,f,k=0;k<d;){var I=k++,g=4*I;switch(c){case 2:f=(a[g+2]&255)<<24|(a[g+1]&255)<<16|(a[g]&255)<<8|a[g+3]&255;break;case 0:f=(a[g]&255)<<24|(a[g+1]&255)<<16|(a[g+2]&255)<<8|a[g+3]&255;break;case 1:f=(a[g+1]&255)<<24|(a[g+2]&255)<<16|(a[g+3]&255)<<8|a[g]&255}I*=4;0==(f&255)?0!=f&&(f=0):255!=(f&255)&&(e.math.color._RGBA.RGBA_Impl_.a16=e.math.color._RGBA.RGBA_Impl_.__alpha16[f&255],f=((f>>24&255)*e.math.color._RGBA.RGBA_Impl_.a16>>
16&255)<<24|((f>>16&255)*e.math.color._RGBA.RGBA_Impl_.a16>>16&255)<<16|((f>>8&255)*e.math.color._RGBA.RGBA_Impl_.a16>>16&255)<<8|f&255);switch(c){case 2:a[I]=f>>8&255;a[I+1]=f>>16&255;a[I+2]=f>>24&255;a[I+3]=f&255;break;case 0:a[I]=f>>24&255;a[I+1]=f>>16&255;a[I+2]=f>>8&255;a[I+3]=f&255;break;case 1:a[I]=f&255,a[I+1]=f>>24&255,a[I+2]=f>>16&255,a[I+3]=f>>8&255}}b.buffer.premultiplied=!0;b.dirty=!0}};e.graphics.utils.ImageDataUtil.resize=function(b,a,c){var d=b.buffer;if(d.width!=a||d.height!=c){var f=
new e.graphics.ImageBuffer(function(b){b=a*c*4;return null!=b?new Uint8Array(b):null}(this),a,c),k=b.width,I=b.height,g=b.get_data();b=f.data;for(var C,l,y,u,n,m,q,p,r,t=0;t<c;)for(var B=t++,A=0;A<a;)n=A++,p=(n+.5)/a*k-.5,r=(B+.5)/c*I-.5,m=p|0,q=r|0,C=4*(q*k+m),l=m<k-1?C+4:C,y=q<I-1?C+4*k:C,u=l!=C?y+4:y,n=4*(B*a+n),m=p-m,q=r-q,r=1-m,p=1-q,b[n]=(function(b){b=g[C];return 0>b?4294967296+b:b+0}(this)*r+function(b){b=g[l];return 0>b?4294967296+b:b+0}(this)*m)*p+(function(b){b=g[y];return 0>b?4294967296+
b:b+0}(this)*r+function(b){b=g[u];return 0>b?4294967296+b:b+0}(this)*m)*q|0,b[n+1]=(function(b){b=g[C+1];return 0>b?4294967296+b:b+0}(this)*r+function(b){b=g[l+1];return 0>b?4294967296+b:b+0}(this)*m)*p+(function(b){b=g[y+1];return 0>b?4294967296+b:b+0}(this)*r+function(b){b=g[u+1];return 0>b?4294967296+b:b+0}(this)*m)*q|0,b[n+2]=(function(b){b=g[C+2];return 0>b?4294967296+b:b+0}(this)*r+function(b){b=g[l+2];return 0>b?4294967296+b:b+0}(this)*m)*p+(function(b){b=g[y+2];return 0>b?4294967296+b:b+0}(this)*
r+function(b){b=g[u+2];return 0>b?4294967296+b:b+0}(this)*m)*q|0,0==function(b){b=g[l+3];return 0>b?4294967296+b:b+0}(this)||0==function(b){b=g[y+3];return 0>b?4294967296+b:b+0}(this)||0==function(b){b=g[u+3];return 0>b?4294967296+b:b+0}(this)?b[n+3]=0:b[n+3]=g[C+3];d.data=f.data;d.width=a;d.height=c}};e.graphics.utils.ImageDataUtil.setFormat=function(b,a){var c=b.buffer.data;if(null!=c){var d,f=c.length/4|0,k,e,g,C,l,y,u,n,m,q,p,r;switch(b.get_format()){case 0:k=0;e=1;g=2;C=3;break;case 1:k=1;e=
2;g=3;C=0;break;case 2:k=2,e=1,g=0,C=3}switch(a){case 0:l=0;y=1;u=2;n=3;break;case 1:l=1;y=2;u=3;n=0;break;case 2:l=2,y=1,u=0,n=3}for(var t=0;t<f;)d=4*t++,m=c[d+k],q=c[d+e],p=c[d+g],r=c[d+C],c[d+l]=m,c[d+y]=q,c[d+u]=p,c[d+n]=r;b.buffer.format=a;b.dirty=!0}};e.graphics.utils.ImageDataUtil.unmultiplyAlpha=function(b){var a=b.buffer.data;if(null!=a){for(var c=b.buffer.format,d=a.length/4|0,f,k=0;k<d;){var I=k++,g=4*I;switch(c){case 2:f=(a[g+2]&255)<<24|(a[g+1]&255)<<16|(a[g]&255)<<8|a[g+3]&255;break;
case 0:f=(a[g]&255)<<24|(a[g+1]&255)<<16|(a[g+2]&255)<<8|a[g+3]&255;break;case 1:f=(a[g+1]&255)<<24|(a[g+2]&255)<<16|(a[g+3]&255)<<8|a[g]&255}if(0!=(f&255)&&255!=(f&255)){e.math.color._RGBA.RGBA_Impl_.unmult=255/(f&255);var g=Math.round((f>>24&255)*e.math.color._RGBA.RGBA_Impl_.unmult),g=e.math.color._RGBA.RGBA_Impl_.__clamp[g],C;C=Math.round((f>>16&255)*e.math.color._RGBA.RGBA_Impl_.unmult);C=e.math.color._RGBA.RGBA_Impl_.__clamp[C];var l=Math.round((f>>8&255)*e.math.color._RGBA.RGBA_Impl_.unmult);
f=(g&255)<<24|(C&255)<<16|(e.math.color._RGBA.RGBA_Impl_.__clamp[l]&255)<<8|f&255}I*=4;switch(c){case 2:a[I]=f>>8&255;a[I+1]=f>>16&255;a[I+2]=f>>24&255;a[I+3]=f&255;break;case 0:a[I]=f>>24&255;a[I+1]=f>>16&255;a[I+2]=f>>8&255;a[I+3]=f&255;break;case 1:a[I]=f&255,a[I+1]=f>>24&255,a[I+2]=f>>16&255,a[I+3]=f>>8&255}}b.buffer.premultiplied=!1;b.dirty=!0}};e.graphics.utils._ImageDataUtil={};e.graphics.utils._ImageDataUtil.ImageDataView=function(b,a){this.image=b;null==a?this.rect=b.get_rect():(0>a.x&&(a.x=
0),0>a.y&&(a.y=0),a.x+a.width>b.width&&(a.width=b.width-a.x),a.y+a.height>b.height&&(a.height=b.height-a.y),0>a.width&&(a.width=0),0>a.height&&(a.height=0),this.rect=a);this.stride=b.buffer.get_stride();this.x=Math.ceil(this.rect.x);this.y=Math.ceil(this.rect.y);this.width=Math.floor(this.rect.width);this.height=Math.floor(this.rect.height);this.offset=this.stride*(this.y+b.offsetY)+4*(this.x+b.offsetX)};l["lime.graphics.utils._ImageDataUtil.ImageDataView"]=e.graphics.utils._ImageDataUtil.ImageDataView;
e.graphics.utils._ImageDataUtil.ImageDataView.__name__=!0;e.graphics.utils._ImageDataUtil.ImageDataView.prototype={__class__:e.graphics.utils._ImageDataUtil.ImageDataView};e.math={};e.math._ColorMatrix={};e.math._ColorMatrix.ColorMatrix_Impl_=function(){};l["lime.math._ColorMatrix.ColorMatrix_Impl_"]=e.math._ColorMatrix.ColorMatrix_Impl_;e.math._ColorMatrix.ColorMatrix_Impl_.__name__=!0;e.math._ColorMatrix.ColorMatrix_Impl_.getAlphaTable=function(b){var a;a=new Uint8Array(256);var c=b[18];b=255*b[19];
for(var d,f=0;256>f;){var k=f++;d=Math.floor(k*c+b);255<d&&(d=255);0>d&&(d=0);a[k]=d}return a};e.math._ColorMatrix.ColorMatrix_Impl_.getBlueTable=function(b){var a;a=new Uint8Array(256);var c=b[12];b=255*b[14];for(var d,f=0;256>f;){var k=f++;d=Math.floor(k*c+b);255<d&&(d=255);0>d&&(d=0);a[k]=d}return a};e.math._ColorMatrix.ColorMatrix_Impl_.getGreenTable=function(b){var a;a=new Uint8Array(256);var c=b[6];b=255*b[9];for(var d,f=0;256>f;){var k=f++;d=Math.floor(k*c+b);255<d&&(d=255);0>d&&(d=0);a[k]=
d}return a};e.math._ColorMatrix.ColorMatrix_Impl_.getRedTable=function(b){var a;a=new Uint8Array(256);var c=b[0];b=255*b[4];for(var d,f=0;256>f;){var k=f++;d=Math.floor(k*c+b);255<d&&(d=255);0>d&&(d=0);a[k]=d}return a};e.math._ColorMatrix.ColorMatrix_Impl_.__toFlashColorTransform=function(b){return null};e.math.Matrix3=function(b,a,c,d,f,k){null==k&&(k=0);null==f&&(f=0);null==d&&(d=1);null==c&&(c=0);null==a&&(a=0);null==b&&(b=1);this.a=b;this.b=a;this.c=c;this.d=d;this.tx=f;this.ty=k};l["lime.math.Matrix3"]=
e.math.Matrix3;e.math.Matrix3.__name__=!0;e.math.Matrix3.prototype={__class__:e.math.Matrix3};e.math.Rectangle=function(b,a,c,d){null==d&&(d=0);null==c&&(c=0);null==a&&(a=0);null==b&&(b=0);this.x=b;this.y=a;this.width=c;this.height=d};l["lime.math.Rectangle"]=e.math.Rectangle;e.math.Rectangle.__name__=!0;e.math.Rectangle.prototype={offset:function(b,a){this.x+=b;this.y+=a},__toFlashRectangle:function(){return null},__class__:e.math.Rectangle};e.math.Vector2=function(b,a){null==a&&(a=0);null==b&&(b=
0);this.x=b;this.y=a};l["lime.math.Vector2"]=e.math.Vector2;e.math.Vector2.__name__=!0;e.math.Vector2.prototype={__class__:e.math.Vector2};e.math.color={};e.math.color._RGBA={};e.math.color._RGBA.RGBA_Impl_=function(){};l["lime.math.color._RGBA.RGBA_Impl_"]=e.math.color._RGBA.RGBA_Impl_;e.math.color._RGBA.RGBA_Impl_.__name__=!0;e.math.color._RGBA.RGBA_Impl_.__alpha16=null;e.math.color._RGBA.RGBA_Impl_.__clamp=null;e.math.color._RGBA.RGBA_Impl_.a16=null;e.math.color._RGBA.RGBA_Impl_.unmult=null;e.net=
{};e.net.URLLoader=function(b){this.onSecurityError=new e.app.Event_lime_net_URLLoader_String_Void;this.onProgress=new e.app.Event_lime_net_URLLoader_Int_Int_Void;this.onOpen=new e.app.Event_lime_net_URLLoader_Void;this.onIOError=new e.app.Event_lime_net_URLLoader_String_Void;this.onHTTPStatus=new e.app.Event_lime_net_URLLoader_Int_Void;this.onComplete=new e.app.Event_lime_net_URLLoader_Void;this.bytesTotal=this.bytesLoaded=0;this.set_dataFormat(e.net.URLLoaderDataFormat.TEXT);null!=b&&this.load(b)};
l["lime.net.URLLoader"]=e.net.URLLoader;e.net.URLLoader.__name__=!0;e.net.URLLoader.prototype={getData:function(){return null},load:function(b){this.requestUrl(b.url,b.method,b.data,b.formatRequestHeaders())},registerEvents:function(b){var a=this,c=this;"undefined"!=typeof XMLHttpRequestProgressEvent&&b.addEventListener("progress",t(this,this.__onProgress),!1);b.onreadystatechange=function(){if(4==b.readyState){var d;try{d=b.status}catch(f){d=null}void 0==d&&(d=null);null!=d&&c.onHTTPStatus.dispatch(a,
d);null!=d&&200<=d&&400>d?c.__onData(b.response):null==d?c.onIOError.dispatch(a,"Failed to connect or resolve host"):12029==d?c.onIOError.dispatch(a,"Failed to connect to host"):12007==d?c.onIOError.dispatch(a,"Unknown host"):0==d?(c.onIOError.dispatch(a,"Unable to make request (may be blocked due to cross-domain permissions)"),c.onSecurityError.dispatch(a,"Unable to make request (may be blocked due to cross-domain permissions)")):c.onIOError.dispatch(a,"Http Error #"+b.status)}}},requestUrl:function(b,
a,c,d){var f=new XMLHttpRequest;this.registerEvents(f);var k="";if(x.Boot.__instanceof(c,e.utils.ByteArray))switch(this.dataFormat[1]){case 0:k=c.data.buffer;break;default:k=c.readUTFBytes(c.length)}else if(x.Boot.__instanceof(c,e.net.URLVariables))for(var I=0,g=v.fields(c);I<g.length;){var C=g[I];++I;0!=k.length&&(k+="&");k+=encodeURIComponent(C)+"="+G.urlEncode(v.field(c,C))}else null!=c&&(k=c.toString());try{if("GET"==a&&null!=k&&""!=k){var l=1>=b.split("?").length;f.open("GET",b+(l?"?":"&")+r.string(k),
!0);k=""}else f.open(x.Boot.__cast(a,String),b,!0)}catch(y){this.onIOError.dispatch(this,y.toString());return}switch(this.dataFormat[1]){case 0:f.responseType="arraybuffer"}for(b=0;b<d.length;)a=d[b],++b,f.setRequestHeader(a.name,a.value);f.send(k);this.onOpen.dispatch(this);this.getData=function(){return null!=f.response?f.response:f.responseText}},__onData:function(b){b=this.getData();switch(this.dataFormat[1]){case 0:this.data=e.utils.ByteArray.__ofBuffer(b);break;default:this.data=r.string(b)}this.onComplete.dispatch(this)},
__onProgress:function(b){this.bytesLoaded=b.loaded;this.bytesTotal=b.total;this.onProgress.dispatch(this,this.bytesLoaded,this.bytesTotal)},set_dataFormat:function(b){b!=e.net.URLLoaderDataFormat.BINARY||v.hasField(window,"ArrayBuffer")?this.dataFormat=b:this.dataFormat=e.net.URLLoaderDataFormat.TEXT;return this.dataFormat},__class__:e.net.URLLoader,__properties__:{set_dataFormat:"set_dataFormat"}};e.net.URLLoaderDataFormat=l["lime.net.URLLoaderDataFormat"]={__ename__:!0,__constructs__:["BINARY",
"TEXT","VARIABLES"]};e.net.URLLoaderDataFormat.BINARY=["BINARY",0];e.net.URLLoaderDataFormat.BINARY.toString=m;e.net.URLLoaderDataFormat.BINARY.__enum__=e.net.URLLoaderDataFormat;e.net.URLLoaderDataFormat.TEXT=["TEXT",1];e.net.URLLoaderDataFormat.TEXT.toString=m;e.net.URLLoaderDataFormat.TEXT.__enum__=e.net.URLLoaderDataFormat;e.net.URLLoaderDataFormat.VARIABLES=["VARIABLES",2];e.net.URLLoaderDataFormat.VARIABLES.toString=m;e.net.URLLoaderDataFormat.VARIABLES.__enum__=e.net.URLLoaderDataFormat;e.net.URLRequest=
function(b){null!=b&&(this.url=b);this.requestHeaders=[];this.method="GET";this.contentType=null};l["lime.net.URLRequest"]=e.net.URLRequest;e.net.URLRequest.__name__=!0;e.net.URLRequest.prototype={formatRequestHeaders:function(){var b=this.requestHeaders;null==b&&(b=[]);if("GET"==this.method||null==this.data)return b;if("string"==typeof this.data||x.Boot.__instanceof(this.data,e.utils.ByteArray))b=b.slice(),b.push(new e.net.URLRequestHeader("Content-Type",null!=this.contentType?this.contentType:"application/x-www-form-urlencoded"));
return b},__class__:e.net.URLRequest};e.net.URLRequestHeader=function(b,a){null==a&&(a="");null==b&&(b="");this.name=b;this.value=a};l["lime.net.URLRequestHeader"]=e.net.URLRequestHeader;e.net.URLRequestHeader.__name__=!0;e.net.URLRequestHeader.prototype={__class__:e.net.URLRequestHeader};e.net.URLVariables=function(){};l["lime.net.URLVariables"]=e.net.URLVariables;e.net.URLVariables.__name__=!0;e.system={};e.system.Clipboard=function(){};l["lime.system.Clipboard"]=e.system.Clipboard;e.system.Clipboard.__name__=
!0;e.system.Clipboard.__properties__={set_text:"set_text",get_text:"get_text"};e.system.Clipboard.get_text=function(){return null};e.system.Clipboard.set_text=function(b){return null};e.system.System=function(){};l["lime.system.System"]=e.system.System;e.system.System.__name__=!0;e.system.System.embed=J.lime.embed=function(b,a,c,d,f){var k=null,k="string"==typeof b?window.document.getElementById(x.Boot.__cast(b,String)):null==b?window.document.createElement("div"):b;b=null;null!=d&&(d=G.replace(d,
"#",""),b=-1<d.indexOf("0x")?r.parseInt(d):r.parseInt("0x"+d));null==a&&(a=0);null==c&&(c=0);D.config.windows[0].background=b;D.config.windows[0].element=k;D.config.windows[0].width=a;D.config.windows[0].height=c;D.config.assetsPrefix=f;D.create()};e.system.System.getTimer=function(){return(new Date).getTime()};e.ui={};e.ui.Gamepad=function(){this.onDisconnect=new e.app.Event_Void_Void;this.onButtonUp=new e.app.Event_lime_ui_GamepadButton_Void;this.onButtonDown=new e.app.Event_lime_ui_GamepadButton_Void;
this.onAxisMove=new e.app.Event_lime_ui_GamepadAxis_Float_Void};l["lime.ui.Gamepad"]=e.ui.Gamepad;e.ui.Gamepad.__name__=!0;e.ui.Gamepad.prototype={__class__:e.ui.Gamepad};e.ui.Joystick=function(){this.onTrackballMove=new e.app.Event_Int_Float_Void;this.onHatMove=new e.app.Event_Int_lime_ui_JoystickHatPosition_Void;this.onDisconnect=new e.app.Event_Void_Void;this.onButtonUp=new e.app.Event_Int_Void;this.onButtonDown=new e.app.Event_Int_Void;this.onAxisMove=new e.app.Event_Int_Float_Void};l["lime.ui.Joystick"]=
e.ui.Joystick;e.ui.Joystick.__name__=!0;e.ui.Joystick.prototype={__class__:e.ui.Joystick};e.ui._KeyModifier={};e.ui._KeyModifier.KeyModifier_Impl_=function(){};l["lime.ui._KeyModifier.KeyModifier_Impl_"]=e.ui._KeyModifier.KeyModifier_Impl_;e.ui._KeyModifier.KeyModifier_Impl_.__name__=!0;e.ui._KeyModifier.KeyModifier_Impl_.__properties__={get_shiftKey:"get_shiftKey",get_metaKey:"get_metaKey",get_ctrlKey:"get_ctrlKey",get_altKey:"get_altKey"};e.ui._KeyModifier.KeyModifier_Impl_.get_altKey=function(b){return 0<
(b&256)||0<(b&512)};e.ui._KeyModifier.KeyModifier_Impl_.get_ctrlKey=function(b){return 0<(b&64)||0<(b&128)};e.ui._KeyModifier.KeyModifier_Impl_.get_metaKey=function(b){return 0<(b&1024)||0<(b&2048)};e.ui._KeyModifier.KeyModifier_Impl_.get_shiftKey=function(b){return 0<(b&1)||0<(b&2)};e.ui.Mouse=function(){};l["lime.ui.Mouse"]=e.ui.Mouse;e.ui.Mouse.__name__=!0;e.ui.Mouse.__properties__={set_cursor:"set_cursor"};e.ui.Mouse.set_cursor=function(b){return e._backend.html5.HTML5Mouse.set_cursor(b)};e.ui.MouseCursor=
l["lime.ui.MouseCursor"]={__ename__:!0,__constructs__:"ARROW CROSSHAIR DEFAULT MOVE POINTER RESIZE_NESW RESIZE_NS RESIZE_NWSE RESIZE_WE TEXT WAIT WAIT_ARROW CUSTOM".split(" ")};e.ui.MouseCursor.ARROW=["ARROW",0];e.ui.MouseCursor.ARROW.toString=m;e.ui.MouseCursor.ARROW.__enum__=e.ui.MouseCursor;e.ui.MouseCursor.CROSSHAIR=["CROSSHAIR",1];e.ui.MouseCursor.CROSSHAIR.toString=m;e.ui.MouseCursor.CROSSHAIR.__enum__=e.ui.MouseCursor;e.ui.MouseCursor.DEFAULT=["DEFAULT",2];e.ui.MouseCursor.DEFAULT.toString=
m;e.ui.MouseCursor.DEFAULT.__enum__=e.ui.MouseCursor;e.ui.MouseCursor.MOVE=["MOVE",3];e.ui.MouseCursor.MOVE.toString=m;e.ui.MouseCursor.MOVE.__enum__=e.ui.MouseCursor;e.ui.MouseCursor.POINTER=["POINTER",4];e.ui.MouseCursor.POINTER.toString=m;e.ui.MouseCursor.POINTER.__enum__=e.ui.MouseCursor;e.ui.MouseCursor.RESIZE_NESW=["RESIZE_NESW",5];e.ui.MouseCursor.RESIZE_NESW.toString=m;e.ui.MouseCursor.RESIZE_NESW.__enum__=e.ui.MouseCursor;e.ui.MouseCursor.RESIZE_NS=["RESIZE_NS",6];e.ui.MouseCursor.RESIZE_NS.toString=
m;e.ui.MouseCursor.RESIZE_NS.__enum__=e.ui.MouseCursor;e.ui.MouseCursor.RESIZE_NWSE=["RESIZE_NWSE",7];e.ui.MouseCursor.RESIZE_NWSE.toString=m;e.ui.MouseCursor.RESIZE_NWSE.__enum__=e.ui.MouseCursor;e.ui.MouseCursor.RESIZE_WE=["RESIZE_WE",8];e.ui.MouseCursor.RESIZE_WE.toString=m;e.ui.MouseCursor.RESIZE_WE.__enum__=e.ui.MouseCursor;e.ui.MouseCursor.TEXT=["TEXT",9];e.ui.MouseCursor.TEXT.toString=m;e.ui.MouseCursor.TEXT.__enum__=e.ui.MouseCursor;e.ui.MouseCursor.WAIT=["WAIT",10];e.ui.MouseCursor.WAIT.toString=
m;e.ui.MouseCursor.WAIT.__enum__=e.ui.MouseCursor;e.ui.MouseCursor.WAIT_ARROW=["WAIT_ARROW",11];e.ui.MouseCursor.WAIT_ARROW.toString=m;e.ui.MouseCursor.WAIT_ARROW.__enum__=e.ui.MouseCursor;e.ui.MouseCursor.CUSTOM=["CUSTOM",12];e.ui.MouseCursor.CUSTOM.toString=m;e.ui.MouseCursor.CUSTOM.__enum__=e.ui.MouseCursor;e.ui.Touch=function(b,a,c,d,f,k,e){this.x=b;this.y=a;this.id=c;this.dx=d;this.dy=f;this.pressure=k;this.device=e};l["lime.ui.Touch"]=e.ui.Touch;e.ui.Touch.__name__=!0;e.ui.Touch.prototype={__class__:e.ui.Touch};
e.ui.Window=function(b){this.onTextInput=new e.app.Event_String_Void;this.onTextEdit=new e.app.Event_String_Int_Int_Void;this.onRestore=new e.app.Event_Void_Void;this.onResize=new e.app.Event_Int_Int_Void;this.onMove=new e.app.Event_Float_Float_Void;this.onMouseWheel=new e.app.Event_Float_Float_Void;this.onMouseUp=new e.app.Event_Float_Float_Int_Void;this.onMouseMoveRelative=new e.app.Event_Float_Float_Void;this.onMouseMove=new e.app.Event_Float_Float_Void;this.onMouseDown=new e.app.Event_Float_Float_Int_Void;
this.onMinimize=new e.app.Event_Void_Void;this.onLeave=new e.app.Event_Void_Void;this.onKeyUp=new e.app.Event_lime_ui_KeyCode_lime_ui_KeyModifier_Void;this.onKeyDown=new e.app.Event_lime_ui_KeyCode_lime_ui_KeyModifier_Void;this.onFullscreen=new e.app.Event_Void_Void;this.onFocusOut=new e.app.Event_Void_Void;this.onFocusIn=new e.app.Event_Void_Void;this.onEnter=new e.app.Event_Void_Void;this.onDeactivate=new e.app.Event_Void_Void;this.onCreate=new e.app.Event_Void_Void;this.onClose=new e.app.Event_Void_Void;
this.onActivate=new e.app.Event_Void_Void;this.config=b;this.__height=this.__width=0;this.__fullscreen=!1;this.__scale=1;this.__y=this.__x=0;this.__title="";this.id=-1;null!=b&&(Object.prototype.hasOwnProperty.call(b,"width")&&(this.__width=b.width),Object.prototype.hasOwnProperty.call(b,"height")&&(this.__height=b.height),Object.prototype.hasOwnProperty.call(b,"x")&&(this.__x=b.x),Object.prototype.hasOwnProperty.call(b,"y")&&(this.__y=b.y),Object.prototype.hasOwnProperty.call(b,"fullscreen")&&(this.__fullscreen=
b.fullscreen),Object.prototype.hasOwnProperty.call(b,"title")&&(this.__title=b.title));this.backend=new e._backend.html5.HTML5Window(this)};l["lime.ui.Window"]=e.ui.Window;e.ui.Window.__name__=!0;e.ui.Window.prototype={close:function(){this.backend.close()},create:function(b){this.application=b;this.backend.create(b);null!=this.renderer&&this.renderer.create()},resize:function(b,a){this.backend.resize(b,a);this.__width=b;this.__height=a},set_fullscreen:function(b){return this.__fullscreen=this.backend.setFullscreen(b)},
set_height:function(b){this.resize(this.__width,b);return this.__height},set_width:function(b){this.resize(b,this.__height);return this.__width},__class__:e.ui.Window,__properties__:{set_width:"set_width",set_height:"set_height",set_fullscreen:"set_fullscreen"}};e.utils={};e.utils.ByteArray=function(b){null==b&&(b=0);this.length=this.position=this.allocated=0;0<b&&(this.allocated=b);this.___resizeBuffer(this.allocated);this.set_length(this.allocated)};l["lime.utils.ByteArray"]=e.utils.ByteArray;e.utils.ByteArray.__name__=
!0;e.utils.ByteArray.__ofBuffer=function(b){var a=new e.utils.ByteArray;a.set_length(a.allocated=b.byteLength);a.data=new DataView(b);a.byteView=new Uint8Array(b);return a};e.utils.ByteArray.prototype={readByte:function(){return this.data.getInt8(this.position++)},readUnsignedByte:function(){return this.data.getUint8(this.position++)},readUTFBytes:function(b){var a="";for(b=this.position+b;this.position<b;){var c=this.data,d=c.getUint8(this.position++);if(128>d){if(0==d)break;a+=String.fromCharCode(d)}else if(224>
d)a+=String.fromCharCode((d&63)<<6|c.getUint8(this.position++)&127);else if(240>d)var f=c.getUint8(this.position++),a=a+String.fromCharCode((d&31)<<12|(f&127)<<6|c.getUint8(this.position++)&127);else var f=c.getUint8(this.position++),k=c.getUint8(this.position++),a=a+String.fromCharCode((d&15)<<18|(f&127)<<12|k<<6&127|c.getUint8(this.position++)&127)}return a},__get:function(b){return this.data.getInt8(b)},___resizeBuffer:function(b){var a=this.byteView,c=new Uint8Array(b);null!=a&&(a.length<=b?c.set(a):
c.set(a.subarray(0,b)));this.byteView=c;this.data=new DataView(c.buffer)},__set:function(b,a){this.data.setUint8(b,a)},set_length:function(b){this.allocated<b?this.___resizeBuffer(this.allocated=r["int"](Math.max(b,2*this.allocated))):this.allocated>2*b&&this.___resizeBuffer(this.allocated=b);return this.length=b},__class__:e.utils.ByteArray,__properties__:{set_length:"set_length"}};var p={actuators:{}};p.actuators.IGenericActuator=function(){};l["motion.actuators.IGenericActuator"]=p.actuators.IGenericActuator;
p.actuators.IGenericActuator.__name__=!0;p.actuators.IGenericActuator.prototype={__class__:p.actuators.IGenericActuator};p.actuators.GenericActuator=function(b,a,c){this._autoVisible=!0;this._delay=0;this._reflect=!1;this._repeat=0;this.special=this._snapping=this._smartRotation=this._reverse=!1;this.target=b;this.properties=c;this.duration=a;this._ease=p.Actuate.defaultEase};l["motion.actuators.GenericActuator"]=p.actuators.GenericActuator;p.actuators.GenericActuator.__name__=!0;p.actuators.GenericActuator.__interfaces__=
[p.actuators.IGenericActuator];p.actuators.GenericActuator.prototype={apply:function(){for(var b=0,a=v.fields(this.properties);b<a.length;){var c=a[b];++b;Object.prototype.hasOwnProperty.call(this.target,c)?v.setField(this.target,c,v.field(this.properties,c)):v.setProperty(this.target,c,v.field(this.properties,c))}},autoVisible:function(b){null==b&&(b=!0);this._autoVisible=b;return this},callMethod:function(b,a){null==a&&(a=[]);return b.apply(b,a)},change:function(){null!=this._onUpdate&&this.callMethod(this._onUpdate,
this._onUpdateParams)},complete:function(b){null==b&&(b=!0);b&&(this.change(),null!=this._onComplete&&this.callMethod(this._onComplete,this._onCompleteParams));p.Actuate.unload(this)},delay:function(b){this._delay=b;return this},ease:function(b){this._ease=b;return this},move:function(){},onComplete:function(b,a){this._onComplete=b;this._onCompleteParams=null==a?[]:a;0==this.duration&&this.complete();return this},onRepeat:function(b,a){this._onRepeat=b;this._onRepeatParams=null==a?[]:a;return this},
onUpdate:function(b,a){this._onUpdate=b;this._onUpdateParams=null==a?[]:a;return this},onPause:function(b,a){this._onPause=b;this._onPauseParams=null==a?[]:a;return this},onResume:function(b,a){this._onResume=b;this._onResumeParams=null==a?[]:a;return this},pause:function(){null!=this._onPause&&this.callMethod(this._onPause,this._onPauseParams)},reflect:function(b){null==b&&(b=!0);this._reflect=b;this.special=!0;return this},repeat:function(b){null==b&&(b=-1);this._repeat=b;return this},resume:function(){null!=
this._onResume&&this.callMethod(this._onResume,this._onResumeParams)},reverse:function(b){null==b&&(b=!0);this._reverse=b;this.special=!0;return this},smartRotation:function(b){null==b&&(b=!0);this._smartRotation=b;this.special=!0;return this},snapping:function(b){null==b&&(b=!0);this._snapping=b;this.special=!0;return this},stop:function(b,a,c){},__class__:p.actuators.GenericActuator};p.actuators.SimpleActuator=function(b,h,c){this.active=!0;this.propertyDetails=[];this.toggleVisible=this.setVisible=
this.initialized=this.cacheVisible=this.paused=this.sendChange=!1;this.startTime=a.Lib.getTimer()/1E3;p.actuators.GenericActuator.call(this,b,h,c);p.actuators.SimpleActuator.addedEvent||(p.actuators.SimpleActuator.addedEvent=!0,a.Lib.current.stage.addEventListener(a.events.Event.ENTER_FRAME,p.actuators.SimpleActuator.stage_onEnterFrame))};l["motion.actuators.SimpleActuator"]=p.actuators.SimpleActuator;p.actuators.SimpleActuator.__name__=!0;p.actuators.SimpleActuator.stage_onEnterFrame=function(b){b=
a.Lib.getTimer()/1E3;for(var h,c=0,d=0,f=p.actuators.SimpleActuator.actuatorsLength;d<f;)d++,h=p.actuators.SimpleActuator.actuators[c],null!=h&&h.active?(b>=h.timeOffset&&h.update(b),c++):(p.actuators.SimpleActuator.actuators.splice(c,1),--p.actuators.SimpleActuator.actuatorsLength)};p.actuators.SimpleActuator.__super__=p.actuators.GenericActuator;p.actuators.SimpleActuator.prototype=w(p.actuators.GenericActuator.prototype,{setField_motion_actuators_SimpleActuator_T:function(b,a,c){Object.prototype.hasOwnProperty.call(b,
a)?b[a]=c:v.setProperty(b,a,c)},autoVisible:function(b){null==b&&(b=!0);this._autoVisible=b;b||(this.toggleVisible=!1,this.setVisible&&this.setField_motion_actuators_SimpleActuator_T(this.target,"visible",this.cacheVisible));return this},delay:function(b){this._delay=b;this.timeOffset=this.startTime+b;return this},getField:function(b,a){var c=null;return c=Object.prototype.hasOwnProperty.call(b,a)?v.field(b,a):v.getProperty(b,a)},initialize:function(){for(var b,a=0,c=v.fields(this.properties);a<c.length;){var d=
c[a];++a;var f=!0;!Object.prototype.hasOwnProperty.call(this.target,d)||this.target.__properties__&&this.target.__properties__["set_"+d]?(f=!1,b=v.getProperty(this.target,d)):b=v.field(this.target,d);if("number"==typeof b){var k=this.getField(this.properties,d);null==b&&(b=0);null==k&&(k=0);b=new p.actuators.PropertyDetails(this.target,d,b,k-b,f);this.propertyDetails.push(b)}}this.detailsLength=this.propertyDetails.length;this.initialized=!0},move:function(){(this.toggleVisible=Object.prototype.hasOwnProperty.call(this.properties,
"alpha")&&x.Boot.__instanceof(this.target,a.display.DisplayObject))&&0!=this.properties.alpha&&!this.getField(this.target,"visible")&&(this.setVisible=!0,this.cacheVisible=this.getField(this.target,"visible"),this.setField_motion_actuators_SimpleActuator_T(this.target,"visible",!0));this.timeOffset=this.startTime;p.actuators.SimpleActuator.actuators.push(this);++p.actuators.SimpleActuator.actuatorsLength},onUpdate:function(b,a){this._onUpdate=b;this._onUpdateParams=null==a?[]:a;this.sendChange=!0;
return this},pause:function(){this.paused||(this.paused=!0,p.actuators.GenericActuator.prototype.pause.call(this),this.pauseTime=a.Lib.getTimer())},resume:function(){this.paused&&(this.paused=!1,this.timeOffset+=(a.Lib.getTimer()-this.pauseTime)/1E3,p.actuators.GenericActuator.prototype.resume.call(this))},setProperty:function(b,a){b.isField?b.target[b.propertyName]=a:v.setProperty(b.target,b.propertyName,a)},stop:function(b,a,c){if(this.active)if(null==b)this.active=!1,a&&this.apply(),this.complete(c);
else{var d=0;for(b=v.fields(b);d<b.length;){var f=b[d];++d;if(Object.prototype.hasOwnProperty.call(this.properties,f)){this.active=!1;a&&this.apply();this.complete(c);break}}}},update:function(b){if(!this.paused){var a,c,d=(b-this.timeOffset)/this.duration;1<d&&(d=1);this.initialized||this.initialize();if(this.special){c=this._reverse?this._ease.calculate(1-d):this._ease.calculate(d);for(var f,k=0,e=this.detailsLength;k<e;)a=k++,a=this.propertyDetails[a],!this._smartRotation||"rotation"!=a.propertyName&&
"rotationX"!=a.propertyName&&"rotationY"!=a.propertyName&&"rotationZ"!=a.propertyName?f=a.start+a.change*c:(f=a.change%360,180<f?f-=360:-180>f&&(f+=360),f=a.start+f*c),this._snapping?this.setProperty(a,Math.round(f)):a.isField?a.target[a.propertyName]=f:v.setProperty(a.target,a.propertyName,f)}else for(c=this._ease.calculate(d),k=0,e=this.detailsLength;k<e;)a=k++,a=this.propertyDetails[a],this.setProperty(a,a.start+a.change*c);if(1==d){if(0==this._repeat){this.active=!1;this.toggleVisible&&0==this.getField(this.target,
"alpha")&&this.setField_motion_actuators_SimpleActuator_T(this.target,"visible",!1);this.complete(!0);return}null!=this._onRepeat&&this.callMethod(this._onRepeat,this._onRepeatParams);this._reflect&&(this._reverse=!this._reverse);this.startTime=b;this.timeOffset=this.startTime+this._delay;0<this._repeat&&this._repeat--}this.sendChange&&this.change()}},__class__:p.actuators.SimpleActuator});p.easing={};p.easing.Expo=function(){};l["motion.easing.Expo"]=p.easing.Expo;p.easing.Expo.__name__=!0;p.easing.Expo.__properties__=
{get_easeOut:"get_easeOut"};p.easing.Expo.get_easeOut=function(){return new p.easing.ExpoEaseOut};p.easing.IEasing=function(){};l["motion.easing.IEasing"]=p.easing.IEasing;p.easing.IEasing.__name__=!0;p.easing.IEasing.prototype={__class__:p.easing.IEasing};p.easing.ExpoEaseOut=function(){};l["motion.easing.ExpoEaseOut"]=p.easing.ExpoEaseOut;p.easing.ExpoEaseOut.__name__=!0;p.easing.ExpoEaseOut.__interfaces__=[p.easing.IEasing];p.easing.ExpoEaseOut.prototype={calculate:function(b){return 1==b?1:1-
Math.pow(2,-10*b)},__class__:p.easing.ExpoEaseOut};p.Actuate=function(){};l["motion.Actuate"]=p.Actuate;p.Actuate.__name__=!0;p.Actuate.apply=function(b,a,c){p.Actuate.stop(b,a);null==c&&(c=p.Actuate.defaultActuator);b=K.createInstance(c,[b,0,a]);b.apply();return b};p.Actuate.getLibrary=function(b,a){null==a&&(a=!0);null==p.Actuate.targetLibraries.h.__keys__[b.__id__]&&a&&p.Actuate.targetLibraries.set(b,[]);return p.Actuate.targetLibraries.h[b.__id__]};p.Actuate.stop=function(b,a,c,d){null==d&&(d=
!0);null==c&&(c=!1);if(null!=b)if(x.Boot.__instanceof(b,p.actuators.IGenericActuator))b.stop(null,c,d);else if(b=p.Actuate.getLibrary(b,!1),null!=b){if("string"==typeof a){var f={};v.setField(f,a,null);a=f}else if(a instanceof Array&&null==a.__enum__){var f={},k=0;for(a=x.Boot.__cast(a,Array);k<a.length;){var e=a[k];++k;v.setField(f,e,null)}a=f}for(f=b.length-1;0<=f;)b[f].stop(a,c,d),f--}};p.Actuate.tween=function(b,a,c,d,f){null==d&&(d=!0);if(null!=b){if(0<a){null==f&&(f=p.Actuate.defaultActuator);
b=K.createInstance(f,[b,a,c]);a=p.Actuate.getLibrary(b.target);if(d){for(d=a.length-1;0<=d;)a[d].stop(b.properties,!1,!1),d--;a=p.Actuate.getLibrary(b.target)}a.push(b);b.move();return b}return p.Actuate.apply(b,c,f)}return null};p.Actuate.unload=function(b){var a=b.target;null!=p.Actuate.targetLibraries.h.__keys__[a.__id__]&&(z.remove(p.Actuate.targetLibraries.h[a.__id__],b),0==p.Actuate.targetLibraries.h[a.__id__].length&&p.Actuate.targetLibraries.remove(a))};p.IComponentPath=function(){};l["motion.IComponentPath"]=
p.IComponentPath;p.IComponentPath.__name__=!0;p.IComponentPath.prototype={__class__:p.IComponentPath};p.actuators.FilterActuator=function(b,a,c){this.filterIndex=-1;p.actuators.SimpleActuator.call(this,b,a,c);if(x.Boot.__instanceof(c.filter,xa))for(this.filterClass=c.filter,0==b.get_filters().length&&b.set_filters([K.createInstance(this.filterClass,[])]),a=0,b=b.get_filters();a<b.length;)c=b[a],++a,x.Boot.__instanceof(c,this.filterClass)&&(this.filter=c);else this.filterIndex=c.filter,this.filter=
b.get_filters()[this.filterIndex]};l["motion.actuators.FilterActuator"]=p.actuators.FilterActuator;p.actuators.FilterActuator.__name__=!0;p.actuators.FilterActuator.__super__=p.actuators.SimpleActuator;p.actuators.FilterActuator.prototype=w(p.actuators.SimpleActuator.prototype,{setField_openfl_display_DisplayObject:function(b,a,c){Object.prototype.hasOwnProperty.call(b,a)?b[a]=c:v.setProperty(b,a,c)},apply:function(){for(var b=0,a=v.fields(this.properties);b<a.length;){var c=a[b];++b;"filter"!=c&&
v.setField(this.filter,c,v.field(this.properties,c))}b=this.getField(this.target,"filters");v.setField(b,this.properties.filter,this.filter);this.setField_openfl_display_DisplayObject(this.target,"filters",b)},initialize:function(){for(var b,a=0,c=v.fields(this.properties);a<c.length;){var d=c[a];++a;"filter"!=d&&(b=this.getField(this.filter,d),b=new p.actuators.PropertyDetails(this.filter,d,b,v.field(this.properties,d)-b),this.propertyDetails.push(b))}this.detailsLength=this.propertyDetails.length;
this.initialized=!0},update:function(b){p.actuators.SimpleActuator.prototype.update.call(this,b);b=this.target.get_filters();if(-1<this.filterIndex)v.setField(b,this.properties.filter,this.filter);else for(var a=0,c=b.length;a<c;){var d=a++;x.Boot.__instanceof(b[d],this.filterClass)&&(b[d]=this.filter)}this.setField_openfl_display_DisplayObject(this.target,"filters",b)},__class__:p.actuators.FilterActuator});p.actuators.MethodActuator=function(b,a,c){this.currentParameters=[];this.tweenProperties=
{};p.actuators.SimpleActuator.call(this,b,a,c);Object.prototype.hasOwnProperty.call(c,"start")||(this.properties.start=[]);Object.prototype.hasOwnProperty.call(c,"end")||(this.properties.end=this.properties.start);b=0;for(a=this.properties.start.length;b<a;)c=b++,this.currentParameters.push(this.properties.start[c])};l["motion.actuators.MethodActuator"]=p.actuators.MethodActuator;p.actuators.MethodActuator.__name__=!0;p.actuators.MethodActuator.__super__=p.actuators.SimpleActuator;p.actuators.MethodActuator.prototype=
w(p.actuators.SimpleActuator.prototype,{apply:function(){this.callMethod(this.target,this.properties.end)},complete:function(b){null==b&&(b=!0);for(var a=0,c=this.properties.start.length;a<c;){var d=a++;this.currentParameters[d]=v.field(this.tweenProperties,"param"+d)}this.callMethod(this.target,this.currentParameters);p.actuators.SimpleActuator.prototype.complete.call(this,b)},initialize:function(){for(var b,a,c=0,d=this.properties.start.length;c<d;){var f=c++;b="param"+f;a=this.properties.start[f];
this.tweenProperties[b]=a;if("number"==typeof a||(a|0)===a)b=new p.actuators.PropertyDetails(this.tweenProperties,b,a,this.properties.end[f]-a),this.propertyDetails.push(b)}this.detailsLength=this.propertyDetails.length;this.initialized=!0},update:function(b){p.actuators.SimpleActuator.prototype.update.call(this,b);if(this.active&&!this.paused){b=0;for(var a=this.properties.start.length;b<a;){var c=b++;this.currentParameters[c]=v.field(this.tweenProperties,"param"+c)}this.callMethod(this.target,this.currentParameters)}},
__class__:p.actuators.MethodActuator});p.actuators.MotionPathActuator=function(b,a,c){p.actuators.SimpleActuator.call(this,b,a,c)};l["motion.actuators.MotionPathActuator"]=p.actuators.MotionPathActuator;p.actuators.MotionPathActuator.__name__=!0;p.actuators.MotionPathActuator.__super__=p.actuators.SimpleActuator;p.actuators.MotionPathActuator.prototype=w(p.actuators.SimpleActuator.prototype,{setField_motion_actuators_MotionPathActuator_T:function(b,a,c){Object.prototype.hasOwnProperty.call(b,a)?b[a]=
c:v.setProperty(b,a,c)},apply:function(){for(var b=0,a=v.fields(this.properties);b<a.length;){var c=a[b];++b;Object.prototype.hasOwnProperty.call(this.target,c)?v.setField(this.target,c,x.Boot.__cast(v.field(this.properties,c),p.IComponentPath).get_end()):v.setProperty(this.target,c,x.Boot.__cast(v.field(this.properties,c),p.IComponentPath).get_end())}},initialize:function(){for(var b,a=0,c=v.fields(this.properties);a<c.length;){var d=c[a];++a;b=x.Boot.__cast(v.field(this.properties,d),p.IComponentPath);
if(null!=b){var f=!0;Object.prototype.hasOwnProperty.call(this.target,d)?b.start=v.field(this.target,d):(f=!1,b.start=v.getProperty(this.target,d));b=new p.actuators.PropertyPathDetails(this.target,d,b,f);this.propertyDetails.push(b)}}this.detailsLength=this.propertyDetails.length;this.initialized=!0},update:function(b){if(!this.paused){var a,c=(b-this.timeOffset)/this.duration;1<c&&(c=1);this.initialized||this.initialize();if(this.special){a=this._reverse?this._ease.calculate(1-c):this._ease.calculate(c);
for(var d=0,f=this.propertyDetails;d<f.length;){var k=f[d];++d;this._snapping?k.isField?v.setField(k.target,k.propertyName,Math.round(x.Boot.__cast(k,p.actuators.PropertyPathDetails).path.calculate(a))):v.setProperty(k.target,k.propertyName,Math.round(x.Boot.__cast(k,p.actuators.PropertyPathDetails).path.calculate(a))):k.isField?v.setField(k.target,k.propertyName,x.Boot.__cast(k,p.actuators.PropertyPathDetails).path.calculate(a)):v.setProperty(k.target,k.propertyName,x.Boot.__cast(k,p.actuators.PropertyPathDetails).path.calculate(a))}}else for(a=
this._ease.calculate(c),d=0,f=this.propertyDetails;d<f.length;)k=f[d],++d,k.isField?v.setField(k.target,k.propertyName,x.Boot.__cast(k,p.actuators.PropertyPathDetails).path.calculate(a)):v.setProperty(k.target,k.propertyName,x.Boot.__cast(k,p.actuators.PropertyPathDetails).path.calculate(a));if(1==c){if(0==this._repeat){this.active=!1;this.toggleVisible&&0==this.getField(this.target,"alpha")&&this.setField_motion_actuators_MotionPathActuator_T(this.target,"visible",!1);this.complete(!0);return}null!=
this._onRepeat&&this.callMethod(this._onRepeat,this._onRepeatParams);this._reflect&&(this._reverse=!this._reverse);this.startTime=b;this.timeOffset=this.startTime+this._delay;0<this._repeat&&this._repeat--}this.sendChange&&this.change()}},__class__:p.actuators.MotionPathActuator});p.actuators.PropertyDetails=function(b,a,c,d,f){null==f&&(f=!0);this.target=b;this.propertyName=a;this.start=c;this.change=d;this.isField=f};l["motion.actuators.PropertyDetails"]=p.actuators.PropertyDetails;p.actuators.PropertyDetails.__name__=
!0;p.actuators.PropertyDetails.prototype={__class__:p.actuators.PropertyDetails};p.actuators.PropertyPathDetails=function(b,a,c,d){null==d&&(d=!0);p.actuators.PropertyDetails.call(this,b,a,0,0,d);this.path=c};l["motion.actuators.PropertyPathDetails"]=p.actuators.PropertyPathDetails;p.actuators.PropertyPathDetails.__name__=!0;p.actuators.PropertyPathDetails.__super__=p.actuators.PropertyDetails;p.actuators.PropertyPathDetails.prototype=w(p.actuators.PropertyDetails.prototype,{__class__:p.actuators.PropertyPathDetails});
p.actuators.TransformActuator=function(b,a,c){p.actuators.SimpleActuator.call(this,b,a,c)};l["motion.actuators.TransformActuator"]=p.actuators.TransformActuator;p.actuators.TransformActuator.__name__=!0;p.actuators.TransformActuator.__super__=p.actuators.SimpleActuator;p.actuators.TransformActuator.prototype=w(p.actuators.SimpleActuator.prototype,{setField_openfl_geom_Transform:function(b,a,c){Object.prototype.hasOwnProperty.call(b,a)?b[a]=c:v.setProperty(b,a,c)},setField_motion_actuators_TransformActuator_T:function(b,
a,c){Object.prototype.hasOwnProperty.call(b,a)?b[a]=c:v.setProperty(b,a,c)},apply:function(){this.initialize();if(null!=this.endColorTransform){var b=this.getField(this.target,"transform");this.setField_openfl_geom_Transform(b,"colorTransform",this.endColorTransform)}null!=this.endSoundTransform&&this.setField_motion_actuators_TransformActuator_T(this.target,"soundTransform",this.endSoundTransform)},initialize:function(){Object.prototype.hasOwnProperty.call(this.properties,"colorValue")&&x.Boot.__instanceof(this.target,
a.display.DisplayObject)&&this.initializeColor();(Object.prototype.hasOwnProperty.call(this.properties,"soundVolume")||Object.prototype.hasOwnProperty.call(this.properties,"soundPan"))&&this.initializeSound();this.detailsLength=this.propertyDetails.length;this.initialized=!0},initializeColor:function(){this.endColorTransform=new a.geom.ColorTransform;var b=this.properties.colorValue,h=this.properties.colorStrength;if(1>h){var c;.5>h?(c=1,h*=2):(c=1-2*(h-.5),h=1);this.endColorTransform.redMultiplier=
c;this.endColorTransform.greenMultiplier=c;this.endColorTransform.blueMultiplier=c;this.endColorTransform.redOffset=h*(b>>16&255);this.endColorTransform.greenOffset=h*(b>>8&255);this.endColorTransform.blueOffset=h*(b&255)}else this.endColorTransform.redMultiplier=0,this.endColorTransform.greenMultiplier=0,this.endColorTransform.blueMultiplier=0,this.endColorTransform.redOffset=b>>16&255,this.endColorTransform.greenOffset=b>>8&255,this.endColorTransform.blueOffset=b&255;b="redMultiplier greenMultiplier blueMultiplier redOffset greenOffset blueOffset".split(" ");
Object.prototype.hasOwnProperty.call(this.properties,"colorAlpha")?(this.endColorTransform.alphaMultiplier=this.properties.colorAlpha,b.push("alphaMultiplier")):this.endColorTransform.alphaMultiplier=this.getField(this.target,"alpha");c=this.getField(this.target,"transform");c=this.getField(c,"colorTransform");this.tweenColorTransform=new a.geom.ColorTransform;for(var d,h=0;h<b.length;){var f=b[h];++h;d=this.getField(c,f);d=new p.actuators.PropertyDetails(this.tweenColorTransform,f,d,this.getField(this.endColorTransform,
f)-d);this.propertyDetails.push(d)}},initializeSound:function(){null==this.getField(this.target,"soundTransform")&&this.setField_motion_actuators_TransformActuator_T(this.target,"soundTransform",new a.media.SoundTransform);var b=this.getField(this.target,"soundTransform");this.endSoundTransform=this.getField(this.target,"soundTransform");this.tweenSoundTransform=new a.media.SoundTransform;Object.prototype.hasOwnProperty.call(this.properties,"soundVolume")&&(this.endSoundTransform.volume=this.properties.soundVolume,
this.propertyDetails.push(new p.actuators.PropertyDetails(this.tweenSoundTransform,"volume",b.volume,this.endSoundTransform.volume-b.volume)));Object.prototype.hasOwnProperty.call(this.properties,"soundPan")&&(this.endSoundTransform.pan=this.properties.soundPan,this.propertyDetails.push(new p.actuators.PropertyDetails(this.tweenSoundTransform,"pan",b.pan,this.endSoundTransform.pan-b.pan)))},update:function(b){p.actuators.SimpleActuator.prototype.update.call(this,b);null!=this.endColorTransform&&(b=
this.getField(this.target,"transform"),this.setField_openfl_geom_Transform(b,"colorTransform",this.tweenColorTransform));null!=this.endSoundTransform&&this.setField_motion_actuators_TransformActuator_T(this.target,"soundTransform",this.tweenSoundTransform)},__class__:p.actuators.TransformActuator});a.IAssetCache=function(){};l["openfl.IAssetCache"]=a.IAssetCache;a.IAssetCache.__name__=!0;a.IAssetCache.prototype={__class__:a.IAssetCache};a.AssetCache=function(){this.__enabled=!0;this.bitmapData=new q.ds.StringMap;
this.font=new q.ds.StringMap;this.sound=new q.ds.StringMap};l["openfl.AssetCache"]=a.AssetCache;a.AssetCache.__name__=!0;a.AssetCache.__interfaces__=[a.IAssetCache];a.AssetCache.prototype={getBitmapData:function(b){return this.bitmapData.get(b)},getFont:function(b){return this.font.get(b)},hasBitmapData:function(b){return this.bitmapData.exists(b)},hasFont:function(b){return this.font.exists(b)},setBitmapData:function(b,a){this.bitmapData.set(b,a)},setFont:function(b,a){this.font.set(b,a)},get_enabled:function(){return this.__enabled},
__class__:a.AssetCache,__properties__:{get_enabled:"get_enabled"}};a.Assets=function(){};l["openfl.Assets"]=a.Assets;a.Assets.__name__=!0;a.Assets.getBitmapData=function(b,h){null==h&&(h=!0);if(h&&a.Assets.cache.get_enabled()&&a.Assets.cache.hasBitmapData(b)){var c=a.Assets.cache.getBitmapData(b);if(a.Assets.isValidBitmapData(c))return c}c=e.Assets.getImage(b,!1);return null!=c?(c=a.display.BitmapData.fromImage(c),h&&a.Assets.cache.get_enabled()&&a.Assets.cache.setBitmapData(b,c),c):null};a.Assets.getFont=
function(b,h){null==h&&(h=!0);if(h&&a.Assets.cache.get_enabled()&&a.Assets.cache.hasFont(b))return a.Assets.cache.getFont(b);var c=e.Assets.getFont(b,!1);return null!=c?(c=a.text.Font.__fromLimeFont(c),h&&a.Assets.cache.get_enabled()&&a.Assets.cache.setFont(b,c),c):new a.text.Font};a.Assets.isValidBitmapData=function(b){return null!=b&&null!=b.image};a.display.MovieClip=function(){a.display.Sprite.call(this);this.__currentFrame=0;this.__currentLabels=[];this.__totalFrames=0;this.enabled=!0};l["openfl.display.MovieClip"]=
a.display.MovieClip;a.display.MovieClip.__name__=!0;a.display.MovieClip.__super__=a.display.Sprite;a.display.MovieClip.prototype=w(a.display.Sprite.prototype,{__class__:a.display.MovieClip});a.display.LoaderInfo=function(){a.events.EventDispatcher.call(this);this.applicationDomain=a.system.ApplicationDomain.currentDomain;this.bytesTotal=this.bytesLoaded=0;this.childAllowsParent=!0;this.parameters={}};l["openfl.display.LoaderInfo"]=a.display.LoaderInfo;a.display.LoaderInfo.__name__=!0;a.display.LoaderInfo.create=
function(b){var h=new a.display.LoaderInfo;h.uncaughtErrorEvents=new a.events.UncaughtErrorEvents;null!=b?h.loader=b:h.url=a.display.LoaderInfo.__rootURL;return h};a.display.LoaderInfo.__super__=a.events.EventDispatcher;a.display.LoaderInfo.prototype=w(a.events.EventDispatcher.prototype,{__class__:a.display.LoaderInfo});a.system={};a.system.ApplicationDomain=function(b){this.parentDomain=null!=b?b:a.system.ApplicationDomain.currentDomain};l["openfl.system.ApplicationDomain"]=a.system.ApplicationDomain;
a.system.ApplicationDomain.__name__=!0;a.system.ApplicationDomain.prototype={__class__:a.system.ApplicationDomain};a.events.UncaughtErrorEvents=function(b){a.events.EventDispatcher.call(this,b)};l["openfl.events.UncaughtErrorEvents"]=a.events.UncaughtErrorEvents;a.events.UncaughtErrorEvents.__name__=!0;a.events.UncaughtErrorEvents.__super__=a.events.EventDispatcher;a.events.UncaughtErrorEvents.prototype=w(a.events.EventDispatcher.prototype,{__class__:a.events.UncaughtErrorEvents});a.geom.Matrix=function(b,
a,c,d,f,k){null==k&&(k=0);null==f&&(f=0);null==d&&(d=1);null==c&&(c=0);null==a&&(a=0);null==b&&(b=1);this.a=b;this.b=a;this.c=c;this.d=d;this.tx=f;this.ty=k};l["openfl.geom.Matrix"]=a.geom.Matrix;a.geom.Matrix.__name__=!0;a.geom.Matrix.prototype={clone:function(){return new a.geom.Matrix(this.a,this.b,this.c,this.d,this.tx,this.ty)},concat:function(b){var a=this.a*b.a+this.b*b.c;this.b=this.a*b.b+this.b*b.d;this.a=a;a=this.c*b.a+this.d*b.c;this.d=this.c*b.b+this.d*b.d;this.c=a;a=this.tx*b.a+this.ty*
b.c+b.tx;this.ty=this.tx*b.b+this.ty*b.d+b.ty;this.tx=a},copyFrom:function(b){this.a=b.a;this.b=b.b;this.c=b.c;this.d=b.d;this.tx=b.tx;this.ty=b.ty},deltaTransformPoint:function(b){return new a.geom.Point(b.x*this.a+b.y*this.c,b.x*this.b+b.y*this.d)},identity:function(){this.a=1;this.c=this.b=0;this.d=1;this.ty=this.tx=0},invert:function(){var b=this.a*this.d-this.b*this.c;if(0==b)this.a=this.b=this.c=this.d=0,this.tx=-this.tx,this.ty=-this.ty;else{var b=1/b,a=this.d*b;this.d=this.a*b;this.a=a;this.b*=
-b;this.c*=-b;b=-this.a*this.tx-this.c*this.ty;this.ty=-this.b*this.tx-this.d*this.ty;this.tx=b}return this},scale:function(b,a){this.a*=b;this.b*=a;this.c*=b;this.d*=a;this.tx*=b;this.ty*=a},to3DString:function(b){null==b&&(b=!1);return b?"matrix3d("+this.a+", "+this.b+", 0, 0, "+this.c+", "+this.d+", 0, 0, 0, 0, 1, 0, "+(this.tx|0)+", "+(this.ty|0)+", 0, 1)":"matrix3d("+this.a+", "+this.b+", 0, 0, "+this.c+", "+this.d+", 0, 0, 0, 0, 1, 0, "+this.tx+", "+this.ty+", 0, 1)"},transformPoint:function(b){return new a.geom.Point(b.x*
this.a+b.y*this.c+this.tx,b.x*this.b+b.y*this.d+this.ty)},translate:function(b,a){this.tx+=b;this.ty+=a},toArray:function(b){null==b&&(b=!1);null==this.__array&&(this.__array=new Float32Array(9));b?(this.__array[0]=this.a,this.__array[1]=this.b,this.__array[2]=0,this.__array[3]=this.c,this.__array[4]=this.d,this.__array[5]=0,this.__array[6]=this.tx,this.__array[7]=this.ty):(this.__array[0]=this.a,this.__array[1]=this.c,this.__array[2]=this.tx,this.__array[3]=this.b,this.__array[4]=this.d,this.__array[5]=
this.ty,this.__array[6]=0,this.__array[7]=0);this.__array[8]=1;return this.__array},__toMatrix3:function(){return new e.math.Matrix3(this.a,this.b,this.c,this.d,this.tx,this.ty)},__transformInversePoint:function(b){var a=this.a*this.d-this.b*this.c;if(0==a)b.x=-this.tx,b.y=-this.ty;else{var c=1/a*(this.c*(this.ty-b.y)+this.d*(b.x-this.tx));b.y=1/a*(this.a*(b.y-this.ty)+this.b*(this.tx-b.x));b.x=c}},__transformInverseX:function(b,a){var c=this.a*this.d-this.b*this.c;return 0==c?-this.tx:1/c*(this.c*
(this.ty-a)+this.d*(b-this.tx))},__transformInverseY:function(b,a){var c=this.a*this.d-this.b*this.c;return 0==c?-this.ty:1/c*(this.a*(a-this.ty)+this.b*(this.tx-b))},__translateTransformed:function(b,a){this.tx=b*this.a+a*this.c+this.tx;this.ty=b*this.b+a*this.d+this.ty},__class__:a.geom.Matrix};a.geom.ColorTransform=function(b,a,c,d,f,k,e,g){null==g&&(g=0);null==e&&(e=0);null==k&&(k=0);null==f&&(f=0);null==d&&(d=1);null==c&&(c=1);null==a&&(a=1);null==b&&(b=1);this.redMultiplier=b;this.greenMultiplier=
a;this.blueMultiplier=c;this.alphaMultiplier=d;this.redOffset=f;this.greenOffset=k;this.blueOffset=e;this.alphaOffset=g};l["openfl.geom.ColorTransform"]=a.geom.ColorTransform;a.geom.ColorTransform.__name__=!0;a.geom.ColorTransform.prototype={__clone:function(){return new a.geom.ColorTransform(this.redMultiplier,this.greenMultiplier,this.blueMultiplier,this.alphaMultiplier,this.redOffset,this.greenOffset,this.blueOffset,this.alphaOffset)},__combine:function(b){this.redMultiplier*=b.redMultiplier;this.greenMultiplier*=
b.greenMultiplier;this.blueMultiplier*=b.blueMultiplier;this.alphaMultiplier*=b.alphaMultiplier;this.redOffset+=b.redOffset;this.greenOffset+=b.greenOffset;this.blueOffset+=b.blueOffset;this.alphaOffset+=b.alphaOffset},__equals:function(b,a){null==a&&(a=!1);return null!=b&&this.redMultiplier==b.redMultiplier&&this.greenMultiplier==b.greenMultiplier&&this.blueMultiplier==b.blueMultiplier&&(a||this.alphaMultiplier==b.alphaMultiplier)&&this.redOffset==b.redOffset&&this.greenOffset==b.greenOffset&&this.blueOffset==
b.blueOffset&&this.alphaOffset==b.alphaOffset},__isDefault:function(){return 1==this.redMultiplier&&1==this.greenMultiplier&&1==this.blueMultiplier&&1==this.alphaMultiplier&&0==this.redOffset&&0==this.greenOffset&&0==this.blueOffset&&0==this.alphaOffset},__toLimeColorMatrix:function(){var b=[this.redMultiplier,0,0,0,this.redOffset/255,0,this.greenMultiplier,0,0,this.greenOffset/255,0,0,this.blueMultiplier,0,this.blueOffset/255,0,0,0,this.alphaMultiplier,this.alphaOffset/255];return null!=b?new Float32Array(b):
null},__class__:a.geom.ColorTransform};a.Lib=function(){};l["openfl.Lib"]=a.Lib;a.Lib.__name__=!0;a.Lib.application=null;a.Lib.embed=J.openfl.embed=function(b,a,c,d,f){e.system.System.embed(b,a,c,d,f)};a.Lib.getTimer=function(){return e.system.System.getTimer()};a.VectorData=function(){this.length=0};l["openfl.VectorData"]=a.VectorData;a.VectorData.__name__=!0;a.VectorData.prototype={__class__:a.VectorData};a._internal={};a._internal.renderer={};a._internal.renderer.AbstractMaskManager=function(b){this.renderSession=
b};l["openfl._internal.renderer.AbstractMaskManager"]=a._internal.renderer.AbstractMaskManager;a._internal.renderer.AbstractMaskManager.__name__=!0;a._internal.renderer.AbstractMaskManager.prototype={pushMask:function(b){},pushRect:function(b,a){},popMask:function(){},popRect:function(){},saveState:function(){},restoreState:function(){},__class__:a._internal.renderer.AbstractMaskManager};a._internal.renderer.AbstractRenderer=function(b,a){this.width=b;this.height=a};l["openfl._internal.renderer.AbstractRenderer"]=
a._internal.renderer.AbstractRenderer;a._internal.renderer.AbstractRenderer.__name__=!0;a._internal.renderer.AbstractRenderer.prototype={render:function(b){},setViewport:function(b,a,c,d){},resize:function(b,a){},__class__:a._internal.renderer.AbstractRenderer};a._internal.renderer.DrawCommandBuffer=function(){this.types=[];this.b=[];this.i=[];this.f=[];this.o=[];this.ff=[];this.ii=[];this.ts=[]};l["openfl._internal.renderer.DrawCommandBuffer"]=a._internal.renderer.DrawCommandBuffer;a._internal.renderer.DrawCommandBuffer.__name__=
!0;a._internal.renderer.DrawCommandBuffer.prototype={append:function(b){for(var h=new a._internal.renderer.DrawCommandReader(b),c=0,d=b.types;c<d.length;){var f=d[c];++c;switch(f[1]){case 0:h.advance();h.prev=a._internal.renderer.DrawCommandType.BEGIN_BITMAP_FILL;f=h;this.beginBitmapFill(f.buffer.o[f.oPos],f.buffer.o[f.oPos+1],f.buffer.b[f.bPos],f.buffer.b[f.bPos+1]);break;case 1:h.advance();h.prev=a._internal.renderer.DrawCommandType.BEGIN_FILL;f=h;this.beginFill(f.buffer.i[f.iPos],f.buffer.f[f.fPos]);
break;case 2:h.advance();h.prev=a._internal.renderer.DrawCommandType.BEGIN_GRADIENT_FILL;f=h;this.beginGradientFill(f.buffer.o[f.oPos],f.buffer.ii[f.iiPos],f.buffer.ff[f.ffPos],f.buffer.ii[f.iiPos+1],f.buffer.o[f.oPos+1],f.buffer.o[f.oPos+2],f.buffer.o[f.oPos+3],f.buffer.o[f.oPos+4]);break;case 3:h.advance();h.prev=a._internal.renderer.DrawCommandType.CUBIC_CURVE_TO;f=h;this.cubicCurveTo(f.buffer.f[f.fPos],f.buffer.f[f.fPos+1],f.buffer.f[f.fPos+3],f.buffer.f[f.fPos+4],f.buffer.f[f.fPos+5],f.buffer.f[f.fPos+
6]);break;case 4:h.advance();h.prev=a._internal.renderer.DrawCommandType.CURVE_TO;f=h;this.curveTo(f.buffer.f[f.fPos],f.buffer.f[f.fPos+1],f.buffer.f[f.fPos+2],f.buffer.f[f.fPos+3]);break;case 5:h.advance();h.prev=a._internal.renderer.DrawCommandType.DRAW_CIRCLE;f=h;this.drawCircle(f.buffer.f[f.fPos],f.buffer.f[f.fPos+1],f.buffer.f[f.fPos+2]);break;case 6:h.advance();h.prev=a._internal.renderer.DrawCommandType.DRAW_ELLIPSE;f=h;this.drawEllipse(f.buffer.f[f.fPos],f.buffer.f[f.fPos+1],f.buffer.f[f.fPos+
2],f.buffer.f[f.fPos+3]);break;case 7:h.advance();h.prev=a._internal.renderer.DrawCommandType.DRAW_PATH;f=h;this.drawPath(f.buffer.o[f.oPos],f.buffer.o[f.oPos+1],f.buffer.o[f.oPos+2]);break;case 8:h.advance();h.prev=a._internal.renderer.DrawCommandType.DRAW_RECT;f=h;this.drawRect(f.buffer.f[f.fPos],f.buffer.f[f.fPos+1],f.buffer.f[f.fPos+2],f.buffer.f[f.fPos+3]);break;case 9:h.advance();h.prev=a._internal.renderer.DrawCommandType.DRAW_ROUND_RECT;f=h;this.drawRoundRect(f.buffer.f[f.fPos],f.buffer.f[f.fPos+
1],f.buffer.f[f.fPos+2],f.buffer.f[f.fPos+3],f.buffer.f[f.fPos+4],f.buffer.f[f.fPos+5]);break;case 10:h.advance();h.prev=a._internal.renderer.DrawCommandType.DRAW_TILES;f=h;this.drawTiles(f.buffer.ts[f.tsPos],f.buffer.ff[f.ffPos],f.buffer.b[f.bPos],f.buffer.i[f.iPos],f.buffer.o[f.oPos],f.buffer.i[f.iPos+1]);break;case 11:h.advance();h.prev=a._internal.renderer.DrawCommandType.DRAW_TRIANGLES;f=h;this.drawTriangles(f.buffer.o[f.oPos],f.buffer.o[f.oPos+1],f.buffer.o[f.oPos+2],f.buffer.o[f.oPos+3],f.buffer.o[f.oPos+
4],f.buffer.i[f.iPos]);break;case 12:h.advance();h.prev=a._internal.renderer.DrawCommandType.END_FILL;this.endFill();break;case 13:h.advance();h.prev=a._internal.renderer.DrawCommandType.LINE_BITMAP_STYLE;f=h;this.lineBitmapStyle(f.buffer.o[f.oPos],f.buffer.o[f.oPos+1],f.buffer.b[f.bPos],f.buffer.b[f.bPos+1]);break;case 14:h.advance();h.prev=a._internal.renderer.DrawCommandType.LINE_GRADIENT_STYLE;f=h;this.lineGradientStyle(f.buffer.o[f.oPos],f.buffer.ii[f.iiPos],f.buffer.ff[f.ffPos],f.buffer.ii[f.iiPos+
1],f.buffer.o[f.oPos+1],f.buffer.o[f.oPos+2],f.buffer.o[f.oPos+3],f.buffer.o[f.oPos+4]);break;case 15:h.advance();h.prev=a._internal.renderer.DrawCommandType.LINE_STYLE;f=h;this.lineStyle(f.buffer.o[f.oPos],f.buffer.o[f.oPos+1],f.buffer.o[f.oPos+2],f.buffer.o[f.oPos+3],f.buffer.o[f.oPos+4],f.buffer.o[f.oPos+5],f.buffer.o[f.oPos+6],f.buffer.o[f.oPos+7]);break;case 16:h.advance();h.prev=a._internal.renderer.DrawCommandType.LINE_TO;f=h;this.lineTo(f.buffer.f[f.fPos],f.buffer.f[f.fPos+1]);break;case 17:h.advance();
h.prev=a._internal.renderer.DrawCommandType.MOVE_TO;f=h;this.moveTo(f.buffer.f[f.fPos],f.buffer.f[f.fPos+1]);break;case 18:h.advance(),h.prev=a._internal.renderer.DrawCommandType.OVERRIDE_MATRIX,f=h,this.overrideMatrix(f.buffer.o[f.oPos])}}h.destroy();return b},beginBitmapFill:function(b,h,c,d){this.types.push(a._internal.renderer.DrawCommandType.BEGIN_BITMAP_FILL);this.o.push(b);this.o.push(h);this.b.push(c);this.b.push(d)},beginFill:function(b,h){this.types.push(a._internal.renderer.DrawCommandType.BEGIN_FILL);
this.i.push(b);this.f.push(h)},beginGradientFill:function(b,h,c,d,f,k,e,g){this.types.push(a._internal.renderer.DrawCommandType.BEGIN_GRADIENT_FILL);this.o.push(b);this.ii.push(h);this.ff.push(c);this.ii.push(d);this.o.push(f);this.o.push(k);this.o.push(e);this.o.push(g)},clear:function(){this.types.splice(0,this.types.length);this.b.splice(0,this.b.length);this.i.splice(0,this.i.length);this.f.splice(0,this.f.length);this.o.splice(0,this.o.length);this.ff.splice(0,this.ff.length);this.ii.splice(0,
this.ii.length);this.ts.splice(0,this.ts.length)},cubicCurveTo:function(b,h,c,d,f,k){this.types.push(a._internal.renderer.DrawCommandType.CUBIC_CURVE_TO);this.f.push(b);this.f.push(h);this.f.push(c);this.f.push(d);this.f.push(f);this.f.push(k)},curveTo:function(b,h,c,d){this.types.push(a._internal.renderer.DrawCommandType.CURVE_TO);this.f.push(b);this.f.push(h);this.f.push(c);this.f.push(d)},drawCircle:function(b,h,c){this.types.push(a._internal.renderer.DrawCommandType.DRAW_CIRCLE);this.f.push(b);
this.f.push(h);this.f.push(c)},drawEllipse:function(b,h,c,d){this.types.push(a._internal.renderer.DrawCommandType.DRAW_ELLIPSE);this.f.push(b);this.f.push(h);this.f.push(c);this.f.push(d)},drawPath:function(b,h,c){this.types.push(a._internal.renderer.DrawCommandType.DRAW_PATH);this.o.push(b);this.o.push(h);this.o.push(c)},drawRect:function(b,h,c,d){this.types.push(a._internal.renderer.DrawCommandType.DRAW_RECT);this.f.push(b);this.f.push(h);this.f.push(c);this.f.push(d)},drawRoundRect:function(b,
h,c,d,f,k){this.types.push(a._internal.renderer.DrawCommandType.DRAW_ROUND_RECT);this.f.push(b);this.f.push(h);this.f.push(c);this.f.push(d);this.f.push(f);this.f.push(k)},drawTiles:function(b,h,c,d,f,k){this.types.push(a._internal.renderer.DrawCommandType.DRAW_TILES);this.ts.push(b);this.ff.push(h);this.b.push(c);this.i.push(d);this.o.push(f);this.i.push(k)},drawTriangles:function(b,h,c,d,f,k){this.types.push(a._internal.renderer.DrawCommandType.DRAW_TRIANGLES);this.o.push(b);this.o.push(h);this.o.push(c);
this.o.push(d);this.o.push(f);this.i.push(k)},endFill:function(){this.types.push(a._internal.renderer.DrawCommandType.END_FILL)},lineBitmapStyle:function(b,h,c,d){this.types.push(a._internal.renderer.DrawCommandType.LINE_BITMAP_STYLE);this.o.push(b);this.o.push(h);this.b.push(c);this.b.push(d)},lineGradientStyle:function(b,h,c,d,f,k,e,g){this.types.push(a._internal.renderer.DrawCommandType.LINE_GRADIENT_STYLE);this.o.push(b);this.ii.push(h);this.ff.push(c);this.ii.push(d);this.o.push(f);this.o.push(k);
this.o.push(e);this.o.push(g)},lineStyle:function(b,h,c,d,f,k,e,g){this.types.push(a._internal.renderer.DrawCommandType.LINE_STYLE);this.o.push(b);this.o.push(h);this.o.push(c);this.o.push(d);this.o.push(f);this.o.push(k);this.o.push(e);this.o.push(g)},lineTo:function(b,h){this.types.push(a._internal.renderer.DrawCommandType.LINE_TO);this.f.push(b);this.f.push(h)},moveTo:function(b,h){this.types.push(a._internal.renderer.DrawCommandType.MOVE_TO);this.f.push(b);this.f.push(h)},overrideMatrix:function(b){this.types.push(a._internal.renderer.DrawCommandType.OVERRIDE_MATRIX);
this.o.push(b)},get_length:function(){return this.types.length},__class__:a._internal.renderer.DrawCommandBuffer,__properties__:{get_length:"get_length"}};a._internal.renderer.DrawCommandReader=function(b){this.buffer=b;this.bPos=this.iPos=this.fPos=this.oPos=this.ffPos=this.iiPos=this.tsPos=0;this.prev=a._internal.renderer.DrawCommandType.UNKNOWN};l["openfl._internal.renderer.DrawCommandReader"]=a._internal.renderer.DrawCommandReader;a._internal.renderer.DrawCommandReader.__name__=!0;a._internal.renderer.DrawCommandReader.prototype=
{advance:function(){switch(this.prev[1]){case 0:this.oPos+=2;this.bPos+=2;break;case 1:this.iPos+=1;this.fPos+=1;break;case 2:this.oPos+=5;this.iiPos+=2;this.ffPos+=1;break;case 3:this.fPos+=6;break;case 4:this.fPos+=4;break;case 5:this.fPos+=3;break;case 6:this.fPos+=4;break;case 7:this.oPos+=3;break;case 8:this.fPos+=4;break;case 9:this.fPos+=6;break;case 10:this.tsPos+=1;this.ffPos+=1;this.bPos+=1;this.iPos+=2;this.oPos+=1;break;case 11:this.oPos+=5;this.iPos+=1;break;case 13:this.oPos+=2;this.bPos+=
2;break;case 14:this.oPos+=5;this.iiPos+=2;this.ffPos+=1;break;case 15:this.oPos+=8;break;case 16:this.fPos+=2;break;case 17:this.fPos+=2;break;case 18:this.oPos+=1}},destroy:function(){this.buffer=null;this.reset()},reset:function(){this.bPos=this.iPos=this.fPos=this.oPos=this.ffPos=this.iiPos=this.tsPos=0},__class__:a._internal.renderer.DrawCommandReader};a._internal.renderer.DrawCommandType=l["openfl._internal.renderer.DrawCommandType"]={__ename__:!0,__constructs__:"BEGIN_BITMAP_FILL BEGIN_FILL BEGIN_GRADIENT_FILL CUBIC_CURVE_TO CURVE_TO DRAW_CIRCLE DRAW_ELLIPSE DRAW_PATH DRAW_RECT DRAW_ROUND_RECT DRAW_TILES DRAW_TRIANGLES END_FILL LINE_BITMAP_STYLE LINE_GRADIENT_STYLE LINE_STYLE LINE_TO MOVE_TO OVERRIDE_MATRIX UNKNOWN".split(" ")};
a._internal.renderer.DrawCommandType.BEGIN_BITMAP_FILL=["BEGIN_BITMAP_FILL",0];a._internal.renderer.DrawCommandType.BEGIN_BITMAP_FILL.toString=m;a._internal.renderer.DrawCommandType.BEGIN_BITMAP_FILL.__enum__=a._internal.renderer.DrawCommandType;a._internal.renderer.DrawCommandType.BEGIN_FILL=["BEGIN_FILL",1];a._internal.renderer.DrawCommandType.BEGIN_FILL.toString=m;a._internal.renderer.DrawCommandType.BEGIN_FILL.__enum__=a._internal.renderer.DrawCommandType;a._internal.renderer.DrawCommandType.BEGIN_GRADIENT_FILL=
["BEGIN_GRADIENT_FILL",2];a._internal.renderer.DrawCommandType.BEGIN_GRADIENT_FILL.toString=m;a._internal.renderer.DrawCommandType.BEGIN_GRADIENT_FILL.__enum__=a._internal.renderer.DrawCommandType;a._internal.renderer.DrawCommandType.CUBIC_CURVE_TO=["CUBIC_CURVE_TO",3];a._internal.renderer.DrawCommandType.CUBIC_CURVE_TO.toString=m;a._internal.renderer.DrawCommandType.CUBIC_CURVE_TO.__enum__=a._internal.renderer.DrawCommandType;a._internal.renderer.DrawCommandType.CURVE_TO=["CURVE_TO",4];a._internal.renderer.DrawCommandType.CURVE_TO.toString=
m;a._internal.renderer.DrawCommandType.CURVE_TO.__enum__=a._internal.renderer.DrawCommandType;a._internal.renderer.DrawCommandType.DRAW_CIRCLE=["DRAW_CIRCLE",5];a._internal.renderer.DrawCommandType.DRAW_CIRCLE.toString=m;a._internal.renderer.DrawCommandType.DRAW_CIRCLE.__enum__=a._internal.renderer.DrawCommandType;a._internal.renderer.DrawCommandType.DRAW_ELLIPSE=["DRAW_ELLIPSE",6];a._internal.renderer.DrawCommandType.DRAW_ELLIPSE.toString=m;a._internal.renderer.DrawCommandType.DRAW_ELLIPSE.__enum__=
a._internal.renderer.DrawCommandType;a._internal.renderer.DrawCommandType.DRAW_PATH=["DRAW_PATH",7];a._internal.renderer.DrawCommandType.DRAW_PATH.toString=m;a._internal.renderer.DrawCommandType.DRAW_PATH.__enum__=a._internal.renderer.DrawCommandType;a._internal.renderer.DrawCommandType.DRAW_RECT=["DRAW_RECT",8];a._internal.renderer.DrawCommandType.DRAW_RECT.toString=m;a._internal.renderer.DrawCommandType.DRAW_RECT.__enum__=a._internal.renderer.DrawCommandType;a._internal.renderer.DrawCommandType.DRAW_ROUND_RECT=
["DRAW_ROUND_RECT",9];a._internal.renderer.DrawCommandType.DRAW_ROUND_RECT.toString=m;a._internal.renderer.DrawCommandType.DRAW_ROUND_RECT.__enum__=a._internal.renderer.DrawCommandType;a._internal.renderer.DrawCommandType.DRAW_TILES=["DRAW_TILES",10];a._internal.renderer.DrawCommandType.DRAW_TILES.toString=m;a._internal.renderer.DrawCommandType.DRAW_TILES.__enum__=a._internal.renderer.DrawCommandType;a._internal.renderer.DrawCommandType.DRAW_TRIANGLES=["DRAW_TRIANGLES",11];a._internal.renderer.DrawCommandType.DRAW_TRIANGLES.toString=
m;a._internal.renderer.DrawCommandType.DRAW_TRIANGLES.__enum__=a._internal.renderer.DrawCommandType;a._internal.renderer.DrawCommandType.END_FILL=["END_FILL",12];a._internal.renderer.DrawCommandType.END_FILL.toString=m;a._internal.renderer.DrawCommandType.END_FILL.__enum__=a._internal.renderer.DrawCommandType;a._internal.renderer.DrawCommandType.LINE_BITMAP_STYLE=["LINE_BITMAP_STYLE",13];a._internal.renderer.DrawCommandType.LINE_BITMAP_STYLE.toString=m;a._internal.renderer.DrawCommandType.LINE_BITMAP_STYLE.__enum__=
a._internal.renderer.DrawCommandType;a._internal.renderer.DrawCommandType.LINE_GRADIENT_STYLE=["LINE_GRADIENT_STYLE",14];a._internal.renderer.DrawCommandType.LINE_GRADIENT_STYLE.toString=m;a._internal.renderer.DrawCommandType.LINE_GRADIENT_STYLE.__enum__=a._internal.renderer.DrawCommandType;a._internal.renderer.DrawCommandType.LINE_STYLE=["LINE_STYLE",15];a._internal.renderer.DrawCommandType.LINE_STYLE.toString=m;a._internal.renderer.DrawCommandType.LINE_STYLE.__enum__=a._internal.renderer.DrawCommandType;
a._internal.renderer.DrawCommandType.LINE_TO=["LINE_TO",16];a._internal.renderer.DrawCommandType.LINE_TO.toString=m;a._internal.renderer.DrawCommandType.LINE_TO.__enum__=a._internal.renderer.DrawCommandType;a._internal.renderer.DrawCommandType.MOVE_TO=["MOVE_TO",17];a._internal.renderer.DrawCommandType.MOVE_TO.toString=m;a._internal.renderer.DrawCommandType.MOVE_TO.__enum__=a._internal.renderer.DrawCommandType;a._internal.renderer.DrawCommandType.OVERRIDE_MATRIX=["OVERRIDE_MATRIX",18];a._internal.renderer.DrawCommandType.OVERRIDE_MATRIX.toString=
m;a._internal.renderer.DrawCommandType.OVERRIDE_MATRIX.__enum__=a._internal.renderer.DrawCommandType;a._internal.renderer.DrawCommandType.UNKNOWN=["UNKNOWN",19];a._internal.renderer.DrawCommandType.UNKNOWN.toString=m;a._internal.renderer.DrawCommandType.UNKNOWN.__enum__=a._internal.renderer.DrawCommandType;a._internal.renderer.GraphicsPaths=function(){};l["openfl._internal.renderer.GraphicsPaths"]=a._internal.renderer.GraphicsPaths;a._internal.renderer.GraphicsPaths.__name__=!0;a._internal.renderer.GraphicsPaths.ellipse=
function(b,a,c,d,f,k){var e=2*Math.PI/k,g=0;for(k+=1;g<k;){var C=g++;b.push(a+Math.sin(e*C)*d);b.push(c+Math.cos(e*C)*f)}};a._internal.renderer.GraphicsPaths.cubicCurveTo=function(b,a,c,d,f,k,e){for(var g=0,C=0,l=0,y=0,u=0,n=b[b.length-2],m=b[b.length-1],q=0,p=g=0,r=1;21>r;)p=r++/20,g=1-p,C=g*g,l=C*g,y=p*p,u=y*p,q=l*n+3*C*p*a+3*g*y*d+u*k,g=l*m+3*C*p*c+3*g*y*f+u*e,b.push(q),b.push(g)};a._internal.renderer.GraphicsPaths.curveTo=function(b,a,c,d,f){for(var k=0,e=0,g=b[b.length-2],C=b[b.length-1],l=e=
k=0,y=1;21>y;)l=y++/20,k=g+(a-g)*l,e=C+(c-C)*l,k+=(a+(d-a)*l-k)*l,e+=(c+(f-c)*l-e)*l,b.push(k),b.push(e)};a._internal.renderer.GraphicsPaths.roundRectangle=function(b,h,c,d,f,k,e){d=h+d;f=c+f;var g=-k+k*a._internal.renderer.GraphicsPaths.SIN45,C=-k+k*a._internal.renderer.GraphicsPaths.TAN22,l=-e+e*a._internal.renderer.GraphicsPaths.SIN45,y=-e+e*a._internal.renderer.GraphicsPaths.TAN22;b.push(d);b.push(f-e);a._internal.renderer.GraphicsPaths.curveTo(b,d,f+y,d+g,f+l);a._internal.renderer.GraphicsPaths.curveTo(b,
d+C,f,d-k,f);b.push(h+k);b.push(f);a._internal.renderer.GraphicsPaths.curveTo(b,h-C,f,h-g,f+l);a._internal.renderer.GraphicsPaths.curveTo(b,h,f+y,h,f-e);b.push(h);b.push(c+e);a._internal.renderer.GraphicsPaths.curveTo(b,h,c-y,h-g,c-l);a._internal.renderer.GraphicsPaths.curveTo(b,h-C,c,h+k,c);b.push(d-k);b.push(c);a._internal.renderer.GraphicsPaths.curveTo(b,d+C,c,d+g,c-l);a._internal.renderer.GraphicsPaths.curveTo(b,d,c-y,d,c+e);b.push(d);b.push(f-e)};a._internal.renderer.PolyK=function(){};l["openfl._internal.renderer.PolyK"]=
a._internal.renderer.PolyK;a._internal.renderer.PolyK.__name__=!0;a._internal.renderer.PolyK.triangulate=function(b,h){var c=!0,d=h.length>>1;if(3>d)return[];var f;f=[];for(var k=0;k<d;){var e=k++;f.push(e)}for(var k=0,e=d,g=!1;3<e;){var C=f[k%e],l=f[(k+1)%e],y=f[(k+2)%e],u=h[2*C],n=h[2*C+1],m=h[2*l],q=h[2*l+1],p=h[2*y],r=h[2*y+1],g=!1;if(a._internal.renderer.PolyK._convex(u,n,m,q,p,r,c))for(var g=!0,t=0;t<e;){var B=t++,B=f[B];if(B!=C&&B!=l&&B!=y&&a._internal.renderer.PolyK._PointInTriangle(h[2*B],
h[2*B+1],u,n,m,q,p,r)){g=!1;break}}if(g)b.push(C),b.push(l),b.push(y),f.splice((k+1)%e,1),e--,k=0;else if(k++>3*e)if(c){b=[];c=[];for(f=0;f<d;)k=f++,c.push(k);f=c;k=0;e=d;c=!1}else return console.log("Warning: shape too complex to fill"),[]}b.push(f[0]);b.push(f[1]);b.push(f[2]);return b};a._internal.renderer.PolyK._PointInTriangle=function(b,a,c,d,f,k,e,g){e=e-c|0;g=g-d|0;f=f-c|0;k=k-d|0;b=b-c|0;c=a-d|0;a=e*e+g*g;d=e*f+g*k;e=e*b+g*c;g=f*f+k*k;f=f*b+k*c;k=1/(a*g-d*d);g=(g*e-d*f)*k;e=(a*f-d*e)*k;return 0<=
g&&0<=e&&1>g+e};a._internal.renderer.PolyK._convex=function(b,a,c,d,f,k,e){return 0<=(a-d)*(f-c)+(c-b)*(k-d)==e};a._internal.renderer.RenderSession=function(){this.activeTextures=0};l["openfl._internal.renderer.RenderSession"]=a._internal.renderer.RenderSession;a._internal.renderer.RenderSession.__name__=!0;a._internal.renderer.RenderSession.prototype={__class__:a._internal.renderer.RenderSession};a._internal.renderer.cairo={};a._internal.renderer.cairo.CairoBitmap=function(){};l["openfl._internal.renderer.cairo.CairoBitmap"]=
a._internal.renderer.cairo.CairoBitmap;a._internal.renderer.cairo.CairoBitmap.__name__=!0;a._internal.renderer.cairo.CairoBitmap.render=function(b,a){if(b.__renderable&&!(0>=b.__worldAlpha)){var c=a.cairo;if(null!=b.bitmapData&&b.bitmapData.__isValid){null!=b.__mask&&a.maskManager.pushMask(b.__mask);var d=b.__worldTransform,f=b.get_scrollRect();a.roundPixels?(d=d.__toMatrix3(),d.tx=Math.round(d.tx),d.ty=Math.round(d.ty),c.set_matrix(d)):c.set_matrix(d.__toMatrix3());d=b.bitmapData.getSurface();null!=
d&&(d=e.graphics.cairo._CairoPattern.CairoPattern_Impl_.createForSurface(d),e.graphics.cairo._CairoPattern.CairoPattern_Impl_.set_filter(d,b.smoothing?1:3),null!=f?(c.pushGroup(),c.set_source(d),c.newPath(),c.rectangle(f.x,f.y,f.width,f.height),c.fill(),c.popGroupToSource()):c.set_source(d),1==b.__worldAlpha?c.paint():c.paintWithAlpha(b.__worldAlpha));null!=b.__mask&&a.maskManager.popMask()}}};a._internal.renderer.cairo.CairoGraphics=function(){};l["openfl._internal.renderer.cairo.CairoGraphics"]=
a._internal.renderer.cairo.CairoGraphics;a._internal.renderer.cairo.CairoGraphics.__name__=!0;a._internal.renderer.cairo.CairoGraphics.cairo=null;a._internal.renderer.cairo.CairoGraphics.drawRoundRect=function(b,h,c,d,f,k){-1==k&&(k=f);f*=.5;k*=.5;f>c/2&&(f=c/2);k>d/2&&(k=d/2);c=b+c;d=h+d;var e=-f+f*a._internal.renderer.cairo.CairoGraphics.SIN45,g=-f+f*a._internal.renderer.cairo.CairoGraphics.TAN22,l=-k+k*a._internal.renderer.cairo.CairoGraphics.SIN45,E=-k+k*a._internal.renderer.cairo.CairoGraphics.TAN22;
a._internal.renderer.cairo.CairoGraphics.cairo.moveTo(c,d-k);a._internal.renderer.cairo.CairoGraphics.quadraticCurveTo(c,d+E,c+e,d+l);a._internal.renderer.cairo.CairoGraphics.quadraticCurveTo(c+g,d,c-f,d);a._internal.renderer.cairo.CairoGraphics.cairo.lineTo(b+f,d);a._internal.renderer.cairo.CairoGraphics.quadraticCurveTo(b-g,d,b-e,d+l);a._internal.renderer.cairo.CairoGraphics.quadraticCurveTo(b,d+E,b,d-k);a._internal.renderer.cairo.CairoGraphics.cairo.lineTo(b,h+k);a._internal.renderer.cairo.CairoGraphics.quadraticCurveTo(b,
h-E,b-e,h-l);a._internal.renderer.cairo.CairoGraphics.quadraticCurveTo(b-g,h,b+f,h);a._internal.renderer.cairo.CairoGraphics.cairo.lineTo(c-f,h);a._internal.renderer.cairo.CairoGraphics.quadraticCurveTo(c+g,h,c+e,h-l);a._internal.renderer.cairo.CairoGraphics.quadraticCurveTo(c,h-E,c,h+k);a._internal.renderer.cairo.CairoGraphics.cairo.lineTo(c,d-k)};a._internal.renderer.cairo.CairoGraphics.quadraticCurveTo=function(b,h,c,d){var f=null;a._internal.renderer.cairo.CairoGraphics.cairo.get_hasCurrentPoint()?
f=a._internal.renderer.cairo.CairoGraphics.cairo.get_currentPoint():(a._internal.renderer.cairo.CairoGraphics.cairo.moveTo(b,h),f=new e.math.Vector2(b,h));a._internal.renderer.cairo.CairoGraphics.cairo.curveTo(f.x+.6666666666666666*(b-f.x),f.y+.6666666666666666*(h-f.y),c+.6666666666666666*(b-c),d+.6666666666666666*(h-d),c,d)};a._internal.renderer.cairo.CairoGraphics.renderMask=function(b,h){if(0!=b.__commands.get_length()){for(var c=h.cairo,d=new a._internal.renderer.DrawCommandReader(b.__commands),
f=0,k=b.__commands.types;f<k.length;){var e=k[f];++f;switch(e[1]){case 3:d.advance();d.prev=a._internal.renderer.DrawCommandType.CUBIC_CURVE_TO;e=d;c.curveTo(e.buffer.f[e.fPos]-0,e.buffer.f[e.fPos+1]-0,e.buffer.f[e.fPos+3]-0,e.buffer.f[e.fPos+4]-0,e.buffer.f[e.fPos+5]-0,e.buffer.f[e.fPos+6]-0);break;case 4:d.advance();d.prev=a._internal.renderer.DrawCommandType.CURVE_TO;e=d;a._internal.renderer.cairo.CairoGraphics.quadraticCurveTo(e.buffer.f[e.fPos]-0,e.buffer.f[e.fPos+1]-0,e.buffer.f[e.fPos+2]-0,
e.buffer.f[e.fPos+3]-0);break;case 5:d.advance();d.prev=a._internal.renderer.DrawCommandType.DRAW_CIRCLE;e=d;c.arc(e.buffer.f[e.fPos]-0,e.buffer.f[e.fPos+1]-0,e.buffer.f[e.fPos+2],0,2*Math.PI);break;case 6:var g;d.advance();d.prev=a._internal.renderer.DrawCommandType.DRAW_ELLIPSE;g=d;var e=g.buffer.f[g.fPos],l=g.buffer.f[g.fPos+1],E=g.buffer.f[g.fPos+2],y=g.buffer.f[g.fPos+3],e=e-0,l=l-0;g=E/2*.5522848;var u=y/2*.5522848,n=e+E,m=l+y,E=e+E/2,y=l+y/2;c.moveTo(e,y);c.curveTo(e,y-u,E-g,l,E,l);c.curveTo(E+
g,l,n,y-u,n,y);c.curveTo(n,y+u,E+g,m,E,m);c.curveTo(E-g,m,e,y+u,e,y);break;case 8:d.advance();d.prev=a._internal.renderer.DrawCommandType.DRAW_RECT;e=d;c.rectangle(e.buffer.f[e.fPos]-0,e.buffer.f[e.fPos+1]-0,e.buffer.f[e.fPos+2],e.buffer.f[e.fPos+3]);break;case 9:d.advance();d.prev=a._internal.renderer.DrawCommandType.DRAW_ROUND_RECT;e=d;a._internal.renderer.cairo.CairoGraphics.drawRoundRect(e.buffer.f[e.fPos]-0,e.buffer.f[e.fPos+1]-0,e.buffer.f[e.fPos+2],e.buffer.f[e.fPos+3],e.buffer.f[e.fPos+4],
e.buffer.f[e.fPos+5]);break;case 16:d.advance();d.prev=a._internal.renderer.DrawCommandType.LINE_TO;e=d;c.lineTo(e.buffer.f[e.fPos]-0,e.buffer.f[e.fPos+1]-0);break;case 17:d.advance();d.prev=a._internal.renderer.DrawCommandType.MOVE_TO;e=d;c.moveTo(e.buffer.f[e.fPos]-0,e.buffer.f[e.fPos+1]-0);break;default:d.advance(),d.prev=e}}d.destroy()}};a._internal.renderer.cairo.CairoMaskManager=function(b){a._internal.renderer.AbstractMaskManager.call(this,b)};l["openfl._internal.renderer.cairo.CairoMaskManager"]=
a._internal.renderer.cairo.CairoMaskManager;a._internal.renderer.cairo.CairoMaskManager.__name__=!0;a._internal.renderer.cairo.CairoMaskManager.__super__=a._internal.renderer.AbstractMaskManager;a._internal.renderer.cairo.CairoMaskManager.prototype=w(a._internal.renderer.AbstractMaskManager.prototype,{pushMask:function(b){var a=this.renderSession.cairo;a.save();var c=b.__getWorldTransform();a.set_matrix(c.__toMatrix3());a.newPath();b.__renderCairoMask(this.renderSession);a.clip()},pushRect:function(b,
a){var c=this.renderSession.cairo;c.save();c.set_matrix(new e.math.Matrix3(a.a,a.c,a.b,a.d,a.tx,a.ty));c.newPath();c.rectangle(b.x,b.y,b.width,b.height);c.clip()},popMask:function(){this.renderSession.cairo.restore()},popRect:function(){this.renderSession.context.restore()},__class__:a._internal.renderer.cairo.CairoMaskManager});a._internal.renderer.cairo.CairoRenderer=function(b,h,c){a._internal.renderer.AbstractRenderer.call(this,b,h);this.cairo=c;this.renderSession=new a._internal.renderer.RenderSession;
this.renderSession.cairo=c;this.renderSession.roundPixels=!0;this.renderSession.renderer=this;this.renderSession.maskManager=new a._internal.renderer.cairo.CairoMaskManager(this.renderSession)};l["openfl._internal.renderer.cairo.CairoRenderer"]=a._internal.renderer.cairo.CairoRenderer;a._internal.renderer.cairo.CairoRenderer.__name__=!0;a._internal.renderer.cairo.CairoRenderer.__super__=a._internal.renderer.AbstractRenderer;a._internal.renderer.cairo.CairoRenderer.prototype=w(a._internal.renderer.AbstractRenderer.prototype,
{render:function(b){this.cairo.identityMatrix();b.__clearBeforeRender&&(this.cairo.setSourceRGB(b.__colorSplit[0],b.__colorSplit[1],b.__colorSplit[2]),this.cairo.paint());b.__renderCairo(this.renderSession)},__class__:a._internal.renderer.cairo.CairoRenderer});a._internal.renderer.cairo.CairoShape=function(){};l["openfl._internal.renderer.cairo.CairoShape"]=a._internal.renderer.cairo.CairoShape;a._internal.renderer.cairo.CairoShape.__name__=!0;a._internal.renderer.cairo.CairoShape.render=function(b,
a){};a._internal.renderer.cairo.CairoTextField=function(){};l["openfl._internal.renderer.cairo.CairoTextField"]=a._internal.renderer.cairo.CairoTextField;a._internal.renderer.cairo.CairoTextField.__name__=!0;a._internal.renderer.cairo.CairoTextField.render=function(b,a){};a._internal.renderer.canvas={};a._internal.renderer.canvas.CanvasBitmap=function(){};l["openfl._internal.renderer.canvas.CanvasBitmap"]=a._internal.renderer.canvas.CanvasBitmap;a._internal.renderer.canvas.CanvasBitmap.__name__=!0;
a._internal.renderer.canvas.CanvasBitmap.render=function(b,a){if(b.__renderable&&!(0>=b.__worldAlpha)){var c=a.context;if(null!=b.bitmapData&&b.bitmapData.__isValid){null!=b.__mask&&a.maskManager.pushMask(b.__mask);b.bitmapData.__sync();c.globalAlpha=b.__worldAlpha;var d=b.__worldTransform,f=b.get_scrollRect();a.roundPixels?c.setTransform(d.a,d.b,d.c,d.d,d.tx|0,d.ty|0):c.setTransform(d.a,d.b,d.c,d.d,d.tx,d.ty);b.smoothing||(c.mozImageSmoothingEnabled=!1,c.msImageSmoothingEnabled=!1,c.imageSmoothingEnabled=
!1);null==f?c.drawImage(b.bitmapData.image.get_src(),0,0):c.drawImage(b.bitmapData.image.get_src(),f.x,f.y,f.width,f.height,f.x,f.y,f.width,f.height);b.smoothing||(c.mozImageSmoothingEnabled=!0,c.msImageSmoothingEnabled=!0,c.imageSmoothingEnabled=!0);null!=b.__mask&&a.maskManager.popMask()}}};a._internal.renderer.canvas.CanvasGraphics=function(){};l["openfl._internal.renderer.canvas.CanvasGraphics"]=a._internal.renderer.canvas.CanvasGraphics;a._internal.renderer.canvas.CanvasGraphics.__name__=!0;
a._internal.renderer.canvas.CanvasGraphics.bitmapFill=null;a._internal.renderer.canvas.CanvasGraphics.bitmapRepeat=null;a._internal.renderer.canvas.CanvasGraphics.bounds=null;a._internal.renderer.canvas.CanvasGraphics.graphics=null;a._internal.renderer.canvas.CanvasGraphics.hasFill=null;a._internal.renderer.canvas.CanvasGraphics.hasStroke=null;a._internal.renderer.canvas.CanvasGraphics.hitTesting=null;a._internal.renderer.canvas.CanvasGraphics.inversePendingMatrix=null;a._internal.renderer.canvas.CanvasGraphics.pendingMatrix=
null;a._internal.renderer.canvas.CanvasGraphics.context=null;a._internal.renderer.canvas.CanvasGraphics.closePath=function(){null!=a._internal.renderer.canvas.CanvasGraphics.context.strokeStyle&&(a._internal.renderer.canvas.CanvasGraphics.context.closePath(),a._internal.renderer.canvas.CanvasGraphics.context.stroke(),a._internal.renderer.canvas.CanvasGraphics.context.beginPath())};a._internal.renderer.canvas.CanvasGraphics.createBitmapFill=function(b,h){b.__sync();return a._internal.renderer.canvas.CanvasGraphics.context.createPattern(b.image.get_src(),
h?"repeat":"no-repeat")};a._internal.renderer.canvas.CanvasGraphics.createGradientPattern=function(b,h,c,d,f,k,e,g){k=null;switch(b[1]){case 0:null==f&&(f=new a.geom.Matrix);k=f.transformPoint(new a.geom.Point(1638.4,0));k=a._internal.renderer.canvas.CanvasGraphics.context.createRadialGradient(f.tx,f.ty,0,f.tx,f.ty,(k.x-f.tx)/2);break;case 1:f=null!=f?f:new a.geom.Matrix,k=f.transformPoint(new a.geom.Point(-819.2,0)),f=f.transformPoint(new a.geom.Point(819.2,0)),k=a._internal.renderer.canvas.CanvasGraphics.context.createLinearGradient(k.x,
k.y,f.x,f.y)}f=0;for(b=h.length;f<b;){var l=f++,E=h[l];e=c[l];g=(E&16711680)>>>16;var y=(E&65280)>>>8,E=E&255,l=d[l]/255;0>l&&(l=0);1<l&&(l=1);k.addColorStop(l,"rgba("+g+", "+y+", "+E+", "+e+")")}return k};a._internal.renderer.canvas.CanvasGraphics.createTempPatternCanvas=function(b,h,c,d){var f=window.document.createElement("canvas"),k=f.getContext("2d");f.width=c;f.height=d;k.fillStyle=k.createPattern(b.image.get_src(),h?"repeat":"no-repeat");k.beginPath();k.moveTo(0,0);k.lineTo(0,d);k.lineTo(c,
d);k.lineTo(c,0);k.lineTo(0,0);k.closePath();a._internal.renderer.canvas.CanvasGraphics.hitTesting||k.fill();return f};a._internal.renderer.canvas.CanvasGraphics.drawRoundRect=function(b,h,c,d,f,k){-1==k&&(k=f);f*=.5;k*=.5;f>c/2&&(f=c/2);k>d/2&&(k=d/2);c=b+c;d=h+d;var e=-f+f*a._internal.renderer.canvas.CanvasGraphics.SIN45,g=-f+f*a._internal.renderer.canvas.CanvasGraphics.TAN22,l=-k+k*a._internal.renderer.canvas.CanvasGraphics.SIN45,E=-k+k*a._internal.renderer.canvas.CanvasGraphics.TAN22;a._internal.renderer.canvas.CanvasGraphics.context.moveTo(c,
d-k);a._internal.renderer.canvas.CanvasGraphics.context.quadraticCurveTo(c,d+E,c+e,d+l);a._internal.renderer.canvas.CanvasGraphics.context.quadraticCurveTo(c+g,d,c-f,d);a._internal.renderer.canvas.CanvasGraphics.context.lineTo(b+f,d);a._internal.renderer.canvas.CanvasGraphics.context.quadraticCurveTo(b-g,d,b-e,d+l);a._internal.renderer.canvas.CanvasGraphics.context.quadraticCurveTo(b,d+E,b,d-k);a._internal.renderer.canvas.CanvasGraphics.context.lineTo(b,h+k);a._internal.renderer.canvas.CanvasGraphics.context.quadraticCurveTo(b,
h-E,b-e,h-l);a._internal.renderer.canvas.CanvasGraphics.context.quadraticCurveTo(b-g,h,b+f,h);a._internal.renderer.canvas.CanvasGraphics.context.lineTo(c-f,h);a._internal.renderer.canvas.CanvasGraphics.context.quadraticCurveTo(c+g,h,c+e,h-l);a._internal.renderer.canvas.CanvasGraphics.context.quadraticCurveTo(c,h-E,c,h+k);a._internal.renderer.canvas.CanvasGraphics.context.lineTo(c,d-k)};a._internal.renderer.canvas.CanvasGraphics.endFill=function(){a._internal.renderer.canvas.CanvasGraphics.context.beginPath();
a._internal.renderer.canvas.CanvasGraphics.playCommands(a._internal.renderer.canvas.CanvasGraphics.fillCommands,!1);a._internal.renderer.canvas.CanvasGraphics.fillCommands.clear()};a._internal.renderer.canvas.CanvasGraphics.endStroke=function(){a._internal.renderer.canvas.CanvasGraphics.context.beginPath();a._internal.renderer.canvas.CanvasGraphics.playCommands(a._internal.renderer.canvas.CanvasGraphics.strokeCommands,!0);a._internal.renderer.canvas.CanvasGraphics.context.closePath();a._internal.renderer.canvas.CanvasGraphics.strokeCommands.clear()};
a._internal.renderer.canvas.CanvasGraphics.hitTest=function(b,h,c){if(!(0==b.__commands.get_length()||null==a._internal.renderer.canvas.CanvasGraphics.bounds||0>=a._internal.renderer.canvas.CanvasGraphics.bounds.width||0>=a._internal.renderer.canvas.CanvasGraphics.bounds.height)){a._internal.renderer.canvas.CanvasGraphics.hitTesting=!0;h-=a._internal.renderer.canvas.CanvasGraphics.bounds.x;c-=a._internal.renderer.canvas.CanvasGraphics.bounds.y;null==b.__canvas&&(b.__canvas=window.document.createElement("canvas"),
b.__context=b.__canvas.getContext("2d"));a._internal.renderer.canvas.CanvasGraphics.context=b.__context;a._internal.renderer.canvas.CanvasGraphics.fillCommands.clear();a._internal.renderer.canvas.CanvasGraphics.strokeCommands.clear();a._internal.renderer.canvas.CanvasGraphics.hasFill=!1;a._internal.renderer.canvas.CanvasGraphics.hasStroke=!1;a._internal.renderer.canvas.CanvasGraphics.bitmapFill=null;a._internal.renderer.canvas.CanvasGraphics.bitmapRepeat=!1;a._internal.renderer.canvas.CanvasGraphics.context.beginPath();
var d=new a._internal.renderer.DrawCommandReader(b.__commands),f=0;for(b=b.__commands.types;f<b.length;){var k=b[f];++f;switch(k[1]){case 3:d.advance();d.prev=a._internal.renderer.DrawCommandType.CUBIC_CURVE_TO;k=d;a._internal.renderer.canvas.CanvasGraphics.fillCommands.cubicCurveTo(k.buffer.f[k.fPos],k.buffer.f[k.fPos+1],k.buffer.f[k.fPos+3],k.buffer.f[k.fPos+4],k.buffer.f[k.fPos+5],k.buffer.f[k.fPos+6]);a._internal.renderer.canvas.CanvasGraphics.strokeCommands.cubicCurveTo(k.buffer.f[k.fPos],k.buffer.f[k.fPos+
1],k.buffer.f[k.fPos+3],k.buffer.f[k.fPos+4],k.buffer.f[k.fPos+5],k.buffer.f[k.fPos+6]);break;case 4:d.advance();d.prev=a._internal.renderer.DrawCommandType.CURVE_TO;k=d;a._internal.renderer.canvas.CanvasGraphics.fillCommands.curveTo(k.buffer.f[k.fPos],k.buffer.f[k.fPos+1],k.buffer.f[k.fPos+2],k.buffer.f[k.fPos+3]);a._internal.renderer.canvas.CanvasGraphics.strokeCommands.curveTo(k.buffer.f[k.fPos],k.buffer.f[k.fPos+1],k.buffer.f[k.fPos+2],k.buffer.f[k.fPos+3]);break;case 16:d.advance();d.prev=a._internal.renderer.DrawCommandType.LINE_TO;
k=d;a._internal.renderer.canvas.CanvasGraphics.fillCommands.lineTo(k.buffer.f[k.fPos],k.buffer.f[k.fPos+1]);a._internal.renderer.canvas.CanvasGraphics.strokeCommands.lineTo(k.buffer.f[k.fPos],k.buffer.f[k.fPos+1]);break;case 17:d.advance();d.prev=a._internal.renderer.DrawCommandType.MOVE_TO;k=d;a._internal.renderer.canvas.CanvasGraphics.fillCommands.moveTo(k.buffer.f[k.fPos],k.buffer.f[k.fPos+1]);a._internal.renderer.canvas.CanvasGraphics.strokeCommands.moveTo(k.buffer.f[k.fPos],k.buffer.f[k.fPos+
1]);break;case 14:d.advance();d.prev=a._internal.renderer.DrawCommandType.LINE_GRADIENT_STYLE;k=d;a._internal.renderer.canvas.CanvasGraphics.strokeCommands.lineGradientStyle(k.buffer.o[k.oPos],k.buffer.ii[k.iiPos],k.buffer.ff[k.ffPos],k.buffer.ii[k.iiPos+1],k.buffer.o[k.oPos+1],k.buffer.o[k.oPos+2],k.buffer.o[k.oPos+3],k.buffer.o[k.oPos+4]);break;case 13:d.advance();d.prev=a._internal.renderer.DrawCommandType.LINE_BITMAP_STYLE;k=d;a._internal.renderer.canvas.CanvasGraphics.strokeCommands.lineBitmapStyle(k.buffer.o[k.oPos],
k.buffer.o[k.oPos+1],k.buffer.b[k.bPos],k.buffer.b[k.bPos+1]);break;case 15:d.advance();d.prev=a._internal.renderer.DrawCommandType.LINE_STYLE;k=d;a._internal.renderer.canvas.CanvasGraphics.strokeCommands.lineStyle(k.buffer.o[k.oPos],k.buffer.o[k.oPos+1],1,k.buffer.o[k.oPos+3],k.buffer.o[k.oPos+4],k.buffer.o[k.oPos+5],k.buffer.o[k.oPos+6],k.buffer.o[k.oPos+7]);break;case 12:d.advance();d.prev=a._internal.renderer.DrawCommandType.END_FILL;d;a._internal.renderer.canvas.CanvasGraphics.endFill();a._internal.renderer.canvas.CanvasGraphics.endStroke();
if(a._internal.renderer.canvas.CanvasGraphics.hasFill&&a._internal.renderer.canvas.CanvasGraphics.context.isPointInPath(h,c)||a._internal.renderer.canvas.CanvasGraphics.hasStroke&&a._internal.renderer.canvas.CanvasGraphics.context.isPointInStroke(h,c))return d.destroy(),!0;a._internal.renderer.canvas.CanvasGraphics.hasFill=!1;a._internal.renderer.canvas.CanvasGraphics.bitmapFill=null;break;case 0:case 1:case 2:a._internal.renderer.canvas.CanvasGraphics.endFill();a._internal.renderer.canvas.CanvasGraphics.endStroke();
if(a._internal.renderer.canvas.CanvasGraphics.hasFill&&a._internal.renderer.canvas.CanvasGraphics.context.isPointInPath(h,c)||a._internal.renderer.canvas.CanvasGraphics.hasStroke&&a._internal.renderer.canvas.CanvasGraphics.context.isPointInStroke(h,c))return d.destroy(),!0;k==a._internal.renderer.DrawCommandType.BEGIN_BITMAP_FILL?(d.advance(),d.prev=a._internal.renderer.DrawCommandType.BEGIN_BITMAP_FILL,k=d,a._internal.renderer.canvas.CanvasGraphics.fillCommands.beginBitmapFill(k.buffer.o[k.oPos],
k.buffer.o[k.oPos+1],k.buffer.b[k.bPos],k.buffer.b[k.bPos+1]),a._internal.renderer.canvas.CanvasGraphics.strokeCommands.beginBitmapFill(k.buffer.o[k.oPos],k.buffer.o[k.oPos+1],k.buffer.b[k.bPos],k.buffer.b[k.bPos+1])):k==a._internal.renderer.DrawCommandType.BEGIN_GRADIENT_FILL?(d.advance(),d.prev=a._internal.renderer.DrawCommandType.BEGIN_GRADIENT_FILL,k=d,a._internal.renderer.canvas.CanvasGraphics.fillCommands.beginGradientFill(k.buffer.o[k.oPos],k.buffer.ii[k.iiPos],k.buffer.ff[k.ffPos],k.buffer.ii[k.iiPos+
1],k.buffer.o[k.oPos+1],k.buffer.o[k.oPos+2],k.buffer.o[k.oPos+3],k.buffer.o[k.oPos+4]),a._internal.renderer.canvas.CanvasGraphics.strokeCommands.beginGradientFill(k.buffer.o[k.oPos],k.buffer.ii[k.iiPos],k.buffer.ff[k.ffPos],k.buffer.ii[k.iiPos+1],k.buffer.o[k.oPos+1],k.buffer.o[k.oPos+2],k.buffer.o[k.oPos+3],k.buffer.o[k.oPos+4])):(d.advance(),d.prev=a._internal.renderer.DrawCommandType.BEGIN_FILL,k=d,a._internal.renderer.canvas.CanvasGraphics.fillCommands.beginFill(k.buffer.i[k.iPos],1),a._internal.renderer.canvas.CanvasGraphics.strokeCommands.beginFill(k.buffer.i[k.iPos],
1));break;case 5:d.advance();d.prev=a._internal.renderer.DrawCommandType.DRAW_CIRCLE;k=d;a._internal.renderer.canvas.CanvasGraphics.fillCommands.drawCircle(k.buffer.f[k.fPos],k.buffer.f[k.fPos+1],k.buffer.f[k.fPos+2]);a._internal.renderer.canvas.CanvasGraphics.strokeCommands.drawCircle(k.buffer.f[k.fPos],k.buffer.f[k.fPos+1],k.buffer.f[k.fPos+2]);break;case 6:d.advance();d.prev=a._internal.renderer.DrawCommandType.DRAW_ELLIPSE;k=d;a._internal.renderer.canvas.CanvasGraphics.fillCommands.drawEllipse(k.buffer.f[k.fPos],
k.buffer.f[k.fPos+1],k.buffer.f[k.fPos+2],k.buffer.f[k.fPos+3]);a._internal.renderer.canvas.CanvasGraphics.strokeCommands.drawEllipse(k.buffer.f[k.fPos],k.buffer.f[k.fPos+1],k.buffer.f[k.fPos+2],k.buffer.f[k.fPos+3]);break;case 8:d.advance();d.prev=a._internal.renderer.DrawCommandType.DRAW_RECT;k=d;a._internal.renderer.canvas.CanvasGraphics.fillCommands.drawRect(k.buffer.f[k.fPos],k.buffer.f[k.fPos+1],k.buffer.f[k.fPos+2],k.buffer.f[k.fPos+3]);a._internal.renderer.canvas.CanvasGraphics.strokeCommands.drawRect(k.buffer.f[k.fPos],
k.buffer.f[k.fPos+1],k.buffer.f[k.fPos+2],k.buffer.f[k.fPos+3]);break;case 9:d.advance();d.prev=a._internal.renderer.DrawCommandType.DRAW_ROUND_RECT;k=d;a._internal.renderer.canvas.CanvasGraphics.fillCommands.drawRoundRect(k.buffer.f[k.fPos],k.buffer.f[k.fPos+1],k.buffer.f[k.fPos+2],k.buffer.f[k.fPos+3],k.buffer.f[k.fPos+4],k.buffer.f[k.fPos+5]);a._internal.renderer.canvas.CanvasGraphics.strokeCommands.drawRoundRect(k.buffer.f[k.fPos],k.buffer.f[k.fPos+1],k.buffer.f[k.fPos+2],k.buffer.f[k.fPos+3],
k.buffer.f[k.fPos+4],k.buffer.f[k.fPos+5]);break;default:d.advance(),d.prev=k}}0<a._internal.renderer.canvas.CanvasGraphics.fillCommands.get_length()&&a._internal.renderer.canvas.CanvasGraphics.endFill();0<a._internal.renderer.canvas.CanvasGraphics.strokeCommands.get_length()&&a._internal.renderer.canvas.CanvasGraphics.endStroke();d.destroy();if(a._internal.renderer.canvas.CanvasGraphics.hasFill&&a._internal.renderer.canvas.CanvasGraphics.context.isPointInPath(h,c)||a._internal.renderer.canvas.CanvasGraphics.hasStroke&&
a._internal.renderer.canvas.CanvasGraphics.context.isPointInStroke(h,c))return!0}return!1};a._internal.renderer.canvas.CanvasGraphics.normalizeUVT=function(b,h){null==h&&(h=!1);for(var c=Math.NEGATIVE_INFINITY,d=Math.NEGATIVE_INFINITY,f=b.length,k=1,e=f+1;k<e;)d=k++,h&&0==d%3||(d=b.data[d-1],c<d&&(c=d));k=new a.VectorData;k.data=[];k.length=0;k.fixed=!1;e=1;for(f+=1;e<f;)if(d=e++,!h||0!=d%3){if(!k.fixed){k.length++;if(k.data.length<k.length){var g;g=Array(k.data.length+10);q.ds._Vector.Vector_Impl_.blit(k.data,
0,g,0,k.data.length);k.data=g}k.data[k.length-1]=b.data[d-1]/c}k.length}return{max:c,uvt:k}};a._internal.renderer.canvas.CanvasGraphics.playCommands=function(b,h){null==h&&(h=!1);a._internal.renderer.canvas.CanvasGraphics.bounds=a._internal.renderer.canvas.CanvasGraphics.graphics.__bounds;for(var c=a._internal.renderer.canvas.CanvasGraphics.bounds.x,d=a._internal.renderer.canvas.CanvasGraphics.bounds.y,f=0,k=0,e=!1,g=0,l=0,E=new a._internal.renderer.DrawCommandReader(b),y=0,u=b.types;y<u.length;){var n=
u[y];++y;switch(n[1]){case 3:E.advance();E.prev=a._internal.renderer.DrawCommandType.CUBIC_CURVE_TO;n=E;a._internal.renderer.canvas.CanvasGraphics.context.bezierCurveTo(n.buffer.f[n.fPos]-c,n.buffer.f[n.fPos+1]-d,n.buffer.f[n.fPos+3]-c,n.buffer.f[n.fPos+4]-d,n.buffer.f[n.fPos+5]-c,n.buffer.f[n.fPos+6]-d);break;case 4:E.advance();E.prev=a._internal.renderer.DrawCommandType.CURVE_TO;n=E;a._internal.renderer.canvas.CanvasGraphics.context.quadraticCurveTo(n.buffer.f[n.fPos]-c,n.buffer.f[n.fPos+1]-d,n.buffer.f[n.fPos+
2]-c,n.buffer.f[n.fPos+3]-d);break;case 5:E.advance();E.prev=a._internal.renderer.DrawCommandType.DRAW_CIRCLE;n=E;a._internal.renderer.canvas.CanvasGraphics.context.moveTo(n.buffer.f[n.fPos]-c+n.buffer.f[n.fPos+2],n.buffer.f[n.fPos+1]-d);a._internal.renderer.canvas.CanvasGraphics.context.arc(n.buffer.f[n.fPos]-c,n.buffer.f[n.fPos+1]-d,n.buffer.f[n.fPos+2],0,2*Math.PI,!0);break;case 6:var m;E.advance();E.prev=a._internal.renderer.DrawCommandType.DRAW_ELLIPSE;m=E;var n=m.buffer.f[m.fPos],q=m.buffer.f[m.fPos+
1],p=m.buffer.f[m.fPos+2],t=m.buffer.f[m.fPos+3],n=n-c,q=q-d;m=p/2*.5522848;var w=t/2*.5522848,B=n+p,A=q+t,p=n+p/2,t=q+t/2;a._internal.renderer.canvas.CanvasGraphics.context.moveTo(n,t);a._internal.renderer.canvas.CanvasGraphics.context.bezierCurveTo(n,t-w,p-m,q,p,q);a._internal.renderer.canvas.CanvasGraphics.context.bezierCurveTo(p+m,q,B,t-w,B,t);a._internal.renderer.canvas.CanvasGraphics.context.bezierCurveTo(B,t+w,p+m,A,p,A);a._internal.renderer.canvas.CanvasGraphics.context.bezierCurveTo(p-m,
A,n,t+w,n,t);break;case 9:E.advance();E.prev=a._internal.renderer.DrawCommandType.DRAW_ROUND_RECT;n=E;a._internal.renderer.canvas.CanvasGraphics.drawRoundRect(n.buffer.f[n.fPos]-c,n.buffer.f[n.fPos+1]-d,n.buffer.f[n.fPos+2],n.buffer.f[n.fPos+3],n.buffer.f[n.fPos+4],n.buffer.f[n.fPos+5]);break;case 16:E.advance();E.prev=a._internal.renderer.DrawCommandType.LINE_TO;k=E;a._internal.renderer.canvas.CanvasGraphics.context.lineTo(k.buffer.f[k.fPos]-c,k.buffer.f[k.fPos+1]-d);f=k.buffer.f[k.fPos];k=k.buffer.f[k.fPos+
1];break;case 17:E.advance();E.prev=a._internal.renderer.DrawCommandType.MOVE_TO;l=E;a._internal.renderer.canvas.CanvasGraphics.context.moveTo(l.buffer.f[l.fPos]-c,l.buffer.f[l.fPos+1]-d);f=l.buffer.f[l.fPos];k=l.buffer.f[l.fPos+1];e=!0;g=l.buffer.f[l.fPos];l=l.buffer.f[l.fPos+1];break;case 15:E.advance();E.prev=a._internal.renderer.DrawCommandType.LINE_STYLE;n=E;h&&a._internal.renderer.canvas.CanvasGraphics.hasStroke&&(a._internal.renderer.canvas.CanvasGraphics.context.closePath(),a._internal.renderer.canvas.CanvasGraphics.hitTesting||
a._internal.renderer.canvas.CanvasGraphics.context.stroke(),a._internal.renderer.canvas.CanvasGraphics.context.beginPath());a._internal.renderer.canvas.CanvasGraphics.context.moveTo(f-c,k-d);if(null==n.buffer.o[n.oPos])a._internal.renderer.canvas.CanvasGraphics.hasStroke=!1;else{a._internal.renderer.canvas.CanvasGraphics.context.lineWidth=0<n.buffer.o[n.oPos]?n.buffer.o[n.oPos]:1;a._internal.renderer.canvas.CanvasGraphics.context.lineJoin=null==n.buffer.o[n.oPos+6]?"round":r.string(n.buffer.o[n.oPos+
6]).toLowerCase();if(null==n.buffer.o[n.oPos+5])a._internal.renderer.canvas.CanvasGraphics.context.lineCap="round";else switch(n.buffer.o[n.oPos+5][1]){case 0:a._internal.renderer.canvas.CanvasGraphics.context.lineCap="butt";break;default:a._internal.renderer.canvas.CanvasGraphics.context.lineCap=r.string(n.buffer.o[n.oPos+5]).toLowerCase()}a._internal.renderer.canvas.CanvasGraphics.context.miterLimit=null==n.buffer.o[n.oPos+7]?3:n.buffer.o[n.oPos+7];1==n.buffer.o[n.oPos+2]||null==n.buffer.o[n.oPos+
2]?a._internal.renderer.canvas.CanvasGraphics.context.strokeStyle=null==n.buffer.o[n.oPos+1]?"#000000":"#"+G.hex(n.buffer.o[n.oPos+1]&16777215,6):(q=(n.buffer.o[n.oPos+1]&16711680)>>>16,m=(n.buffer.o[n.oPos+1]&65280)>>>8,w=n.buffer.o[n.oPos+1]&255,a._internal.renderer.canvas.CanvasGraphics.context.strokeStyle=null==n.buffer.o[n.oPos+1]?"#000000":"rgba("+q+", "+m+", "+w+", "+n.buffer.o[n.oPos+2]+")");a._internal.renderer.canvas.CanvasGraphics.hasStroke=!0}break;case 14:E.advance();E.prev=a._internal.renderer.DrawCommandType.LINE_GRADIENT_STYLE;
n=E;h&&a._internal.renderer.canvas.CanvasGraphics.hasStroke&&a._internal.renderer.canvas.CanvasGraphics.closePath();a._internal.renderer.canvas.CanvasGraphics.context.moveTo(f-c,k-d);a._internal.renderer.canvas.CanvasGraphics.context.strokeStyle=a._internal.renderer.canvas.CanvasGraphics.createGradientPattern(n.buffer.o[n.oPos],n.buffer.ii[n.iiPos],n.buffer.ff[n.ffPos],n.buffer.ii[n.iiPos+1],n.buffer.o[n.oPos+1],n.buffer.o[n.oPos+2],n.buffer.o[n.oPos+3],n.buffer.o[n.oPos+4]);a._internal.renderer.canvas.CanvasGraphics.hasStroke=
!0;break;case 13:E.advance();E.prev=a._internal.renderer.DrawCommandType.LINE_BITMAP_STYLE;n=E;h&&a._internal.renderer.canvas.CanvasGraphics.hasStroke&&a._internal.renderer.canvas.CanvasGraphics.closePath();a._internal.renderer.canvas.CanvasGraphics.context.moveTo(f-c,k-d);a._internal.renderer.canvas.CanvasGraphics.context.strokeStyle=a._internal.renderer.canvas.CanvasGraphics.createBitmapFill(n.buffer.o[n.oPos],n.buffer.b[n.bPos]);a._internal.renderer.canvas.CanvasGraphics.hasStroke=!0;break;case 0:E.advance();
E.prev=a._internal.renderer.DrawCommandType.BEGIN_BITMAP_FILL;n=E;a._internal.renderer.canvas.CanvasGraphics.context.fillStyle=a._internal.renderer.canvas.CanvasGraphics.createBitmapFill(n.buffer.o[n.oPos],!0);a._internal.renderer.canvas.CanvasGraphics.hasFill=!0;null!=n.buffer.o[n.oPos+1]?(a._internal.renderer.canvas.CanvasGraphics.pendingMatrix=n.buffer.o[n.oPos+1],a._internal.renderer.canvas.CanvasGraphics.inversePendingMatrix=n.buffer.o[n.oPos+1].clone(),a._internal.renderer.canvas.CanvasGraphics.inversePendingMatrix.invert()):
(a._internal.renderer.canvas.CanvasGraphics.pendingMatrix=null,a._internal.renderer.canvas.CanvasGraphics.inversePendingMatrix=null);break;case 1:E.advance();E.prev=a._internal.renderer.DrawCommandType.BEGIN_FILL;n=E;.005>n.buffer.f[n.fPos]?a._internal.renderer.canvas.CanvasGraphics.hasFill=!1:(a._internal.renderer.canvas.CanvasGraphics.context.fillStyle=1==n.buffer.f[n.fPos]?"#"+G.hex(n.buffer.i[n.iPos],6):"rgba("+((n.buffer.i[n.iPos]&16711680)>>>16)+", "+((n.buffer.i[n.iPos]&65280)>>>8)+", "+(n.buffer.i[n.iPos]&
255)+", "+n.buffer.f[n.fPos]+")",a._internal.renderer.canvas.CanvasGraphics.bitmapFill=null,a._internal.renderer.canvas.CanvasGraphics.hasFill=!0);break;case 2:E.advance();E.prev=a._internal.renderer.DrawCommandType.BEGIN_GRADIENT_FILL;n=E;a._internal.renderer.canvas.CanvasGraphics.context.fillStyle=a._internal.renderer.canvas.CanvasGraphics.createGradientPattern(n.buffer.o[n.oPos],n.buffer.ii[n.iiPos],n.buffer.ff[n.ffPos],n.buffer.ii[n.iiPos+1],n.buffer.o[n.oPos+1],n.buffer.o[n.oPos+2],n.buffer.o[n.oPos+
3],n.buffer.o[n.oPos+4]);a._internal.renderer.canvas.CanvasGraphics.bitmapFill=null;a._internal.renderer.canvas.CanvasGraphics.hasFill=!0;break;case 8:E.advance();E.prev=a._internal.renderer.DrawCommandType.DRAW_RECT;n=E;q=!1;null!=a._internal.renderer.canvas.CanvasGraphics.bitmapFill&&(A=B=p=m=0,w=!0,null!=a._internal.renderer.canvas.CanvasGraphics.pendingMatrix?0!=a._internal.renderer.canvas.CanvasGraphics.pendingMatrix.b||0!=a._internal.renderer.canvas.CanvasGraphics.pendingMatrix.c?w=!1:(B=a._internal.renderer.canvas.CanvasGraphics.inversePendingMatrix.transformPoint(new a.geom.Point(n.buffer.f[n.fPos],
n.buffer.f[n.fPos+1])),p=a._internal.renderer.canvas.CanvasGraphics.inversePendingMatrix.transformPoint(new a.geom.Point(n.buffer.f[n.fPos]+n.buffer.f[n.fPos+2],n.buffer.f[n.fPos+1]+n.buffer.f[n.fPos+3])),m=B.y,A=B.x,B=p.y,p=p.x):(m=n.buffer.f[n.fPos+1],A=n.buffer.f[n.fPos],B=n.buffer.f[n.fPos+1]+n.buffer.f[n.fPos+3],p=n.buffer.f[n.fPos]+n.buffer.f[n.fPos+2]),w&&0<=m&&0<=A&&p<=a._internal.renderer.canvas.CanvasGraphics.bitmapFill.width&&B<=a._internal.renderer.canvas.CanvasGraphics.bitmapFill.height&&
(q=!0,a._internal.renderer.canvas.CanvasGraphics.hitTesting||a._internal.renderer.canvas.CanvasGraphics.context.drawImage(a._internal.renderer.canvas.CanvasGraphics.bitmapFill.image.get_src(),A,m,p-A,B-m,n.buffer.f[n.fPos]-c,n.buffer.f[n.fPos+1]-d,n.buffer.f[n.fPos+2],n.buffer.f[n.fPos+3])));q||a._internal.renderer.canvas.CanvasGraphics.context.rect(n.buffer.f[n.fPos]-c,n.buffer.f[n.fPos+1]-d,n.buffer.f[n.fPos+2],n.buffer.f[n.fPos+3]);break;default:E.advance(),E.prev=n}}E.destroy();h&&a._internal.renderer.canvas.CanvasGraphics.hasStroke&&
(a._internal.renderer.canvas.CanvasGraphics.hasFill&&e?a._internal.renderer.canvas.CanvasGraphics.context.lineTo(g-c,l-d):e&&f==g&&k==l&&a._internal.renderer.canvas.CanvasGraphics.context.closePath(),a._internal.renderer.canvas.CanvasGraphics.hitTesting||a._internal.renderer.canvas.CanvasGraphics.context.stroke());h||!a._internal.renderer.canvas.CanvasGraphics.hasFill&&null==a._internal.renderer.canvas.CanvasGraphics.bitmapFill||(a._internal.renderer.canvas.CanvasGraphics.context.translate(-a._internal.renderer.canvas.CanvasGraphics.bounds.x,
-a._internal.renderer.canvas.CanvasGraphics.bounds.y),null!=a._internal.renderer.canvas.CanvasGraphics.pendingMatrix?(a._internal.renderer.canvas.CanvasGraphics.context.transform(a._internal.renderer.canvas.CanvasGraphics.pendingMatrix.a,a._internal.renderer.canvas.CanvasGraphics.pendingMatrix.b,a._internal.renderer.canvas.CanvasGraphics.pendingMatrix.c,a._internal.renderer.canvas.CanvasGraphics.pendingMatrix.d,a._internal.renderer.canvas.CanvasGraphics.pendingMatrix.tx,a._internal.renderer.canvas.CanvasGraphics.pendingMatrix.ty),
a._internal.renderer.canvas.CanvasGraphics.hitTesting||a._internal.renderer.canvas.CanvasGraphics.context.fill(),a._internal.renderer.canvas.CanvasGraphics.context.transform(a._internal.renderer.canvas.CanvasGraphics.inversePendingMatrix.a,a._internal.renderer.canvas.CanvasGraphics.inversePendingMatrix.b,a._internal.renderer.canvas.CanvasGraphics.inversePendingMatrix.c,a._internal.renderer.canvas.CanvasGraphics.inversePendingMatrix.d,a._internal.renderer.canvas.CanvasGraphics.inversePendingMatrix.tx,
a._internal.renderer.canvas.CanvasGraphics.inversePendingMatrix.ty)):a._internal.renderer.canvas.CanvasGraphics.hitTesting||a._internal.renderer.canvas.CanvasGraphics.context.fill(),a._internal.renderer.canvas.CanvasGraphics.context.translate(a._internal.renderer.canvas.CanvasGraphics.bounds.x,a._internal.renderer.canvas.CanvasGraphics.bounds.y),a._internal.renderer.canvas.CanvasGraphics.context.closePath())};a._internal.renderer.canvas.CanvasGraphics.render=function(b,h){if(b.__dirty){a._internal.renderer.canvas.CanvasGraphics.hitTesting=
!1;a._internal.renderer.canvas.CanvasGraphics.graphics=b;a._internal.renderer.canvas.CanvasGraphics.bounds=b.__bounds;if(!b.__visible||0==b.__commands.get_length()||null==a._internal.renderer.canvas.CanvasGraphics.bounds||0>=a._internal.renderer.canvas.CanvasGraphics.bounds.width||0>=a._internal.renderer.canvas.CanvasGraphics.bounds.height)b.__canvas=null,b.__context=null,b.__bitmap=null;else{null==b.__canvas&&(b.__canvas=window.document.createElement("canvas"),b.__context=b.__canvas.getContext("2d"));
a._internal.renderer.canvas.CanvasGraphics.context=b.__context;b.__canvas.width=Math.ceil(a._internal.renderer.canvas.CanvasGraphics.bounds.width);b.__canvas.height=Math.ceil(a._internal.renderer.canvas.CanvasGraphics.bounds.height);a._internal.renderer.canvas.CanvasGraphics.fillCommands.clear();a._internal.renderer.canvas.CanvasGraphics.strokeCommands.clear();a._internal.renderer.canvas.CanvasGraphics.hasFill=!1;a._internal.renderer.canvas.CanvasGraphics.hasStroke=!1;a._internal.renderer.canvas.CanvasGraphics.bitmapFill=
null;a._internal.renderer.canvas.CanvasGraphics.bitmapRepeat=!1;var c=new a._internal.renderer.DrawCommandReader(b.__commands),d=0,f=b.__commands.types;try{for(;d<f.length;){var k=f[d];++d;switch(k[1]){case 3:var e;c.advance();c.prev=a._internal.renderer.DrawCommandType.CUBIC_CURVE_TO;e=c;a._internal.renderer.canvas.CanvasGraphics.fillCommands.cubicCurveTo(e.buffer.f[e.fPos],e.buffer.f[e.fPos+1],e.buffer.f[e.fPos+3],e.buffer.f[e.fPos+4],e.buffer.f[e.fPos+5],e.buffer.f[e.fPos+6]);a._internal.renderer.canvas.CanvasGraphics.strokeCommands.cubicCurveTo(e.buffer.f[e.fPos],
e.buffer.f[e.fPos+1],e.buffer.f[e.fPos+3],e.buffer.f[e.fPos+4],e.buffer.f[e.fPos+5],e.buffer.f[e.fPos+6]);break;case 4:var g;c.advance();c.prev=a._internal.renderer.DrawCommandType.CURVE_TO;g=c;a._internal.renderer.canvas.CanvasGraphics.fillCommands.curveTo(g.buffer.f[g.fPos],g.buffer.f[g.fPos+1],g.buffer.f[g.fPos+2],g.buffer.f[g.fPos+3]);a._internal.renderer.canvas.CanvasGraphics.strokeCommands.curveTo(g.buffer.f[g.fPos],g.buffer.f[g.fPos+1],g.buffer.f[g.fPos+2],g.buffer.f[g.fPos+3]);break;case 16:var l;
c.advance();c.prev=a._internal.renderer.DrawCommandType.LINE_TO;l=c;a._internal.renderer.canvas.CanvasGraphics.fillCommands.lineTo(l.buffer.f[l.fPos],l.buffer.f[l.fPos+1]);a._internal.renderer.canvas.CanvasGraphics.strokeCommands.lineTo(l.buffer.f[l.fPos],l.buffer.f[l.fPos+1]);break;case 17:var m;c.advance();c.prev=a._internal.renderer.DrawCommandType.MOVE_TO;m=c;a._internal.renderer.canvas.CanvasGraphics.fillCommands.moveTo(m.buffer.f[m.fPos],m.buffer.f[m.fPos+1]);a._internal.renderer.canvas.CanvasGraphics.strokeCommands.moveTo(m.buffer.f[m.fPos],
m.buffer.f[m.fPos+1]);break;case 12:c.advance();c.prev=a._internal.renderer.DrawCommandType.END_FILL;c;a._internal.renderer.canvas.CanvasGraphics.endFill();a._internal.renderer.canvas.CanvasGraphics.endStroke();a._internal.renderer.canvas.CanvasGraphics.hasFill=!1;a._internal.renderer.canvas.CanvasGraphics.bitmapFill=null;break;case 15:var y;c.advance();c.prev=a._internal.renderer.DrawCommandType.LINE_STYLE;y=c;a._internal.renderer.canvas.CanvasGraphics.strokeCommands.lineStyle(y.buffer.o[y.oPos],
y.buffer.o[y.oPos+1],y.buffer.o[y.oPos+2],y.buffer.o[y.oPos+3],y.buffer.o[y.oPos+4],y.buffer.o[y.oPos+5],y.buffer.o[y.oPos+6],y.buffer.o[y.oPos+7]);break;case 14:var u;c.advance();c.prev=a._internal.renderer.DrawCommandType.LINE_GRADIENT_STYLE;u=c;a._internal.renderer.canvas.CanvasGraphics.strokeCommands.lineGradientStyle(u.buffer.o[u.oPos],u.buffer.ii[u.iiPos],u.buffer.ff[u.ffPos],u.buffer.ii[u.iiPos+1],u.buffer.o[u.oPos+1],u.buffer.o[u.oPos+2],u.buffer.o[u.oPos+3],u.buffer.o[u.oPos+4]);break;case 13:var n;
c.advance();c.prev=a._internal.renderer.DrawCommandType.LINE_BITMAP_STYLE;n=c;a._internal.renderer.canvas.CanvasGraphics.strokeCommands.lineBitmapStyle(n.buffer.o[n.oPos],n.buffer.o[n.oPos+1],n.buffer.b[n.bPos],n.buffer.b[n.bPos+1]);break;case 0:case 1:case 2:a._internal.renderer.canvas.CanvasGraphics.endFill();a._internal.renderer.canvas.CanvasGraphics.endStroke();if(k==a._internal.renderer.DrawCommandType.BEGIN_BITMAP_FILL){var p;c.advance();c.prev=a._internal.renderer.DrawCommandType.BEGIN_BITMAP_FILL;
p=c;a._internal.renderer.canvas.CanvasGraphics.fillCommands.beginBitmapFill(p.buffer.o[p.oPos],p.buffer.o[p.oPos+1],p.buffer.b[p.bPos],p.buffer.b[p.bPos+1]);a._internal.renderer.canvas.CanvasGraphics.strokeCommands.beginBitmapFill(p.buffer.o[p.oPos],p.buffer.o[p.oPos+1],p.buffer.b[p.bPos],p.buffer.b[p.bPos+1])}else if(k==a._internal.renderer.DrawCommandType.BEGIN_GRADIENT_FILL){var r;c.advance();c.prev=a._internal.renderer.DrawCommandType.BEGIN_GRADIENT_FILL;r=c;a._internal.renderer.canvas.CanvasGraphics.fillCommands.beginGradientFill(r.buffer.o[r.oPos],
r.buffer.ii[r.iiPos],r.buffer.ff[r.ffPos],r.buffer.ii[r.iiPos+1],r.buffer.o[r.oPos+1],r.buffer.o[r.oPos+2],r.buffer.o[r.oPos+3],r.buffer.o[r.oPos+4]);a._internal.renderer.canvas.CanvasGraphics.strokeCommands.beginGradientFill(r.buffer.o[r.oPos],r.buffer.ii[r.iiPos],r.buffer.ff[r.ffPos],r.buffer.ii[r.iiPos+1],r.buffer.o[r.oPos+1],r.buffer.o[r.oPos+2],r.buffer.o[r.oPos+3],r.buffer.o[r.oPos+4])}else{var t;c.advance();c.prev=a._internal.renderer.DrawCommandType.BEGIN_FILL;t=c;a._internal.renderer.canvas.CanvasGraphics.fillCommands.beginFill(t.buffer.i[t.iPos],
t.buffer.f[t.fPos]);a._internal.renderer.canvas.CanvasGraphics.strokeCommands.beginFill(t.buffer.i[t.iPos],t.buffer.f[t.fPos])}break;case 5:var w;c.advance();c.prev=a._internal.renderer.DrawCommandType.DRAW_CIRCLE;w=c;a._internal.renderer.canvas.CanvasGraphics.fillCommands.drawCircle(w.buffer.f[w.fPos],w.buffer.f[w.fPos+1],w.buffer.f[w.fPos+2]);a._internal.renderer.canvas.CanvasGraphics.strokeCommands.drawCircle(w.buffer.f[w.fPos],w.buffer.f[w.fPos+1],w.buffer.f[w.fPos+2]);break;case 6:var v;c.advance();
c.prev=a._internal.renderer.DrawCommandType.DRAW_ELLIPSE;v=c;a._internal.renderer.canvas.CanvasGraphics.fillCommands.drawEllipse(v.buffer.f[v.fPos],v.buffer.f[v.fPos+1],v.buffer.f[v.fPos+2],v.buffer.f[v.fPos+3]);a._internal.renderer.canvas.CanvasGraphics.strokeCommands.drawEllipse(v.buffer.f[v.fPos],v.buffer.f[v.fPos+1],v.buffer.f[v.fPos+2],v.buffer.f[v.fPos+3]);break;case 8:var B;c.advance();c.prev=a._internal.renderer.DrawCommandType.DRAW_RECT;B=c;a._internal.renderer.canvas.CanvasGraphics.fillCommands.drawRect(B.buffer.f[B.fPos],
B.buffer.f[B.fPos+1],B.buffer.f[B.fPos+2],B.buffer.f[B.fPos+3]);a._internal.renderer.canvas.CanvasGraphics.strokeCommands.drawRect(B.buffer.f[B.fPos],B.buffer.f[B.fPos+1],B.buffer.f[B.fPos+2],B.buffer.f[B.fPos+3]);break;case 9:var A;c.advance();c.prev=a._internal.renderer.DrawCommandType.DRAW_ROUND_RECT;A=c;a._internal.renderer.canvas.CanvasGraphics.fillCommands.drawRoundRect(A.buffer.f[A.fPos],A.buffer.f[A.fPos+1],A.buffer.f[A.fPos+2],A.buffer.f[A.fPos+3],A.buffer.f[A.fPos+4],A.buffer.f[A.fPos+5]);
a._internal.renderer.canvas.CanvasGraphics.strokeCommands.drawRoundRect(A.buffer.f[A.fPos],A.buffer.f[A.fPos+1],A.buffer.f[A.fPos+2],A.buffer.f[A.fPos+3],A.buffer.f[A.fPos+4],A.buffer.f[A.fPos+5]);break;case 11:a._internal.renderer.canvas.CanvasGraphics.endFill();a._internal.renderer.canvas.CanvasGraphics.endStroke();var x;c.advance();c.prev=a._internal.renderer.DrawCommandType.DRAW_TRIANGLES;x=c;var z=x.buffer.o[x.oPos],N=x.buffer.o[x.oPos+1],H=x.buffer.o[x.oPos+2],Q=null,G=null==a._internal.renderer.canvas.CanvasGraphics.bitmapFill;
if(G&&null!=H)throw"__break__";if(!G){if(null==H){var L;L=new a.VectorData;L.data=[];L.length=0;L.fixed=!1;for(var H=L,D=0,J=z.length/2|0;D<J;){var K=D++;if(!H.fixed){H.length++;if(H.data.length<H.length){var S;S=Array(H.data.length+10);q.ds._Vector.Vector_Impl_.blit(H.data,0,S,0,H.data.length);H.data=S}H.data[H.length-1]=z.data[2*K]/a._internal.renderer.canvas.CanvasGraphics.bitmapFill.width}H.length;if(!H.fixed){H.length++;if(H.data.length<H.length){var R;R=Array(H.data.length+10);q.ds._Vector.Vector_Impl_.blit(H.data,
0,R,0,H.data.length);H.data=R}H.data[H.length-1]=z.data[2*K+1]/a._internal.renderer.canvas.CanvasGraphics.bitmapFill.height}H.length}}var X=a._internal.renderer.canvas.CanvasGraphics.normalizeUVT(H,H.length!=z.length),O=X.max,H=X.uvt,Q=1<O?a._internal.renderer.canvas.CanvasGraphics.createTempPatternCanvas(a._internal.renderer.canvas.CanvasGraphics.bitmapFill,a._internal.renderer.canvas.CanvasGraphics.bitmapRepeat,a._internal.renderer.canvas.CanvasGraphics.bounds.width|0,a._internal.renderer.canvas.CanvasGraphics.bounds.height|
0):a._internal.renderer.canvas.CanvasGraphics.createTempPatternCanvas(a._internal.renderer.canvas.CanvasGraphics.bitmapFill,a._internal.renderer.canvas.CanvasGraphics.bitmapRepeat,a._internal.renderer.canvas.CanvasGraphics.bitmapFill.width,a._internal.renderer.canvas.CanvasGraphics.bitmapFill.height)}for(var D=0,W=N.length,P,ga,M,ha,ea,Y,Z,aa,da,ba,ca,ka,la,ma,na,T,U,oa,pa,qa,ra,ta,ja,ua,va,wa,xa,Ja;D<W;){P=D;ga=D+1;M=D+2;ha=2*N.data[P];ea=2*N.data[P]+1;Y=2*N.data[ga];Z=2*N.data[ga]+1;aa=2*N.data[M];
da=2*N.data[M]+1;ba=z.data[ha];ca=z.data[ea];ka=z.data[Y];la=z.data[Z];ma=z.data[aa];na=z.data[da];switch(x.buffer.o[x.oPos+3][1]){case 2:if(!(0>(ka-ba)*(na-ca)-(la-ca)*(ma-ba))){D+=3;continue}break;case 0:if(0>(ka-ba)*(na-ca)-(la-ca)*(ma-ba)){D+=3;continue}}G?(a._internal.renderer.canvas.CanvasGraphics.context.beginPath(),a._internal.renderer.canvas.CanvasGraphics.context.moveTo(ba,ca),a._internal.renderer.canvas.CanvasGraphics.context.lineTo(ka,la),a._internal.renderer.canvas.CanvasGraphics.context.lineTo(ma,
na),a._internal.renderer.canvas.CanvasGraphics.context.closePath(),a._internal.renderer.canvas.CanvasGraphics.hitTesting||a._internal.renderer.canvas.CanvasGraphics.context.fill()):(a._internal.renderer.canvas.CanvasGraphics.context.save(),a._internal.renderer.canvas.CanvasGraphics.context.beginPath(),a._internal.renderer.canvas.CanvasGraphics.context.moveTo(ba,ca),a._internal.renderer.canvas.CanvasGraphics.context.lineTo(ka,la),a._internal.renderer.canvas.CanvasGraphics.context.lineTo(ma,na),a._internal.renderer.canvas.CanvasGraphics.context.closePath(),
a._internal.renderer.canvas.CanvasGraphics.context.clip(),T=H.data[ha]*Q.width,oa=H.data[Y]*Q.width,qa=H.data[aa]*Q.width,U=H.data[ea]*Q.height,pa=H.data[Z]*Q.height,ra=H.data[da]*Q.height,ta=T*(ra-pa)-oa*ra+qa*pa+(oa-qa)*U,0!=ta&&(ja=-(U*(ma-ka)-pa*ma+ra*ka+(pa-ra)*ba)/ta,ua=(pa*na+U*(la-na)-ra*la+(ra-pa)*ca)/ta,va=(T*(ma-ka)-oa*ma+qa*ka+(oa-qa)*ba)/ta,wa=-(oa*na+T*(la-na)-qa*la+(qa-oa)*ca)/ta,xa=(T*(ra*ka-pa*ma)+U*(oa*ma-qa*ka)+(qa*pa-oa*ra)*ba)/ta,Ja=(T*(ra*la-pa*na)+U*(oa*na-qa*la)+(qa*pa-oa*
ra)*ca)/ta,a._internal.renderer.canvas.CanvasGraphics.context.transform(ja,ua,va,wa,xa,Ja),a._internal.renderer.canvas.CanvasGraphics.context.drawImage(Q,0,0),a._internal.renderer.canvas.CanvasGraphics.context.restore()));D+=3}break;case 10:var F;c.advance();c.prev=a._internal.renderer.DrawCommandType.DRAW_TILES;F=c;var Fa=0<(F.buffer.i[F.iPos]&1),Ca=a._internal.renderer.canvas.CanvasGraphics.bounds.x,Da=a._internal.renderer.canvas.CanvasGraphics.bounds.y,Ga=0<(F.buffer.i[F.iPos]&2),Ha=0<(F.buffer.i[F.iPos]&
16),Ea=0<(F.buffer.i[F.iPos]&4),Ka=0<(F.buffer.i[F.iPos]&8),Ba=0<(F.buffer.i[F.iPos]&32),La=0<(F.buffer.i[F.iPos]&64),Ma=0<(F.buffer.i[F.iPos]&65536);Ha&&(Ga=Fa=!1);var Na=D=Q=0,ya=0,fa=3;Ba&&(fa=La?8:6);Fa&&(Q=fa,fa++);Ga&&(D=fa,fa++);Ha&&(ya=fa,fa+=4);Ea&&(fa+=3);Ka&&(Na=fa,fa++);var Ia=F.buffer.ff[F.ffPos].length;0<=F.buffer.i[F.iPos+1]&&Ia>F.buffer.i[F.iPos+1]&&(Ia=F.buffer.i[F.iPos+1]);var V=0,ia=null,sa=null,Oa=-1,Pa;F.buffer.ts[F.tsPos].__bitmap.__sync();Pa=F.buffer.ts[F.tsPos].__bitmap.image.get_src();
Ma&&(a._internal.renderer.canvas.CanvasGraphics.context.globalCompositeOperation="lighter");for(;V<Ia;){var za;za=Ba?-1:F.buffer.ff[F.ffPos][V+2]|0;Ba||za==Oa?Ba&&(ia=F.buffer.ts[F.tsPos].__rectTile,ia.setTo(F.buffer.ff[F.ffPos][V+2],F.buffer.ff[F.ffPos][V+3],F.buffer.ff[F.ffPos][V+4],F.buffer.ff[F.ffPos][V+5]),sa=F.buffer.ts[F.tsPos].__point,La?(sa.x=F.buffer.ff[F.ffPos][V+6],sa.y=F.buffer.ff[F.ffPos][V+7]):(sa.x=0,sa.y=0)):(ia=F.buffer.ts[F.tsPos].__tileRects[za],sa=F.buffer.ts[F.tsPos].__centerPoints[za],
Oa=za);if(null!=ia&&0<ia.width&&0<ia.height&&null!=sa){a._internal.renderer.canvas.CanvasGraphics.context.save();a._internal.renderer.canvas.CanvasGraphics.context.translate(F.buffer.ff[F.ffPos][V]-Ca,F.buffer.ff[F.ffPos][V+1]-Da);Ga&&a._internal.renderer.canvas.CanvasGraphics.context.rotate(F.buffer.ff[F.ffPos][V+D]);var Aa=1;Fa&&(Aa=F.buffer.ff[F.ffPos][V+Q]);Ha&&a._internal.renderer.canvas.CanvasGraphics.context.transform(F.buffer.ff[F.ffPos][V+ya],F.buffer.ff[F.ffPos][V+ya+1],F.buffer.ff[F.ffPos][V+
ya+2],F.buffer.ff[F.ffPos][V+ya+3],0,0);Ka&&(a._internal.renderer.canvas.CanvasGraphics.context.globalAlpha=F.buffer.ff[F.ffPos][V+Na]);a._internal.renderer.canvas.CanvasGraphics.context.drawImage(Pa,ia.x,ia.y,ia.width,ia.height,-sa.x*Aa,-sa.y*Aa,ia.width*Aa,ia.height*Aa);a._internal.renderer.canvas.CanvasGraphics.context.restore()}V+=fa}Ma&&(a._internal.renderer.canvas.CanvasGraphics.context.globalCompositeOperation="source-over");break;default:c.advance(),c.prev=k}}}catch(Qa){if("__break__"!=Qa)throw Qa;
}0<a._internal.renderer.canvas.CanvasGraphics.fillCommands.get_length()&&a._internal.renderer.canvas.CanvasGraphics.endFill();0<a._internal.renderer.canvas.CanvasGraphics.strokeCommands.get_length()&&a._internal.renderer.canvas.CanvasGraphics.endStroke();c.destroy();b.__bitmap=a.display.BitmapData.fromCanvas(b.__canvas)}b.set___dirty(!1)}};a._internal.renderer.canvas.CanvasGraphics.renderMask=function(b,h){if(0!=b.__commands.get_length()){a._internal.renderer.canvas.CanvasGraphics.context=h.context;
for(var c=new a._internal.renderer.DrawCommandReader(b.__commands),d=0,f=b.__commands.types;d<f.length;){var k=f[d];++d;switch(k[1]){case 3:c.advance();c.prev=a._internal.renderer.DrawCommandType.CUBIC_CURVE_TO;k=c;a._internal.renderer.canvas.CanvasGraphics.context.bezierCurveTo(k.buffer.f[k.fPos]-0,k.buffer.f[k.fPos+1]-0,k.buffer.f[k.fPos+3]-0,k.buffer.f[k.fPos+4]-0,k.buffer.f[k.fPos+5]-0,k.buffer.f[k.fPos+6]-0);break;case 4:c.advance();c.prev=a._internal.renderer.DrawCommandType.CURVE_TO;k=c;a._internal.renderer.canvas.CanvasGraphics.context.quadraticCurveTo(k.buffer.f[k.fPos]-
0,k.buffer.f[k.fPos+1]-0,k.buffer.f[k.fPos+2]-0,k.buffer.f[k.fPos+3]-0);break;case 5:c.advance();c.prev=a._internal.renderer.DrawCommandType.DRAW_CIRCLE;k=c;a._internal.renderer.canvas.CanvasGraphics.context.arc(k.buffer.f[k.fPos]-0,k.buffer.f[k.fPos+1]-0,k.buffer.f[k.fPos+2],0,2*Math.PI,!0);break;case 6:var e;c.advance();c.prev=a._internal.renderer.DrawCommandType.DRAW_ELLIPSE;e=c;var k=e.buffer.f[e.fPos],g=e.buffer.f[e.fPos+1],l=e.buffer.f[e.fPos+2],m=e.buffer.f[e.fPos+3],k=k-0,g=g-0;e=l/2*.5522848;
var y=m/2*.5522848,u=k+l,n=g+m,l=k+l/2,m=g+m/2;a._internal.renderer.canvas.CanvasGraphics.context.moveTo(k,m);a._internal.renderer.canvas.CanvasGraphics.context.bezierCurveTo(k,m-y,l-e,g,l,g);a._internal.renderer.canvas.CanvasGraphics.context.bezierCurveTo(l+e,g,u,m-y,u,m);a._internal.renderer.canvas.CanvasGraphics.context.bezierCurveTo(u,m+y,l+e,n,l,n);a._internal.renderer.canvas.CanvasGraphics.context.bezierCurveTo(l-e,n,k,m+y,k,m);break;case 8:c.advance();c.prev=a._internal.renderer.DrawCommandType.DRAW_RECT;
k=c;a._internal.renderer.canvas.CanvasGraphics.context.rect(k.buffer.f[k.fPos]-0,k.buffer.f[k.fPos+1]-0,k.buffer.f[k.fPos+2],k.buffer.f[k.fPos+3]);break;case 9:c.advance();c.prev=a._internal.renderer.DrawCommandType.DRAW_ROUND_RECT;k=c;a._internal.renderer.canvas.CanvasGraphics.drawRoundRect(k.buffer.f[k.fPos]-0,k.buffer.f[k.fPos+1]-0,k.buffer.f[k.fPos+2],k.buffer.f[k.fPos+3],k.buffer.f[k.fPos+4],k.buffer.f[k.fPos+5]);break;case 16:c.advance();c.prev=a._internal.renderer.DrawCommandType.LINE_TO;k=
c;a._internal.renderer.canvas.CanvasGraphics.context.lineTo(k.buffer.f[k.fPos]-0,k.buffer.f[k.fPos+1]-0);break;case 17:c.advance();c.prev=a._internal.renderer.DrawCommandType.MOVE_TO;k=c;a._internal.renderer.canvas.CanvasGraphics.context.moveTo(k.buffer.f[k.fPos]-0,k.buffer.f[k.fPos+1]-0);break;default:c.advance(),c.prev=k}}c.destroy()}};a._internal.renderer.canvas.CanvasMaskManager=function(b){a._internal.renderer.AbstractMaskManager.call(this,b)};l["openfl._internal.renderer.canvas.CanvasMaskManager"]=
a._internal.renderer.canvas.CanvasMaskManager;a._internal.renderer.canvas.CanvasMaskManager.__name__=!0;a._internal.renderer.canvas.CanvasMaskManager.__super__=a._internal.renderer.AbstractMaskManager;a._internal.renderer.canvas.CanvasMaskManager.prototype=w(a._internal.renderer.AbstractMaskManager.prototype,{pushMask:function(b){var a=this.renderSession.context;a.save();var c=b.__getWorldTransform();a.setTransform(c.a,c.b,c.c,c.d,c.tx,c.ty);a.beginPath();b.__renderCanvasMask(this.renderSession);
a.clip()},pushRect:function(b,a){var c=this.renderSession.context;c.save();c.setTransform(a.a,a.b,a.c,a.d,a.tx,a.ty);c.beginPath();c.rect(b.x,b.y,b.width,b.height);c.clip()},popMask:function(){this.renderSession.context.restore()},popRect:function(){this.renderSession.context.restore()},__class__:a._internal.renderer.canvas.CanvasMaskManager});a._internal.renderer.canvas.CanvasRenderer=function(b,h,c){a._internal.renderer.AbstractRenderer.call(this,b,h);this.context=c;this.renderSession=new a._internal.renderer.RenderSession;
this.renderSession.context=c;this.renderSession.roundPixels=!0;this.renderSession.renderer=this;this.renderSession.maskManager=new a._internal.renderer.canvas.CanvasMaskManager(this.renderSession)};l["openfl._internal.renderer.canvas.CanvasRenderer"]=a._internal.renderer.canvas.CanvasRenderer;a._internal.renderer.canvas.CanvasRenderer.__name__=!0;a._internal.renderer.canvas.CanvasRenderer.__super__=a._internal.renderer.AbstractRenderer;a._internal.renderer.canvas.CanvasRenderer.prototype=w(a._internal.renderer.AbstractRenderer.prototype,
{render:function(b){this.context.setTransform(1,0,0,1,0,0);this.context.globalAlpha=1;!b.__transparent&&b.__clearBeforeRender?(this.context.fillStyle=b.__colorString,this.context.fillRect(0,0,b.stageWidth,b.stageHeight)):b.__transparent&&b.__clearBeforeRender&&this.context.clearRect(0,0,b.stageWidth,b.stageHeight);b.__renderCanvas(this.renderSession)},__class__:a._internal.renderer.canvas.CanvasRenderer});a._internal.renderer.canvas.CanvasShape=function(){};l["openfl._internal.renderer.canvas.CanvasShape"]=
a._internal.renderer.canvas.CanvasShape;a._internal.renderer.canvas.CanvasShape.__name__=!0;a._internal.renderer.canvas.CanvasShape.render=function(b,h){if(b.__renderable&&!(0>=b.__worldAlpha)){var c=b.__graphics;if(null!=c&&(a._internal.renderer.canvas.CanvasGraphics.render(c,h),null!=c.__canvas)){var d=h.context,f=b.get_scrollRect();if(0<c.__bounds.width&&0<c.__bounds.height&&(null==f||0<f.width&&0<f.height)){null!=b.__mask&&h.maskManager.pushMask(b.__mask);d.globalAlpha=b.__worldAlpha;var k=b.__worldTransform;
h.roundPixels?d.setTransform(k.a,k.b,k.c,k.d,k.tx|0,k.ty|0):d.setTransform(k.a,k.b,k.c,k.d,k.tx,k.ty);null==f?d.drawImage(c.__canvas,c.__bounds.x,c.__bounds.y):d.drawImage(c.__canvas,Math.ceil(c.__bounds.x+f.x),Math.ceil(c.__bounds.y+f.y),f.width,f.height,Math.ceil(c.__bounds.x+f.x),Math.ceil(c.__bounds.y+f.y),f.width,f.height);null!=b.__mask&&h.maskManager.popMask()}}}};a._internal.renderer.canvas.CanvasTextField=function(){};l["openfl._internal.renderer.canvas.CanvasTextField"]=a._internal.renderer.canvas.CanvasTextField;
a._internal.renderer.canvas.CanvasTextField.__name__=!0;a._internal.renderer.canvas.CanvasTextField.context=null;a._internal.renderer.canvas.CanvasTextField.render=function(b,h){if(b.__dirty){var c=b.__textEngine;b.__updateLayout();if(!(null!=c.text&&""!=c.text||c.background||c.border||c.__hasFocus)||(0>=c.width||0>=c.height)&&c.autoSize!=a.text.TextFieldAutoSize.NONE)b.__graphics.__canvas=null,b.__graphics.__context=null,b.__graphics.set___dirty(!1),b.__dirty=!1;else{var d=c.bounds;if(null==b.__graphics||
null==b.__graphics.__canvas)null==b.__graphics&&(b.__graphics=new a.display.Graphics),b.__graphics.__canvas=window.document.createElement("canvas"),b.__graphics.__context=b.__graphics.__canvas.getContext("2d"),b.__graphics.__bounds=new a.geom.Rectangle(0,0,d.width,d.height);var f=b.__graphics;a._internal.renderer.canvas.CanvasTextField.context=f.__context;if(null!=c.text&&""!=c.text||c.__hasFocus){var k=c.text;if(c.displayAsPassword){for(var k=k.length,e="",g=0;g<k;)g++,e+="*";k=e}f.__canvas.width=
Math.ceil(d.width);f.__canvas.height=Math.ceil(d.height);c.antiAliasType!=a.text.AntiAliasType.ADVANCED||c.gridFitType!=a.text.GridFitType.PIXEL?(f.__context.mozImageSmoothingEnabled=!0,f.__context.msImageSmoothingEnabled=!0,f.__context.imageSmoothingEnabled=!0):(f.__context.mozImageSmoothingEnabled=!1,f.__context.msImageSmoothingEnabled=!1,f.__context.imageSmoothingEnabled=!1);if(c.border||c.background)a._internal.renderer.canvas.CanvasTextField.context.rect(.5,.5,d.width-1,d.height-1),c.background&&
(a._internal.renderer.canvas.CanvasTextField.context.fillStyle="#"+G.hex(c.backgroundColor,6),a._internal.renderer.canvas.CanvasTextField.context.fill()),c.border&&(a._internal.renderer.canvas.CanvasTextField.context.lineWidth=1,a._internal.renderer.canvas.CanvasTextField.context.strokeStyle="#"+G.hex(c.borderColor,6),a._internal.renderer.canvas.CanvasTextField.context.stroke());a._internal.renderer.canvas.CanvasTextField.context.textBaseline="top";a._internal.renderer.canvas.CanvasTextField.context.textAlign=
"start";for(var d=-b.get_scrollH(),g=e=0,l=b.get_scrollV()-1;g<l;)var m=g++,e=e-c.lineHeights[m];for(var y,g=0,l=(new P("(iPad|iPhone|iPod|Firefox)","g")).match(window.navigator.userAgent),m=0,u=c.layoutGroups;m<u.length;){var n=u[m];++m;if(!(n.lineIndex<b.get_scrollV()-1)){if(n.lineIndex>b.get_scrollV()+c.bottomScrollV-2)break;a._internal.renderer.canvas.CanvasTextField.context.font=a._internal.text.TextEngine.getFont(n.format);a._internal.renderer.canvas.CanvasTextField.context.fillStyle="#"+G.hex(n.format.color,
6);l&&(g=.185*n.format.size);a._internal.renderer.canvas.CanvasTextField.context.fillText(k.substring(n.startIndex,n.endIndex),n.offsetX+d,n.offsetY+g+e);if(-1<b.__caretIndex&&c.selectable)if(b.__selectionIndex==b.__caretIndex){if(b.__showCursor&&n.startIndex<=b.__caretIndex&&n.endIndex>=b.__caretIndex){for(var p=y=0,q=b.__caretIndex-n.startIndex;p<q;){var t=p++;if(n.advances.length<=t)break;y+=n.advances[t]}a._internal.renderer.canvas.CanvasTextField.context.fillRect(n.offsetX+y,n.offsetY,1,n.height)}}else if(n.startIndex<=
b.__caretIndex&&n.endIndex>=b.__caretIndex||n.startIndex<=b.__selectionIndex&&n.endIndex>=b.__selectionIndex)y=r["int"](Math.min(b.__selectionIndex,b.__caretIndex)),p=r["int"](Math.max(b.__selectionIndex,b.__caretIndex)),n.startIndex>y&&(y=n.startIndex),n.endIndex<p&&(p=n.endIndex),q=b.getCharBoundaries(y),p>=c.text.length?(t=b.getCharBoundaries(c.text.length-1),t.x+=t.width+2):t=b.getCharBoundaries(p),null!=q&&null!=t&&(a._internal.renderer.canvas.CanvasTextField.context.fillStyle="#000000",a._internal.renderer.canvas.CanvasTextField.context.fillRect(q.x,
q.y,t.x-q.x,n.height),a._internal.renderer.canvas.CanvasTextField.context.fillStyle="#FFFFFF",a._internal.renderer.canvas.CanvasTextField.context.fillText(k.substring(y,p),d+q.x,n.offsetY+g+e))}}}else if(f.__canvas.width=Math.ceil(d.width),f.__canvas.height=Math.ceil(d.height),c.border||c.background)c.border?a._internal.renderer.canvas.CanvasTextField.context.rect(.5,.5,d.width-1,d.height-1):a._internal.renderer.canvas.CanvasTextField.context.rect(0,0,d.width,d.height),c.background&&(a._internal.renderer.canvas.CanvasTextField.context.fillStyle=
"#"+G.hex(c.backgroundColor,6),a._internal.renderer.canvas.CanvasTextField.context.fill()),c.border&&(a._internal.renderer.canvas.CanvasTextField.context.lineWidth=1,a._internal.renderer.canvas.CanvasTextField.context.lineCap="square",a._internal.renderer.canvas.CanvasTextField.context.strokeStyle="#"+G.hex(c.borderColor,6),a._internal.renderer.canvas.CanvasTextField.context.stroke());f.__bitmap=a.display.BitmapData.fromCanvas(b.__graphics.__canvas);b.__dirty=!1;f.set___dirty(!1)}}};a._internal.renderer.console=
{};a._internal.renderer.console.ConsoleRenderer=function(b,h,c){a._internal.renderer.AbstractRenderer.call(this,b,h);throw"ConsoleRenderer not supported";};l["openfl._internal.renderer.console.ConsoleRenderer"]=a._internal.renderer.console.ConsoleRenderer;a._internal.renderer.console.ConsoleRenderer.__name__=!0;a._internal.renderer.console.ConsoleRenderer.__super__=a._internal.renderer.AbstractRenderer;a._internal.renderer.console.ConsoleRenderer.prototype=w(a._internal.renderer.AbstractRenderer.prototype,
{render:function(b){},__class__:a._internal.renderer.console.ConsoleRenderer});a._internal.renderer.dom={};a._internal.renderer.dom.DOMBitmap=function(){};l["openfl._internal.renderer.dom.DOMBitmap"]=a._internal.renderer.dom.DOMBitmap;a._internal.renderer.dom.DOMBitmap.__name__=!0;a._internal.renderer.dom.DOMBitmap.renderCanvas=function(b,h){null!=b.__image&&(h.element.removeChild(b.__image),b.__image=null);null==b.__canvas&&(b.__canvas=window.document.createElement("canvas"),b.__context=b.__canvas.getContext("2d"),
b.smoothing||(b.__context.mozImageSmoothingEnabled=!1,b.__context.msImageSmoothingEnabled=!1,b.__context.imageSmoothingEnabled=!1),a._internal.renderer.dom.DOMRenderer.initializeElement(b,b.__canvas,h));b.bitmapData.__sync();b.__canvas.width=b.bitmapData.width;b.__canvas.height=b.bitmapData.height;b.__context.globalAlpha=b.__worldAlpha;b.__context.drawImage(b.bitmapData.image.buffer.__srcCanvas,0,0);a._internal.renderer.dom.DOMRenderer.applyStyle(b,h,!0,!1,!0)};a._internal.renderer.dom.DOMBitmap.renderImage=
function(b,h){null!=b.__canvas&&(h.element.removeChild(b.__canvas),b.__canvas=null);null==b.__image&&(b.__image=window.document.createElement("img"),b.__image.src=b.bitmapData.image.buffer.__srcImage.src,a._internal.renderer.dom.DOMRenderer.initializeElement(b,b.__image,h));a._internal.renderer.dom.DOMRenderer.applyStyle(b,h,!0,!0,!0)};a._internal.renderer.dom.DOMMaskManager=function(b){a._internal.renderer.AbstractMaskManager.call(this,b)};l["openfl._internal.renderer.dom.DOMMaskManager"]=a._internal.renderer.dom.DOMMaskManager;
a._internal.renderer.dom.DOMMaskManager.__name__=!0;a._internal.renderer.dom.DOMMaskManager.__super__=a._internal.renderer.AbstractMaskManager;a._internal.renderer.dom.DOMMaskManager.prototype=w(a._internal.renderer.AbstractMaskManager.prototype,{pushMask:function(b){},pushRect:function(b,a){},popMask:function(){},__class__:a._internal.renderer.dom.DOMMaskManager});a._internal.renderer.dom.DOMRenderer=function(b,h,c){a._internal.renderer.AbstractRenderer.call(this,b,h);this.element=c;this.renderSession=
new a._internal.renderer.RenderSession;this.renderSession.element=c;this.renderSession.roundPixels=!0;b=window.getComputedStyle(document.documentElement,"");b=(Array.prototype.slice.call(b).join("").match(/-(moz|webkit|ms)-/)||""===b.OLink&&["","o"])[1];"WebKit|Moz|MS|O".match(new RegExp("("+b+")","i"));b[0].toUpperCase();b.substr(1);this.renderSession.vendorPrefix=b;this.renderSession.transformProperty="webkit"==b?"-webkit-transform":"transform";this.renderSession.transformOriginProperty="webkit"==
b?"-webkit-transform-origin":"transform-origin";this.renderSession.maskManager=new a._internal.renderer.dom.DOMMaskManager(this.renderSession);this.renderSession.renderer=this};l["openfl._internal.renderer.dom.DOMRenderer"]=a._internal.renderer.dom.DOMRenderer;a._internal.renderer.dom.DOMRenderer.__name__=!0;a._internal.renderer.dom.DOMRenderer.applyStyle=function(b,h,c,d,f){var k=b.__style;c&&b.__worldTransformChanged&&k.setProperty(h.transformProperty,b.__worldTransform.to3DString(h.roundPixels),
null);b.__worldZ!=++h.z&&(b.__worldZ=h.z,k.setProperty("z-index",null==b.__worldZ?"null":""+b.__worldZ,null));d&&b.__worldAlphaChanged&&(1>b.__worldAlpha?k.setProperty("opacity",null==b.__worldAlpha?"null":""+b.__worldAlpha,null):k.removeProperty("opacity"));f&&b.__worldClipChanged&&(null==b.__worldClip?k.removeProperty("clip"):(h=a.geom.Rectangle.__temp,c=a.geom.Matrix.__temp,c.copyFrom(b.__worldTransform),c.invert(),b.__worldClip.__transform(h,c),k.setProperty("clip","rect("+h.y+"px, "+h.get_right()+
"px, "+h.get_bottom()+"px, "+h.x+"px)",null)))};a._internal.renderer.dom.DOMRenderer.initializeElement=function(b,a,c){var d=b.__style=a.style;d.setProperty("position","absolute",null);d.setProperty("top","0",null);d.setProperty("left","0",null);d.setProperty(c.transformOriginProperty,"0 0 0",null);c.element.appendChild(a);b.__worldAlphaChanged=!0;b.__worldClipChanged=!0;b.__worldTransformChanged=!0;b.__worldVisibleChanged=!0;b.__worldZ=-1};a._internal.renderer.dom.DOMRenderer.__super__=a._internal.renderer.AbstractRenderer;
a._internal.renderer.dom.DOMRenderer.prototype=w(a._internal.renderer.AbstractRenderer.prototype,{render:function(b){this.element.style.background=b.__colorString;this.renderSession.z=1;b.__renderDOM(this.renderSession)},__class__:a._internal.renderer.dom.DOMRenderer});a._internal.renderer.dom.DOMShape=function(){};l["openfl._internal.renderer.dom.DOMShape"]=a._internal.renderer.dom.DOMShape;a._internal.renderer.dom.DOMShape.__name__=!0;a._internal.renderer.dom.DOMShape.render=function(b,h){var c=
b.__graphics;if(null!=b.stage&&b.__worldVisible&&b.__renderable&&null!=c){if(c.__dirty||b.__worldAlphaChanged||null==b.__canvas&&null!=c.__canvas)a._internal.renderer.canvas.CanvasGraphics.render(c,h),null!=c.__canvas?(null==b.__canvas&&(b.__canvas=window.document.createElement("canvas"),b.__context=b.__canvas.getContext("2d"),a._internal.renderer.dom.DOMRenderer.initializeElement(b,b.__canvas,h)),b.__canvas.width=c.__canvas.width,b.__canvas.height=c.__canvas.height,b.__context.globalAlpha=b.__worldAlpha,
b.__context.drawImage(c.__canvas,0,0)):null!=b.__canvas&&(h.element.removeChild(b.__canvas),b.__canvas=null,b.__style=null);if(null!=b.__canvas){if(b.__worldTransformChanged||c.__transformDirty){c.__transformDirty=!1;var d=a.geom.Matrix.__temp;d.identity();d.translate(c.__bounds.x,c.__bounds.y);d.concat(b.__worldTransform);b.__style.setProperty(h.transformProperty,h.roundPixels?"matrix3d("+d.a+", "+d.b+", 0, 0, "+d.c+", "+d.d+", 0, 0, 0, 0, 1, 0, "+(d.tx|0)+", "+(d.ty|0)+", 0, 1)":"matrix3d("+d.a+
", "+d.b+", 0, 0, "+d.c+", "+d.d+", 0, 0, 0, 0, 1, 0, "+d.tx+", "+d.ty+", 0, 1)",null)}a._internal.renderer.dom.DOMRenderer.applyStyle(b,h,!1,!1,!0)}}else null!=b.__canvas&&(h.element.removeChild(b.__canvas),b.__canvas=null,b.__style=null)};a._internal.renderer.dom.DOMTextField=function(){};l["openfl._internal.renderer.dom.DOMTextField"]=a._internal.renderer.dom.DOMTextField;a._internal.renderer.dom.DOMTextField.__name__=!0;a._internal.renderer.dom.DOMTextField.render=function(b,h){var c=b.__textEngine;
if(null!=b.stage&&b.__worldVisible&&b.__renderable){if(b.__dirty||null==b.__div)if(""!=c.text||c.background||c.border||c.type==a.text.TextFieldType.INPUT){null==b.__div&&(b.__div=window.document.createElement("div"),a._internal.renderer.dom.DOMRenderer.initializeElement(b,b.__div,h),b.__style.setProperty("outline","none",null),b.__div.addEventListener("input",function(a){a.preventDefault();b.get_htmlText()!=b.__div.innerHTML&&(b.set_htmlText(b.__div.innerHTML),b.__dirty=!1)},!0));c.selectable?b.__style.setProperty("cursor",
"text",null):b.__style.setProperty("cursor","inherit",null);b.__div.contentEditable=c.type==a.text.TextFieldType.INPUT;var d=b.__style;b.__div.innerHTML=c.text;c.background?d.setProperty("background-color","#"+G.hex(c.backgroundColor,6),null):d.removeProperty("background-color");c.border?d.setProperty("border","solid 1px #"+G.hex(c.borderColor,6),null):d.removeProperty("border");d.setProperty("font",a._internal.text.TextEngine.getFont(b.__textFormat),null);d.setProperty("color","#"+G.hex(b.__textFormat.color,
6),null);c.autoSize!=a.text.TextFieldAutoSize.NONE?d.setProperty("width","auto",null):d.setProperty("width",c.width+"px",null);d.setProperty("height",c.height+"px",null);switch(b.__textFormat.align[1]){case 3:d.setProperty("text-align","center",null);break;case 1:d.setProperty("text-align","right",null);break;default:d.setProperty("text-align","left",null)}b.__dirty=!1}else null!=b.__div&&(h.element.removeChild(b.__div),b.__div=null);null!=b.__div&&a._internal.renderer.dom.DOMRenderer.applyStyle(b,
h,!0,!0,!1)}else null!=b.__div&&(h.element.removeChild(b.__div),b.__div=null,b.__style=null)};a._internal.renderer.opengl={};a._internal.renderer.opengl.GLBitmap=function(){};l["openfl._internal.renderer.opengl.GLBitmap"]=a._internal.renderer.opengl.GLBitmap;a._internal.renderer.opengl.GLBitmap.__name__=!0;a._internal.renderer.opengl.GLBitmap.pushFramebuffer=function(b,h,c,d,f,k,e){null==e&&(e=!0);null==k&&(k=!1);null==f&&(f=!0);var g=b.gl;if(null==g)return null;var l=b.renderer,m=c.x|0,p=c.y|0,u=
c.width|0,n=c.height|0;b.spriteBatch.finish();0>=a._internal.renderer.opengl.GLBitmap.fbData.length&&a._internal.renderer.opengl.GLBitmap.fbData.push({texture:null,viewPort:null,transparent:l.transparent});null==h&&(h=new a._internal.renderer.opengl.utils.PingPongTexture(g,u,n,d,e));h.resize(u,n);l.transparent=f;b.maskManager.saveState();g.bindFramebuffer(g.FRAMEBUFFER,(h.__swapped?h.__texture1:h.__texture0).frameBuffer);l.setViewport(m,p,u,n);g.colorMask(!0,!0,!0,!0);b.blendModeManager.setBlendMode(a.display.BlendMode.NORMAL);
k&&(h.__swapped?h.__texture1:h.__texture0).clear(0,0,0,0,null);a._internal.renderer.opengl.GLBitmap.fbData.push({texture:h,viewPort:c,transparent:f});return h};a._internal.renderer.opengl.GLBitmap.drawBitmapDrawable=function(b,h,c,d,f,k,e){var g=a._internal.renderer.opengl.GLBitmap.fbData[a._internal.renderer.opengl.GLBitmap.fbData.length-1];if(null==g)throw"No data to draw to";var l=b.gl;if(null!=l){var g=g.viewPort,m=b.spriteBatch,p=null!=h;e=null==e?new a.geom.Rectangle(g.x,g.y,g.width,g.height):
e.clone();m.begin(b,p?null:e);p&&(h.__worldTransform.identity(),a._internal.renderer.opengl.GLBitmap.flipMatrix(h.__worldTransform,g.height),h.__renderGL(b),m.stop(),null!=h.__texture&&l.deleteTexture(h.__texture),h.__texture=null,m.start(e));h=c.__worldColorTransform;l=c.__blendMode;e=c.__cacheAsBitmap;d=null!=d?new a.geom.Matrix(d.a,d.b,d.c,d.d,d.tx,d.ty):new a.geom.Matrix;a._internal.renderer.opengl.GLBitmap.flipMatrix(d,g.height);c.__worldColorTransform=null!=f?f:new a.geom.ColorTransform;c.__blendMode=
k;a.display.DisplayObject.__cacheAsBitmapMode=!0;c.__updateTransforms(d);c.__updateChildren(!1);c.__cacheAsBitmap=!1;c.__renderGL(b);c.__cacheAsBitmap=e;c.__worldColorTransform=h;c.__blendMode=l;a.display.DisplayObject.__cacheAsBitmapMode=!1;c.__updateTransforms();c.__updateChildren(!1)}};a._internal.renderer.opengl.GLBitmap.popFramebuffer=function(b,h){var c=b.gl;if(null!=c){b.spriteBatch.finish();a._internal.renderer.opengl.GLBitmap.fbData.pop();var d=a._internal.renderer.opengl.GLBitmap.fbData[a._internal.renderer.opengl.GLBitmap.fbData.length-
1];if(null==d)throw"oh";var f,k,e,g;null==d.viewPort?(f=k=0,e=b.renderer.width,g=b.renderer.height):(f=Math.floor(d.viewPort.x),k=Math.floor(d.viewPort.y),e=Math.ceil(d.viewPort.width),g=Math.ceil(d.viewPort.height));null!=h&&(h.width==e&&h.height==g||h.resize(e,g),c.readPixels(f,k,e,g,c.RGBA,c.UNSIGNED_BYTE,h.buffer.data),h.dirty=!1,h.set_premultiplied(!0));c.bindFramebuffer(c.FRAMEBUFFER,null==d.texture?b.defaultFramebuffer:d.texture.get_framebuffer());b.renderer.setViewport(f,k,e,g);b.renderer.transparent=
d.transparent;b.maskManager.restoreState()}};a._internal.renderer.opengl.GLBitmap.flipMatrix=function(b,a){var c=b.tx,d=b.ty;b.tx=0;b.ty=0;b.scale(1,-1);b.translate(0,a);b.tx+=c;b.ty-=d};a._internal.renderer.opengl.GLRenderer=function(b,h,c,d,f,k){null==k&&(k=!1);null==f&&(f=!1);null==d&&(d=!1);null==h&&(h=600);null==b&&(b=800);this.vpX=this.vpY=this.vpWidth=this.vpHeight=0;a._internal.renderer.AbstractRenderer.call(this,b,h);this.transparent=d;this.preserveDrawingBuffer=k;this.width=b;this.height=
h;this.viewport=new a.geom.Rectangle;this.options={alpha:d,antialias:f,premultipliedAlpha:d,stencil:!0,preserveDrawingBuffer:k};this._glContextId=a._internal.renderer.opengl.GLRenderer.glContextId++;this.gl=c;this.defaultFramebuffer=null;a._internal.renderer.opengl.GLRenderer.glContexts[this._glContextId]=c;this.projectionMatrix=new a.geom.Matrix;this.projection=new a.geom.Point;this.projection.x=this.width/2;this.projection.y=-this.height/2;this.offset=new a.geom.Point(0,0);this.resize(this.width,
this.height);this.contextLost=!1;this.shaderManager=new a._internal.renderer.opengl.utils.ShaderManager(c);this.spriteBatch=new a._internal.renderer.opengl.utils.SpriteBatch(c);this.filterManager=new a._internal.renderer.opengl.utils.FilterManager(c,this.transparent);this.stencilManager=new a._internal.renderer.opengl.utils.StencilManager(c);this.blendModeManager=new a._internal.renderer.opengl.utils.BlendModeManager(c);this.renderSession=new a._internal.renderer.RenderSession;this.renderSession.gl=
this.gl;this.renderSession.drawCount=0;this.renderSession.shaderManager=this.shaderManager;this.renderSession.filterManager=this.filterManager;this.renderSession.blendModeManager=this.blendModeManager;this.renderSession.spriteBatch=this.spriteBatch;this.renderSession.stencilManager=this.stencilManager;this.renderSession.renderer=this;this.renderSession.defaultFramebuffer=this.defaultFramebuffer;this.renderSession.projectionMatrix=this.projectionMatrix;this.maskManager=new a._internal.renderer.opengl.utils.GLMaskManager(this.renderSession);
this.renderSession.maskManager=this.maskManager;this.shaderManager.setShader(this.shaderManager.defaultShader);c.disable(c.DEPTH_TEST);c.disable(c.CULL_FACE);c.enable(c.BLEND);c.colorMask(!0,!0,!0,this.transparent)};l["openfl._internal.renderer.opengl.GLRenderer"]=a._internal.renderer.opengl.GLRenderer;a._internal.renderer.opengl.GLRenderer.__name__=!0;a._internal.renderer.opengl.GLRenderer.renderBitmap=function(b,h,c){null==c&&(c=!0);if(b.__renderable&&!(0>=b.__worldAlpha)&&null!=b.__graphics&&null!=
b.__graphics.__bitmap){var d=a.geom.Rectangle.__temp,f=a.geom.Matrix.__temp;d.setEmpty();f.identity();b.__getBounds(d,f);d=b.__graphics.__bitmap;f.translate(b.__graphics.__bounds.x,b.__graphics.__bounds.y);f.concat(b.__renderTransform);h.spriteBatch.renderBitmapData(d,c,f,b.__worldColorTransform,b.__worldAlpha,b.__blendMode,null,a.display.PixelSnapping.ALWAYS)}};a._internal.renderer.opengl.GLRenderer.__super__=a._internal.renderer.AbstractRenderer;a._internal.renderer.opengl.GLRenderer.prototype=
w(a._internal.renderer.AbstractRenderer.prototype,{setViewport:function(b,a,c,d){if(this.vpX!=b||this.vpY!=a||this.vpWidth!=c||this.vpHeight!=d)this.vpX=b,this.vpY=a,this.vpWidth=c,this.vpHeight=d,this.gl.viewport(b,a,c,d),this.setOrtho(b,a,c,d),this.viewport.setTo(b,a,c,d)},setOrtho:function(b,a,c,d){var f=this.projectionMatrix;f.identity();f.a=1/c*2;f.d=-1/d*2;f.tx=-1-b*f.a;f.ty=1-a*f.d},render:function(b){if(!this.contextLost){var a=this.gl;this.setViewport(0,0,this.width,this.height);a.bindFramebuffer(a.FRAMEBUFFER,
this.defaultFramebuffer);this.transparent?a.clearColor(0,0,0,0):a.clearColor(b.__colorSplit[0],b.__colorSplit[1],b.__colorSplit[2],1);a.clear(a.COLOR_BUFFER_BIT);this.renderDisplayObject(b,this.projection)}},renderDisplayObject:function(b,h,c){this.renderSession.blendModeManager.setBlendMode(a.display.BlendMode.NORMAL);this.renderSession.drawCount=0;this.renderSession.currentBlendMode=null;this.spriteBatch.begin(this.renderSession);this.filterManager.begin(this.renderSession,c);b.__renderGL(this.renderSession);
this.spriteBatch.finish()},resize:function(b,h){this.width=b;this.height=h;a._internal.renderer.AbstractRenderer.prototype.resize.call(this,b,h);this.setViewport(0,0,b,h);this.projection.x=b/2;this.projection.y=-h/2},__class__:a._internal.renderer.opengl.GLRenderer});a._internal.renderer.opengl.shaders2={};a._internal.renderer.opengl.shaders2.Shader=function(b){this.wrapS=this.wrapT=33071;this.compiled=!1;this.uniforms=new q.ds.StringMap;this.attributes=new q.ds.StringMap;this.ID=a._internal.renderer.opengl.shaders2.Shader.UID++;
this.gl=b;this.program=null};l["openfl._internal.renderer.opengl.shaders2.Shader"]=a._internal.renderer.opengl.shaders2.Shader;a._internal.renderer.opengl.shaders2.Shader.__name__=!0;a._internal.renderer.opengl.shaders2.Shader.compileProgram=function(b,h,c){var d=a._internal.renderer.opengl.utils.ShaderManager.compiledShadersCache,f=q.crypto.Md5.encode(h+c);if(d.exists(f))return d.get(f);var k=a._internal.renderer.opengl.shaders2.Shader.compileShader(b,h,b.VERTEX_SHADER),e=a._internal.renderer.opengl.shaders2.Shader.compileShader(b,
c,b.FRAGMENT_SHADER),g=b.createProgram();if(null!=k&&null!=e&&(b.attachShader(g,k),b.attachShader(g,e),b.linkProgram(g),b.deleteShader(k),b.deleteShader(e),0==b.getProgramParameter(g,b.LINK_STATUS)))return console.log("Could not compile the program:\n\t"+b.getProgramInfoLog(g)),console.log("VERTEX:\n"+h+"\nFRAGMENT:\n"+c),null;d.set(f,g);return g};a._internal.renderer.opengl.shaders2.Shader.compileShader=function(b,a,c){c=b.createShader(c);b.shaderSource(c,a);b.compileShader(c);return 0==b.getShaderParameter(c,
b.COMPILE_STATUS)?(console.log("Could not compile the shader:\n\t"+b.getShaderInfoLog(c)),console.log(a),null):c};a._internal.renderer.opengl.shaders2.Shader.prototype={init:function(b){null==b&&(b=!1);if(!this.compiled||b){null!=this.vertexSrc&&(this.vertexString=this.vertexSrc.join("\n"));null!=this.fragmentSrc&&(this.fragmentString=this.fragmentSrc.join("\n"));if(null==this.vertexString||null==this.fragmentString)throw"No vertex or fragment source provided";this.program=a._internal.renderer.opengl.shaders2.Shader.compileProgram(this.gl,
this.vertexString,this.fragmentString);null!=this.program&&(this.compiled=!0)}},destroy:function(){null!=this.program&&this.gl.deleteProgram(this.program);this.compiled=!1;this.attributes=null},applyData:function(b,a){if(null!=b)for(var c,d,f,k,e=b.keys();e.hasNext();)if(f=e.next(),d=this.getUniformLocation(f),c=b.get(f),null!=c&&(f=c.value,k=c.bitmap,null!=f||null!=k))switch(c.internalType){case 1:switch(c.size){case 1:this.gl.uniform1i(d,f[0]|0);break;case 2:this.gl.uniform2i(d,f[0]|0,f[1]|0);break;
case 3:this.gl.uniform3i(d,f[0]|0,f[1]|0,f[2]|0);break;case 4:this.gl.uniform4i(d,f[0]|0,f[1]|0,f[2]|0,f[3]|0)}break;case 2:switch(c.size){case 1:this.gl.uniform1f(d,f[0]);break;case 2:this.gl.uniform2f(d,f[0],f[1]);break;case 3:this.gl.uniform3f(d,f[0],f[1],f[2]);break;case 4:this.gl.uniform4f(d,f[0],f[1],f[2],f[3])}break;case 3:switch(c.size){case 2:this.gl.uniformMatrix2fv(d,c.transpose,function(b){b=c.value;return null!=b?new Float32Array(b):null}(this));break;case 3:this.gl.uniformMatrix3fv(d,
c.transpose,function(b){b=c.value;return null!=b?new Float32Array(b):null}(this));break;case 4:this.gl.uniformMatrix4fv(d,c.transpose,function(b){b=c.value;return null!=b?new Float32Array(b):null}(this))}break;case 4:if(null==k||!k.__isValid)continue;this.gl.activeTexture(this.gl.TEXTURE0+a.activeTextures);this.gl.bindTexture(this.gl.TEXTURE_2D,k.getTexture(this.gl));this.gl.uniform1i(d,a.activeTextures);this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MAG_FILTER,c.smooth?this.gl.LINEAR:this.gl.NEAREST);
this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MIN_FILTER,c.smooth?this.gl.LINEAR:this.gl.NEAREST);this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,c.repeatX);this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,c.repeatY);a.activeTextures++}},getAttribLocation:function(b){if(null==this.program)throw"Shader isn't initialized";if(this.attributes.exists(b))return this.attributes.get(b);var a=this.gl.getAttribLocation(this.program,b);this.attributes.set(b,a);return a},
getUniformLocation:function(b){if(null==this.program)throw"Shader isn't initialized";if(this.uniforms.exists(b))return this.uniforms.get(b);var a=this.gl.getUniformLocation(this.program,b);this.uniforms.set(b,a);return a},enableVertexAttribute:function(b,a,c){var d=this.getAttribLocation(b.name);this.gl.enableVertexAttribArray(d);this.gl.vertexAttribPointer(d,b.components,b.type,b.normalized,a,4*c)},disableVertexAttribute:function(b,a){null==a&&(a=!0);var c=this.getAttribLocation(b.name);this.gl.disableVertexAttribArray(c);
if(a)switch(b.components){case 1:this.gl.vertexAttrib1fv(c,b.defaultValue.subarray(0,1));break;case 2:this.gl.vertexAttrib2fv(c,b.defaultValue.subarray(0,2));break;case 3:this.gl.vertexAttrib3fv(c,b.defaultValue.subarray(0,3));break;default:this.gl.vertexAttrib4fv(c,b.defaultValue.subarray(0,4))}},bindVertexArray:function(b){var a=0,c=b.get_stride(),d=0;for(b=b.attributes;d<b.length;){var f=b[d];++d;f.enabled?(this.enableVertexAttribute(f,c,a),a+=Math.floor(f.components*f.getElementsBytes()/4)):this.disableVertexAttribute(f,
!0)}},__class__:a._internal.renderer.opengl.shaders2.Shader};a._internal.renderer.opengl.shaders2.DefaultShader=function(b){a._internal.renderer.opengl.shaders2.Shader.call(this,b);this.vertexSrc=a._internal.renderer.opengl.shaders2.DefaultShader.VERTEX_SRC;this.fragmentSrc=["#ifdef GL_ES","precision lowp float;","#endif","uniform sampler2D "+r.string("openfl_uSampler0")+";","uniform vec4 "+r.string("openfl_uColorMultiplier")+";","uniform vec4 "+r.string("openfl_uColorOffset")+";","uniform bool "+
r.string("openfl_uUseColorTransform")+";","varying vec2 "+r.string("openfl_vTexCoord")+";","varying vec4 "+r.string("openfl_vColor")+";","vec4 colorTransform(const vec4 color, const vec4 tint, const vec4 multiplier, const vec4 offset) {","\tif(!"+r.string("openfl_uUseColorTransform")+") {","\t\treturn color * tint;","\t}","\tvec4 unmultiply;","\tif (color.a == 0.0) {","\t\tunmultiply = vec4(0.0, 0.0, 0.0, 0.0);","\t} else {","   \tunmultiply = vec4(color.rgb / color.a, color.a);","\t}","   vec4 result = unmultiply * tint * multiplier;",
"   result = result + offset;","   result = clamp(result, 0., 1.);","   result = vec4(result.rgb * result.a, result.a);","   return result;","}","void main(void) {","   vec4 tc = texture2D("+r.string("openfl_uSampler0")+", "+r.string("openfl_vTexCoord")+");","   gl_FragColor = colorTransform(tc, "+r.string("openfl_vColor")+", "+r.string("openfl_uColorMultiplier")+", "+r.string("openfl_uColorOffset")+");","}"];this.init()};l["openfl._internal.renderer.opengl.shaders2.DefaultShader"]=a._internal.renderer.opengl.shaders2.DefaultShader;
a._internal.renderer.opengl.shaders2.DefaultShader.__name__=!0;a._internal.renderer.opengl.shaders2.DefaultShader.__super__=a._internal.renderer.opengl.shaders2.Shader;a._internal.renderer.opengl.shaders2.DefaultShader.prototype=w(a._internal.renderer.opengl.shaders2.Shader.prototype,{init:function(b){null==b&&(b=!1);a._internal.renderer.opengl.shaders2.Shader.prototype.init.call(this,b);this.getAttribLocation("openfl_aPosition");this.getAttribLocation("openfl_aTexCoord0");this.getAttribLocation("openfl_aColor");
this.getUniformLocation("openfl_uProjectionMatrix");this.getUniformLocation("openfl_uSampler0");this.getUniformLocation("openfl_uColorMultiplier");this.getUniformLocation("openfl_uColorOffset");this.getUniformLocation("openfl_uUseColorTransform")},__class__:a._internal.renderer.opengl.shaders2.DefaultShader});a._internal.renderer.opengl.shaders2.DrawTrianglesShader=function(b){a._internal.renderer.opengl.shaders2.Shader.call(this,b);this.vertexSrc=["attribute vec2 "+r.string("openfl_aPosition")+";",
"attribute vec2 "+r.string("openfl_aTexCoord0")+";","attribute vec4 "+r.string("openfl_aColor")+";","uniform mat3 "+r.string("openfl_uProjectionMatrix")+";","varying vec2 vTexCoord;","varying vec4 vColor;","void main(void) {","   gl_Position = vec4(("+r.string("openfl_uProjectionMatrix")+" * vec3("+r.string("openfl_aPosition")+", 1.0)).xy, 0.0, 1.0);","   vTexCoord = "+r.string("openfl_aTexCoord0")+";","   vColor = "+r.string("openfl_aColor")+".bgra;","}"];this.fragmentSrc=["#ifdef GL_ES","precision lowp float;",
"#endif","uniform sampler2D "+r.string("openfl_uSampler0")+";","uniform vec3 "+r.string("openfl_uColor")+";","uniform bool "+r.string("openfl_uUseTexture")+";","uniform float "+r.string("openfl_uAlpha")+";","uniform vec4 "+r.string("openfl_uColorMultiplier")+";","uniform vec4 "+r.string("openfl_uColorOffset")+";","varying vec2 vTexCoord;","varying vec4 vColor;","vec4 tmp;","vec4 colorTransform(const vec4 color, const vec4 tint, const vec4 multiplier, const vec4 offset) {","   vec4 unmultiply = vec4(color.rgb / color.a, color.a);",
"   vec4 result = unmultiply * tint * multiplier;","   result = result + offset;","   result = clamp(result, 0., 1.);","   result = vec4(result.rgb * result.a, result.a);","   return result;","}","void main(void) {","   if("+r.string("openfl_uUseTexture")+") {","       tmp = texture2D("+r.string("openfl_uSampler0")+", vTexCoord);","   } else {","       tmp = vec4("+r.string("openfl_uColor")+", 1.);","   }","   gl_FragColor = colorTransform(tmp, vColor, "+r.string("openfl_uColorMultiplier")+", "+r.string("openfl_uColorOffset")+
");","}"];this.init()};l["openfl._internal.renderer.opengl.shaders2.DrawTrianglesShader"]=a._internal.renderer.opengl.shaders2.DrawTrianglesShader;a._internal.renderer.opengl.shaders2.DrawTrianglesShader.__name__=!0;a._internal.renderer.opengl.shaders2.DrawTrianglesShader.__super__=a._internal.renderer.opengl.shaders2.Shader;a._internal.renderer.opengl.shaders2.DrawTrianglesShader.prototype=w(a._internal.renderer.opengl.shaders2.Shader.prototype,{init:function(b){null==b&&(b=!1);a._internal.renderer.opengl.shaders2.Shader.prototype.init.call(this,
b);this.getAttribLocation("openfl_aPosition");this.getAttribLocation("openfl_aTexCoord0");this.getAttribLocation("openfl_aColor");this.getUniformLocation("openfl_uSampler0");this.getUniformLocation("openfl_uProjectionMatrix");this.getUniformLocation("openfl_uColor");this.getUniformLocation("openfl_uAlpha");this.getUniformLocation("openfl_uUseTexture");this.getUniformLocation("openfl_uColorMultiplier");this.getUniformLocation("openfl_uColorOffset")},__class__:a._internal.renderer.opengl.shaders2.DrawTrianglesShader});
a._internal.renderer.opengl.shaders2.FillShader=function(b){a._internal.renderer.opengl.shaders2.Shader.call(this,b);this.vertexSrc=["attribute vec2 "+r.string("openfl_aPosition")+";","uniform mat3 "+r.string("openfl_uTranslationMatrix")+";","uniform mat3 "+r.string("openfl_uProjectionMatrix")+";","uniform vec4 "+r.string("openfl_uColor")+";","uniform float "+r.string("openfl_uAlpha")+";","uniform vec4 "+r.string("openfl_uColorMultiplier")+";","uniform vec4 "+r.string("openfl_uColorOffset")+";","varying vec4 vColor;",
"vec4 colorTransform(const vec4 color, const float alpha, const vec4 multiplier, const vec4 offset) {","   vec4 result = color * multiplier;","   result.a *= alpha;","   result = result + offset;","   result = clamp(result, 0., 1.);","   result = vec4(result.rgb * result.a, result.a);","   return result;","}","void main(void) {","   gl_Position = vec4(("+r.string("openfl_uProjectionMatrix")+" * "+r.string("openfl_uTranslationMatrix")+" * vec3("+r.string("openfl_aPosition")+", 1.0)).xy, 0.0, 1.0);",
"   vColor = colorTransform("+r.string("openfl_uColor")+", "+r.string("openfl_uAlpha")+", "+r.string("openfl_uColorMultiplier")+", "+r.string("openfl_uColorOffset")+");","}"];this.fragmentSrc="#ifdef GL_ES,precision lowp float;,#endif,varying vec4 vColor;,void main(void) {,   gl_FragColor = vColor;,}".split(",");this.init()};l["openfl._internal.renderer.opengl.shaders2.FillShader"]=a._internal.renderer.opengl.shaders2.FillShader;a._internal.renderer.opengl.shaders2.FillShader.__name__=!0;a._internal.renderer.opengl.shaders2.FillShader.__super__=
a._internal.renderer.opengl.shaders2.Shader;a._internal.renderer.opengl.shaders2.FillShader.prototype=w(a._internal.renderer.opengl.shaders2.Shader.prototype,{init:function(b){null==b&&(b=!1);a._internal.renderer.opengl.shaders2.Shader.prototype.init.call(this,b);this.getAttribLocation("openfl_aPosition");this.getUniformLocation("openfl_uTranslationMatrix");this.getUniformLocation("openfl_uProjectionMatrix");this.getUniformLocation("openfl_uColor");this.getUniformLocation("openfl_uColorMultiplier");
this.getUniformLocation("openfl_uColorOffset")},__class__:a._internal.renderer.opengl.shaders2.FillShader});a._internal.renderer.opengl.shaders2.PatternFillShader=function(b){a._internal.renderer.opengl.shaders2.Shader.call(this,b);this.vertexSrc=["attribute vec2 "+r.string("openfl_aPosition")+";","uniform mat3 "+r.string("openfl_uTranslationMatrix")+";","uniform mat3 "+r.string("openfl_uProjectionMatrix")+";","uniform mat3 "+r.string("openfl_uPatternMatrix")+";","varying vec2 vPosition;","void main(void) {",
"   gl_Position = vec4(("+r.string("openfl_uProjectionMatrix")+" * "+r.string("openfl_uTranslationMatrix")+" * vec3("+r.string("openfl_aPosition")+", 1.0)).xy, 0.0, 1.0);","   vPosition = ("+r.string("openfl_uPatternMatrix")+" * vec3("+r.string("openfl_aPosition")+", 1)).xy;","}"];this.fragmentSrc=["#ifdef GL_ES","precision lowp float;","#endif","uniform float "+r.string("openfl_uAlpha")+";","uniform vec2 "+r.string("openfl_uPatternTL")+";","uniform vec2 "+r.string("openfl_uPatternBR")+";","uniform sampler2D "+
r.string("openfl_uSampler0")+";","uniform vec4 "+r.string("openfl_uColorMultiplier")+";","uniform vec4 "+r.string("openfl_uColorOffset")+";","varying vec2 vPosition;","vec4 colorTransform(const vec4 color, const float alpha, const vec4 multiplier, const vec4 offset) {","   vec4 unmultiply = vec4(color.rgb / color.a, color.a);","   vec4 result = unmultiply * multiplier;","   result.a *= alpha;","   result = result + offset;","   result = clamp(result, 0., 1.);","   result = vec4(result.rgb * result.a, result.a);",
"   return result;","}","void main(void) {","   vec2 pos = mix("+r.string("openfl_uPatternTL")+", "+r.string("openfl_uPatternBR")+", vPosition);","   vec4 tcol = texture2D("+r.string("openfl_uSampler0")+", pos);","   gl_FragColor = colorTransform(tcol, "+r.string("openfl_uAlpha")+", "+r.string("openfl_uColorMultiplier")+", "+r.string("openfl_uColorOffset")+");","}"];this.init()};l["openfl._internal.renderer.opengl.shaders2.PatternFillShader"]=a._internal.renderer.opengl.shaders2.PatternFillShader;
a._internal.renderer.opengl.shaders2.PatternFillShader.__name__=!0;a._internal.renderer.opengl.shaders2.PatternFillShader.__super__=a._internal.renderer.opengl.shaders2.Shader;a._internal.renderer.opengl.shaders2.PatternFillShader.prototype=w(a._internal.renderer.opengl.shaders2.Shader.prototype,{init:function(b){null==b&&(b=!1);a._internal.renderer.opengl.shaders2.Shader.prototype.init.call(this,b);this.getAttribLocation("openfl_aPosition");this.getUniformLocation("openfl_uTranslationMatrix");this.getUniformLocation("openfl_uPatternMatrix");
this.getUniformLocation("openfl_uProjectionMatrix");this.getUniformLocation("openfl_uSampler0");this.getUniformLocation("openfl_uPatternTL");this.getUniformLocation("openfl_uPatternBR");this.getUniformLocation("openfl_uAlpha");this.getUniformLocation("openfl_uColorMultiplier");this.getUniformLocation("openfl_uColorOffset")},__class__:a._internal.renderer.opengl.shaders2.PatternFillShader});a._internal.renderer.opengl.shaders2.PrimitiveShader=function(b){a._internal.renderer.opengl.shaders2.Shader.call(this,
b);this.vertexSrc=["attribute vec2 "+r.string("openfl_aPosition")+";","attribute vec4 "+r.string("openfl_aColor")+";","uniform mat3 "+r.string("openfl_uTranslationMatrix")+";","uniform mat3 "+r.string("openfl_uProjectionMatrix")+";","uniform vec4 "+r.string("openfl_uColorMultiplier")+";","uniform vec4 "+r.string("openfl_uColorOffset")+";","uniform float "+r.string("openfl_uAlpha")+";","varying vec4 vColor;","vec4 colorTransform(const vec4 color, const float alpha, const vec4 multiplier, const vec4 offset) {",
"   vec4 result = color * multiplier;","   result.a *= alpha;","   result = result + offset;","   result = clamp(result, 0., 1.);","   result = vec4(result.rgb * result.a, result.a);","   return result;","}","void main(void) {","   gl_Position = vec4(("+r.string("openfl_uProjectionMatrix")+" * "+r.string("openfl_uTranslationMatrix")+" * vec3("+r.string("openfl_aPosition")+", 1.0)).xy, 0.0, 1.0);","   vColor = colorTransform("+r.string("openfl_aColor")+", "+r.string("openfl_uAlpha")+", "+r.string("openfl_uColorMultiplier")+
", "+r.string("openfl_uColorOffset")+");","}"];this.fragmentSrc="#ifdef GL_ES,precision lowp float;,#endif,varying vec4 vColor;,void main(void) {,   gl_FragColor = vColor;,}".split(",");this.init()};l["openfl._internal.renderer.opengl.shaders2.PrimitiveShader"]=a._internal.renderer.opengl.shaders2.PrimitiveShader;a._internal.renderer.opengl.shaders2.PrimitiveShader.__name__=!0;a._internal.renderer.opengl.shaders2.PrimitiveShader.__super__=a._internal.renderer.opengl.shaders2.Shader;a._internal.renderer.opengl.shaders2.PrimitiveShader.prototype=
w(a._internal.renderer.opengl.shaders2.Shader.prototype,{init:function(b){null==b&&(b=!1);a._internal.renderer.opengl.shaders2.Shader.prototype.init.call(this,b);this.getAttribLocation("openfl_aPosition");this.getAttribLocation("openfl_aColor");this.getUniformLocation("openfl_uTranslationMatrix");this.getUniformLocation("openfl_uProjectionMatrix");this.getUniformLocation("openfl_uAlpha");this.getUniformLocation("openfl_uColorMultiplier");this.getUniformLocation("openfl_uColorOffset")},__class__:a._internal.renderer.opengl.shaders2.PrimitiveShader});
a._internal.renderer.opengl.utils={};a._internal.renderer.opengl.utils.BlendModeManager=function(b){this.gl=b;this.currentBlendMode=null};l["openfl._internal.renderer.opengl.utils.BlendModeManager"]=a._internal.renderer.opengl.utils.BlendModeManager;a._internal.renderer.opengl.utils.BlendModeManager.__name__=!0;a._internal.renderer.opengl.utils.BlendModeManager.prototype={setBlendMode:function(b,h){null==h&&(h=!1);null==b&&(b=a.display.BlendMode.NORMAL,h=!0);if(!h&&this.currentBlendMode==b)return!1;
this.currentBlendMode=b;switch(b[1]){case 0:this.gl.blendEquation(32774);this.gl.blendFunc(1,1);break;case 9:this.gl.blendEquation(32774);this.gl.blendFunc(774,771);break;case 12:this.gl.blendEquation(32774);this.gl.blendFunc(1,769);break;case 13:this.gl.blendEquation(32779);this.gl.blendFunc(1,1);break;default:this.gl.blendEquation(32774),this.gl.blendFunc(1,771)}return!0},__class__:a._internal.renderer.opengl.utils.BlendModeManager};a._internal.renderer.opengl.utils.DrawPath=function(b){null==b&&
(b=!0);this.type=a._internal.renderer.opengl.utils.GraphicType.Polygon;this.points=null;this.winding=0;this.isRemovable=!0;this.fillIndex=0;this.line=new a._internal.renderer.opengl.utils.LineStyle;this.fill=a._internal.renderer.opengl.utils.FillType.None;b&&(this.points=[])};l["openfl._internal.renderer.opengl.utils.DrawPath"]=a._internal.renderer.opengl.utils.DrawPath;a._internal.renderer.opengl.utils.DrawPath.__name__=!0;a._internal.renderer.opengl.utils.DrawPath.getStack=function(b,h){return a._internal.renderer.opengl.utils.PathBuiler.build(b,
h)};a._internal.renderer.opengl.utils.DrawPath.prototype={update:function(b,a,c,d){this.updateLine(b);this.fill=a;this.fillIndex=c;this.winding=d},updateLine:function(b){this.line.width=b.width;this.line.color=b.color;this.line.alpha=null==b.alpha?1:b.alpha;this.line.scaleMode=null==b.scaleMode?a.display.LineScaleMode.NORMAL:b.scaleMode;this.line.caps=null==b.caps?a.display.CapsStyle.ROUND:b.caps;this.line.joints=null==b.joints?a.display.JointStyle.ROUND:b.joints;this.line.miterLimit=b.miterLimit},
__class__:a._internal.renderer.opengl.utils.DrawPath};a._internal.renderer.opengl.utils.PathBuiler=function(){};l["openfl._internal.renderer.opengl.utils.PathBuiler"]=a._internal.renderer.opengl.utils.PathBuiler;a._internal.renderer.opengl.utils.PathBuiler.__name__=!0;a._internal.renderer.opengl.utils.PathBuiler.__currentPath=null;a._internal.renderer.opengl.utils.PathBuiler.__drawPaths=null;a._internal.renderer.opengl.utils.PathBuiler.__line=null;a._internal.renderer.opengl.utils.PathBuiler.__fill=
null;a._internal.renderer.opengl.utils.PathBuiler.closePath=function(){var b;b=null==a._internal.renderer.opengl.utils.PathBuiler.__currentPath.points?0:a._internal.renderer.opengl.utils.PathBuiler.__currentPath.points.length;if(!(0>=b)&&a._internal.renderer.opengl.utils.PathBuiler.__currentPath.type==a._internal.renderer.opengl.utils.GraphicType.Polygon&&a._internal.renderer.opengl.utils.PathBuiler.__currentPath.fill!=a._internal.renderer.opengl.utils.FillType.None){var h=a._internal.renderer.opengl.utils.PathBuiler.__currentPath.points[0],
c=a._internal.renderer.opengl.utils.PathBuiler.__currentPath.points[1],d=a._internal.renderer.opengl.utils.PathBuiler.__currentPath.points[b-1];h==a._internal.renderer.opengl.utils.PathBuiler.__currentPath.points[b-2]&&c==d||a._internal.renderer.opengl.utils.PathBuiler.lineTo(h,c)}};a._internal.renderer.opengl.utils.PathBuiler.endFill=function(){a._internal.renderer.opengl.utils.PathBuiler.__fill=a._internal.renderer.opengl.utils.FillType.None;a._internal.renderer.opengl.utils.PathBuiler.__fillIndex++};
a._internal.renderer.opengl.utils.PathBuiler.lineTo=function(b,h){var c=a._internal.renderer.opengl.utils.PathBuiler.__currentPath.points,d=!0;if(1<c.length){var f=c[c.length-1];c[c.length-2]==b&&f==h&&(d=!1)}1==d&&(a._internal.renderer.opengl.utils.PathBuiler.__currentPath.points.push(b),a._internal.renderer.opengl.utils.PathBuiler.__currentPath.points.push(h))};a._internal.renderer.opengl.utils.PathBuiler.build=function(b,h){var c=null,d=b.__bounds;a._internal.renderer.opengl.utils.PathBuiler.__drawPaths=
[];a._internal.renderer.opengl.utils.PathBuiler.__currentPath=new a._internal.renderer.opengl.utils.DrawPath;a._internal.renderer.opengl.utils.PathBuiler.__line=new a._internal.renderer.opengl.utils.LineStyle;a._internal.renderer.opengl.utils.PathBuiler.__fill=a._internal.renderer.opengl.utils.FillType.None;a._internal.renderer.opengl.utils.PathBuiler.__fillIndex=0;c=b.__glStack[a._internal.renderer.opengl.GLRenderer.glContextId];null==c&&(c=b.__glStack[a._internal.renderer.opengl.GLRenderer.glContextId]=
new a._internal.renderer.opengl.utils.GLStack(h));if(b.__visible&&0!=b.__commands.get_length()&&null!=d&&0!=d.width&&0!=d.height){for(var d=new a._internal.renderer.DrawCommandReader(b.__commands),f=0,k=b.__commands.types;f<k.length;){var e=k[f];++f;switch(e[1]){case 0:d.advance();d.prev=a._internal.renderer.DrawCommandType.BEGIN_BITMAP_FILL;e=d;a._internal.renderer.opengl.utils.PathBuiler.endFill();a._internal.renderer.opengl.utils.PathBuiler.__fill=null!=e.buffer.o[e.oPos]?a._internal.renderer.opengl.utils.FillType.Texture(e.buffer.o[e.oPos],
e.buffer.o[e.oPos+1],e.buffer.b[e.bPos],e.buffer.b[e.bPos+1]):a._internal.renderer.opengl.utils.FillType.None;if(null==a._internal.renderer.opengl.utils.PathBuiler.__currentPath.points||0==a._internal.renderer.opengl.utils.PathBuiler.__currentPath.points.length)!a._internal.renderer.opengl.utils.PathBuiler.__currentPath.isRemovable||null!=a._internal.renderer.opengl.utils.PathBuiler.__currentPath.points&&0!=a._internal.renderer.opengl.utils.PathBuiler.__currentPath.points.length?a._internal.renderer.opengl.utils.PathBuiler.closePath():
a._internal.renderer.opengl.utils.PathBuiler.__drawPaths.pop(),a._internal.renderer.opengl.utils.PathBuiler.__currentPath=new a._internal.renderer.opengl.utils.DrawPath,a._internal.renderer.opengl.utils.PathBuiler.__currentPath.update(a._internal.renderer.opengl.utils.PathBuiler.__line,a._internal.renderer.opengl.utils.PathBuiler.__fill,a._internal.renderer.opengl.utils.PathBuiler.__fillIndex,a._internal.renderer.opengl.utils.PathBuiler.__currentWinding),a._internal.renderer.opengl.utils.PathBuiler.__currentPath.points=
[],a._internal.renderer.opengl.utils.PathBuiler.__currentPath.type=a._internal.renderer.opengl.utils.GraphicType.Polygon,a._internal.renderer.opengl.utils.PathBuiler.__drawPaths.push(a._internal.renderer.opengl.utils.PathBuiler.__currentPath);break;case 1:d.advance();d.prev=a._internal.renderer.DrawCommandType.BEGIN_FILL;e=d;a._internal.renderer.opengl.utils.PathBuiler.endFill();a._internal.renderer.opengl.utils.PathBuiler.__fill=0<e.buffer.f[e.fPos]?a._internal.renderer.opengl.utils.FillType.Color(e.buffer.i[e.iPos]&
16777215,e.buffer.f[e.fPos]):a._internal.renderer.opengl.utils.FillType.None;if(null==a._internal.renderer.opengl.utils.PathBuiler.__currentPath.points||0==a._internal.renderer.opengl.utils.PathBuiler.__currentPath.points.length)!a._internal.renderer.opengl.utils.PathBuiler.__currentPath.isRemovable||null!=a._internal.renderer.opengl.utils.PathBuiler.__currentPath.points&&0!=a._internal.renderer.opengl.utils.PathBuiler.__currentPath.points.length?a._internal.renderer.opengl.utils.PathBuiler.closePath():
a._internal.renderer.opengl.utils.PathBuiler.__drawPaths.pop(),a._internal.renderer.opengl.utils.PathBuiler.__currentPath=new a._internal.renderer.opengl.utils.DrawPath,a._internal.renderer.opengl.utils.PathBuiler.__currentPath.update(a._internal.renderer.opengl.utils.PathBuiler.__line,a._internal.renderer.opengl.utils.PathBuiler.__fill,a._internal.renderer.opengl.utils.PathBuiler.__fillIndex,a._internal.renderer.opengl.utils.PathBuiler.__currentWinding),a._internal.renderer.opengl.utils.PathBuiler.__currentPath.points=
[],a._internal.renderer.opengl.utils.PathBuiler.__currentPath.type=a._internal.renderer.opengl.utils.GraphicType.Polygon,a._internal.renderer.opengl.utils.PathBuiler.__drawPaths.push(a._internal.renderer.opengl.utils.PathBuiler.__currentPath);break;case 3:d.advance();d.prev=a._internal.renderer.DrawCommandType.CUBIC_CURVE_TO;e=d;if(null==a._internal.renderer.opengl.utils.PathBuiler.__currentPath.points||0==a._internal.renderer.opengl.utils.PathBuiler.__currentPath.points.length)!a._internal.renderer.opengl.utils.PathBuiler.__currentPath.isRemovable||
null!=a._internal.renderer.opengl.utils.PathBuiler.__currentPath.points&&0!=a._internal.renderer.opengl.utils.PathBuiler.__currentPath.points.length?a._internal.renderer.opengl.utils.PathBuiler.closePath():a._internal.renderer.opengl.utils.PathBuiler.__drawPaths.pop(),a._internal.renderer.opengl.utils.PathBuiler.__currentPath=new a._internal.renderer.opengl.utils.DrawPath,a._internal.renderer.opengl.utils.PathBuiler.__currentPath.update(a._internal.renderer.opengl.utils.PathBuiler.__line,a._internal.renderer.opengl.utils.PathBuiler.__fill,
a._internal.renderer.opengl.utils.PathBuiler.__fillIndex,a._internal.renderer.opengl.utils.PathBuiler.__currentWinding),a._internal.renderer.opengl.utils.PathBuiler.__currentPath.type=a._internal.renderer.opengl.utils.GraphicType.Polygon,a._internal.renderer.opengl.utils.PathBuiler.__currentPath.points.push(0),a._internal.renderer.opengl.utils.PathBuiler.__currentPath.points.push(0),a._internal.renderer.opengl.utils.PathBuiler.__drawPaths.push(a._internal.renderer.opengl.utils.PathBuiler.__currentPath);
a._internal.renderer.GraphicsPaths.cubicCurveTo(a._internal.renderer.opengl.utils.PathBuiler.__currentPath.points,e.buffer.f[e.fPos],e.buffer.f[e.fPos+1],e.buffer.f[e.fPos+3],e.buffer.f[e.fPos+4],e.buffer.f[e.fPos+5],e.buffer.f[e.fPos+6]);break;case 4:d.advance();d.prev=a._internal.renderer.DrawCommandType.CURVE_TO;e=d;if(null==a._internal.renderer.opengl.utils.PathBuiler.__currentPath.points||0==a._internal.renderer.opengl.utils.PathBuiler.__currentPath.points.length)!a._internal.renderer.opengl.utils.PathBuiler.__currentPath.isRemovable||
null!=a._internal.renderer.opengl.utils.PathBuiler.__currentPath.points&&0!=a._internal.renderer.opengl.utils.PathBuiler.__currentPath.points.length?a._internal.renderer.opengl.utils.PathBuiler.closePath():a._internal.renderer.opengl.utils.PathBuiler.__drawPaths.pop(),a._internal.renderer.opengl.utils.PathBuiler.__currentPath=new a._internal.renderer.opengl.utils.DrawPath,a._internal.renderer.opengl.utils.PathBuiler.__currentPath.update(a._internal.renderer.opengl.utils.PathBuiler.__line,a._internal.renderer.opengl.utils.PathBuiler.__fill,
a._internal.renderer.opengl.utils.PathBuiler.__fillIndex,a._internal.renderer.opengl.utils.PathBuiler.__currentWinding),a._internal.renderer.opengl.utils.PathBuiler.__currentPath.type=a._internal.renderer.opengl.utils.GraphicType.Polygon,a._internal.renderer.opengl.utils.PathBuiler.__currentPath.points.push(0),a._internal.renderer.opengl.utils.PathBuiler.__currentPath.points.push(0),a._internal.renderer.opengl.utils.PathBuiler.__drawPaths.push(a._internal.renderer.opengl.utils.PathBuiler.__currentPath);
a._internal.renderer.GraphicsPaths.curveTo(a._internal.renderer.opengl.utils.PathBuiler.__currentPath.points,e.buffer.f[e.fPos],e.buffer.f[e.fPos+1],e.buffer.f[e.fPos+2],e.buffer.f[e.fPos+3]);break;case 5:d.advance();d.prev=a._internal.renderer.DrawCommandType.DRAW_CIRCLE;e=d;!a._internal.renderer.opengl.utils.PathBuiler.__currentPath.isRemovable||null!=a._internal.renderer.opengl.utils.PathBuiler.__currentPath.points&&0!=a._internal.renderer.opengl.utils.PathBuiler.__currentPath.points.length?a._internal.renderer.opengl.utils.PathBuiler.closePath():
a._internal.renderer.opengl.utils.PathBuiler.__drawPaths.pop();a._internal.renderer.opengl.utils.PathBuiler.__currentPath=new a._internal.renderer.opengl.utils.DrawPath;a._internal.renderer.opengl.utils.PathBuiler.__currentPath.update(a._internal.renderer.opengl.utils.PathBuiler.__line,a._internal.renderer.opengl.utils.PathBuiler.__fill,a._internal.renderer.opengl.utils.PathBuiler.__fillIndex,a._internal.renderer.opengl.utils.PathBuiler.__currentWinding);a._internal.renderer.opengl.utils.PathBuiler.__currentPath.type=
a._internal.renderer.opengl.utils.GraphicType.Circle;a._internal.renderer.opengl.utils.PathBuiler.__currentPath.points=[e.buffer.f[e.fPos],e.buffer.f[e.fPos+1],e.buffer.f[e.fPos+2]];a._internal.renderer.opengl.utils.PathBuiler.__drawPaths.push(a._internal.renderer.opengl.utils.PathBuiler.__currentPath);break;case 6:d.advance();d.prev=a._internal.renderer.DrawCommandType.DRAW_ELLIPSE;e=d;!a._internal.renderer.opengl.utils.PathBuiler.__currentPath.isRemovable||null!=a._internal.renderer.opengl.utils.PathBuiler.__currentPath.points&&
0!=a._internal.renderer.opengl.utils.PathBuiler.__currentPath.points.length?a._internal.renderer.opengl.utils.PathBuiler.closePath():a._internal.renderer.opengl.utils.PathBuiler.__drawPaths.pop();a._internal.renderer.opengl.utils.PathBuiler.__currentPath=new a._internal.renderer.opengl.utils.DrawPath;a._internal.renderer.opengl.utils.PathBuiler.__currentPath.update(a._internal.renderer.opengl.utils.PathBuiler.__line,a._internal.renderer.opengl.utils.PathBuiler.__fill,a._internal.renderer.opengl.utils.PathBuiler.__fillIndex,
a._internal.renderer.opengl.utils.PathBuiler.__currentWinding);a._internal.renderer.opengl.utils.PathBuiler.__currentPath.type=a._internal.renderer.opengl.utils.GraphicType.Ellipse;a._internal.renderer.opengl.utils.PathBuiler.__currentPath.points=[e.buffer.f[e.fPos],e.buffer.f[e.fPos+1],e.buffer.f[e.fPos+2],e.buffer.f[e.fPos+3]];a._internal.renderer.opengl.utils.PathBuiler.__drawPaths.push(a._internal.renderer.opengl.utils.PathBuiler.__currentPath);break;case 8:d.advance();d.prev=a._internal.renderer.DrawCommandType.DRAW_RECT;
e=d;!a._internal.renderer.opengl.utils.PathBuiler.__currentPath.isRemovable||null!=a._internal.renderer.opengl.utils.PathBuiler.__currentPath.points&&0!=a._internal.renderer.opengl.utils.PathBuiler.__currentPath.points.length?a._internal.renderer.opengl.utils.PathBuiler.closePath():a._internal.renderer.opengl.utils.PathBuiler.__drawPaths.pop();a._internal.renderer.opengl.utils.PathBuiler.__currentPath=new a._internal.renderer.opengl.utils.DrawPath;a._internal.renderer.opengl.utils.PathBuiler.__currentPath.update(a._internal.renderer.opengl.utils.PathBuiler.__line,
a._internal.renderer.opengl.utils.PathBuiler.__fill,a._internal.renderer.opengl.utils.PathBuiler.__fillIndex,a._internal.renderer.opengl.utils.PathBuiler.__currentWinding);a._internal.renderer.opengl.utils.PathBuiler.__currentPath.type=a._internal.renderer.opengl.utils.GraphicType.Rectangle(!1);a._internal.renderer.opengl.utils.PathBuiler.__currentPath.points=[e.buffer.f[e.fPos],e.buffer.f[e.fPos+1],e.buffer.f[e.fPos+2],e.buffer.f[e.fPos+3]];a._internal.renderer.opengl.utils.PathBuiler.__drawPaths.push(a._internal.renderer.opengl.utils.PathBuiler.__currentPath);
break;case 9:var g;d.advance();d.prev=a._internal.renderer.DrawCommandType.DRAW_ROUND_RECT;g=d;var e=g.buffer.f[g.fPos],l=g.buffer.f[g.fPos+1],m=g.buffer.f[g.fPos+2],p=g.buffer.f[g.fPos+3],u=g.buffer.f[g.fPos+4];g=g.buffer.f[g.fPos+5];-1==g&&(g=u);u*=.5;g*=.5;u>m/2&&(u=m/2);g>p/2&&(g=p/2);!a._internal.renderer.opengl.utils.PathBuiler.__currentPath.isRemovable||null!=a._internal.renderer.opengl.utils.PathBuiler.__currentPath.points&&0!=a._internal.renderer.opengl.utils.PathBuiler.__currentPath.points.length?
a._internal.renderer.opengl.utils.PathBuiler.closePath():a._internal.renderer.opengl.utils.PathBuiler.__drawPaths.pop();a._internal.renderer.opengl.utils.PathBuiler.__currentPath=new a._internal.renderer.opengl.utils.DrawPath;a._internal.renderer.opengl.utils.PathBuiler.__currentPath.update(a._internal.renderer.opengl.utils.PathBuiler.__line,a._internal.renderer.opengl.utils.PathBuiler.__fill,a._internal.renderer.opengl.utils.PathBuiler.__fillIndex,a._internal.renderer.opengl.utils.PathBuiler.__currentWinding);
a._internal.renderer.opengl.utils.PathBuiler.__currentPath.type=a._internal.renderer.opengl.utils.GraphicType.Rectangle(!0);a._internal.renderer.opengl.utils.PathBuiler.__currentPath.points=[e,l,m,p,u,g];a._internal.renderer.opengl.utils.PathBuiler.__drawPaths.push(a._internal.renderer.opengl.utils.PathBuiler.__currentPath);break;case 12:d.advance();d.prev=a._internal.renderer.DrawCommandType.END_FILL;a._internal.renderer.opengl.utils.PathBuiler.endFill();break;case 15:d.advance();d.prev=a._internal.renderer.DrawCommandType.LINE_STYLE;
e=d;a._internal.renderer.opengl.utils.PathBuiler.__line=new a._internal.renderer.opengl.utils.LineStyle;null==e.buffer.o[e.oPos]||Math.isNaN(e.buffer.o[e.oPos])||0>e.buffer.o[e.oPos]?a._internal.renderer.opengl.utils.PathBuiler.__line.width=0:a._internal.renderer.opengl.utils.PathBuiler.__line.width=0==e.buffer.o[e.oPos]?1:e.buffer.o[e.oPos];!a._internal.renderer.opengl.utils.PathBuiler.__currentPath.isRemovable||null!=a._internal.renderer.opengl.utils.PathBuiler.__currentPath.points&&0!=a._internal.renderer.opengl.utils.PathBuiler.__currentPath.points.length?
a._internal.renderer.opengl.utils.PathBuiler.closePath():a._internal.renderer.opengl.utils.PathBuiler.__drawPaths.pop();a._internal.renderer.opengl.utils.PathBuiler.__line.color=null==e.buffer.o[e.oPos+1]?0:e.buffer.o[e.oPos+1];a._internal.renderer.opengl.utils.PathBuiler.__line.alpha=null==e.buffer.o[e.oPos+2]?1:e.buffer.o[e.oPos+2];a._internal.renderer.opengl.utils.PathBuiler.__line.scaleMode=e.buffer.o[e.oPos+4];a._internal.renderer.opengl.utils.PathBuiler.__line.caps=e.buffer.o[e.oPos+5];a._internal.renderer.opengl.utils.PathBuiler.__line.joints=
e.buffer.o[e.oPos+6];a._internal.renderer.opengl.utils.PathBuiler.__line.miterLimit=e.buffer.o[e.oPos+7];a._internal.renderer.opengl.utils.PathBuiler.__currentPath=new a._internal.renderer.opengl.utils.DrawPath;a._internal.renderer.opengl.utils.PathBuiler.__currentPath.update(a._internal.renderer.opengl.utils.PathBuiler.__line,a._internal.renderer.opengl.utils.PathBuiler.__fill,a._internal.renderer.opengl.utils.PathBuiler.__fillIndex,a._internal.renderer.opengl.utils.PathBuiler.__currentWinding);
a._internal.renderer.opengl.utils.PathBuiler.__currentPath.points=[];a._internal.renderer.opengl.utils.PathBuiler.__currentPath.type=a._internal.renderer.opengl.utils.GraphicType.Polygon;a._internal.renderer.opengl.utils.PathBuiler.__drawPaths.push(a._internal.renderer.opengl.utils.PathBuiler.__currentPath);break;case 16:d.advance();d.prev=a._internal.renderer.DrawCommandType.LINE_TO;e=d;a._internal.renderer.opengl.utils.PathBuiler.lineTo(e.buffer.f[e.fPos],e.buffer.f[e.fPos+1]);break;case 17:d.advance();
d.prev=a._internal.renderer.DrawCommandType.MOVE_TO;e=d;!a._internal.renderer.opengl.utils.PathBuiler.__currentPath.isRemovable||null!=a._internal.renderer.opengl.utils.PathBuiler.__currentPath.points&&0!=a._internal.renderer.opengl.utils.PathBuiler.__currentPath.points.length?a._internal.renderer.opengl.utils.PathBuiler.closePath():a._internal.renderer.opengl.utils.PathBuiler.__drawPaths.pop();a._internal.renderer.opengl.utils.PathBuiler.__currentPath=new a._internal.renderer.opengl.utils.DrawPath;
a._internal.renderer.opengl.utils.PathBuiler.__currentPath.update(a._internal.renderer.opengl.utils.PathBuiler.__line,a._internal.renderer.opengl.utils.PathBuiler.__fill,a._internal.renderer.opengl.utils.PathBuiler.__fillIndex,a._internal.renderer.opengl.utils.PathBuiler.__currentWinding);a._internal.renderer.opengl.utils.PathBuiler.__currentPath.type=a._internal.renderer.opengl.utils.GraphicType.Polygon;a._internal.renderer.opengl.utils.PathBuiler.__currentPath.points.push(e.buffer.f[e.fPos]);a._internal.renderer.opengl.utils.PathBuiler.__currentPath.points.push(e.buffer.f[e.fPos+
1]);a._internal.renderer.opengl.utils.PathBuiler.__drawPaths.push(a._internal.renderer.opengl.utils.PathBuiler.__currentPath);break;case 11:d.advance();d.prev=a._internal.renderer.DrawCommandType.DRAW_TRIANGLES;g=d;u=g.buffer.o[g.oPos+2];e=g.buffer.o[g.oPos];l=g.buffer.o[g.oPos+1];m=g.buffer.o[g.oPos+3];p=g.buffer.o[g.oPos+4];g=g.buffer.i[g.iPos];var n;switch(a._internal.renderer.opengl.utils.PathBuiler.__fill[1]){case 1:n=!0;break;default:n=!1}if(n&&null!=u)continue;!a._internal.renderer.opengl.utils.PathBuiler.__currentPath.isRemovable||
null!=a._internal.renderer.opengl.utils.PathBuiler.__currentPath.points&&0!=a._internal.renderer.opengl.utils.PathBuiler.__currentPath.points.length?a._internal.renderer.opengl.utils.PathBuiler.closePath():a._internal.renderer.opengl.utils.PathBuiler.__drawPaths.pop();a._internal.renderer.opengl.utils.PathBuiler.__currentPath=new a._internal.renderer.opengl.utils.DrawPath;a._internal.renderer.opengl.utils.PathBuiler.__currentPath.update(a._internal.renderer.opengl.utils.PathBuiler.__line,a._internal.renderer.opengl.utils.PathBuiler.__fill,
a._internal.renderer.opengl.utils.PathBuiler.__fillIndex,a._internal.renderer.opengl.utils.PathBuiler.__currentWinding);if(null==u)switch(u=new a.VectorData,u.data=[],u.length=0,u.fixed=!1,n=a._internal.renderer.opengl.utils.PathBuiler.__fill,n[1]){case 2:n=n[2];for(var r=0,t=e.length/2|0;r<t;){var w=r++;if(!u.fixed){u.length++;if(u.data.length<u.length){var v;v=Array(u.data.length+10);q.ds._Vector.Vector_Impl_.blit(u.data,0,v,0,u.data.length);u.data=v}u.data[u.length-1]=e.data[2*w]/n.width}u.length;
u.fixed||(u.length++,u.data.length<u.length&&(v=Array(u.data.length+10),q.ds._Vector.Vector_Impl_.blit(u.data,0,v,0,u.data.length),u.data=v),u.data[u.length-1]=e.data[2*w+1]/n.height);u.length}}a._internal.renderer.opengl.utils.PathBuiler.__currentPath.type=a._internal.renderer.opengl.utils.GraphicType.DrawTriangles(e,l,u,m,p,g);a._internal.renderer.opengl.utils.PathBuiler.__currentPath.isRemovable=!1;a._internal.renderer.opengl.utils.PathBuiler.__drawPaths.push(a._internal.renderer.opengl.utils.PathBuiler.__currentPath);
break;case 10:d.advance();d.prev=a._internal.renderer.DrawCommandType.DRAW_TILES;e=d;!a._internal.renderer.opengl.utils.PathBuiler.__currentPath.isRemovable||null!=a._internal.renderer.opengl.utils.PathBuiler.__currentPath.points&&0!=a._internal.renderer.opengl.utils.PathBuiler.__currentPath.points.length?a._internal.renderer.opengl.utils.PathBuiler.closePath():a._internal.renderer.opengl.utils.PathBuiler.__drawPaths.pop();a._internal.renderer.opengl.utils.PathBuiler.__fillIndex++;a._internal.renderer.opengl.utils.PathBuiler.__currentPath=
new a._internal.renderer.opengl.utils.DrawPath(!1);a._internal.renderer.opengl.utils.PathBuiler.__currentPath.update(a._internal.renderer.opengl.utils.PathBuiler.__line,a._internal.renderer.opengl.utils.PathBuiler.__fill,a._internal.renderer.opengl.utils.PathBuiler.__fillIndex,a._internal.renderer.opengl.utils.PathBuiler.__currentWinding);a._internal.renderer.opengl.utils.PathBuiler.__currentPath.type=a._internal.renderer.opengl.utils.GraphicType.DrawTiles(e.buffer.ts[e.tsPos],e.buffer.ff[e.ffPos],
e.buffer.b[e.bPos],e.buffer.i[e.iPos],e.buffer.o[e.oPos],e.buffer.i[e.iPos+1]);a._internal.renderer.opengl.utils.PathBuiler.__currentPath.isRemovable=!1;a._internal.renderer.opengl.utils.PathBuiler.__drawPaths.push(a._internal.renderer.opengl.utils.PathBuiler.__currentPath);break;case 7:d.advance();d.prev=a._internal.renderer.DrawCommandType.DRAW_PATH;e=d;!a._internal.renderer.opengl.utils.PathBuiler.__currentPath.isRemovable||null!=a._internal.renderer.opengl.utils.PathBuiler.__currentPath.points&&
0!=a._internal.renderer.opengl.utils.PathBuiler.__currentPath.points.length?a._internal.renderer.opengl.utils.PathBuiler.closePath():a._internal.renderer.opengl.utils.PathBuiler.__drawPaths.pop();switch(e.buffer.o[e.oPos+2]){case a.display.GraphicsPathWinding.EVEN_ODD:a._internal.renderer.opengl.utils.PathBuiler.__currentWinding=0;break;case a.display.GraphicsPathWinding.NON_ZERO:a._internal.renderer.opengl.utils.PathBuiler.__currentWinding=1;break;default:a._internal.renderer.opengl.utils.PathBuiler.__currentWinding=
0}m=l=0;for(p=e.buffer.o[e.oPos].length;m<p;)switch(u=m++,u=e.buffer.o[e.oPos].data[u],u){case 1:t=e.buffer.o[e.oPos+1].data[l];w=e.buffer.o[e.oPos+1].data[l+1];l+=2;!a._internal.renderer.opengl.utils.PathBuiler.__currentPath.isRemovable||null!=a._internal.renderer.opengl.utils.PathBuiler.__currentPath.points&&0!=a._internal.renderer.opengl.utils.PathBuiler.__currentPath.points.length?a._internal.renderer.opengl.utils.PathBuiler.closePath():a._internal.renderer.opengl.utils.PathBuiler.__drawPaths.pop();
a._internal.renderer.opengl.utils.PathBuiler.__currentPath=new a._internal.renderer.opengl.utils.DrawPath;a._internal.renderer.opengl.utils.PathBuiler.__currentPath.update(a._internal.renderer.opengl.utils.PathBuiler.__line,a._internal.renderer.opengl.utils.PathBuiler.__fill,a._internal.renderer.opengl.utils.PathBuiler.__fillIndex,a._internal.renderer.opengl.utils.PathBuiler.__currentWinding);a._internal.renderer.opengl.utils.PathBuiler.__currentPath.type=a._internal.renderer.opengl.utils.GraphicType.Polygon;
a._internal.renderer.opengl.utils.PathBuiler.__currentPath.points.push(t);a._internal.renderer.opengl.utils.PathBuiler.__currentPath.points.push(w);a._internal.renderer.opengl.utils.PathBuiler.__drawPaths.push(a._internal.renderer.opengl.utils.PathBuiler.__currentPath);break;case 4:t=e.buffer.o[e.oPos+1].data[l+2];w=e.buffer.o[e.oPos+1].data[l+3];l+=4;!a._internal.renderer.opengl.utils.PathBuiler.__currentPath.isRemovable||null!=a._internal.renderer.opengl.utils.PathBuiler.__currentPath.points&&0!=
a._internal.renderer.opengl.utils.PathBuiler.__currentPath.points.length?a._internal.renderer.opengl.utils.PathBuiler.closePath():a._internal.renderer.opengl.utils.PathBuiler.__drawPaths.pop();a._internal.renderer.opengl.utils.PathBuiler.__currentPath=new a._internal.renderer.opengl.utils.DrawPath;a._internal.renderer.opengl.utils.PathBuiler.__currentPath.update(a._internal.renderer.opengl.utils.PathBuiler.__line,a._internal.renderer.opengl.utils.PathBuiler.__fill,a._internal.renderer.opengl.utils.PathBuiler.__fillIndex,
a._internal.renderer.opengl.utils.PathBuiler.__currentWinding);a._internal.renderer.opengl.utils.PathBuiler.__currentPath.type=a._internal.renderer.opengl.utils.GraphicType.Polygon;a._internal.renderer.opengl.utils.PathBuiler.__currentPath.points.push(t);a._internal.renderer.opengl.utils.PathBuiler.__currentPath.points.push(w);a._internal.renderer.opengl.utils.PathBuiler.__drawPaths.push(a._internal.renderer.opengl.utils.PathBuiler.__currentPath);break;case 2:t=e.buffer.o[e.oPos+1].data[l];w=e.buffer.o[e.oPos+
1].data[l+1];l+=2;a._internal.renderer.opengl.utils.PathBuiler.lineTo(t,w);break;case 5:t=e.buffer.o[e.oPos+1].data[l+2];w=e.buffer.o[e.oPos+1].data[l+3];l+=4;a._internal.renderer.opengl.utils.PathBuiler.lineTo(t,w);break;case 3:u=e.buffer.o[e.oPos+1].data[l];g=e.buffer.o[e.oPos+1].data[l+1];t=e.buffer.o[e.oPos+1].data[l+2];w=e.buffer.o[e.oPos+1].data[l+3];l+=4;if(null==a._internal.renderer.opengl.utils.PathBuiler.__currentPath.points||0==a._internal.renderer.opengl.utils.PathBuiler.__currentPath.points.length)!a._internal.renderer.opengl.utils.PathBuiler.__currentPath.isRemovable||
null!=a._internal.renderer.opengl.utils.PathBuiler.__currentPath.points&&0!=a._internal.renderer.opengl.utils.PathBuiler.__currentPath.points.length?a._internal.renderer.opengl.utils.PathBuiler.closePath():a._internal.renderer.opengl.utils.PathBuiler.__drawPaths.pop(),a._internal.renderer.opengl.utils.PathBuiler.__currentPath=new a._internal.renderer.opengl.utils.DrawPath,a._internal.renderer.opengl.utils.PathBuiler.__currentPath.update(a._internal.renderer.opengl.utils.PathBuiler.__line,a._internal.renderer.opengl.utils.PathBuiler.__fill,
a._internal.renderer.opengl.utils.PathBuiler.__fillIndex,a._internal.renderer.opengl.utils.PathBuiler.__currentWinding),a._internal.renderer.opengl.utils.PathBuiler.__currentPath.type=a._internal.renderer.opengl.utils.GraphicType.Polygon,a._internal.renderer.opengl.utils.PathBuiler.__currentPath.points.push(0),a._internal.renderer.opengl.utils.PathBuiler.__currentPath.points.push(0),a._internal.renderer.opengl.utils.PathBuiler.__drawPaths.push(a._internal.renderer.opengl.utils.PathBuiler.__currentPath);
a._internal.renderer.GraphicsPaths.curveTo(a._internal.renderer.opengl.utils.PathBuiler.__currentPath.points,u,g,t,w);break;case 6:u=e.buffer.o[e.oPos+1].data[l];g=e.buffer.o[e.oPos+1].data[l+1];n=e.buffer.o[e.oPos+1].data[l+2];r=e.buffer.o[e.oPos+1].data[l+3];t=e.buffer.o[e.oPos+1].data[l+4];w=e.buffer.o[e.oPos+1].data[l+5];l+=6;if(null==a._internal.renderer.opengl.utils.PathBuiler.__currentPath.points||0==a._internal.renderer.opengl.utils.PathBuiler.__currentPath.points.length)!a._internal.renderer.opengl.utils.PathBuiler.__currentPath.isRemovable||
null!=a._internal.renderer.opengl.utils.PathBuiler.__currentPath.points&&0!=a._internal.renderer.opengl.utils.PathBuiler.__currentPath.points.length?a._internal.renderer.opengl.utils.PathBuiler.closePath():a._internal.renderer.opengl.utils.PathBuiler.__drawPaths.pop(),a._internal.renderer.opengl.utils.PathBuiler.__currentPath=new a._internal.renderer.opengl.utils.DrawPath,a._internal.renderer.opengl.utils.PathBuiler.__currentPath.update(a._internal.renderer.opengl.utils.PathBuiler.__line,a._internal.renderer.opengl.utils.PathBuiler.__fill,
a._internal.renderer.opengl.utils.PathBuiler.__fillIndex,a._internal.renderer.opengl.utils.PathBuiler.__currentWinding),a._internal.renderer.opengl.utils.PathBuiler.__currentPath.type=a._internal.renderer.opengl.utils.GraphicType.Polygon,a._internal.renderer.opengl.utils.PathBuiler.__currentPath.points.push(0),a._internal.renderer.opengl.utils.PathBuiler.__currentPath.points.push(0),a._internal.renderer.opengl.utils.PathBuiler.__drawPaths.push(a._internal.renderer.opengl.utils.PathBuiler.__currentPath);
a._internal.renderer.GraphicsPaths.cubicCurveTo(a._internal.renderer.opengl.utils.PathBuiler.__currentPath.points,u,g,n,r,t,w)}a._internal.renderer.opengl.utils.PathBuiler.__currentWinding=0;break;case 18:d.advance();d.prev=a._internal.renderer.DrawCommandType.OVERRIDE_MATRIX;e=d;!a._internal.renderer.opengl.utils.PathBuiler.__currentPath.isRemovable||null!=a._internal.renderer.opengl.utils.PathBuiler.__currentPath.points&&0!=a._internal.renderer.opengl.utils.PathBuiler.__currentPath.points.length?
a._internal.renderer.opengl.utils.PathBuiler.closePath():a._internal.renderer.opengl.utils.PathBuiler.__drawPaths.pop();a._internal.renderer.opengl.utils.PathBuiler.__currentPath=new a._internal.renderer.opengl.utils.DrawPath;a._internal.renderer.opengl.utils.PathBuiler.__currentPath.update(a._internal.renderer.opengl.utils.PathBuiler.__line,a._internal.renderer.opengl.utils.PathBuiler.__fill,a._internal.renderer.opengl.utils.PathBuiler.__fillIndex,a._internal.renderer.opengl.utils.PathBuiler.__currentWinding);
a._internal.renderer.opengl.utils.PathBuiler.__currentPath.type=a._internal.renderer.opengl.utils.GraphicType.OverrideMatrix(e.buffer.o[e.oPos]);a._internal.renderer.opengl.utils.PathBuiler.__currentPath.isRemovable=!1;a._internal.renderer.opengl.utils.PathBuiler.__drawPaths.push(a._internal.renderer.opengl.utils.PathBuiler.__currentPath);break;default:d.advance(),d.prev=e}}a._internal.renderer.opengl.utils.PathBuiler.closePath();d.destroy()}b.__drawPaths=a._internal.renderer.opengl.utils.PathBuiler.__drawPaths;
return c};a._internal.renderer.opengl.utils.LineStyle=function(){this.color=this.width=0;this.alpha=1;this.scaleMode=a.display.LineScaleMode.NORMAL;this.caps=a.display.CapsStyle.ROUND;this.joints=a.display.JointStyle.ROUND;this.miterLimit=3};l["openfl._internal.renderer.opengl.utils.LineStyle"]=a._internal.renderer.opengl.utils.LineStyle;a._internal.renderer.opengl.utils.LineStyle.__name__=!0;a._internal.renderer.opengl.utils.LineStyle.prototype={__class__:a._internal.renderer.opengl.utils.LineStyle};
a._internal.renderer.opengl.utils.FillType=l["openfl._internal.renderer.opengl.utils.FillType"]={__ename__:!0,__constructs__:["None","Color","Texture","Gradient"]};a._internal.renderer.opengl.utils.FillType.None=["None",0];a._internal.renderer.opengl.utils.FillType.None.toString=m;a._internal.renderer.opengl.utils.FillType.None.__enum__=a._internal.renderer.opengl.utils.FillType;a._internal.renderer.opengl.utils.FillType.Color=function(b,h){var c=["Color",1,b,h];c.__enum__=a._internal.renderer.opengl.utils.FillType;
c.toString=m;return c};a._internal.renderer.opengl.utils.FillType.Texture=function(b,h,c,d){b=["Texture",2,b,h,c,d];b.__enum__=a._internal.renderer.opengl.utils.FillType;b.toString=m;return b};a._internal.renderer.opengl.utils.FillType.Gradient=["Gradient",3];a._internal.renderer.opengl.utils.FillType.Gradient.toString=m;a._internal.renderer.opengl.utils.FillType.Gradient.__enum__=a._internal.renderer.opengl.utils.FillType;a._internal.renderer.opengl.utils.FilterManager=function(b,a){this.transparent=
a;this.filterStack=[];this.offsetY=this.offsetX=0;this.setContext(b)};l["openfl._internal.renderer.opengl.utils.FilterManager"]=a._internal.renderer.opengl.utils.FilterManager;a._internal.renderer.opengl.utils.FilterManager.__name__=!0;a._internal.renderer.opengl.utils.FilterManager.prototype={begin:function(b,a){this.renderSession=b;this.defaultShader=b.shaderManager.defaultShader;this.height=this.width=0;this.buffer=a},initShaderBuffers:function(){var b=this.gl;this.vertexBuffer=b.createBuffer();
this.uvBuffer=b.createBuffer();this.colorBuffer=b.createBuffer();this.indexBuffer=b.createBuffer();var a=[0,0,1,0,0,1,1,1];this.vertexArray=null!=a?new Float32Array(a):null;b.bindBuffer(b.ARRAY_BUFFER,this.vertexBuffer);b.bufferData(b.ARRAY_BUFFER,this.vertexArray,b.STATIC_DRAW);a=[0,0,1,0,0,1,1,1];this.uvArray=null!=a?new Float32Array(a):null;b.bindBuffer(b.ARRAY_BUFFER,this.uvBuffer);b.bufferData(b.ARRAY_BUFFER,this.uvArray,b.STATIC_DRAW);a=[1,16777215,1,16777215,1,16777215,1,16777215];this.colorArray=
null!=a?new Float32Array(a):null;b.bindBuffer(b.ARRAY_BUFFER,this.colorBuffer);b.bufferData(b.ARRAY_BUFFER,this.colorArray,b.STATIC_DRAW);b.bindBuffer(b.ELEMENT_ARRAY_BUFFER,this.indexBuffer);b.bufferData(b.ELEMENT_ARRAY_BUFFER,function(b){b=[0,1,2,1,3,2];return null!=b?new Uint16Array(b):null}(this),b.STATIC_DRAW)},setContext:function(b){this.gl=b;this.texturePool=[];this.initShaderBuffers()},__class__:a._internal.renderer.opengl.utils.FilterManager};a._internal.renderer.opengl.utils.GLMaskManager=
function(b){a._internal.renderer.AbstractMaskManager.call(this,b);this.setContext(b.gl);this.clips=[]};l["openfl._internal.renderer.opengl.utils.GLMaskManager"]=a._internal.renderer.opengl.utils.GLMaskManager;a._internal.renderer.opengl.utils.GLMaskManager.__name__=!0;a._internal.renderer.opengl.utils.GLMaskManager.__super__=a._internal.renderer.AbstractMaskManager;a._internal.renderer.opengl.utils.GLMaskManager.prototype=w(a._internal.renderer.AbstractMaskManager.prototype,{pushRect:function(b,h){if(null!=
b){var c=new a.geom.Matrix(h.a,h.b,h.c,h.d,h.tx,h.ty);a._internal.renderer.opengl.GLBitmap.flipMatrix(c,this.renderSession.renderer.viewport.height);var d=b.clone();d.__transform(d,c);null!=this.currentClip&&(d=this.currentClip.intersection(d));c=null==this.currentClip||d.isEmpty()||this.currentClip.containsRect(d);this.clips.push(d);this.currentClip=d;c&&(this.renderSession.spriteBatch.stop(),this.renderSession.spriteBatch.start(this.currentClip))}},pushMask:function(b){this.renderSession.spriteBatch.stop();
this.renderSession.stencilManager.pushMask(b,this.renderSession);this.renderSession.spriteBatch.start(this.currentClip)},popMask:function(){this.renderSession.spriteBatch.stop();this.renderSession.stencilManager.popMask(null,this.renderSession);this.renderSession.spriteBatch.start(this.currentClip)},popRect:function(){this.renderSession.spriteBatch.stop();this.clips.pop();this.currentClip=this.clips[this.clips.length-1];this.renderSession.spriteBatch.start(this.currentClip)},saveState:function(){this.savedClip=
this.currentClip;this.currentClip=null},restoreState:function(){this.currentClip=this.savedClip;this.savedClip=null},setContext:function(b){null!=this.renderSession&&(this.renderSession.gl=b);this.gl=b},__class__:a._internal.renderer.opengl.utils.GLMaskManager});a._internal.renderer.opengl.utils.VertexAttribute=function(b,a,c,d,f){null==c&&(c=!1);this.enabled=!0;this.normalized=!1;this.components=b;this.type=a;this.normalized=c;this.name=d;this.defaultValue=null==f?null!=b?new Float32Array(b):null:
f};l["openfl._internal.renderer.opengl.utils.VertexAttribute"]=a._internal.renderer.opengl.utils.VertexAttribute;a._internal.renderer.opengl.utils.VertexAttribute.__name__=!0;a._internal.renderer.opengl.utils.VertexAttribute.prototype={copy:function(){return new a._internal.renderer.opengl.utils.VertexAttribute(this.components,this.type,this.normalized,this.name,this.defaultValue)},getElementsBytes:function(){switch(this.type){case 5120:case 5121:return 1;case 5122:case 5123:return 2;default:return 4}},
__class__:a._internal.renderer.opengl.utils.VertexAttribute};a.geom.Rectangle=function(b,a,c,d){null==d&&(d=0);null==c&&(c=0);null==a&&(a=0);null==b&&(b=0);this.x=b;this.y=a;this.width=c;this.height=d};l["openfl.geom.Rectangle"]=a.geom.Rectangle;a.geom.Rectangle.__name__=!0;a.geom.Rectangle.prototype={clone:function(){return new a.geom.Rectangle(this.x,this.y,this.width,this.height)},contains:function(b,a){return b>=this.x&&a>=this.y&&b<this.get_right()&&a<this.get_bottom()},containsPoint:function(b){return this.contains(b.x,
b.y)},containsRect:function(b){return 0>=b.width||0>=b.height?b.x>this.x&&b.y>this.y&&b.get_right()<this.get_right()&&b.get_bottom()<this.get_bottom():b.x>=this.x&&b.y>=this.y&&b.get_right()<=this.get_right()&&b.get_bottom()<=this.get_bottom()},copyFrom:function(b){this.x=b.x;this.y=b.y;this.width=b.width;this.height=b.height},intersection:function(b){var h;h=this.x<b.x?b.x:this.x;var c;c=this.get_right()>b.get_right()?b.get_right():this.get_right();if(c<=h)return new a.geom.Rectangle;var d;d=this.y<
b.y?b.y:this.y;b=this.get_bottom()>b.get_bottom()?b.get_bottom():this.get_bottom();return b<=d?new a.geom.Rectangle:new a.geom.Rectangle(h,d,c-h,b-d)},intersects:function(b){var a;a=this.x<b.x?b.x:this.x;if((this.get_right()>b.get_right()?b.get_right():this.get_right())<=a)return!1;a=this.y<b.y?b.y:this.y;return(this.get_bottom()>b.get_bottom()?b.get_bottom():this.get_bottom())>a},isEmpty:function(){return 0>=this.width||0>=this.height},setEmpty:function(){this.x=this.y=this.width=this.height=0},
setTo:function(b,a,c,d){this.x=b;this.y=a;this.width=c;this.height=d},__expand:function(b,a,c,d){if(0==this.width&&0==this.height)this.x=b,this.y=a,this.width=c,this.height=d;else{var f=this.get_right(),k=this.get_bottom();this.x>b&&(this.x=b,this.width=f-b);this.y>a&&(this.y=a,this.height=k-a);f<b+c&&(this.width=b+c-this.x);k<a+d&&(this.height=a+d-this.y)}},__toLimeRectangle:function(){return new e.math.Rectangle(this.x,this.y,this.width,this.height)},__transform:function(b,a){var c=a.a*this.x+a.c*
this.y,d=c,f=a.b*this.x+a.d*this.y,k=f,e=a.a*(this.x+this.width)+a.c*this.y,g=a.b*(this.x+this.width)+a.d*this.y;e<c&&(c=e);g<f&&(f=g);e>d&&(d=e);g>k&&(k=g);e=a.a*(this.x+this.width)+a.c*(this.y+this.height);g=a.b*(this.x+this.width)+a.d*(this.y+this.height);e<c&&(c=e);g<f&&(f=g);e>d&&(d=e);g>k&&(k=g);e=a.a*this.x+a.c*(this.y+this.height);g=a.b*this.x+a.d*(this.y+this.height);e<c&&(c=e);g<f&&(f=g);e>d&&(d=e);g>k&&(k=g);b.setTo(c+a.tx,f+a.ty,d-c,k-f)},get_bottom:function(){return this.y+this.height},
get_left:function(){return this.x},get_right:function(){return this.x+this.width},get_top:function(){return this.y},get_topLeft:function(){return new a.geom.Point(this.x,this.y)},__class__:a.geom.Rectangle,__properties__:{get_topLeft:"get_topLeft",get_top:"get_top",get_right:"get_right",get_left:"get_left",get_bottom:"get_bottom"}};a._internal.renderer.opengl.utils.GraphicsRenderer=function(){};l["openfl._internal.renderer.opengl.utils.GraphicsRenderer"]=a._internal.renderer.opengl.utils.GraphicsRenderer;
a._internal.renderer.opengl.utils.GraphicsRenderer.__name__=!0;a._internal.renderer.opengl.utils.GraphicsRenderer.overrideMatrix=null;a._internal.renderer.opengl.utils.GraphicsRenderer.buildCircle=function(b,h,c){null==c&&(c=!1);var d=b.points,f=d[0],e=d[1],g=d[2],d=3==d.length?g:d[3];b.type==a._internal.renderer.opengl.utils.GraphicType.Ellipse&&(g/=2,d/=2,f+=g,e+=d);c&&(f-=a._internal.renderer.opengl.utils.GraphicsRenderer.objectBounds.x,e-=a._internal.renderer.opengl.utils.GraphicsRenderer.objectBounds.y);
c=2*Math.PI/40;h=a._internal.renderer.opengl.utils.GraphicsRenderer.prepareBucket(b,h);var l=h.getData(a._internal.renderer.opengl.utils.BucketDataType.Fill);if(null!=l){var m=l.verts,l=l.indices,p=m.length/2|0;l.push(p);for(var q=0;41>q;){var u=q++;m.push(f);m.push(e);m.push(f+Math.sin(c*u)*g);m.push(e+Math.cos(c*u)*d);l.push(p++);l.push(p++)}l.push(p-1)}0<b.line.width&&(c=b.points,b.points=[],a._internal.renderer.GraphicsPaths.ellipse(b.points,f,e,g,d,40),a._internal.renderer.opengl.utils.GraphicsRenderer.buildLine(b,
h),b.points=c)};a._internal.renderer.opengl.utils.GraphicsRenderer.buildComplexPoly=function(b,h,c){null==c&&(c=!1);var d=null;if(6<=b.points.length){var f=b.points.slice();if(c)for(var d=0,e=f.length/2|0;d<e;){var g=d++;f[2*g]-=a._internal.renderer.opengl.utils.GraphicsRenderer.objectBounds.x;f[2*g+1]-=a._internal.renderer.opengl.utils.GraphicsRenderer.objectBounds.y}d=a._internal.renderer.opengl.utils.GraphicsRenderer.prepareBucket(b,h);e=d.getData(a._internal.renderer.opengl.utils.BucketDataType.Fill);
e.drawMode=h.gl.TRIANGLE_FAN;e.verts=f;e=e.indices;f=f.length/2|0;for(g=0;g<f;){var l=g++;e.push(l)}}0<b.line.width&&(null==d&&(d=a._internal.renderer.opengl.utils.GraphicsRenderer.prepareBucket(b,h)),a._internal.renderer.opengl.utils.GraphicsRenderer.buildLine(b,d,c))};a._internal.renderer.opengl.utils.GraphicsRenderer.buildLine=function(b,h,c){null==c&&(c=!1);var d=b.points;if(0!=d.length){h=h.getData(a._internal.renderer.opengl.utils.BucketDataType.Line);if(c){c=0;for(var f=d.length/2|0;c<f;){var e=
c++;d[2*e]-=a._internal.renderer.opengl.utils.GraphicsRenderer.objectBounds.x;d[2*e+1]-=a._internal.renderer.opengl.utils.GraphicsRenderer.objectBounds.y}}f=new a.geom.Point(d[0],d[1]);e=new a.geom.Point(d[d.length-2|0],d[d.length-1|0]);f.x==e.x&&f.y==e.y&&(d=d.slice(),d.pop(),d.pop(),e=new a.geom.Point(d[d.length-2|0],d[d.length-1|0]),c=e.x+.5*(f.x-e.x),f=e.y+.5*(f.y-e.y),d.unshift(f),d.unshift(c),d.push(c),d.push(f));c=h.verts;h=h.indices;var g=d.length/2|0,f=d.length,e=c.length/6|0,l=b.line.width/
2,m=a._internal.renderer.opengl.utils.GraphicsRenderer.hex2rgb(b.line.color);b=b.line.alpha;var p=m[0],q=m[1],m=m[2],u,n,r,t,w,v,x,B,A,z,D,N,H,G;r=d[0];t=d[1];w=d[2];v=d[3];B=-(t-v);A=r-w;n=Math.sqrt(Math.abs(B*B+A*A));B=B/n*l;A=A/n*l;c.push(r-B);c.push(t-A);c.push(p);c.push(q);c.push(m);c.push(b);c.push(r+B);c.push(t+A);c.push(p);c.push(q);c.push(m);c.push(b);for(var J=1,L=g-1;J<L;)A=J++,r=d[2*(A-1)],t=d[2*(A-1)+1],w=d[2*A],v=d[2*A+1],u=d[2*(A+1)],x=d[2*(A+1)+1],B=-(t-v),A=r-w,n=Math.sqrt(Math.abs(B*
B+A*A)),B/=n,A/=n,B*=l,A*=l,z=-(v-x),D=w-u,n=Math.sqrt(Math.abs(z*z+D*D)),z/=n,D/=n,z*=l,D*=l,n=-A+t-(-A+v),N=-B+w-(-B+r),r=(-B+r)*(-A+v)-(-B+w)*(-A+t),t=-D+x-(-D+v),H=-z+w-(-z+u),x=(-z+u)*(-D+v)-(-z+w)*(-D+x),G=n*H-t*N,.1>Math.abs(G)?(c.push(w-B),c.push(v-A),c.push(p),c.push(q),c.push(m),c.push(b),c.push(w+B),c.push(v+A),c.push(p),c.push(q),c.push(m),c.push(b)):(u=(N*x-H*r)/G,n=(t*r-n*x)/G,N=(u-w)*(u-w)+(n-v)+(n-v),19600<N?(B-=z,A-=D,n=Math.sqrt(Math.abs(B*B+A*A)),B/=n,A/=n,B*=l,A*=l,c.push(w-B),
c.push(v-A),c.push(p),c.push(q),c.push(m),c.push(b),c.push(w+B),c.push(v+A),c.push(p),c.push(q),c.push(m),c.push(b),c.push(w-B),c.push(v-A),c.push(p),c.push(q),c.push(m),c.push(b),f++):(c.push(u),c.push(n),c.push(p),c.push(q),c.push(m),c.push(b),c.push(w-(u-w)),c.push(v-(n-v)),c.push(p),c.push(q),c.push(m),c.push(b)));r=d[2*(g-2)];t=d[2*(g-2)+1];w=d[2*(g-1)];v=d[2*(g-1)+1];B=-(t-v);A=r-w;n=Math.sqrt(Math.abs(B*B+A*A));Math.isFinite(n)||console.log(B*B+A*A);B/=n;A/=n;B*=l;A*=l;c.push(w-B);c.push(v-
A);c.push(p);c.push(q);c.push(m);c.push(b);c.push(w+B);c.push(v+A);c.push(p);c.push(q);c.push(m);c.push(b);h.push(e);for(d=0;d<f;)d++,h.push(e++);h.push(e-1)}};a._internal.renderer.opengl.utils.GraphicsRenderer.buildRectangle=function(b,h,c){null==c&&(c=!1);var d=b.points,f=d[0],e=d[1],g=d[2],d=d[3];c&&(f-=a._internal.renderer.opengl.utils.GraphicsRenderer.objectBounds.x,e-=a._internal.renderer.opengl.utils.GraphicsRenderer.objectBounds.y);h=a._internal.renderer.opengl.utils.GraphicsRenderer.prepareBucket(b,
h);var l=h.getData(a._internal.renderer.opengl.utils.BucketDataType.Fill);if(null!=l){c=l.verts;var l=l.indices,m=c.length/2|0;c.push(f);c.push(e);c.push(f+g);c.push(e);c.push(f);c.push(e+d);c.push(f+g);c.push(e+d);l.push(m);l.push(m);l.push(m+1);l.push(m+2);l.push(m+3);l.push(m+3)}0<b.line.width&&(c=b.points,b.points=[f,e,f+g,e,f+g,e+d,f,e+d,f,e],a._internal.renderer.opengl.utils.GraphicsRenderer.buildLine(b,h),b.points=c)};a._internal.renderer.opengl.utils.GraphicsRenderer.buildRoundedRectangle=
function(b,h,c){null==c&&(c=!1);var d=b.points.slice(),f=d[0],e=d[1],g=d[2],l=d[3],m=d[4],d=d[5];c&&(f-=a._internal.renderer.opengl.utils.GraphicsRenderer.objectBounds.x,e-=a._internal.renderer.opengl.utils.GraphicsRenderer.objectBounds.y);c=[];a._internal.renderer.GraphicsPaths.roundRectangle(c,f,e,g,l,m,d);h=a._internal.renderer.opengl.utils.GraphicsRenderer.prepareBucket(b,h);e=h.getData(a._internal.renderer.opengl.utils.BucketDataType.Fill);if(null!=e){f=e.verts;e=e.indices;g=f.length/2;l=[];
a._internal.renderer.PolyK.triangulate(l,c);for(m=0;m<l.length;)e.push(l[m]+g|0),e.push(l[m]+g|0),e.push(l[m+1]+g|0),e.push(l[m+2]+g|0),e.push(l[m+2]+g|0),m+=3;for(m=0;m<c.length;)f.push(c[m]),f.push(c[++m]),m++}0<b.line.width&&(f=b.points,b.points=c,a._internal.renderer.opengl.utils.GraphicsRenderer.buildLine(b,h),b.points=f)};a._internal.renderer.opengl.utils.GraphicsRenderer.buildDrawTriangles=function(b,h,c,d){null==d&&(d=!1);var f=b.type.slice(2),e=f[0],g=f[1],l=f[2],m=f[3],f=f[4],p,q,u,n,t;
d?(p=1,u=q=0,n=1,h=t=0):(p=h.__worldTransform.a,q=h.__worldTransform.b,u=h.__worldTransform.c,n=h.__worldTransform.d,t=h.__worldTransform.tx,h=h.__worldTransform.ty);var w=null!=f&&0<f.length;c=a._internal.renderer.opengl.utils.GraphicsRenderer.prepareBucket(b,c).getData(a._internal.renderer.opengl.utils.BucketDataType.Fill);b=c.vertexArray.attributes[2];b.enabled=w;var v=[1,1,1,1],v=null!=v?new Float32Array(v):null;b.defaultValue=v;c.rawVerts=!0;c.glLength=g.length;c.stride=r["int"](c.vertexArray.get_stride()/
4);b=c.glLength*c.stride;null==c.glVerts||c.glVerts.length<b?(b=null!=b?new Float32Array(b):null,c.glVerts=b):b=c.glVerts;c=b.buffer;c=null!=c?new Uint32Array(c,0):null;for(var x=0,z=0,B=0,A=0,D=0,G=0,N=0,H=0,Q=0,J=0,L=0,K=0,P=v=0,O=g.length/3|0;P<O;){G=P++;A=g.data[3*G];D=g.data[3*G+1];G=g.data[3*G+2];x=2*A;z=2*D;B=2*G;N=e.data[x];H=e.data[x+1];Q=e.data[z];J=e.data[z+1];L=e.data[B];K=e.data[B+1];d&&(N-=a._internal.renderer.opengl.utils.GraphicsRenderer.objectBounds.x,H-=a._internal.renderer.opengl.utils.GraphicsRenderer.objectBounds.y,
Q-=a._internal.renderer.opengl.utils.GraphicsRenderer.objectBounds.x,J-=a._internal.renderer.opengl.utils.GraphicsRenderer.objectBounds.y,L-=a._internal.renderer.opengl.utils.GraphicsRenderer.objectBounds.x,K-=a._internal.renderer.opengl.utils.GraphicsRenderer.objectBounds.y);switch(m[1]){case 2:if(!(0>(Q-N)*(K-H)-(J-H)*(L-N)))continue;break;case 0:if(0>(Q-N)*(K-H)-(J-H)*(L-N))continue}var S=v++;b[S]=p*N+u*H+t;S=v++;b[S]=q*N+n*H+h;N=v++;b[N]=l.data[x];N=v++;b[N]=l.data[x+1];w&&(x=v++,c[x]=f.data[A]);
A=v++;b[A]=p*Q+u*J+t;A=v++;b[A]=q*Q+n*J+h;Q=v++;b[Q]=l.data[z];Q=v++;b[Q]=l.data[z+1];w&&(z=v++,c[z]=f.data[D]);D=v++;b[D]=p*L+u*K+t;D=v++;b[D]=q*L+n*K+h;L=v++;b[L]=l.data[B];L=v++;b[L]=l.data[B+1];w&&(B=v++,c[B]=f.data[G])}};a._internal.renderer.opengl.utils.GraphicsRenderer.render=function(b,h){var c=b.__graphics,d=c.__bounds,f=c.__dirty;c.__visible&&0!=c.__commands.get_length()&&null!=d&&0!=d.width&&0!=d.height?(f&&a._internal.renderer.opengl.utils.GraphicsRenderer.updateGraphics(b,b.__graphics,
h.gl,b.get_cacheAsBitmap()),a._internal.renderer.opengl.utils.GraphicsRenderer.renderGraphics(b,h,!1)):c.__glStack.splice(0,c.__glStack.length)};a._internal.renderer.opengl.utils.GraphicsRenderer.renderGraphics=function(b,h,c){null==c&&(c=!1);var d=h.gl,f=b.__graphics.__glStack[a._internal.renderer.opengl.GLRenderer.glContextId];if(null!=f){var e,g;g=c?a.geom.Matrix.__identity:b.__worldTransform;for(var l=h.spriteBatch.clipRect,m=h.spriteBatch.drawing,p=0,q=f.buckets.length;p<q;){e=p++;(m=h.spriteBatch.drawing)&&
!c&&h.spriteBatch.finish();h.blendModeManager.setBlendMode(b.__blendMode);null!=l&&(d.enable(d.SCISSOR_TEST),d.scissor(Math.floor(l.x),Math.floor(l.y),Math.floor(l.width),Math.floor(l.height)));e=f.buckets[e];switch(e.mode[1]){case 1:case 2:h.stencilManager.pushBucket(e,h,g.toArray(!0));m=a._internal.renderer.opengl.utils.GraphicsRenderer.prepareShader(e,h,b,g.toArray(!0));a._internal.renderer.opengl.utils.GraphicsRenderer.renderFill(e,m,h);h.stencilManager.popBucket(b,e,h);break;case 5:m=a._internal.renderer.opengl.utils.GraphicsRenderer.prepareShader(e,
h,b,null);a._internal.renderer.opengl.utils.GraphicsRenderer.renderDrawTriangles(e,m,h);break;case 6:m||h.spriteBatch.begin(h,l),m=e.graphicType.slice(2),h.spriteBatch.renderTiles(b,m[0],m[1],m[2],m[3],m[4],m[5]),h.spriteBatch.finish()}var m=b.__worldColorTransform,u=0;for(e=e.lines;u<e.length;){var n=e[u];++u;if(null!=n&&0<n.verts.length){var r=h.shaderManager.primitiveShader;h.shaderManager.setShader(r);d.uniformMatrix3fv(r.getUniformLocation("openfl_uTranslationMatrix"),!1,g.toArray(!0));d.uniformMatrix3fv(r.getUniformLocation("openfl_uProjectionMatrix"),
!1,h.projectionMatrix.toArray(!0));d.uniform1f(r.getUniformLocation("openfl_uAlpha"),1);d.uniform4f(r.getUniformLocation("openfl_uColorMultiplier"),m.redMultiplier,m.greenMultiplier,m.blueMultiplier,m.alphaMultiplier);d.uniform4f(r.getUniformLocation("openfl_uColorOffset"),m.redOffset/255,m.greenOffset/255,m.blueOffset/255,m.alphaOffset/255);n.vertexArray.bind();r.bindVertexArray(n.vertexArray);d.bindBuffer(d.ELEMENT_ARRAY_BUFFER,n.indexBuffer);d.drawElements(d.TRIANGLE_STRIP,n.indices.length,d.UNSIGNED_SHORT,
0)}}null!=l&&d.disable(d.SCISSOR_TEST);(m=h.spriteBatch.drawing)||c||h.spriteBatch.begin(h,l)}}};a._internal.renderer.opengl.utils.GraphicsRenderer.updateGraphics=function(b,h,c,d){null==d&&(d=!1);a._internal.renderer.opengl.utils.GraphicsRenderer.objectPosition.setTo(b.get_x(),b.get_y());null==h.__bounds?a._internal.renderer.opengl.utils.GraphicsRenderer.objectBounds=new a.geom.Rectangle:a._internal.renderer.opengl.utils.GraphicsRenderer.objectBounds.copyFrom(h.__bounds);var f=null;h.__dirty&&(f=
a._internal.renderer.opengl.utils.DrawPath.getStack(h,c));h.set___dirty(!1);c=0;for(var e=f.buckets;c<e.length;){var g=e[c];++c;g.reset();a._internal.renderer.opengl.utils.GraphicsRenderer.bucketPool.push(g)}f.reset();c=f.lastIndex;for(e=h.__drawPaths.length;c<e;){var g=c++,g=h.__drawPaths[g],l=g.type;switch(l[1]){case 0:a._internal.renderer.opengl.utils.GraphicsRenderer.buildComplexPoly(g,f,d);break;case 1:l[2]?a._internal.renderer.opengl.utils.GraphicsRenderer.buildRoundedRectangle(g,f,d):a._internal.renderer.opengl.utils.GraphicsRenderer.buildRectangle(g,
f,d);break;case 2:case 3:a._internal.renderer.opengl.utils.GraphicsRenderer.buildCircle(g,f,d);break;case 4:a._internal.renderer.opengl.utils.GraphicsRenderer.buildDrawTriangles(g,b,f,d);break;case 5:a._internal.renderer.opengl.utils.GraphicsRenderer.prepareBucket(g,f);break;case 6:a._internal.renderer.opengl.utils.GraphicsRenderer.overrideMatrix=l[2]}f.lastIndex++}b=0;for(h=f.buckets;b<h.length;)d=h[b],++b,d.uploadTileBuffer&&d.uploadTile(Math.ceil(a._internal.renderer.opengl.utils.GraphicsRenderer.objectBounds.get_left()),
Math.ceil(a._internal.renderer.opengl.utils.GraphicsRenderer.objectBounds.get_top()),Math.floor(a._internal.renderer.opengl.utils.GraphicsRenderer.objectBounds.get_right()),Math.floor(a._internal.renderer.opengl.utils.GraphicsRenderer.objectBounds.get_bottom())),d.optimize();f.upload()};a._internal.renderer.opengl.utils.GraphicsRenderer.prepareBucket=function(b,h){var c=null,c=b.fill;switch(c[1]){case 1:var d=c[3],f=c[2],c=a._internal.renderer.opengl.utils.GraphicsRenderer.switchBucket(b.fillIndex,
h,a._internal.renderer.opengl.utils.BucketMode.Fill);c.color=null==f?[1,1,1]:[(f>>16&255)/255,(f>>8&255)/255,(f&255)/255];c.color[3]=d;c.uploadTileBuffer=!0;break;case 2:var d=c[5],f=c[4],e=c[3],g=c[2],c=a._internal.renderer.opengl.utils.GraphicsRenderer.switchBucket(b.fillIndex,h,a._internal.renderer.opengl.utils.BucketMode.PatternFill);c.bitmap=g;c.textureRepeat=f;c.textureSmooth=d;c.texture=g.getTexture(h.gl);c.uploadTileBuffer=!0;d=null==e?new a.geom.Matrix:new a.geom.Matrix(e.a,e.b,e.c,e.d,e.tx,
e.ty);d.invert();d.scale(1/g.width,1/g.height);f=d.tx;e=d.ty;d.tx=0;d.ty=0;c.textureTL.x=f;c.textureTL.y=e;c.textureBR.x=f+1;c.textureBR.y=e+1;c.textureMatrix=d;break;default:c=a._internal.renderer.opengl.utils.GraphicsRenderer.switchBucket(b.fillIndex,h,a._internal.renderer.opengl.utils.BucketMode.Line),c.uploadTileBuffer=!1}switch(b.type[1]){case 4:c.mode=a._internal.renderer.opengl.utils.BucketMode.DrawTriangles;c.uploadTileBuffer=!1;break;case 5:c.mode=a._internal.renderer.opengl.utils.BucketMode.DrawTiles,
c.uploadTileBuffer=!1}c.graphicType=b.type;c.overrideMatrix=a._internal.renderer.opengl.utils.GraphicsRenderer.overrideMatrix;return c};a._internal.renderer.opengl.utils.GraphicsRenderer.getBucket=function(b,h){var c=a._internal.renderer.opengl.utils.GraphicsRenderer.bucketPool.pop();null==c&&(c=new a._internal.renderer.opengl.utils.GLBucket(b.gl));c.mode=h;b.buckets.push(c);return c};a._internal.renderer.opengl.utils.GraphicsRenderer.switchBucket=function(b,h,c){for(var d=null,f=0,e=h.buckets;f<
e.length;){var g=e[f];++f;if(g.fillIndex==b){d=g;break}}null==d&&(d=a._internal.renderer.opengl.utils.GraphicsRenderer.getBucket(h,c));d.dirty=!0;d.fillIndex=b;return d};a._internal.renderer.opengl.utils.GraphicsRenderer.prepareShader=function(b,a,c,d){var f=a.gl,e=null;switch(b.mode[1]){case 1:e=a.shaderManager.fillShader;break;case 2:e=a.shaderManager.patternFillShader;break;case 5:e=a.shaderManager.drawTrianglesShader;break;default:e=null}if(null==e)return null;a.shaderManager.setShader(e);f.uniform1f(e.getUniformLocation("openfl_uAlpha"),
c.__worldAlpha);f.uniformMatrix3fv(e.getUniformLocation("openfl_uProjectionMatrix"),!1,a.projectionMatrix.toArray(!0));a=c.__worldColorTransform;f.uniform4f(e.getUniformLocation("openfl_uColorMultiplier"),a.redMultiplier,a.greenMultiplier,a.blueMultiplier,a.alphaMultiplier);f.uniform4f(e.getUniformLocation("openfl_uColorOffset"),a.redOffset/255,a.greenOffset/255,a.blueOffset/255,a.alphaOffset/255);switch(b.mode[1]){case 1:f.uniformMatrix3fv(e.getUniformLocation("openfl_uTranslationMatrix"),!1,d);
f.uniform4fv(e.getUniformLocation("openfl_uColor"),function(a){a=b.color;return null!=a?new Float32Array(a):null}(this));break;case 2:f.uniformMatrix3fv(e.getUniformLocation("openfl_uTranslationMatrix"),!1,d);f.uniform2f(e.getUniformLocation("openfl_uPatternTL"),b.textureTL.x,b.textureTL.y);f.uniform2f(e.getUniformLocation("openfl_uPatternBR"),b.textureBR.x,b.textureBR.y);f.uniformMatrix3fv(e.getUniformLocation("openfl_uPatternMatrix"),!1,b.textureMatrix.toArray(!0));break;case 5:null!=b.texture?
f.uniform1i(e.getUniformLocation("openfl_uUseTexture"),1):(f.uniform1i(e.getUniformLocation("openfl_uUseTexture"),0),f.uniform4fv(e.getUniformLocation("openfl_uColor"),function(a){a=b.color;return null!=a?new Float32Array(a):null}(this)))}return e};a._internal.renderer.opengl.utils.GraphicsRenderer.renderFill=function(b,h,c){c=c.gl;b.mode==a._internal.renderer.opengl.utils.BucketMode.PatternFill&&null!=b.texture&&a._internal.renderer.opengl.utils.GraphicsRenderer.bindTexture(c,b);c.bindBuffer(c.ARRAY_BUFFER,
b.tileBuffer);c.vertexAttribPointer(h.getAttribLocation("openfl_aPosition"),4,c.SHORT,!1,0,0);c.drawArrays(c.TRIANGLE_STRIP,0,4)};a._internal.renderer.opengl.utils.GraphicsRenderer.renderDrawTriangles=function(b,h,c){c=c.gl;for(var d=0,f=b.fills;d<f.length;){var e=f[d];++d;e.available||(a._internal.renderer.opengl.utils.GraphicsRenderer.bindTexture(c,b),e.vertexArray.bind(),h.bindVertexArray(e.vertexArray),c.drawArrays(c.TRIANGLES,e.glStart,e.glLength))}};a._internal.renderer.opengl.utils.GraphicsRenderer.bindTexture=
function(b,a){b.bindTexture(b.TEXTURE_2D,a.texture);a.textureRepeat&&a.bitmap.image.get_powerOfTwo()?(b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_S,b.REPEAT),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_T,b.REPEAT)):(b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_S,b.CLAMP_TO_EDGE),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_T,b.CLAMP_TO_EDGE));a.textureSmooth?(b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MAG_FILTER,b.LINEAR),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MIN_FILTER,b.LINEAR)):(b.texParameteri(b.TEXTURE_2D,
b.TEXTURE_MAG_FILTER,b.NEAREST),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MIN_FILTER,b.NEAREST))};a._internal.renderer.opengl.utils.GraphicsRenderer.hex2rgb=function(b){return null==b?[1,1,1]:[(b>>16&255)/255,(b>>8&255)/255,(b&255)/255]};a._internal.renderer.opengl.utils.GLStack=function(b){this.lastIndex=0;this.gl=b;this.buckets=[];this.lastIndex=0};l["openfl._internal.renderer.opengl.utils.GLStack"]=a._internal.renderer.opengl.utils.GLStack;a._internal.renderer.opengl.utils.GLStack.__name__=!0;a._internal.renderer.opengl.utils.GLStack.prototype=
{reset:function(){this.buckets=[];this.lastIndex=0},upload:function(){for(var b=0,a=this.buckets;b<a.length;){var c=a[b];++b;c.dirty&&c.upload()}},__class__:a._internal.renderer.opengl.utils.GLStack};a._internal.renderer.opengl.utils.GLBucket=function(b){this.textureSmooth=this.uploadTileBuffer=!0;this.textureRepeat=!1;this.lines=[];this.fills=[];this.fillIndex=-1;this.gl=b;this.color=[0,0,0];this.lastIndex=0;this.alpha=1;this.dirty=!0;this.mode=a._internal.renderer.opengl.utils.BucketMode.Fill;this.textureMatrix=
new a.geom.Matrix;this.textureTL=new a.geom.Point;this.textureBR=new a.geom.Point(1,1)};l["openfl._internal.renderer.opengl.utils.GLBucket"]=a._internal.renderer.opengl.utils.GLBucket;a._internal.renderer.opengl.utils.GLBucket.__name__=!0;a._internal.renderer.opengl.utils.GLBucket.prototype={getData:function(b){var h;switch(b[1]){case 1:h=this.fills;break;default:h=this.lines}for(var c=null,d=!1,f=0;f<h.length;){var e=h[f];++f;if(e.available){c=e;d=!0;break}}null==c&&(c=new a._internal.renderer.opengl.utils.GLBucketData(this.gl));
c.available=!1;c.parent=this;c.type=b;d&&z.remove(h,c);h.push(c);switch(b[1]){case 1:switch(this.mode[1]){case 1:case 2:c.vertexArray.attributes=a._internal.renderer.opengl.utils.GraphicsRenderer.fillVertexAttributes;break;case 5:c.vertexArray.attributes=a._internal.renderer.opengl.utils.GraphicsRenderer.drawTrianglesVertexAttributes.slice(),c.vertexArray.attributes[2]=c.vertexArray.attributes[2].copy()}break;case 0:c.vertexArray.attributes=a._internal.renderer.opengl.utils.GraphicsRenderer.primitiveVertexAttributes}return c},
optimize:function(){var b=this.lines;if(1<b.length){for(var h=[],c=null,d=null,f=0,e=0,g=0,l=0;l<b.length;){var m=b[l];++l;if(m.available||m.rawVerts||m.rawIndices)null!=c&&(h.push(c),c=null),h.push(m);else if(null==d||d.drawMode==m.drawMode){if(null==c)c=m;else{for(var e=c.verts.length,g=c.indices.length,d=0,p=m.verts.length;d<p;){var q=d++;c.verts[q+e]=m.verts[q]}e=0;for(d=m.indices.length;e<d;)p=e++,c.indices[p+g]=m.indices[p]+f}f=c.indices[c.indices.length-1]+1}else null!=c&&(h.push(c),c=null),
h.push(m);d=m}0==h.length&&null!=c&&h.push(c);if(0<h.length)switch(a._internal.renderer.opengl.utils.BucketDataType.Line[1]){case 1:this.fills=h;break;default:this.lines=h}}},reset:function(){for(var b=0,h=this.fills;b<h.length;){var c=h[b];++b;c.reset()}b=0;for(h=this.lines;b<h.length;)c=h[b],++b,c.reset();this.fillIndex=-1;this.uploadTileBuffer=!0;this.graphicType=a._internal.renderer.opengl.utils.GraphicType.Polygon},uploadTile:function(b,a,c,d){null==this.tileBuffer&&(this.tileBuffer=this.gl.createBuffer());
b=this.tile=[b,a,0,0,c,a,1,0,b,d,0,1,c,d,1,1];this.glTile=null!=b?new Int16Array(b):null;this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.tileBuffer);this.gl.bufferData(this.gl.ARRAY_BUFFER,this.glTile,this.gl.STATIC_DRAW)},upload:function(){if(this.mode!=a._internal.renderer.opengl.utils.BucketMode.Line)for(var b=0,h=this.fills;b<h.length;){var c=h[b];++b;c.available||c.upload()}b=0;for(h=this.lines;b<h.length;)c=h[b],++b,c.available||c.upload();this.dirty=!1},__class__:a._internal.renderer.opengl.utils.GLBucket};
a._internal.renderer.opengl.utils.GLBucketData=function(b){this.rawIndices=this.available=!1;this.stride=0;this.rawVerts=!1;this.glLength=this.glStart=this.lastVertsSize=0;this.gl=b;this.drawMode=b.TRIANGLE_STRIP;this.verts=[];this.indices=[];this.vertexArray=new a._internal.renderer.opengl.utils.VertexArray([])};l["openfl._internal.renderer.opengl.utils.GLBucketData"]=a._internal.renderer.opengl.utils.GLBucketData;a._internal.renderer.opengl.utils.GLBucketData.__name__=!0;a._internal.renderer.opengl.utils.GLBucketData.prototype=
{reset:function(){this.available=!0;this.verts=[];this.indices=[];this.stride=this.glStart=this.glLength=0;this.rawIndices=this.rawVerts=!1;this.drawMode=this.gl.TRIANGLE_STRIP},upload:function(){if(this.rawVerts&&null!=this.glVerts&&0<this.glVerts.length||0<this.verts.length){if(!this.rawVerts){var b=this.verts;this.glVerts=null!=b?new Float32Array(b):null}this.vertexArray.buffer=this.glVerts.buffer;this.glVerts.length<=this.lastVertsSize?(this.vertexArray.bind(),b=this.glLength*this.stride,0<this.glLength&&
this.lastVertsSize>b?(b=this.glVerts.subarray(0,b),this.vertexArray.upload(b)):this.vertexArray.upload(this.glVerts)):(this.vertexArray.setContext(this.gl,this.glVerts),this.lastVertsSize=this.glVerts.length)}0==this.glLength&&(this.rawIndices&&null!=this.glIndices&&0<this.glIndices.length||0<this.indices.length)&&(null==this.indexBuffer&&(this.indexBuffer=this.gl.createBuffer()),this.rawIndices||(b=this.indices,this.glIndices=null!=b?new Uint16Array(b):null),this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,
this.indexBuffer),this.gl.bufferData(this.gl.ELEMENT_ARRAY_BUFFER,this.glIndices,this.gl.STREAM_DRAW))},__class__:a._internal.renderer.opengl.utils.GLBucketData};a._internal.renderer.opengl.utils.BucketMode=l["openfl._internal.renderer.opengl.utils.BucketMode"]={__ename__:!0,__constructs__:"None Fill PatternFill Line PatternLine DrawTriangles DrawTiles".split(" ")};a._internal.renderer.opengl.utils.BucketMode.None=["None",0];a._internal.renderer.opengl.utils.BucketMode.None.toString=m;a._internal.renderer.opengl.utils.BucketMode.None.__enum__=
a._internal.renderer.opengl.utils.BucketMode;a._internal.renderer.opengl.utils.BucketMode.Fill=["Fill",1];a._internal.renderer.opengl.utils.BucketMode.Fill.toString=m;a._internal.renderer.opengl.utils.BucketMode.Fill.__enum__=a._internal.renderer.opengl.utils.BucketMode;a._internal.renderer.opengl.utils.BucketMode.PatternFill=["PatternFill",2];a._internal.renderer.opengl.utils.BucketMode.PatternFill.toString=m;a._internal.renderer.opengl.utils.BucketMode.PatternFill.__enum__=a._internal.renderer.opengl.utils.BucketMode;
a._internal.renderer.opengl.utils.BucketMode.Line=["Line",3];a._internal.renderer.opengl.utils.BucketMode.Line.toString=m;a._internal.renderer.opengl.utils.BucketMode.Line.__enum__=a._internal.renderer.opengl.utils.BucketMode;a._internal.renderer.opengl.utils.BucketMode.PatternLine=["PatternLine",4];a._internal.renderer.opengl.utils.BucketMode.PatternLine.toString=m;a._internal.renderer.opengl.utils.BucketMode.PatternLine.__enum__=a._internal.renderer.opengl.utils.BucketMode;a._internal.renderer.opengl.utils.BucketMode.DrawTriangles=
["DrawTriangles",5];a._internal.renderer.opengl.utils.BucketMode.DrawTriangles.toString=m;a._internal.renderer.opengl.utils.BucketMode.DrawTriangles.__enum__=a._internal.renderer.opengl.utils.BucketMode;a._internal.renderer.opengl.utils.BucketMode.DrawTiles=["DrawTiles",6];a._internal.renderer.opengl.utils.BucketMode.DrawTiles.toString=m;a._internal.renderer.opengl.utils.BucketMode.DrawTiles.__enum__=a._internal.renderer.opengl.utils.BucketMode;a._internal.renderer.opengl.utils.BucketDataType=l["openfl._internal.renderer.opengl.utils.BucketDataType"]=
{__ename__:!0,__constructs__:["Line","Fill"]};a._internal.renderer.opengl.utils.BucketDataType.Line=["Line",0];a._internal.renderer.opengl.utils.BucketDataType.Line.toString=m;a._internal.renderer.opengl.utils.BucketDataType.Line.__enum__=a._internal.renderer.opengl.utils.BucketDataType;a._internal.renderer.opengl.utils.BucketDataType.Fill=["Fill",1];a._internal.renderer.opengl.utils.BucketDataType.Fill.toString=m;a._internal.renderer.opengl.utils.BucketDataType.Fill.__enum__=a._internal.renderer.opengl.utils.BucketDataType;
a._internal.renderer.opengl.utils.GLGraphicsData=function(){};l["openfl._internal.renderer.opengl.utils.GLGraphicsData"]=a._internal.renderer.opengl.utils.GLGraphicsData;a._internal.renderer.opengl.utils.GLGraphicsData.__name__=!0;a._internal.renderer.opengl.utils.GraphicType=l["openfl._internal.renderer.opengl.utils.GraphicType"]={__ename__:!0,__constructs__:"Polygon Rectangle Circle Ellipse DrawTriangles DrawTiles OverrideMatrix".split(" ")};a._internal.renderer.opengl.utils.GraphicType.Polygon=
["Polygon",0];a._internal.renderer.opengl.utils.GraphicType.Polygon.toString=m;a._internal.renderer.opengl.utils.GraphicType.Polygon.__enum__=a._internal.renderer.opengl.utils.GraphicType;a._internal.renderer.opengl.utils.GraphicType.Rectangle=function(b){b=["Rectangle",1,b];b.__enum__=a._internal.renderer.opengl.utils.GraphicType;b.toString=m;return b};a._internal.renderer.opengl.utils.GraphicType.Circle=["Circle",2];a._internal.renderer.opengl.utils.GraphicType.Circle.toString=m;a._internal.renderer.opengl.utils.GraphicType.Circle.__enum__=
a._internal.renderer.opengl.utils.GraphicType;a._internal.renderer.opengl.utils.GraphicType.Ellipse=["Ellipse",3];a._internal.renderer.opengl.utils.GraphicType.Ellipse.toString=m;a._internal.renderer.opengl.utils.GraphicType.Ellipse.__enum__=a._internal.renderer.opengl.utils.GraphicType;a._internal.renderer.opengl.utils.GraphicType.DrawTriangles=function(b,h,c,d,f,e){b=["DrawTriangles",4,b,h,c,d,f,e];b.__enum__=a._internal.renderer.opengl.utils.GraphicType;b.toString=m;return b};a._internal.renderer.opengl.utils.GraphicType.DrawTiles=
function(b,h,c,d,f,e){b=["DrawTiles",5,b,h,c,d,f,e];b.__enum__=a._internal.renderer.opengl.utils.GraphicType;b.toString=m;return b};a._internal.renderer.opengl.utils.GraphicType.OverrideMatrix=function(b){b=["OverrideMatrix",6,b];b.__enum__=a._internal.renderer.opengl.utils.GraphicType;b.toString=m;return b};a._internal.renderer.opengl.utils.PingPongTexture=function(b,h,c,d,f){null==f&&(f=!0);null==d&&(d=!0);this.__swapped=!1;this.powerOfTwo=!0;this.useOldTexture=!1;this.gl=b;this.width=h;this.height=
c;this.smoothing=d;this.powerOfTwo=f;this.set_renderTexture(new a._internal.renderer.opengl.utils.RenderTexture(b,h,c,d,f))};l["openfl._internal.renderer.opengl.utils.PingPongTexture"]=a._internal.renderer.opengl.utils.PingPongTexture;a._internal.renderer.opengl.utils.PingPongTexture.__name__=!0;a._internal.renderer.opengl.utils.PingPongTexture.prototype={swap:function(){this.__swapped=!this.__swapped;null==(this.__swapped?this.__texture1:this.__texture0)&&this.set_renderTexture(new a._internal.renderer.opengl.utils.RenderTexture(this.gl,
this.width,this.height,this.smoothing,this.powerOfTwo))},resize:function(b,a){this.width=b;this.height=a;(this.__swapped?this.__texture1:this.__texture0).resize(b,a)},get_renderTexture:function(){return this.__swapped?this.__texture1:this.__texture0},set_renderTexture:function(b){return this.__swapped?this.__texture1=b:this.__texture0=b},get_oldRenderTexture:function(){return this.__swapped?this.__texture0:this.__texture1},set_oldRenderTexture:function(b){return this.__swapped?this.__texture0=b:this.__texture1=
b},get_framebuffer:function(){return(this.__swapped?this.__texture1:this.__texture0).frameBuffer},get_texture:function(){return this.useOldTexture?(this.__swapped?this.__texture0:this.__texture1).texture:(this.__swapped?this.__texture1:this.__texture0).texture},__class__:a._internal.renderer.opengl.utils.PingPongTexture,__properties__:{get_texture:"get_texture",get_framebuffer:"get_framebuffer",set_oldRenderTexture:"set_oldRenderTexture",get_oldRenderTexture:"get_oldRenderTexture",set_renderTexture:"set_renderTexture",
get_renderTexture:"get_renderTexture"}};a._internal.renderer.opengl.utils.RenderTexture=function(b,a,c,d,f){null==f&&(f=!0);null==d&&(d=!0);this.powerOfTwo=!0;this.gl=b;this.powerOfTwo=f;this.frameBuffer=b.createFramebuffer();this.texture=b.createTexture();b.bindTexture(b.TEXTURE_2D,this.texture);b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MAG_FILTER,d?b.LINEAR:b.NEAREST);b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MIN_FILTER,d?b.LINEAR:b.NEAREST);b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_S,b.CLAMP_TO_EDGE);
b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_T,b.CLAMP_TO_EDGE);b.bindFramebuffer(b.FRAMEBUFFER,this.frameBuffer);b.framebufferTexture2D(b.FRAMEBUFFER,b.COLOR_ATTACHMENT0,b.TEXTURE_2D,this.texture,0);this.renderBuffer=b.createRenderbuffer();b.bindRenderbuffer(b.RENDERBUFFER,this.renderBuffer);b.framebufferRenderbuffer(b.FRAMEBUFFER,b.DEPTH_STENCIL_ATTACHMENT,b.RENDERBUFFER,this.renderBuffer);this.resize(a,c)};l["openfl._internal.renderer.opengl.utils.RenderTexture"]=a._internal.renderer.opengl.utils.RenderTexture;
a._internal.renderer.opengl.utils.RenderTexture.__name__=!0;a._internal.renderer.opengl.utils.RenderTexture.prototype={clear:function(b,a,c,d,f){null==d&&(d=0);null==c&&(c=0);null==a&&(a=0);null==b&&(b=0);this.gl.clearColor(b,a,c,d);this.gl.clear(null==f?this.gl.COLOR_BUFFER_BIT:f)},resize:function(b,a){if(this.width!=b||this.height!=a){this.width=b;this.height=a;var c=b,d=a;this.powerOfTwo&&(c=this.powOfTwo(b),d=this.powOfTwo(a));var f=this.__width,e=this.__height;this.__width=c;this.__height=d;
this.createUVs();if(f!=c||e!=d)this.gl.bindTexture(this.gl.TEXTURE_2D,this.texture),this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.gl.RGBA,this.__width,this.__height,0,this.gl.RGBA,this.gl.UNSIGNED_BYTE,null),this.gl.bindRenderbuffer(this.gl.RENDERBUFFER,this.renderBuffer),this.gl.renderbufferStorage(this.gl.RENDERBUFFER,this.gl.DEPTH_STENCIL,this.__width,this.__height)}},createUVs:function(){null==this.__uvData&&(this.__uvData=new a.display.TextureUvs);var b=this.width/this.__width,h=this.height/this.__height;
this.__uvData.x0=0;this.__uvData.y0=0;this.__uvData.x1=b;this.__uvData.y1=0;this.__uvData.x2=b;this.__uvData.y2=h;this.__uvData.x3=0;this.__uvData.y3=h},powOfTwo:function(b){for(var a=1;a<b;)a<<=1;return a},__class__:a._internal.renderer.opengl.utils.RenderTexture};a._internal.renderer.opengl.utils.ShaderManager=function(b){this.setContext(b)};l["openfl._internal.renderer.opengl.utils.ShaderManager"]=a._internal.renderer.opengl.utils.ShaderManager;a._internal.renderer.opengl.utils.ShaderManager.__name__=
!0;a._internal.renderer.opengl.utils.ShaderManager.prototype={setContext:function(b){this.gl=b;this.defaultShader=new a._internal.renderer.opengl.shaders2.DefaultShader(b);this.fillShader=new a._internal.renderer.opengl.shaders2.FillShader(b);this.patternFillShader=new a._internal.renderer.opengl.shaders2.PatternFillShader(b);this.drawTrianglesShader=new a._internal.renderer.opengl.shaders2.DrawTrianglesShader(b);this.primitiveShader=new a._internal.renderer.opengl.shaders2.PrimitiveShader(b);this.setShader(this.defaultShader,
!0)},setShader:function(b,a){null==a&&(a=!1);if(null==b)return this.currentShader=null,this.gl.useProgram(null),!0;if(null!=this.currentShader&&!a&&this.currentShader.ID==b.ID)return!1;this.currentShader=b;this.gl.useProgram(b.program);return!0},__class__:a._internal.renderer.opengl.utils.ShaderManager};a._internal.renderer.opengl.utils.SpriteBatch=function(b,h){null==h&&(h=2E3);this.enableColor=this.lastEnableColor=!0;this.attributes=[];this.writtenVertexBytes=0;this.drawing=!1;this.dirty=!0;this.states=
[];this.maxSprites=h;this.attributes.push(new a._internal.renderer.opengl.utils.VertexAttribute(2,5126,!1,"openfl_aPosition"));this.attributes.push(new a._internal.renderer.opengl.utils.VertexAttribute(2,5126,!1,"openfl_aTexCoord0"));this.attributes.push(new a._internal.renderer.opengl.utils.VertexAttribute(4,5121,!0,"openfl_aColor"));var c=[1,1,1,1],c=null!=c?new Float32Array(c):null;this.attributes[2].defaultValue=c;for(var c=this.maxElementsPerVertex=0,d=this.attributes;c<d.length;){var f=d[c];
++c;this.maxElementsPerVertex+=Math.floor(f.components*f.getElementsBytes()/4)}this.vertexArraySize=h*this.maxElementsPerVertex*16;this.indexArraySize=6*h;this.vertexArray=new a._internal.renderer.opengl.utils.VertexArray(this.attributes,this.vertexArraySize,!1);c=this.vertexArray.buffer;this.positions=null!=c?new Float32Array(c,0):null;c=this.vertexArray.buffer;this.colors=null!=c?new Uint32Array(c,0):null;c=this.indexArraySize;this.indices=null!=c?new Uint16Array(c):null;for(d=c=0;c<this.indexArraySize;)this.indices[c]=
d,this.indices[c+1]=d+1,this.indices[c+2]=d+2,this.indices[c+3]=d,this.indices[c+4]=d+2,this.indices[c+5]=d+3,c+=6,d+=4;this.currentState=new a._internal.renderer.opengl.utils._SpriteBatch.State;this.dirty=!0;this.drawing=!1;this.batchedSprites=0;this.setContext(b)};l["openfl._internal.renderer.opengl.utils.SpriteBatch"]=a._internal.renderer.opengl.utils.SpriteBatch;a._internal.renderer.opengl.utils.SpriteBatch.__name__=!0;a._internal.renderer.opengl.utils.SpriteBatch.prototype={begin:function(a,
h){this.renderSession=a;this.shader=a.shaderManager.defaultShader;this.drawing=!0;this.start(h)},finish:function(){this.stop();this.clipRect=null;this.drawing=!1},start:function(a){this.drawing||this.stop();this.dirty=!0;this.clipRect=a},stop:function(){this.flush()},renderBitmapData:function(a,h,c,d,f,e,g,l,m){null==f&&(f=1);if(null!=a){m=a.getTexture(this.gl);this.batchedSprites>=this.maxSprites&&this.flush();var p=a.__uvData;null!=p&&(this.prepareShader(g,a),f=((255*f|0)&255)<<24|16777215,this.enableColor=
!0,this.enableColor!=this.lastEnableColor&&(this.flush(),this.lastEnableColor=this.enableColor),this.attributes[2].enabled=this.lastEnableColor,this.elementsPerVertex=this.getElementsPerVertex(),this.fillVertices(4*this.batchedSprites*this.elementsPerVertex,a.width,a.height,c,p,f,l),this.setState(this.batchedSprites,m,h,e,d,g,!0),this.batchedSprites++)}},renderTiles:function(b,h,c,d,f,e,g){null==g&&(g=-1);null==f&&(f=0);null==d&&(d=!1);var l=h.__bitmap.getTexture(this.gl);if(null!=l){var m=0<(f&1),
p=0<(f&2),q=0<(f&16),u=0<(f&4),n=0<(f&8),r=0<(f&32),t=0<(f&64);switch(f&983040){case 65536:f=a.display.BlendMode.ADD;break;case 131072:f=a.display.BlendMode.MULTIPLY;break;case 262144:f=a.display.BlendMode.SCREEN;break;case 524288:f=a.display.BlendMode.SUBTRACT;break;default:switch(f&15728640){case 1048576:f=a.display.BlendMode.DARKEN;break;case 2097152:f=a.display.BlendMode.LIGHTEN;break;case 4194304:f=a.display.BlendMode.OVERLAY;break;case 8388608:f=a.display.BlendMode.HARDLIGHT;break;default:switch(f&
251658240){case 16777216:f=a.display.BlendMode.DIFFERENCE;break;case 33554432:f=a.display.BlendMode.INVERT;break;default:f=a.display.BlendMode.NORMAL}}}q&&(p=m=!1);var v=0,w=0,x=0,B=0,A=0,z=3;r&&(z=t?8:6);m&&(v=z,z++);p&&(w=z,z++);q&&(A=z,z+=4);u&&(x=z,z+=3);n&&(B=z,z++);var D=c.length;0<=g&&D>g&&(D=g);Math.ceil(D/z);g=0;var G=-1,H=h.__rectTile,J=h.__rectUV,K=h.__point,L=0,P=0,O=1,W=16777215,S=1,R=0,X=1,T=X=R=0,U=L=R=S=0,ea=0,U=0,ga=b.__worldTransform,M=0,P=1,ha=0,X=0,S=1,L=R=0,Y=ga.a,Z=ga.b,aa=ga.c,
da=ga.d,ja=ga.tx,ga=ga.ty,ba=G=M=ha=0,ca=0,J=0;this.enableColor=!0;this.enableColor!=this.lastEnableColor&&(this.flush(),this.lastEnableColor=this.enableColor);this.attributes[2].enabled=this.lastEnableColor;this.elementsPerVertex=this.getElementsPerVertex();for(this.prepareShader(e,null);g<D;)this.batchedSprites>=this.maxSprites&&this.flush(),L=c[g],P=c[g+1],r?(H.x=c[g+2],H.y=c[g+3],H.width=c[g+4],H.height=c[g+5],t?(K.x=c[g+6],K.y=c[g+7]):(K.x=0,K.y=0),ha=H.width,M=H.height,G=H.get_left()/h.__bitmap.width,
ba=H.get_top()/h.__bitmap.height,ca=H.get_right()/h.__bitmap.width,J=H.get_bottom()/h.__bitmap.height):(G=(null==c[g+2]?0:c[g+2])|0,H=h.__tileRects[G],K=h.__centerPoints[G],J=h.__tileUVs[G],ha=H.width,M=H.height,G=J.x,ba=J.y,ca=J.width,J=J.height),null!=H&&0<H.width&&0<H.height&&null!=K&&(W=16777215,X=S=1,R=0,O=n?c[g+B]*b.__worldAlpha:b.__worldAlpha,u&&(W=(255*c[g+x]|0)<<16|(255*c[g+x+1]|0)<<8|255*c[g+x+2]|0),m&&(S=c[g+v]),p&&(R=c[g+w],X=Math.cos(R),R=Math.sin(R)),q?(X=c[g+A],T=c[g+A+1],S=c[g+A+2],
R=c[g+A+3]):(X*=S,T=S*R,S=-T,R=X),ea=K.x*X+K.y*S,U=K.x*T+K.y*R,L-=ea,U=P-U,P=(X*Y+T*aa)*ha,ha*=X*Z+T*da,X=(S*Y+R*aa)*M,S=(S*Z+R*da)*M,R=L*Y+U*aa+ja,L=L*Z+U*da+ga,M=4*this.batchedSprites*this.elementsPerVertex,this.positions[M]=R,this.positions[M+1]=L,this.positions[M+5]=P+R,this.positions[M+6]=ha+L,this.positions[M+10]=P+X+R,this.positions[M+11]=S+ha+L,this.positions[M+15]=X+R,this.positions[M+16]=S+L,O=this.colors[M+19]=((255*O|0)&255)<<24|W,O=this.colors[M+14]=O,O=this.colors[M+9]=O,this.colors[M+
4]=O,this.positions[M+2]=G,this.positions[M+3]=ba,this.positions[M+7]=ca,this.positions[M+8]=ba,this.positions[M+12]=ca,this.positions[M+13]=J,this.positions[M+17]=G,this.positions[M+18]=J,this.writtenVertexBytes=M+20,this.setState(this.batchedSprites,l,d,f,b.__worldColorTransform,e,!1),this.batchedSprites++),g+=z}},fillVertices:function(b,h,c,d,f,e,g){null==e&&(e=-1);var l=d.a,m=d.b,p=d.c,q=d.d,u=d.tx;d=d.ty;null==g||g==a.display.PixelSnapping.NEVER?(this.positions[b]=u,this.positions[b+1]=d,this.positions[b+
5]=l*h+u,this.positions[b+6]=m*h+d,this.positions[b+10]=l*h+p*c+u,this.positions[b+11]=q*c+m*h+d,this.positions[b+15]=p*c+u,this.positions[b+16]=q*c+d):(g=Math.round(u),this.positions[b]=g,g=Math.round(d),this.positions[b+1]=g,g=Math.round(l*h+u),this.positions[b+5]=g,g=Math.round(m*h+d),this.positions[b+6]=g,l=Math.round(l*h+p*c+u),this.positions[b+10]=l,h=Math.round(q*c+m*h+d),this.positions[b+11]=h,p=Math.round(p*c+u),this.positions[b+15]=p,c=Math.round(q*c+d),this.positions[b+16]=c);this.enableColor&&
(e=this.colors[b+19]=e,e=this.colors[b+14]=e,e=this.colors[b+9]=e,this.colors[b+4]=e);this.positions[b+2]=f.x0;this.positions[b+3]=f.y0;this.positions[b+7]=f.x1;this.positions[b+8]=f.y1;this.positions[b+12]=f.x2;this.positions[b+13]=f.y2;this.positions[b+17]=f.x3;this.positions[b+18]=f.y3;this.writtenVertexBytes=b+20},flush:function(){if(0!=this.batchedSprites){null!=this.clipRect&&(this.gl.enable(this.gl.SCISSOR_TEST),this.gl.scissor(Math.floor(this.clipRect.x),Math.floor(this.clipRect.y),Math.ceil(this.clipRect.width),
Math.ceil(this.clipRect.height)));this.dirty&&(this.dirty=!1,this.renderSession.activeTextures=1,this.vertexArray.bind(),this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.indexBuffer));if(this.writtenVertexBytes>.5*this.vertexArraySize)this.vertexArray.upload(this.positions);else{var a=this.positions.subarray(0,this.writtenVertexBytes);this.vertexArray.upload(a)}var h=0,c=0;this.currentState.shader=null;this.currentState.shaderData=null;this.currentState.texture=null;this.currentState.textureSmooth=
!1;this.currentState.blendMode=this.renderSession.blendModeManager.currentBlendMode;this.currentState.colorTransform=null;this.currentState.skipColorTransformAlpha=!1;for(var d=0,f=this.batchedSprites;d<f;){var e=d++,a=this.states[e];this.currentState.skipColorTransformAlpha=a.skipColorTransformAlpha;a.equals(this.currentState)||(this.renderBatch(this.currentState,h,c),c=e,h=0,this.currentState.shader=a.shader,this.currentState.shaderData=a.shaderData,this.currentState.texture=a.texture,this.currentState.textureSmooth=
a.textureSmooth,this.currentState.blendMode=a.blendMode,this.currentState.colorTransform=a.colorTransform);h++}this.renderBatch(this.currentState,h,c);this.writtenVertexBytes=this.batchedSprites=0;null!=this.clipRect&&this.gl.disable(this.gl.SCISSOR_TEST)}},renderBatch:function(a,h,c){if(0!=h&&null!=a.texture){var d;d=null==a.shader?this.renderSession.shaderManager.defaultShader:a.shader;this.renderSession.shaderManager.setShader(d);d.bindVertexArray(this.vertexArray);this.renderSession.blendModeManager.setBlendMode(null!=
d.blendMode?d.blendMode:a.blendMode);this.gl.uniformMatrix3fv(d.getUniformLocation("openfl_uProjectionMatrix"),!1,this.renderSession.projectionMatrix.toArray(!0));if(null!=a.colorTransform){this.gl.uniform1i(d.getUniformLocation("openfl_uUseColorTransform"),1);var f=a.colorTransform;this.gl.uniform4f(d.getUniformLocation("openfl_uColorMultiplier"),f.redMultiplier,f.greenMultiplier,f.blueMultiplier,a.skipColorTransformAlpha?1:f.alphaMultiplier);this.gl.uniform4f(d.getUniformLocation("openfl_uColorOffset"),
f.redOffset/255,f.greenOffset/255,f.blueOffset/255,f.alphaOffset/255)}else this.gl.uniform1i(d.getUniformLocation("openfl_uUseColorTransform"),0),this.gl.uniform4f(d.getUniformLocation("openfl_uColorMultiplier"),1,1,1,1),this.gl.uniform4f(d.getUniformLocation("openfl_uColorOffset"),0,0,0,0);this.gl.activeTexture(this.gl.TEXTURE0);this.gl.bindTexture(this.gl.TEXTURE_2D,a.texture);this.gl.uniform1i(d.getUniformLocation("openfl_uSampler0"),0);null!=d.smooth&&d.smooth||a.textureSmooth?(this.gl.texParameteri(this.gl.TEXTURE_2D,
this.gl.TEXTURE_MAG_FILTER,this.gl.LINEAR),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MIN_FILTER,this.gl.LINEAR)):(this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MAG_FILTER,this.gl.NEAREST),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MIN_FILTER,this.gl.NEAREST));this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,d.wrapS);this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,d.wrapT);d.applyData(a.shaderData,this.renderSession);this.gl.drawElements(this.gl.TRIANGLES,
6*h,this.gl.UNSIGNED_SHORT,12*c);this.renderSession.drawCount++}},setState:function(b,h,c,d,f,e,g){null==g&&(g=!1);null==c&&(c=!1);var l=this.states[b];null==l&&(l=this.states[b]=new a._internal.renderer.opengl.utils._SpriteBatch.State);l.texture=h;l.textureSmooth=c;l.blendMode=d;null!=f&&f.__isDefault()?l.colorTransform=null:l.colorTransform=f;l.skipColorTransformAlpha=g;null==e?(l.shader=null,l.shaderData=null):(l.shader=e.__shader,l.shaderData=e.data)},setContext:function(a){this.gl=a;this.vertexArray.setContext(a,
this.positions);this.indexBuffer=a.createBuffer();a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,this.indexBuffer);a.bufferData(a.ELEMENT_ARRAY_BUFFER,this.indices,a.STATIC_DRAW)},prepareShader:function(b,h){if(null!=b){b.__init(this.gl);b.__shader.wrapS=b.repeatX;b.__shader.wrapT=b.repeatY;b.__shader.smooth=b.smooth;b.__shader.blendMode=b.blendMode;var c=b.data.get(a.display.Shader.uObjectSize),d=b.data.get(a.display.Shader.uTextureSize);null!=h?(c.value[0]=h.width,c.value[1]=h.height,null!=h.__pingPongTexture?
(d.value[0]=h.__pingPongTexture.get_renderTexture().__width,d.value[1]=h.__pingPongTexture.get_renderTexture().__height):(d.value[0]=h.width,d.value[1]=h.height)):(c.value[0]=0,c.value[1]=0,d.value[0]=0,d.value[1]=0)}},getElementsPerVertex:function(){for(var a=0,h=0,c=this.attributes;h<c.length;){var d=c[h];++h;d.enabled&&(a+=Math.floor(d.components*d.getElementsBytes()/4))}return a},__class__:a._internal.renderer.opengl.utils.SpriteBatch};a._internal.renderer.opengl.utils._SpriteBatch={};a._internal.renderer.opengl.utils._SpriteBatch.State=
function(){this.skipColorTransformAlpha=!1;this.textureSmooth=!0};l["openfl._internal.renderer.opengl.utils._SpriteBatch.State"]=a._internal.renderer.opengl.utils._SpriteBatch.State;a._internal.renderer.opengl.utils._SpriteBatch.State.__name__=!0;a._internal.renderer.opengl.utils._SpriteBatch.State.prototype={equals:function(a){return(null==this.shader&&null==a.shader||null!=this.shader&&null!=a.shader&&this.shader.ID==a.shader.ID)&&this.texture==a.texture&&this.textureSmooth==a.textureSmooth&&this.blendMode==
a.blendMode&&(null==this.colorTransform&&null==a.colorTransform||null!=this.colorTransform&&null!=a.colorTransform&&this.colorTransform.__equals(a.colorTransform,this.skipColorTransformAlpha))},__class__:a._internal.renderer.opengl.utils._SpriteBatch.State};a._internal.renderer.opengl.utils.StencilManager=function(a){this.stencilMask=0;this.stencilStack=[];this.setContext(a);this.reverse=!0;this.count=0};l["openfl._internal.renderer.opengl.utils.StencilManager"]=a._internal.renderer.opengl.utils.StencilManager;
a._internal.renderer.opengl.utils.StencilManager.__name__=!0;a._internal.renderer.opengl.utils.StencilManager.prototype={prepareGraphics:function(a,h,c){var d=h.shaderManager.fillShader;h.shaderManager.setShader(d);this.gl.uniformMatrix3fv(d.getUniformLocation("openfl_uTranslationMatrix"),!1,c);this.gl.uniformMatrix3fv(d.getUniformLocation("openfl_uProjectionMatrix"),!1,h.projectionMatrix.toArray(!0));a.vertexArray.bind();d.bindVertexArray(a.vertexArray);this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,
a.indexBuffer)},pushBucket:function(a,h,c,d){null==d&&(d=!1);d||(this.gl.enable(this.gl.STENCIL_TEST),this.gl.clear(this.gl.STENCIL_BUFFER_BIT),this.gl.stencilMask(255),this.gl.colorMask(!1,!1,!1,!1),this.gl.stencilFunc(this.gl.NEVER,1,255),this.gl.stencilOp(this.gl.INVERT,this.gl.KEEP,this.gl.KEEP),this.gl.clear(this.gl.STENCIL_BUFFER_BIT));var f=0;for(a=a.fills;f<a.length;){var e=a[f];++f;e.available||(this.prepareGraphics(e,h,c),this.gl.drawElements(e.drawMode,e.glIndices.length,this.gl.UNSIGNED_SHORT,
0))}d||(this.gl.colorMask(!0,!0,!0,h.renderer.transparent),this.gl.stencilOp(this.gl.KEEP,this.gl.KEEP,this.gl.KEEP),this.gl.stencilFunc(this.gl.EQUAL,255,255))},popBucket:function(a,h,c){this.gl.disable(this.gl.STENCIL_TEST)},pushMask:function(b,h){var c=b.__maskGraphics;if(!(null==c||0>=c.__commands.get_length())){0==this.stencilMask&&(this.gl.enable(this.gl.STENCIL_TEST),this.gl.clear(this.gl.STENCIL_BUFFER_BIT));this.stencilMask++;c.__dirty&&a._internal.renderer.opengl.utils.GraphicsRenderer.updateGraphics(b,
c,h.gl);var d;d=1==this.stencilMask?this.gl.NEVER:this.gl.EQUAL;var f=this.stencilMask,e=255-this.stencilMask;this.gl.stencilMask(255);this.gl.colorMask(!1,!1,!1,!1);this.gl.stencilFunc(d,f,e);this.gl.stencilOp(this.gl.REPLACE,this.gl.KEEP,this.gl.KEEP);var c=c.__glStack[a._internal.renderer.opengl.GLRenderer.glContextId],g=b.__worldTransform;d=0;for(f=c.buckets.length;d<f;)switch(e=d++,e=c.buckets[e],g=null!=e.overrideMatrix?e.overrideMatrix:b.__worldTransform,e.mode[1]){case 1:case 2:this.pushBucket(e,
h,g.toArray(!0),!0)}this.gl.colorMask(!0,!0,!0,h.renderer.transparent);this.gl.stencilOp(this.gl.KEEP,this.gl.KEEP,this.gl.KEEP);this.gl.stencilFunc(this.gl.EQUAL,this.stencilMask,255)}},popMask:function(a,h){this.stencilMask--;0>=this.stencilMask&&(this.gl.disable(this.gl.STENCIL_TEST),this.stencilMask=0)},setContext:function(a){this.gl=a},__class__:a._internal.renderer.opengl.utils.StencilManager};a._internal.renderer.opengl.utils.VertexArray=function(a,h,c){null==c&&(c=!1);null==h&&(h=0);this.isStatic=
!1;this.size=0;this.attributes=[];this.size=h;this.attributes=a;0<h&&(this.buffer=new ArrayBuffer(h));this.isStatic=c};l["openfl._internal.renderer.opengl.utils.VertexArray"]=a._internal.renderer.opengl.utils.VertexArray;a._internal.renderer.opengl.utils.VertexArray.__name__=!0;a._internal.renderer.opengl.utils.VertexArray.prototype={bind:function(){this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.glBuffer)},upload:function(a){this.gl.bufferSubData(this.gl.ARRAY_BUFFER,0,a)},setContext:function(a,h){this.gl=
a;this.glBuffer=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,this.glBuffer);a.bufferData(a.ARRAY_BUFFER,h,this.isStatic?a.STATIC_DRAW:a.DYNAMIC_DRAW)},get_stride:function(){for(var a=0,h=0,c=this.attributes;h<c.length;){var d=c[h];++h;d.enabled&&(a+=4*Math.floor(d.components*d.getElementsBytes()/4))}return a},__class__:a._internal.renderer.opengl.utils.VertexArray,__properties__:{get_stride:"get_stride"}};a._internal.text={};a._internal.text.TextEngine=function(b){this.textField=b;this.height=this.width=
100;this.text="";this.bounds=new a.geom.Rectangle(0,0,0,0);this.type=a.text.TextFieldType.DYNAMIC;this.autoSize=a.text.TextFieldAutoSize.NONE;this.embedFonts=this.displayAsPassword=!1;this.selectable=!0;this.borderColor=0;this.border=!1;this.backgroundColor=16777215;this.background=!1;this.gridFitType=a.text.GridFitType.PIXEL;this.maxChars=0;this.multiline=!1;this.scrollH=this.sharpness=0;this.scrollV=1;this.wordWrap=!1;this.lineAscents=[];this.lineBreaks=[];this.lineDescents=[];this.lineLeadings=
[];this.lineHeights=[];this.lineWidths=[];this.layoutGroups=[];this.textFormatRanges=[];a._internal.text.TextEngine.__canvas=window.document.createElement("canvas");a._internal.text.TextEngine.__context=a._internal.text.TextEngine.__canvas.getContext("2d")};l["openfl._internal.text.TextEngine"]=a._internal.text.TextEngine;a._internal.text.TextEngine.__name__=!0;a._internal.text.TextEngine.__canvas=null;a._internal.text.TextEngine.__context=null;a._internal.text.TextEngine.getFont=function(a){var h;
h=a.italic?"italic ":"normal ";h+="normal ";h=a.bold?h+"bold ":h+"normal ";h+=a.size+"px";h+="/"+(a.size+a.leading+6)+"px ";switch(a.font){case "_sans":a="sans-serif";break;case "_serif":a="serif";break;case "_typewriter":a="monospace";break;default:a="'"+a.font+"'"}return h+=""+a};a._internal.text.TextEngine.prototype={getBounds:function(){var a;a=this.border?1:0;this.bounds.width=this.width+a;this.bounds.height=this.height+a},getLineMeasurements:function(){this.lineAscents.splice(0,this.lineAscents.length);
this.lineDescents.splice(0,this.lineDescents.length);this.lineLeadings.splice(0,this.lineLeadings.length);this.lineHeights.splice(0,this.lineHeights.length);this.lineWidths.splice(0,this.lineWidths.length);var a=0,h=0,c=null,d=0,f=0;this.textHeight=this.textWidth=0;this.numLines=1;for(var e=this.maxScrollH=this.bottomScrollV=0,g=this.layoutGroups;e<g.length;){var l=g[e];for(++e;l.lineIndex>this.numLines-1;)this.lineAscents.push(a),this.lineDescents.push(h),this.lineLeadings.push(null!=c?c:0),this.lineHeights.push(d),
this.lineWidths.push(f),h=a=0,c=null,f=d=0,this.numLines++,this.textHeight<=this.height-2&&this.bottomScrollV++;a=Math.max(a,l.ascent);h=Math.max(h,l.descent);c=null==c?l.leading:r["int"](Math.max(c,l.leading));d=Math.max(d,l.height);f=l.offsetX-2+l.width;f>this.textWidth&&(this.textWidth=f);this.textHeight=l.offsetY-2+l.ascent+l.descent}this.lineAscents.push(a);this.lineDescents.push(h);this.lineLeadings.push(null!=c?c:0);this.lineHeights.push(d);this.lineWidths.push(f);1==this.numLines?(this.bottomScrollV=
1,0<c&&(this.textHeight+=c)):this.textHeight<=this.height-2&&this.bottomScrollV++;this.maxScrollH=this.textWidth>this.width-4?this.textWidth-this.width+4|0:0;this.maxScrollV=this.numLines-this.bottomScrollV+1},getLayoutGroups:function(){this.layoutGroups.splice(0,this.layoutGroups.length);var b=-1,h=null,c=a.text.TextField.__defaultTextFormat.clone(),d=0,f=0,e=0,g,l,m,p=0,q=0,u=0,n=this.text.indexOf(" "),r=this.text.indexOf("\n"),t=0,v=2,w=2,x=0,B=0,A=null;b<this.textFormatRanges.length-1&&(b++,h=
this.textFormatRanges[b],c.__merge(h.format),a._internal.text.TextEngine.__context.font=a._internal.text.TextEngine.getFont(c),f=c.size,e=.185*c.size,d=c.leading,p=f+e+d,-1<n&&(q=a._internal.text.TextEngine.__context.measureText(" ").width));for(var A=h.format,z;x<this.text.length;)if(-1<r&&(-1==n||r<n)&&h.end>=r){g=new a._internal.text.TextLayoutGroup(h.format,x,r);l=this.text;for(z=[];x<r;)m=x++,z.push(a._internal.text.TextEngine.__context.measureText(l.charAt(m)).width);g.advances=z;g.offsetX=
v;g.ascent=f;g.descent=e;g.leading=d;g.lineIndex=B;g.offsetY=w;v=g.advances;for(l=x=0;l<v.length;)z=v[l],++l,x+=z;g.width=x;g.height=p;this.layoutGroups.push(g);w+=p;v=2;this.wordWrap&&g.offsetX+g.width>this.width-2&&(g.offsetY=w,g.offsetX=v,w+=p,B++);x=r+1;r=this.text.indexOf("\n",x);B++;h.end==r&&(b<this.textFormatRanges.length-1&&(b++,h=this.textFormatRanges[b],c.__merge(h.format),a._internal.text.TextEngine.__context.font=a._internal.text.TextEngine.getFont(c),f=c.size,e=.185*c.size,d=c.leading,
p=f+e+d,-1<n&&(q=a._internal.text.TextEngine.__context.measureText(" ").width)),A=h.format)}else if(h.end>=n&&-1<n)for(g=null,z=!1;;){-1==n&&(n=h.end);l=this.text;m=[];for(var D=x;D<n;){var G=D++;m.push(a._internal.text.TextEngine.__context.measureText(l.charAt(G)).width)}l=m;for(D=m=0;D<l.length;)G=l[D],++D,m+=G;this.wordWrap&&v+m>this.width-2&&(z=!0);if(z){w+=p;v=this.layoutGroups.length-1;for(t=0;;){g=this.layoutGroups[v];if(0<v&&g.startIndex>u)t++;else break;v--}B++;v=2;if(0<t)for(u=this.layoutGroups[this.layoutGroups.length-
t].offsetX,t=this.layoutGroups.length-t,z=this.layoutGroups.length;t<z;)g=t++,g=this.layoutGroups[g],g.offsetX-=u,g.offsetY=w,g.lineIndex=B,v+=g.width;g=new a._internal.text.TextLayoutGroup(h.format,x,n);g.advances=l;g.offsetX=v;g.ascent=f;g.descent=e;g.leading=d;g.lineIndex=B;g.offsetY=w;g.width=m;g.height=p;this.layoutGroups.push(g);v=m+q;t=q;z=!1}else null!=g&&x==n?(h.format.align!=a.text.TextFormatAlign.JUSTIFY&&(g.endIndex=n),g.advances.push(q),t+=q):(null==g||A.align==a.text.TextFormatAlign.JUSTIFY?
(g=new a._internal.text.TextLayoutGroup(h.format,x,n),g.advances=l,g.offsetX=v,g.ascent=f,g.descent=e,g.leading=d,g.lineIndex=B,g.offsetY=w,g.width=m,g.height=p,this.layoutGroups.push(g)):(g.endIndex=n,g.advances=g.advances.concat(l),g.width+=t+m),g.advances.push(q),t=q),v+=m+q;x=n+1;u=n;n=this.text.indexOf(" ",u+1);h.end<=u&&(g=null,b<this.textFormatRanges.length-1&&(b++,h=this.textFormatRanges[b],c.__merge(h.format),a._internal.text.TextEngine.__context.font=a._internal.text.TextEngine.getFont(c),
f=c.size,e=.185*c.size,d=c.leading,p=f+e+d,-1<n&&(q=a._internal.text.TextEngine.__context.measureText(" ").width)));if(n>r&&-1<r||x>this.text.length||n>h.end||-1==n&&-1<r)break}else{if(x>=h.end)break;g=new a._internal.text.TextLayoutGroup(h.format,x,h.end);l=this.text;for(z=[];x<h.end;)m=x++,z.push(a._internal.text.TextEngine.__context.measureText(l.charAt(m)).width);g.advances=z;g.offsetX=v;g.ascent=f;g.descent=e;g.leading=d;g.lineIndex=B;g.offsetY=w;x=g.advances;for(z=l=0;z<x.length;)m=x[z],++z,
l+=m;g.width=l;g.height=p;this.layoutGroups.push(g);v+=g.width;x=h.end;b<this.textFormatRanges.length-1&&(b++,h=this.textFormatRanges[b],c.__merge(h.format),a._internal.text.TextEngine.__context.font=a._internal.text.TextEngine.getFont(c),f=c.size,e=.185*c.size,d=c.leading,p=f+e+d,-1<n&&(q=a._internal.text.TextEngine.__context.measureText(" ").width))}},setTextAlignment:function(){for(var a=-1,h=0,c,d,f=0,e=this.layoutGroups.length;f<e;){var g=f++;c=this.layoutGroups[g];if(c.lineIndex!=a)switch(a=
c.lineIndex,c.format.align[1]){case 3:h=this.lineWidths[a]<this.width-4?Math.round((this.width-4-this.lineWidths[a])/2):0;break;case 1:h=this.lineWidths[a]<this.width-4?Math.round(this.width-4-this.lineWidths[a]):0;break;case 2:if(this.lineWidths[a]<this.width-4){d=1;for(var h=g+1,l=this.layoutGroups.length;h<l;){var m=h++;if(this.layoutGroups[m].lineIndex==a)d++;else break}if(1<d&&(c=this.layoutGroups[g+d-1],c.endIndex<this.text.length&&"\n"!=this.text.charAt(c.endIndex)))for(h=(this.width-4-this.lineWidths[a])/
(d-1),l=1;l<d;)m=l++,this.layoutGroups[g+m].offsetX+=h*m}h=0;break;default:h=0}0<h&&(c.offsetX+=h)}},update:function(){null==this.text||""==G.trim(this.text)||0==this.textFormatRanges.length?(this.lineAscents.splice(0,this.lineAscents.length),this.lineBreaks.splice(0,this.lineBreaks.length),this.lineDescents.splice(0,this.lineDescents.length),this.lineLeadings.splice(0,this.lineLeadings.length),this.lineHeights.splice(0,this.lineHeights.length),this.lineWidths.splice(0,this.lineWidths.length),this.layoutGroups.splice(0,
this.layoutGroups.length),this.textHeight=this.textWidth=0,this.numLines=1,this.maxScrollH=0,this.bottomScrollV=this.maxScrollV=1):(this.getLayoutGroups(),this.getLineMeasurements(),this.setTextAlignment());this.getBounds()},__class__:a._internal.text.TextEngine};a._internal.text.TextFormatRange=function(a,h,c){this.format=a;this.start=h;this.end=c};l["openfl._internal.text.TextFormatRange"]=a._internal.text.TextFormatRange;a._internal.text.TextFormatRange.__name__=!0;a._internal.text.TextFormatRange.prototype=
{__class__:a._internal.text.TextFormatRange};a._internal.text.TextLayoutGroup=function(a,h,c){this.format=a;this.startIndex=h;this.endIndex=c};l["openfl._internal.text.TextLayoutGroup"]=a._internal.text.TextLayoutGroup;a._internal.text.TextLayoutGroup.__name__=!0;a._internal.text.TextLayoutGroup.prototype={__class__:a._internal.text.TextLayoutGroup};a.display.Application=function(){e.app.Application.call(this);null==a.Lib.application&&(a.Lib.application=this)};l["openfl.display.Application"]=a.display.Application;
a.display.Application.__name__=!0;a.display.Application.__super__=e.app.Application;a.display.Application.prototype=w(e.app.Application.prototype,{create:function(b){this.config=b;this.backend.create(b);if(null!=b){Object.prototype.hasOwnProperty.call(b,"fps")&&this.backend.setFrameRate(b.fps);if(Object.prototype.hasOwnProperty.call(b,"windows"))for(b=b.windows;0<b.length;){b=new a.display.Window(b[0]);this.createWindow(b);break}if(null==this.preloader||this.preloader.complete)this.onPreloadComplete()}},
__class__:a.display.Application});a.display.Bitmap=function(b,h,c){null==c&&(c=!1);a.display.DisplayObject.call(this);this.bitmapData=b;this.pixelSnapping=h;this.smoothing=c;null==h&&(this.pixelSnapping=a.display.PixelSnapping.AUTO)};l["openfl.display.Bitmap"]=a.display.Bitmap;a.display.Bitmap.__name__=!0;a.display.Bitmap.__super__=a.display.DisplayObject;a.display.Bitmap.prototype=w(a.display.DisplayObject.prototype,{__getBounds:function(b,h){if(null!=this.bitmapData){var c=a.geom.Rectangle.__temp;
c.setTo(0,0,this.bitmapData.width,this.bitmapData.height);c.__transform(c,h);b.__expand(c.x,c.y,c.width,c.height)}},__hitTest:function(a,h,c,d,f){if(!this.get_visible()||this.__isMask||null==this.bitmapData||null!=this.get_mask()&&!this.get_mask().__hitTestMask(a,h))return!1;this.__getWorldTransform();c=this.__worldTransform.__transformInverseX(a,h);a=this.__worldTransform.__transformInverseY(a,h);return 0<c&&0<a&&c<=this.bitmapData.width&&a<=this.bitmapData.height?(null==d||f||d.push(this),!0):!1},
__hitTestMask:function(a,h){if(null==this.bitmapData)return!1;this.__getWorldTransform();var c=this.__worldTransform.__transformInverseX(a,h),d=this.__worldTransform.__transformInverseY(a,h);return 0<c&&0<d&&c<=this.bitmapData.width&&d<=this.bitmapData.height?!0:!1},__renderCairo:function(b){a._internal.renderer.cairo.CairoBitmap.render(this,b)},__renderCairoMask:function(a){a.cairo.rectangle(0,0,this.get_width(),this.get_height())},__renderCanvas:function(b){a._internal.renderer.canvas.CanvasBitmap.render(this,
b)},__renderCanvasMask:function(a){a.context.rect(0,0,this.get_width(),this.get_height())},__renderDOM:function(b){null!=this.stage&&this.__worldVisible&&this.__renderable&&null!=this.bitmapData&&this.bitmapData.__isValid?null!=this.bitmapData.image.buffer.__srcImage?a._internal.renderer.dom.DOMBitmap.renderImage(this,b):a._internal.renderer.dom.DOMBitmap.renderCanvas(this,b):(null!=this.__image&&(b.element.removeChild(this.__image),this.__style=this.__image=null),null!=this.__canvas&&(b.element.removeChild(this.__canvas),
this.__style=this.__canvas=null))},__renderGL:function(a){this.__cacheAsBitmap?this.__cacheGL(a):(null!=this.__scrollRect&&a.maskManager.pushRect(this.__scrollRect,this.__renderTransform),null!=this.__mask&&null!=this.__maskGraphics&&0<this.__maskGraphics.__commands.get_length()&&a.maskManager.pushMask(this),!this.__renderable||0>=this.__worldAlpha||null==this.bitmapData||!this.bitmapData.__isValid?null:a.spriteBatch.renderBitmapData(this.bitmapData,this.smoothing,this.__renderTransform,this.__worldColorTransform,
this.__worldAlpha,this.__blendMode,this.__shader,this.pixelSnapping),null!=this.__mask&&null!=this.__maskGraphics&&0<this.__maskGraphics.__commands.get_length()&&a.maskManager.popMask(),null!=this.__scrollRect&&a.maskManager.popRect())},__updateMask:function(b){b.__commands.overrideMatrix(this.__worldTransform);b.beginFill(0);b.drawRect(0,0,this.bitmapData.width,this.bitmapData.height);null==b.__bounds&&(b.__bounds=new a.geom.Rectangle);this.__getBounds(b.__bounds,a.geom.Matrix.__identity);a.display.DisplayObject.prototype.__updateMask.call(this,
b)},get_height:function(){return null!=this.bitmapData?this.bitmapData.height*this.get_scaleY():0},set_height:function(a){return null!=this.bitmapData?(a!=this.bitmapData.height&&this.set_scaleY(a/this.bitmapData.height),a):0},get_width:function(){return null!=this.bitmapData?this.bitmapData.width*this.get_scaleX():0},__class__:a.display.Bitmap});a.display.BitmapData=function(b,h,c,d){null==d&&(d=-1);null==c&&(c=!0);this.__usingPingPongTexture=!1;this.transparent=c;null==b&&(b=0);null==h&&(h=0);0>
b&&(b=0);0>h&&(h=0);this.width=b;this.height=h;this.rect=new a.geom.Rectangle(0,0,b,h);if(0<b&&0<h){if(c){var f=d&-16777216;0==(0>f?4294967296+f:f+0)&&(d=0)}else d=-16777216|d&16777215;this.image=new e.graphics.Image(null,0,0,b,h,d<<8|d>>24&255);this.image.set_transparent(c);this.__isValid=!0}this.__createUVs();this.__worldTransform=new a.geom.Matrix;this.__worldColorTransform=new a.geom.ColorTransform};l["openfl.display.BitmapData"]=a.display.BitmapData;a.display.BitmapData.__name__=!0;a.display.BitmapData.__interfaces__=
[a.display.IBitmapDrawable];a.display.BitmapData.fromBytes=function(b,h,c){var d=new a.display.BitmapData(0,0,!0);d.__fromBytes(b,h,c);return d};a.display.BitmapData.fromCanvas=function(b,h){null==h&&(h=!0);if(null==b)return null;var c=new a.display.BitmapData(0,0,h);c.__fromImage(e.graphics.Image.fromCanvas(b));c.image.set_transparent(h);return c};a.display.BitmapData.fromImage=function(b,h){null==h&&(h=!0);if(null==b||null==b.buffer)return null;var c=new a.display.BitmapData(0,0,h);c.__fromImage(b);
c.image.set_transparent(h);return c};a.display.BitmapData.__asRenderTexture=function(b,h){null==h&&(h=0);null==b&&(b=0);var c=new a.display.BitmapData(0,0);c.__resize(b,h);return c};a.display.BitmapData.prototype={colorTransform:function(a,h){this.__isValid&&(this.image.colorTransform(a.__toLimeRectangle(),h.__toLimeColorMatrix()),this.__usingPingPongTexture=!1)},draw:function(b,h,c,d,f,k){null==k&&(k=!1);this.__isValid&&(null!=c&&(d=new a.display.BitmapData(v.getProperty(b,"width"),v.getProperty(b,
"height"),!0,0),d.draw(b),d.colorTransform(d.rect,c),b=d),e.graphics.utils.ImageCanvasUtil.convertToCanvas(this.image),e.graphics.utils.ImageCanvasUtil.sync(this.image,!0),c=this.image.buffer,d=new a._internal.renderer.RenderSession,d.context=c.__srcContext,d.roundPixels=!0,d.maskManager=new a._internal.renderer.canvas.CanvasMaskManager(d),k||(c.__srcContext.mozImageSmoothingEnabled=!1,c.__srcContext.msImageSmoothingEnabled=!1,c.__srcContext.imageSmoothingEnabled=!1),null!=f&&d.maskManager.pushRect(f,
new a.geom.Matrix),b.__updateTransforms(h),b.__updateChildren(!1),b.__renderCanvas(d),b.__updateTransforms(),b.__updateChildren(!0),k||(c.__srcContext.mozImageSmoothingEnabled=!0,c.__srcContext.msImageSmoothingEnabled=!0,c.__srcContext.imageSmoothingEnabled=!0),null!=f&&d.maskManager.popMask(),c.__srcContext.setTransform(1,0,0,1,0,0),c.__srcImageData=null,c.data=null)},getPixels:function(a){if(!this.__isValid)return null;null==a&&(a=this.rect);return this.image.getPixels(a.__toLimeRectangle(),1)},
getSurface:function(){if(!this.__isValid)return null;null==this.__surface&&(this.__surface=e.graphics.cairo._CairoImageSurface.CairoImageSurface_Impl_.fromImage(this.image));return this.__surface},getTexture:function(a){if(!this.__isValid)return null;if(this.__usingPingPongTexture&&null!=this.__pingPongTexture)return this.__pingPongTexture.get_texture();null==this.__texture&&(this.__texture=a.createTexture(),a.bindTexture(a.TEXTURE_2D,this.__texture),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_S,
a.CLAMP_TO_EDGE),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_T,a.CLAMP_TO_EDGE),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.NEAREST),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.NEAREST),this.image.dirty=!0);if(null!=this.image&&this.image.dirty){var h,c;null!=this.__surface&&e.graphics.cairo._CairoSurface.CairoSurface_Impl_.flush(this.__surface);c=1==this.image.buffer.bitsPerPixel?h=a.ALPHA:h=a.RGBA;a.bindTexture(a.TEXTURE_2D,this.__texture);var d=this.image;if(!d.get_premultiplied()&&
d.get_transparent()||0!=d.get_format())d=d.clone(),d.set_format(0),d.set_premultiplied(!0);a.texImage2D(a.TEXTURE_2D,0,h,this.width,this.height,0,c,a.UNSIGNED_BYTE,d.get_data());a.bindTexture(a.TEXTURE_2D,null);this.image.dirty=!1}return this.__texture},__createUVs:function(b,h,c,d,f,e,g,l){null==l&&(l=1);null==g&&(g=0);null==e&&(e=1);null==f&&(f=1);null==d&&(d=0);null==c&&(c=1);null==h&&(h=0);null==b&&(b=0);null==this.__uvData&&(this.__uvData=new a.display.TextureUvs);this.__uvData.x0=b;this.__uvData.y0=
h;this.__uvData.x1=c;this.__uvData.y1=d;this.__uvData.x2=f;this.__uvData.y2=e;this.__uvData.x3=g;this.__uvData.y3=l},__drawGL:function(b,h,c,d,f,e,g,l,m,p,q){null==q&&(q=!0);null==p&&(p=!1);null==m&&(m=!1);null==l&&(l=!1);null==g&&(g=!1);this.__pingPongTexture=a._internal.renderer.opengl.GLBitmap.pushFramebuffer(b,this.__pingPongTexture,this.rect,g,this.transparent,m,q);a._internal.renderer.opengl.GLBitmap.drawBitmapDrawable(b,l?this:null,h,c,d,f,e);a._internal.renderer.opengl.GLBitmap.popFramebuffer(b,
p?this.image:null);b=this.__pingPongTexture.get_renderTexture().__uvData;this.__createUVs(b.x0,b.y0,b.x1,b.y1,b.x2,b.y2,b.x3,b.y3);this.__usingPingPongTexture=this.__isValid=!0},__fromBytes:function(a,h,c){var d=this;e.graphics.Image.fromBytes(a,function(a){d.__fromImage(a);if(null!=h){e.graphics.utils.ImageCanvasUtil.convertToCanvas(a);e.graphics.utils.ImageCanvasUtil.createImageData(a);for(var b=a.buffer.data,g=0,l=h.length;g<l;){var m=g++,p=h.readUnsignedByte();b[4*m+3]=p}a.dirty=!0}null!=c&&c(d)})},
__fromImage:function(b){null!=b&&null!=b.buffer&&(this.image=b,this.width=b.width,this.height=b.height,this.rect=new a.geom.Rectangle(0,0,b.width,b.height),this.__isValid=!0)},__renderCanvas:function(b){if(this.__isValid){e.graphics.utils.ImageCanvasUtil.sync(this.image,!1);var h=b.context;null==this.__worldTransform&&(this.__worldTransform=new a.geom.Matrix);h.globalAlpha=1;var c=this.__worldTransform;b.roundPixels?h.setTransform(c.a,c.b,c.c,c.d,c.tx|0,c.ty|0):h.setTransform(c.a,c.b,c.c,c.d,c.tx,
c.ty);h.drawImage(this.image.get_src(),0,0)}},__renderGL:function(a){a.spriteBatch.renderBitmapData(this,!1,this.__worldTransform,this.__worldColorTransform,this.__worldColorTransform.alphaMultiplier,this.__blendMode,this.__shader)},__updateTransforms:function(a){null==a?this.__worldTransform.identity():this.__worldTransform=a},__sync:function(){e.graphics.utils.ImageCanvasUtil.sync(this.image,!1)},__updateChildren:function(a){},__resize:function(a,h){this.width=a;this.height=h;this.rect.width=a;
this.rect.height=h},__class__:a.display.BitmapData};a.display.TextureUvs=function(){this.x0=this.x1=this.x2=this.x3=this.y0=this.y1=this.y2=this.y3=0};l["openfl.display.TextureUvs"]=a.display.TextureUvs;a.display.TextureUvs.__name__=!0;a.display.TextureUvs.prototype={__class__:a.display.TextureUvs};a.display.BlendMode=l["openfl.display.BlendMode"]={__ename__:!0,__constructs__:"ADD ALPHA DARKEN DIFFERENCE ERASE HARDLIGHT INVERT LAYER LIGHTEN MULTIPLY NORMAL OVERLAY SCREEN SUBTRACT".split(" ")};a.display.BlendMode.ADD=
["ADD",0];a.display.BlendMode.ADD.toString=m;a.display.BlendMode.ADD.__enum__=a.display.BlendMode;a.display.BlendMode.ALPHA=["ALPHA",1];a.display.BlendMode.ALPHA.toString=m;a.display.BlendMode.ALPHA.__enum__=a.display.BlendMode;a.display.BlendMode.DARKEN=["DARKEN",2];a.display.BlendMode.DARKEN.toString=m;a.display.BlendMode.DARKEN.__enum__=a.display.BlendMode;a.display.BlendMode.DIFFERENCE=["DIFFERENCE",3];a.display.BlendMode.DIFFERENCE.toString=m;a.display.BlendMode.DIFFERENCE.__enum__=a.display.BlendMode;
a.display.BlendMode.ERASE=["ERASE",4];a.display.BlendMode.ERASE.toString=m;a.display.BlendMode.ERASE.__enum__=a.display.BlendMode;a.display.BlendMode.HARDLIGHT=["HARDLIGHT",5];a.display.BlendMode.HARDLIGHT.toString=m;a.display.BlendMode.HARDLIGHT.__enum__=a.display.BlendMode;a.display.BlendMode.INVERT=["INVERT",6];a.display.BlendMode.INVERT.toString=m;a.display.BlendMode.INVERT.__enum__=a.display.BlendMode;a.display.BlendMode.LAYER=["LAYER",7];a.display.BlendMode.LAYER.toString=m;a.display.BlendMode.LAYER.__enum__=
a.display.BlendMode;a.display.BlendMode.LIGHTEN=["LIGHTEN",8];a.display.BlendMode.LIGHTEN.toString=m;a.display.BlendMode.LIGHTEN.__enum__=a.display.BlendMode;a.display.BlendMode.MULTIPLY=["MULTIPLY",9];a.display.BlendMode.MULTIPLY.toString=m;a.display.BlendMode.MULTIPLY.__enum__=a.display.BlendMode;a.display.BlendMode.NORMAL=["NORMAL",10];a.display.BlendMode.NORMAL.toString=m;a.display.BlendMode.NORMAL.__enum__=a.display.BlendMode;a.display.BlendMode.OVERLAY=["OVERLAY",11];a.display.BlendMode.OVERLAY.toString=
m;a.display.BlendMode.OVERLAY.__enum__=a.display.BlendMode;a.display.BlendMode.SCREEN=["SCREEN",12];a.display.BlendMode.SCREEN.toString=m;a.display.BlendMode.SCREEN.__enum__=a.display.BlendMode;a.display.BlendMode.SUBTRACT=["SUBTRACT",13];a.display.BlendMode.SUBTRACT.toString=m;a.display.BlendMode.SUBTRACT.__enum__=a.display.BlendMode;a.display.CapsStyle=l["openfl.display.CapsStyle"]={__ename__:!0,__constructs__:["NONE","ROUND","SQUARE"]};a.display.CapsStyle.NONE=["NONE",0];a.display.CapsStyle.NONE.toString=
m;a.display.CapsStyle.NONE.__enum__=a.display.CapsStyle;a.display.CapsStyle.ROUND=["ROUND",1];a.display.CapsStyle.ROUND.toString=m;a.display.CapsStyle.ROUND.__enum__=a.display.CapsStyle;a.display.CapsStyle.SQUARE=["SQUARE",2];a.display.CapsStyle.SQUARE.toString=m;a.display.CapsStyle.SQUARE.__enum__=a.display.CapsStyle;a.display.FrameLabel=function(){};l["openfl.display.FrameLabel"]=a.display.FrameLabel;a.display.FrameLabel.__name__=!0;a.display.FrameLabel.__super__=a.events.EventDispatcher;a.display.FrameLabel.prototype=
w(a.events.EventDispatcher.prototype,{__class__:a.display.FrameLabel});a.display.GradientType=l["openfl.display.GradientType"]={__ename__:!0,__constructs__:["RADIAL","LINEAR"]};a.display.GradientType.RADIAL=["RADIAL",0];a.display.GradientType.RADIAL.toString=m;a.display.GradientType.RADIAL.__enum__=a.display.GradientType;a.display.GradientType.LINEAR=["LINEAR",1];a.display.GradientType.LINEAR.toString=m;a.display.GradientType.LINEAR.__enum__=a.display.GradientType;a.display.Graphics=function(){this.__glStack=
[];this.__dirty=!0;this.__commands=new a._internal.renderer.DrawCommandBuffer;this.__positionY=this.__positionX=this.__strokePadding=0;this.__hardware=!0;this.moveTo(0,0)};l["openfl.display.Graphics"]=a.display.Graphics;a.display.Graphics.__name__=!0;a.display.Graphics.prototype={beginBitmapFill:function(b,h,c,d){null==d&&(d=!1);null==c&&(c=!0);this.__commands.beginBitmapFill(b,null!=h?new a.geom.Matrix(h.a,h.b,h.c,h.d,h.tx,h.ty):null,c,d);this.__visible=!0},beginFill:function(a,h){null==h&&(h=1);
null==a&&(a=0);this.__commands.beginFill(a&16777215,h);0<h&&(this.__visible=!0)},clear:function(){this.__commands.clear();this.__strokePadding=0;null!=this.__bounds&&(this.set___dirty(!0),this.__transformDirty=!0,this.__bounds=null);this.__visible=!1;this.__hardware=!0;this.moveTo(0,0)},drawRect:function(a,h,c,d){0>=c||0>=d||(this.__inflateBounds(a-this.__strokePadding,h-this.__strokePadding),this.__inflateBounds(a+c+this.__strokePadding,h+d+this.__strokePadding),this.__commands.drawRect(a,h,c,d),
this.set___dirty(!0))},endFill:function(){this.__commands.endFill()},lineStyle:function(b,h,c,d,e,g,l,m){null!=b&&(l==a.display.JointStyle.MITER?b>this.__strokePadding&&(this.__strokePadding=b):b/2>this.__strokePadding&&(this.__strokePadding=b/2));this.__commands.lineStyle(b,h,c,d,e,g,l,m);null!=b&&(this.__visible=!0)},lineTo:function(a,h){this.__inflateBounds(this.__positionX-this.__strokePadding,this.__positionY-this.__strokePadding);this.__inflateBounds(this.__positionX+this.__strokePadding,this.__positionY+
this.__strokePadding);this.__positionX=a;this.__positionY=h;this.__inflateBounds(this.__positionX-this.__strokePadding,this.__positionY-this.__strokePadding);this.__inflateBounds(this.__positionX+2*this.__strokePadding,this.__positionY+this.__strokePadding);this.__commands.lineTo(a,h);this.__hardware=!1;this.set___dirty(!0)},moveTo:function(a,h){this.__positionX=a;this.__positionY=h;this.__commands.moveTo(a,h)},__getBounds:function(b,h){if(null!=this.__bounds){var c=a.geom.Rectangle.__temp;this.__bounds.__transform(c,
h);b.__expand(c.x,c.y,c.width,c.height)}},__hitTest:function(b,h,c,d){if(null==this.__bounds)return!1;var e=d.__transformInverseX(b,h);b=d.__transformInverseY(b,h);return e>this.__bounds.x&&b>this.__bounds.y&&this.__bounds.contains(e,b)?c?a._internal.renderer.canvas.CanvasGraphics.hitTest(this,e,b):!0:!1},__inflateBounds:function(b,e){null==this.__bounds?(this.__bounds=new a.geom.Rectangle(b,e,0,0),this.__transformDirty=!0):(b<this.__bounds.x&&(this.__bounds.width+=this.__bounds.x-b,this.__bounds.x=
b,this.__transformDirty=!0),e<this.__bounds.y&&(this.__bounds.height+=this.__bounds.y-e,this.__bounds.y=e,this.__transformDirty=!0),b>this.__bounds.x+this.__bounds.width&&(this.__bounds.width=b-this.__bounds.x),e>this.__bounds.y+this.__bounds.height&&(this.__bounds.height=e-this.__bounds.y))},set___dirty:function(a){a&&null!=this.__owner&&this.__owner.__setRenderDirty();return this.__dirty=a},__class__:a.display.Graphics,__properties__:{set___dirty:"set___dirty"}};a.display.GraphicsPathWinding=l["openfl.display.GraphicsPathWinding"]=
{__ename__:!0,__constructs__:["EVEN_ODD","NON_ZERO"]};a.display.GraphicsPathWinding.EVEN_ODD=["EVEN_ODD",0];a.display.GraphicsPathWinding.EVEN_ODD.toString=m;a.display.GraphicsPathWinding.EVEN_ODD.__enum__=a.display.GraphicsPathWinding;a.display.GraphicsPathWinding.NON_ZERO=["NON_ZERO",1];a.display.GraphicsPathWinding.NON_ZERO.toString=m;a.display.GraphicsPathWinding.NON_ZERO.__enum__=a.display.GraphicsPathWinding;a.display.InterpolationMethod=l["openfl.display.InterpolationMethod"]={__ename__:!0,
__constructs__:["RGB","LINEAR_RGB"]};a.display.InterpolationMethod.RGB=["RGB",0];a.display.InterpolationMethod.RGB.toString=m;a.display.InterpolationMethod.RGB.__enum__=a.display.InterpolationMethod;a.display.InterpolationMethod.LINEAR_RGB=["LINEAR_RGB",1];a.display.InterpolationMethod.LINEAR_RGB.toString=m;a.display.InterpolationMethod.LINEAR_RGB.__enum__=a.display.InterpolationMethod;a.display.JointStyle=l["openfl.display.JointStyle"]={__ename__:!0,__constructs__:["MITER","ROUND","BEVEL"]};a.display.JointStyle.MITER=
["MITER",0];a.display.JointStyle.MITER.toString=m;a.display.JointStyle.MITER.__enum__=a.display.JointStyle;a.display.JointStyle.ROUND=["ROUND",1];a.display.JointStyle.ROUND.toString=m;a.display.JointStyle.ROUND.__enum__=a.display.JointStyle;a.display.JointStyle.BEVEL=["BEVEL",2];a.display.JointStyle.BEVEL.toString=m;a.display.JointStyle.BEVEL.__enum__=a.display.JointStyle;a.display.LineScaleMode=l["openfl.display.LineScaleMode"]={__ename__:!0,__constructs__:["HORIZONTAL","NONE","NORMAL","VERTICAL"]};
a.display.LineScaleMode.HORIZONTAL=["HORIZONTAL",0];a.display.LineScaleMode.HORIZONTAL.toString=m;a.display.LineScaleMode.HORIZONTAL.__enum__=a.display.LineScaleMode;a.display.LineScaleMode.NONE=["NONE",1];a.display.LineScaleMode.NONE.toString=m;a.display.LineScaleMode.NONE.__enum__=a.display.LineScaleMode;a.display.LineScaleMode.NORMAL=["NORMAL",2];a.display.LineScaleMode.NORMAL.toString=m;a.display.LineScaleMode.NORMAL.__enum__=a.display.LineScaleMode;a.display.LineScaleMode.VERTICAL=["VERTICAL",
3];a.display.LineScaleMode.VERTICAL.toString=m;a.display.LineScaleMode.VERTICAL.__enum__=a.display.LineScaleMode;a.display.Loader=function(){};l["openfl.display.Loader"]=a.display.Loader;a.display.Loader.__name__=!0;a.display.Loader.__super__=a.display.Sprite;a.display.Loader.prototype=w(a.display.Sprite.prototype,{__class__:a.display.Loader});a.display.PixelSnapping=l["openfl.display.PixelSnapping"]={__ename__:!0,__constructs__:["NEVER","AUTO","ALWAYS"]};a.display.PixelSnapping.NEVER=["NEVER",0];
a.display.PixelSnapping.NEVER.toString=m;a.display.PixelSnapping.NEVER.__enum__=a.display.PixelSnapping;a.display.PixelSnapping.AUTO=["AUTO",1];a.display.PixelSnapping.AUTO.toString=m;a.display.PixelSnapping.AUTO.__enum__=a.display.PixelSnapping;a.display.PixelSnapping.ALWAYS=["ALWAYS",2];a.display.PixelSnapping.ALWAYS.toString=m;a.display.PixelSnapping.ALWAYS.__enum__=a.display.PixelSnapping;a.display.Preloader=function(b){e.app.Preloader.call(this);if(null!=b&&(this.display=b,a.Lib.current.addChild(b),
x.Boot.__instanceof(b,W)))x.Boot.__cast(b,W).onInit()};l["openfl.display.Preloader"]=a.display.Preloader;a.display.Preloader.__name__=!0;a.display.Preloader.__super__=e.app.Preloader;a.display.Preloader.prototype=w(e.app.Preloader.prototype,{load:function(b,h){for(var c=[],d=null,f=0,g=b.length;f<g;){var l=f++,d=b[l];switch(h[l]){case "MUSIC":case "SOUND":d=q.io.Path.withoutExtension(d),z.remove(c,d)||this.total++,c.push(d)}}for(f=0;f<c.length;)g=c[f],++f,d=new a.media.Sound,d.addEventListener(a.events.Event.COMPLETE,
t(this,this.sound_onComplete)),d.addEventListener(a.events.IOErrorEvent.IO_ERROR,t(this,this.sound_onIOError)),d.load(new a.net.URLRequest(g+".ogg"));e.app.Preloader.prototype.load.call(this,b,h)},start:function(){null!=this.display&&x.Boot.__instanceof(this.display,W)?(this.display.addEventListener(a.events.Event.COMPLETE,t(this,this.display_onComplete)),x.Boot.__cast(this.display,W).onLoaded()):e.app.Preloader.prototype.start.call(this)},update:function(a,e){if(null!=this.display&&x.Boot.__instanceof(this.display,
W))x.Boot.__cast(this.display,W).onUpdate(a,e)},display_onComplete:function(b){this.display.removeEventListener(a.events.Event.COMPLETE,t(this,this.display_onComplete));a.Lib.current.removeChild(this.display);a.Lib.current.stage.set_focus(null);this.display=null;e.app.Preloader.prototype.start.call(this)},sound_onComplete:function(a){this.loaded++;this.onProgress.dispatch(this.loaded,this.total);this.loaded==this.total&&this.start()},sound_onIOError:function(a){this.loaded++;this.onProgress.dispatch(this.loaded,
this.total);this.loaded==this.total&&this.start()},__class__:a.display.Preloader});a.display.Shader=function(){this.__dirty=!0;this.repeatX=this.repeatY=33071};l["openfl.display.Shader"]=a.display.Shader;a.display.Shader.__name__=!0;a.display.Shader.prototype={__init:function(b){var e=this.__dirty;e&&(null!=this.__shader&&this.__shader.destroy(),this.__shader=new a._internal.renderer.opengl.shaders2.Shader(b),this.__shader.vertexString=null!=this.__vertexCode?this.__vertexCode:a._internal.renderer.opengl.shaders2.DefaultShader.VERTEX_SRC.join("\n"),
this.__shader.fragmentString=this.__fragmentCode,this.__dirty=!1);this.__shader.init(e)},__class__:a.display.Shader};a.display.GLShaderParameter=function(){this.internalType=0;this.transpose=!1;this.repeatX=this.repeatY=33071;this.smooth=!1;this.size=0};l["openfl.display.GLShaderParameter"]=a.display.GLShaderParameter;a.display.GLShaderParameter.__name__=!0;a.display.GLShaderParameter.prototype={__class__:a.display.GLShaderParameter};a.display.SpreadMethod=l["openfl.display.SpreadMethod"]={__ename__:!0,
__constructs__:["REPEAT","REFLECT","PAD"]};a.display.SpreadMethod.REPEAT=["REPEAT",0];a.display.SpreadMethod.REPEAT.toString=m;a.display.SpreadMethod.REPEAT.__enum__=a.display.SpreadMethod;a.display.SpreadMethod.REFLECT=["REFLECT",1];a.display.SpreadMethod.REFLECT.toString=m;a.display.SpreadMethod.REFLECT.__enum__=a.display.SpreadMethod;a.display.SpreadMethod.PAD=["PAD",2];a.display.SpreadMethod.PAD.toString=m;a.display.SpreadMethod.PAD.__enum__=a.display.SpreadMethod;a.display.Stage=function(b,e){a.display.DisplayObjectContainer.call(this);
this.application=b.application;this.window=b;null==e?(this.__transparent=!0,this.set_color(0)):this.set_color(e);this.set_name(null);this.__deltaTime=0;this.__displayState=a.display.StageDisplayState.NORMAL;this.__lastClickTime=this.__mouseY=this.__mouseX=0;this.stageWidth=b.__width;this.stageHeight=b.__height;this.stage=this;this.align=a.display.StageAlign.TOP_LEFT;this.allowsFullScreenInteractive=this.allowsFullScreen=!1;this.quality=a.display.StageQuality.HIGH;this.scaleMode=a.display.StageScaleMode.NO_SCALE;
this.stageFocusRect=!0;this.__macKeyboard=/AppleWebKit/.test(navigator.userAgent)&&/Mobile\/\w+/.test(navigator.userAgent)||/Mac/.test(navigator.platform);this.__clearBeforeRender=!0;this.__stack=[];this.__mouseOutStack=[];var c;c=new a.VectorData;c.data=[];c.length=0;c.fixed=!1;c=this.stage3Ds=c;var d=new a.display.Stage3D;if(!c.fixed){c.length++;if(c.data.length<c.length){var f;f=Array(c.data.length+10);q.ds._Vector.Vector_Impl_.blit(c.data,0,f,0,c.data.length);c.data=f}c.data[c.length-1]=d}c.length;
null==a.Lib.current.stage&&this.stage.addChild(a.Lib.current)};l["openfl.display.Stage"]=a.display.Stage;a.display.Stage.__name__=!0;a.display.Stage.__interfaces__=[e.app.IModule];a.display.Stage.__super__=a.display.DisplayObjectContainer;a.display.Stage.prototype=w(a.display.DisplayObjectContainer.prototype,{globalToLocal:function(a){return a.clone()},localToGlobal:function(a){return a.clone()},onGamepadAxisMove:function(b,e,c){a.ui.GameInput.__onGamepadAxisMove(b,e,c)},onGamepadButtonDown:function(b,
e){a.ui.GameInput.__onGamepadButtonDown(b,e)},onGamepadButtonUp:function(b,e){a.ui.GameInput.__onGamepadButtonUp(b,e)},onGamepadConnect:function(b){a.ui.GameInput.__onGamepadConnect(b)},onGamepadDisconnect:function(b){a.ui.GameInput.__onGamepadDisconnect(b)},onJoystickAxisMove:function(a,e,c){},onJoystickButtonDown:function(a,e){},onJoystickButtonUp:function(a,e){},onJoystickConnect:function(a){},onJoystickDisconnect:function(a){},onJoystickHatMove:function(a,e,c){},onJoystickTrackballMove:function(a,
e,c){},onKeyDown:function(b,e,c){null!=this.window&&this.window==b&&this.__onKey(a.events.KeyboardEvent.KEY_DOWN,e,c)},onKeyUp:function(b,e,c){null!=this.window&&this.window==b&&this.__onKey(a.events.KeyboardEvent.KEY_UP,e,c)},onModuleExit:function(b){null!=this.window&&(b=new a.events.Event(a.events.Event.DEACTIVATE),this.__broadcast(b,!0))},onMouseDown:function(b,e,c,d){if(null!=this.window&&this.window==b){switch(d){case 1:b=a.events.MouseEvent.MIDDLE_MOUSE_DOWN;break;case 2:b=a.events.MouseEvent.RIGHT_MOUSE_DOWN;
break;default:b=a.events.MouseEvent.MOUSE_DOWN}this.__onMouse(b,e,c,d)}},onMouseMove:function(b,e,c){null!=this.window&&this.window==b&&this.__onMouse(a.events.MouseEvent.MOUSE_MOVE,e,c,0)},onMouseMoveRelative:function(a,e,c){},onMouseUp:function(b,e,c,d){if(null!=this.window&&this.window==b){switch(d){case 1:b=a.events.MouseEvent.MIDDLE_MOUSE_UP;break;case 2:b=a.events.MouseEvent.RIGHT_MOUSE_UP;break;default:b=a.events.MouseEvent.MOUSE_UP}this.__onMouse(b,e,c,d)}},onMouseWheel:function(a,e,c){null!=
this.window&&this.window==a&&this.__onMouseWheel(e,c)},onPreloadComplete:function(){},onPreloadProgress:function(a,e){},onRenderContextLost:function(a){},onRenderContextRestored:function(a,e){},onTextEdit:function(a,e,c,d){},onTextInput:function(b,e){if(null!=this.window&&this.window==b){var c=[];null==this.__focus?this.__getInteractive(c):this.__focus.__getInteractive(c);var d=new a.events.TextEvent(a.events.TextEvent.TEXT_INPUT,!0,!1,e);0<c.length?(c.reverse(),this.__fireEvent(d,c)):this.__broadcast(d,
!0)}},onTouchMove:function(a){this.__onTouch("touchMove",a)},onTouchEnd:function(a){this.__onTouch("touchEnd",a)},onTouchStart:function(a){this.__onTouch("touchBegin",a)},onWindowActivate:function(b){null!=this.window&&this.window==b&&(b=new a.events.Event(a.events.Event.ACTIVATE),this.__broadcast(b,!0))},onWindowClose:function(a){this.window==a&&(this.window=null)},onWindowCreate:function(b){if(null!=this.window&&this.window==b&&null!=b.renderer)switch(b=b.renderer.context,b[1]){case 0:this.__renderer=
new a._internal.renderer.opengl.GLRenderer(this.stageWidth,this.stageHeight,b[2]);break;case 1:this.__renderer=new a._internal.renderer.canvas.CanvasRenderer(this.stageWidth,this.stageHeight,b[2]);break;case 2:this.__renderer=new a._internal.renderer.dom.DOMRenderer(this.stageWidth,this.stageHeight,b[2]);break;case 4:this.__renderer=new a._internal.renderer.cairo.CairoRenderer(this.stageWidth,this.stageHeight,b[2]);break;case 5:this.__renderer=new a._internal.renderer.console.ConsoleRenderer(this.stageWidth,
this.stageHeight,b[2])}},onWindowDeactivate:function(b){null!=this.window&&this.window==b&&(b=new a.events.Event(a.events.Event.DEACTIVATE),this.__broadcast(b,!0))},onWindowEnter:function(a){},onWindowFocusIn:function(b){null!=this.window&&this.window==b&&(b=new a.events.FocusEvent(a.events.FocusEvent.FOCUS_IN,!0,!1,null,!1,0),this.__broadcast(b,!0))},onWindowFocusOut:function(b){null!=this.window&&this.window==b&&(b=new a.events.FocusEvent(a.events.FocusEvent.FOCUS_OUT,!0,!1,null,!1,0),this.__broadcast(b,
!0))},onWindowFullscreen:function(a){},onWindowLeave:function(b){null!=this.window&&this.window==b&&this.__dispatchEvent(new a.events.Event(a.events.Event.MOUSE_LEAVE))},onWindowMinimize:function(a){},onWindowMove:function(a,e,c){},onWindowResize:function(b,e,c){null!=this.window&&this.window==b&&(this.stageWidth=e,this.stageHeight=c,null!=this.__renderer&&this.__renderer.resize(e,c),b=new a.events.Event(a.events.Event.RESIZE),this.__broadcast(b,!1))},onWindowRestore:function(a){},render:function(b){if(null!=
b.window&&b.window==this.window&&(null!=this.application&&0<this.application.windows.length&&(this.__transformDirty||(this.__transformDirty=!0,a.display.DisplayObject.__worldTransformDirty++),this.__renderDirty||(this.__updateCachedBitmap=!0,this.__updateFilters=null!=this.get_filters()&&0<this.get_filters().length,this.__renderDirty=!0,a.display.DisplayObject.__worldRenderDirty++)),!this.__rendering)){this.__rendering=!0;this.__broadcast(new a.events.Event(a.events.Event.ENTER_FRAME),!0);this.__invalidated&&
(this.__invalidated=!1,this.__broadcast(new a.events.Event(a.events.Event.RENDER),!0));this.__renderable=!0;this.__enterFrame(this.__deltaTime);this.__deltaTime=0;this.__update(!1,!0);if(null!=this.__renderer){b=b.context;switch(b[1]){case 4:b=b[2],x.Boot.__cast(this.__renderer,a._internal.renderer.cairo.CairoRenderer).cairo=b,this.__renderer.renderSession.cairo=b}this.__renderer.render(this)}this.__rendering=!1}},update:function(a){this.__deltaTime=a},__drag:function(a){var e=this.__dragObject.parent;
null!=e&&(a=e.globalToLocal(a));e=a.x+this.__dragOffsetX;a=a.y+this.__dragOffsetY;null!=this.__dragBounds&&(e<this.__dragBounds.x?e=this.__dragBounds.x:e>this.__dragBounds.get_right()&&(e=this.__dragBounds.get_right()),a<this.__dragBounds.y?a=this.__dragBounds.y:a>this.__dragBounds.get_bottom()&&(a=this.__dragBounds.get_bottom()));this.__dragObject.set_x(e);this.__dragObject.set_y(a)},__fireEvent:function(b,e){var c=e.length;if(0==c)b.eventPhase=a.events.EventPhase.AT_TARGET,b.target.__broadcast(b,
!1);else{b.eventPhase=a.events.EventPhase.CAPTURING_PHASE;b.target=e[e.length-1];for(var d=0,f=c-1;d<f;){var g=d++;e[g].__broadcast(b,!1);if(b.__isCancelled)return}b.eventPhase=a.events.EventPhase.AT_TARGET;b.target.__broadcast(b,!1);if(!b.__isCancelled&&b.bubbles)for(b.eventPhase=a.events.EventPhase.BUBBLING_PHASE,c-=2;0<=c;){e[c].__broadcast(b,!1);if(b.__isCancelled)break;c--}}},__getInteractive:function(a){null!=a&&a.push(this);return!0},__onKey:function(b,h,c){a.events.MouseEvent.__altKey=e.ui._KeyModifier.KeyModifier_Impl_.get_altKey(c);
a.events.MouseEvent.__commandKey=e.ui._KeyModifier.KeyModifier_Impl_.get_metaKey(c);a.events.MouseEvent.__ctrlKey=e.ui._KeyModifier.KeyModifier_Impl_.get_ctrlKey(c);a.events.MouseEvent.__shiftKey=e.ui._KeyModifier.KeyModifier_Impl_.get_shiftKey(c);var d=[];null==this.__focus?this.__getInteractive(d):this.__focus.__getInteractive(d);if(0<d.length){var f;switch(h){case 1073742048:case 1073742049:case 1073742050:case 1073742051:f=1;break;case 1073742052:case 1073742053:case 1073742054:case 1073742055:f=
2;break;case 1073741908:case 1073741909:case 1073741910:case 1073741911:case 1073741912:case 1073741913:case 1073741914:case 1073741915:case 1073741916:case 1073741917:case 1073741918:case 1073741919:case 1073741920:case 1073741921:case 1073741922:case 1073741923:case 1073742044:f=3;break;default:f=0}switch(h){case 8:h=8;break;case 9:h=9;break;case 13:h=13;break;case 27:h=27;break;case 32:h=32;break;case 33:h=49;break;case 34:h=222;break;case 35:h=51;break;case 36:h=52;break;case 37:h=53;break;case 38:h=
55;break;case 39:h=222;break;case 40:h=57;break;case 41:h=48;break;case 42:h=56;break;case 44:h=188;break;case 45:h=189;break;case 46:h=190;break;case 47:h=191;break;case 48:h=48;break;case 49:h=49;break;case 50:h=50;break;case 51:h=51;break;case 52:h=52;break;case 53:h=53;break;case 54:h=54;break;case 55:h=55;break;case 56:h=56;break;case 57:h=57;break;case 58:h=186;break;case 59:h=186;break;case 60:h=60;break;case 61:h=187;break;case 62:h=190;break;case 63:h=191;break;case 64:h=50;break;case 91:h=
219;break;case 92:h=220;break;case 93:h=221;break;case 94:h=54;break;case 95:h=189;break;case 96:h=192;break;case 97:h=65;break;case 98:h=66;break;case 99:h=67;break;case 100:h=68;break;case 101:h=69;break;case 102:h=70;break;case 103:h=71;break;case 104:h=72;break;case 105:h=73;break;case 106:h=74;break;case 107:h=75;break;case 108:h=76;break;case 109:h=77;break;case 110:h=78;break;case 111:h=79;break;case 112:h=80;break;case 113:h=81;break;case 114:h=82;break;case 115:h=83;break;case 116:h=84;break;
case 117:h=85;break;case 118:h=86;break;case 119:h=87;break;case 120:h=88;break;case 121:h=89;break;case 122:h=90;break;case 127:h=46;break;case 1073741881:h=20;break;case 1073741882:h=112;break;case 1073741883:h=113;break;case 1073741884:h=114;break;case 1073741885:h=115;break;case 1073741886:h=116;break;case 1073741887:h=117;break;case 1073741888:h=118;break;case 1073741889:h=119;break;case 1073741890:h=120;break;case 1073741891:h=121;break;case 1073741892:h=122;break;case 1073741893:h=123;break;
case 1073741894:h=301;break;case 1073741895:h=145;break;case 1073741896:h=19;break;case 1073741897:h=45;break;case 1073741898:h=36;break;case 1073741899:h=33;break;case 1073741901:h=35;break;case 1073741902:h=34;break;case 1073741903:h=39;break;case 1073741904:h=37;break;case 1073741905:h=40;break;case 1073741906:h=38;break;case 1073741907:h=144;break;case 1073741908:h=111;break;case 1073741909:h=106;break;case 1073741910:h=109;break;case 1073741911:h=107;break;case 1073741912:h=108;break;case 1073741913:h=
97;break;case 1073741914:h=98;break;case 1073741915:h=99;break;case 1073741916:h=100;break;case 1073741917:h=101;break;case 1073741918:h=102;break;case 1073741919:h=103;break;case 1073741920:h=104;break;case 1073741921:h=105;break;case 1073741922:h=96;break;case 1073741923:h=110;break;case 1073741925:h=302;break;case 1073741928:h=124;break;case 1073741929:h=125;break;case 1073741930:h=126;break;case 1073741982:h=13;break;case 1073742044:h=110;break;case 1073742048:h=17;break;case 1073742049:h=16;
break;case 1073742050:h=18;break;case 1073742051:h=15;break;case 1073742052:h=17;break;case 1073742053:h=16;break;case 1073742054:h=18;break;case 1073742055:h=15;break}var g=a.ui.Keyboard.__getCharCode(h,e.ui._KeyModifier.KeyModifier_Impl_.get_shiftKey(c));b=new a.events.KeyboardEvent(b,!0,!1,g,h,f,this.__macKeyboard?e.ui._KeyModifier.KeyModifier_Impl_.get_ctrlKey(c)||e.ui._KeyModifier.KeyModifier_Impl_.get_metaKey(c):e.ui._KeyModifier.KeyModifier_Impl_.get_ctrlKey(c),e.ui._KeyModifier.KeyModifier_Impl_.get_altKey(c),
e.ui._KeyModifier.KeyModifier_Impl_.get_shiftKey(c),e.ui._KeyModifier.KeyModifier_Impl_.get_ctrlKey(c),e.ui._KeyModifier.KeyModifier_Impl_.get_metaKey(c));d.reverse();this.__fireEvent(b,d)}},__onMouse:function(b,h,c,d){if(!(2<d)){this.__mouseX=h;this.__mouseY=c;var f=[],g=null,l=new a.geom.Point(h,c);this.__hitTest(h,c,!0,f,!0)?g=f[f.length-1]:(g=this,f=[this]);null==g&&(g=this);b==a.events.MouseEvent.MOUSE_DOWN&&(g.get_tabEnabled()?this.set_focus(g):this.set_focus(null));this.__fireEvent(a.events.MouseEvent.__create(b,
d,this.__mouseX,this.__mouseY,g==this?l:g.globalToLocal(l),g),f);switch(b){case a.events.MouseEvent.MOUSE_UP:h=a.events.MouseEvent.CLICK;break;case a.events.MouseEvent.MIDDLE_MOUSE_UP:h=a.events.MouseEvent.MIDDLE_CLICK;break;case a.events.MouseEvent.RIGHT_MOUSE_UP:h=a.events.MouseEvent.RIGHT_CLICK;break;default:h=null}null!=h&&(this.__fireEvent(a.events.MouseEvent.__create(h,d,this.__mouseX,this.__mouseY,g==this?l:g.globalToLocal(l),g),f),b==a.events.MouseEvent.MOUSE_UP&&x.Boot.__cast(g,a.display.InteractiveObject).doubleClickEnabled&&
(b=a.Lib.getTimer(),500>b-this.__lastClickTime?(this.__fireEvent(a.events.MouseEvent.__create(a.events.MouseEvent.DOUBLE_CLICK,d,this.__mouseX,this.__mouseY,g==this?l:g.globalToLocal(l),g),f),this.__lastClickTime=0):this.__lastClickTime=b));g=null;for(d=0;d<f.length;)if(g=f[d],++d,g=g.__getCursor(),null!=g){e.ui.Mouse.set_cursor(g);break}null==g&&e.ui.Mouse.set_cursor(e.ui.MouseCursor.ARROW);d=0;for(g=this.__mouseOutStack;d<g.length;)b=g[d],++d,-1==z.indexOf(f,b,0)&&(z.remove(this.__mouseOutStack,
b),h=b.globalToLocal(l),b.__dispatchEvent(new a.events.MouseEvent(a.events.MouseEvent.MOUSE_OUT,!1,!1,h.x,h.y,b)));for(d=0;d<f.length;)g=f[d],++d,-1==z.indexOf(this.__mouseOutStack,g,0)&&(g.hasEventListener(a.events.MouseEvent.MOUSE_OVER)&&(b=g.globalToLocal(l),g.__dispatchEvent(new a.events.MouseEvent(a.events.MouseEvent.MOUSE_OVER,!1,!1,b.x,b.y,g))),g.hasEventListener(a.events.MouseEvent.MOUSE_OUT)&&this.__mouseOutStack.push(g));null!=this.__dragObject&&this.__drag(l)}},__onMouseWheel:function(b,
e){var c=this.__mouseX,d=this.__mouseY,f=[];this.__hitTest(c,d,!1,f,!0)||(f=[this]);var g=f[f.length-1],c=new a.geom.Point(c,d),d=e|0;this.__fireEvent(a.events.MouseEvent.__create(a.events.MouseEvent.MOUSE_WHEEL,0,this.__mouseX,this.__mouseY,g==this?c:g.globalToLocal(c),g,d),f)},__onTouch:function(b,e){var c=new a.geom.Point(e.x*this.stageWidth,e.y*this.stageHeight);this.__mouseX=c.x;this.__mouseY=c.y;var d=[];if(this.__hitTest(e.x,e.y,!1,d,!0)){var f=d[d.length-1];null==f&&(f=this);c=f.globalToLocal(c);
f=a.events.TouchEvent.__create(b,null,this.__mouseX,this.__mouseY,c,f);f.touchPointID=e.id;f.isPrimaryTouchPoint=!0;this.__fireEvent(f,d)}else d=a.events.TouchEvent.__create(b,null,this.__mouseX,this.__mouseY,c,this),d.touchPointID=e.id,d.isPrimaryTouchPoint=!0,this.__fireEvent(d,[this.stage])},__startDrag:function(b,e,c){this.__dragBounds=null==c?null:c.clone();this.__dragObject=b;null!=this.__dragObject&&(e?(this.__dragOffsetX=-this.__dragObject.get_width()/2,this.__dragOffsetY=-this.__dragObject.get_height()/
2):(b=new a.geom.Point(this.get_mouseX(),this.get_mouseY()),e=this.__dragObject.parent,null!=e&&(b=e.globalToLocal(b)),this.__dragOffsetX=this.__dragObject.get_x()-b.x,this.__dragOffsetY=this.__dragObject.get_y()-b.y))},__stopDrag:function(a){this.__dragObject=this.__dragBounds=null},__update:function(b,e,c){if(b)0<a.display.DisplayObject.__worldTransformDirty&&(a.display.DisplayObjectContainer.prototype.__update.call(this,!0,e,c),e&&(a.display.DisplayObject.__worldTransformDirty=0,this.__dirty=!0));
else if(0<a.display.DisplayObject.__worldTransformDirty||this.__dirty||0<a.display.DisplayObject.__worldRenderDirty)a.display.DisplayObjectContainer.prototype.__update.call(this,!1,e,c),e&&(a.display.DisplayObject.__worldTransformDirty=0,a.display.DisplayObject.__worldRenderDirty=0,this.__dirty=!1)},get_mouseX:function(){return this.__mouseX},get_mouseY:function(){return this.__mouseY},set_color:function(a){this.__colorSplit=[((a&16711680)>>>16)/255,((a&65280)>>>8)/255,(a&255)/255];this.__colorString=
"#"+G.hex(a,6);return this.__color=a},get_focus:function(){return this.__focus},set_focus:function(b){if(b!=this.__focus){var e=this.__focus;this.__focus=b;if(null!=e){var c=new a.events.FocusEvent(a.events.FocusEvent.FOCUS_OUT,!0,!1,this.__focus,!1,0);this.__stack=[];e.__getInteractive(this.__stack);this.__stack.reverse();this.__fireEvent(c,this.__stack)}null!=this.__focus&&(e=new a.events.FocusEvent(a.events.FocusEvent.FOCUS_IN,!0,!1,e,!1,0),this.__stack=[],b.__getInteractive(this.__stack),this.__stack.reverse(),
this.__fireEvent(e,this.__stack))}return this.__focus},__class__:a.display.Stage,__properties__:w(a.display.DisplayObjectContainer.prototype.__properties__,{set_focus:"set_focus",get_focus:"get_focus",set_color:"set_color"})});a.display.Stage3D=function(){a.events.EventDispatcher.call(this)};l["openfl.display.Stage3D"]=a.display.Stage3D;a.display.Stage3D.__name__=!0;a.display.Stage3D.__super__=a.events.EventDispatcher;a.display.Stage3D.prototype=w(a.events.EventDispatcher.prototype,{__class__:a.display.Stage3D});
a.display.StageAlign=l["openfl.display.StageAlign"]={__ename__:!0,__constructs__:"TOP_RIGHT TOP_LEFT TOP RIGHT LEFT BOTTOM_RIGHT BOTTOM_LEFT BOTTOM".split(" ")};a.display.StageAlign.TOP_RIGHT=["TOP_RIGHT",0];a.display.StageAlign.TOP_RIGHT.toString=m;a.display.StageAlign.TOP_RIGHT.__enum__=a.display.StageAlign;a.display.StageAlign.TOP_LEFT=["TOP_LEFT",1];a.display.StageAlign.TOP_LEFT.toString=m;a.display.StageAlign.TOP_LEFT.__enum__=a.display.StageAlign;a.display.StageAlign.TOP=["TOP",2];a.display.StageAlign.TOP.toString=
m;a.display.StageAlign.TOP.__enum__=a.display.StageAlign;a.display.StageAlign.RIGHT=["RIGHT",3];a.display.StageAlign.RIGHT.toString=m;a.display.StageAlign.RIGHT.__enum__=a.display.StageAlign;a.display.StageAlign.LEFT=["LEFT",4];a.display.StageAlign.LEFT.toString=m;a.display.StageAlign.LEFT.__enum__=a.display.StageAlign;a.display.StageAlign.BOTTOM_RIGHT=["BOTTOM_RIGHT",5];a.display.StageAlign.BOTTOM_RIGHT.toString=m;a.display.StageAlign.BOTTOM_RIGHT.__enum__=a.display.StageAlign;a.display.StageAlign.BOTTOM_LEFT=
["BOTTOM_LEFT",6];a.display.StageAlign.BOTTOM_LEFT.toString=m;a.display.StageAlign.BOTTOM_LEFT.__enum__=a.display.StageAlign;a.display.StageAlign.BOTTOM=["BOTTOM",7];a.display.StageAlign.BOTTOM.toString=m;a.display.StageAlign.BOTTOM.__enum__=a.display.StageAlign;a.display.StageDisplayState=l["openfl.display.StageDisplayState"]={__ename__:!0,__constructs__:["NORMAL","FULL_SCREEN","FULL_SCREEN_INTERACTIVE"]};a.display.StageDisplayState.NORMAL=["NORMAL",0];a.display.StageDisplayState.NORMAL.toString=
m;a.display.StageDisplayState.NORMAL.__enum__=a.display.StageDisplayState;a.display.StageDisplayState.FULL_SCREEN=["FULL_SCREEN",1];a.display.StageDisplayState.FULL_SCREEN.toString=m;a.display.StageDisplayState.FULL_SCREEN.__enum__=a.display.StageDisplayState;a.display.StageDisplayState.FULL_SCREEN_INTERACTIVE=["FULL_SCREEN_INTERACTIVE",2];a.display.StageDisplayState.FULL_SCREEN_INTERACTIVE.toString=m;a.display.StageDisplayState.FULL_SCREEN_INTERACTIVE.__enum__=a.display.StageDisplayState;a.display.StageQuality=
l["openfl.display.StageQuality"]={__ename__:!0,__constructs__:["BEST","HIGH","MEDIUM","LOW"]};a.display.StageQuality.BEST=["BEST",0];a.display.StageQuality.BEST.toString=m;a.display.StageQuality.BEST.__enum__=a.display.StageQuality;a.display.StageQuality.HIGH=["HIGH",1];a.display.StageQuality.HIGH.toString=m;a.display.StageQuality.HIGH.__enum__=a.display.StageQuality;a.display.StageQuality.MEDIUM=["MEDIUM",2];a.display.StageQuality.MEDIUM.toString=m;a.display.StageQuality.MEDIUM.__enum__=a.display.StageQuality;
a.display.StageQuality.LOW=["LOW",3];a.display.StageQuality.LOW.toString=m;a.display.StageQuality.LOW.__enum__=a.display.StageQuality;a.display.StageScaleMode=l["openfl.display.StageScaleMode"]={__ename__:!0,__constructs__:["SHOW_ALL","NO_SCALE","NO_BORDER","EXACT_FIT"]};a.display.StageScaleMode.SHOW_ALL=["SHOW_ALL",0];a.display.StageScaleMode.SHOW_ALL.toString=m;a.display.StageScaleMode.SHOW_ALL.__enum__=a.display.StageScaleMode;a.display.StageScaleMode.NO_SCALE=["NO_SCALE",1];a.display.StageScaleMode.NO_SCALE.toString=
m;a.display.StageScaleMode.NO_SCALE.__enum__=a.display.StageScaleMode;a.display.StageScaleMode.NO_BORDER=["NO_BORDER",2];a.display.StageScaleMode.NO_BORDER.toString=m;a.display.StageScaleMode.NO_BORDER.__enum__=a.display.StageScaleMode;a.display.StageScaleMode.EXACT_FIT=["EXACT_FIT",3];a.display.StageScaleMode.EXACT_FIT.toString=m;a.display.StageScaleMode.EXACT_FIT.__enum__=a.display.StageScaleMode;a.display.Tilesheet=function(){};l["openfl.display.Tilesheet"]=a.display.Tilesheet;a.display.Tilesheet.__name__=
!0;a.display.Tilesheet.prototype={__class__:a.display.Tilesheet};a.display.TriangleCulling=l["openfl.display.TriangleCulling"]={__ename__:!0,__constructs__:["NEGATIVE","NONE","POSITIVE"]};a.display.TriangleCulling.NEGATIVE=["NEGATIVE",0];a.display.TriangleCulling.NEGATIVE.toString=m;a.display.TriangleCulling.NEGATIVE.__enum__=a.display.TriangleCulling;a.display.TriangleCulling.NONE=["NONE",1];a.display.TriangleCulling.NONE.toString=m;a.display.TriangleCulling.NONE.__enum__=a.display.TriangleCulling;
a.display.TriangleCulling.POSITIVE=["POSITIVE",2];a.display.TriangleCulling.POSITIVE.toString=m;a.display.TriangleCulling.POSITIVE.__enum__=a.display.TriangleCulling;a.display.Window=function(a){e.ui.Window.call(this,a)};l["openfl.display.Window"]=a.display.Window;a.display.Window.__name__=!0;a.display.Window.__super__=e.ui.Window;a.display.Window.prototype=w(e.ui.Window.prototype,{create:function(b){e.ui.Window.prototype.create.call(this,b);this.stage=new a.display.Stage(this,Object.prototype.hasOwnProperty.call(this.config,
"background")?this.config.background:16777215);b.addModule(this.stage)},__class__:a.display.Window});a.events.Event=function(b,e,c){null==c&&(c=!1);null==e&&(e=!1);this.type=b;this.bubbles=e;this.cancelable=c;this.eventPhase=a.events.EventPhase.AT_TARGET};l["openfl.events.Event"]=a.events.Event;a.events.Event.__name__=!0;a.events.Event.prototype={stopImmediatePropagation:function(){this.__isCancelledNow=this.__isCancelled=!0},stopPropagation:function(){this.__isCancelled=!0},__class__:a.events.Event};
a.events.TextEvent=function(b,e,c,d){null==d&&(d="");null==c&&(c=!1);null==e&&(e=!1);a.events.Event.call(this,b,e,c);this.text=d};l["openfl.events.TextEvent"]=a.events.TextEvent;a.events.TextEvent.__name__=!0;a.events.TextEvent.__super__=a.events.Event;a.events.TextEvent.prototype=w(a.events.Event.prototype,{__class__:a.events.TextEvent});a.events.ErrorEvent=function(b,e,c,d,f){null==f&&(f=0);null==d&&(d="");null==c&&(c=!1);null==e&&(e=!1);a.events.TextEvent.call(this,b,e,c,d);this.errorID=f};l["openfl.events.ErrorEvent"]=
a.events.ErrorEvent;a.events.ErrorEvent.__name__=!0;a.events.ErrorEvent.__super__=a.events.TextEvent;a.events.ErrorEvent.prototype=w(a.events.TextEvent.prototype,{__class__:a.events.ErrorEvent});a.events._EventDispatcher={};a.events._EventDispatcher.Listener=function(a,e,c){this.callback=a;this.useCapture=e;this.priority=c};l["openfl.events._EventDispatcher.Listener"]=a.events._EventDispatcher.Listener;a.events._EventDispatcher.Listener.__name__=!0;a.events._EventDispatcher.Listener.prototype={match:function(a,
e){return v.compareMethods(this.callback,a)&&this.useCapture==e},__class__:a.events._EventDispatcher.Listener};a.events.EventPhase=l["openfl.events.EventPhase"]={__ename__:!0,__constructs__:["CAPTURING_PHASE","AT_TARGET","BUBBLING_PHASE"]};a.events.EventPhase.CAPTURING_PHASE=["CAPTURING_PHASE",0];a.events.EventPhase.CAPTURING_PHASE.toString=m;a.events.EventPhase.CAPTURING_PHASE.__enum__=a.events.EventPhase;a.events.EventPhase.AT_TARGET=["AT_TARGET",1];a.events.EventPhase.AT_TARGET.toString=m;a.events.EventPhase.AT_TARGET.__enum__=
a.events.EventPhase;a.events.EventPhase.BUBBLING_PHASE=["BUBBLING_PHASE",2];a.events.EventPhase.BUBBLING_PHASE.toString=m;a.events.EventPhase.BUBBLING_PHASE.__enum__=a.events.EventPhase;a.events.FocusEvent=function(b,e,c,d,f,g){null==g&&(g=0);null==f&&(f=!1);null==c&&(c=!1);null==e&&(e=!1);a.events.Event.call(this,b,e,c);this.keyCode=g;this.shiftKey=f;this.relatedObject=d};l["openfl.events.FocusEvent"]=a.events.FocusEvent;a.events.FocusEvent.__name__=!0;a.events.FocusEvent.__super__=a.events.Event;
a.events.FocusEvent.prototype=w(a.events.Event.prototype,{__class__:a.events.FocusEvent});a.events.FullScreenEvent=function(b,e,c,d,f){null==f&&(f=!1);null==d&&(d=!1);null==c&&(c=!1);null==e&&(e=!1);a.events.Event.call(this,b,e,c);this.fullScreen=d;this.interactive=f};l["openfl.events.FullScreenEvent"]=a.events.FullScreenEvent;a.events.FullScreenEvent.__name__=!0;a.events.FullScreenEvent.__super__=a.events.Event;a.events.FullScreenEvent.prototype=w(a.events.Event.prototype,{__class__:a.events.FullScreenEvent});
a.events.GameInputEvent=function(b,e,c,d){null==c&&(c=!1);null==e&&(e=!0);a.events.Event.call(this,b,e,c);this.device=d};l["openfl.events.GameInputEvent"]=a.events.GameInputEvent;a.events.GameInputEvent.__name__=!0;a.events.GameInputEvent.__super__=a.events.Event;a.events.GameInputEvent.prototype=w(a.events.Event.prototype,{__class__:a.events.GameInputEvent});a.events.HTTPStatusEvent=function(b,e,c,d){null==d&&(d=0);null==c&&(c=!1);null==e&&(e=!1);this.status=d;a.events.Event.call(this,b,e,c)};l["openfl.events.HTTPStatusEvent"]=
a.events.HTTPStatusEvent;a.events.HTTPStatusEvent.__name__=!0;a.events.HTTPStatusEvent.__super__=a.events.Event;a.events.HTTPStatusEvent.prototype=w(a.events.Event.prototype,{__class__:a.events.HTTPStatusEvent});a.events.IOErrorEvent=function(b,e,c,d,f){null==f&&(f=0);null==d&&(d="");null==c&&(c=!1);null==e&&(e=!0);a.events.ErrorEvent.call(this,b,e,c,d,f)};l["openfl.events.IOErrorEvent"]=a.events.IOErrorEvent;a.events.IOErrorEvent.__name__=!0;a.events.IOErrorEvent.__super__=a.events.ErrorEvent;a.events.IOErrorEvent.prototype=
w(a.events.ErrorEvent.prototype,{__class__:a.events.IOErrorEvent});a.events.KeyboardEvent=function(b,e,c,d,f,g,l,m,p,q,r){null==r&&(r=!1);null==q&&(q=!1);null==p&&(p=!1);null==m&&(m=!1);null==l&&(l=!1);null==f&&(f=0);null==d&&(d=0);null==c&&(c=!1);null==e&&(e=!1);a.events.Event.call(this,b,e,c);this.charCode=d;this.keyCode=f;this.keyLocation=null!=g?g:0;this.ctrlKey=l;this.altKey=m;this.shiftKey=p;this.controlKey=q;this.commandKey=r};l["openfl.events.KeyboardEvent"]=a.events.KeyboardEvent;a.events.KeyboardEvent.__name__=
!0;a.events.KeyboardEvent.__super__=a.events.Event;a.events.KeyboardEvent.prototype=w(a.events.Event.prototype,{__class__:a.events.KeyboardEvent});a.events.MouseEvent=function(b,e,c,d,f,g,l,m,p,q,r,u,n){null==n&&(n=0);null==u&&(u=!1);null==r&&(r=0);null==q&&(q=!1);null==p&&(p=!1);null==m&&(m=!1);null==l&&(l=!1);null==f&&(f=0);null==d&&(d=0);null==c&&(c=!1);null==e&&(e=!0);a.events.Event.call(this,b,e,c);this.shiftKey=p;this.altKey=m;this.ctrlKey=l;this.bubbles=e;this.relatedObject=g;this.delta=r;
this.localX=d;this.localY=f;this.buttonDown=q;this.commandKey=u;this.clickCount=n};l["openfl.events.MouseEvent"]=a.events.MouseEvent;a.events.MouseEvent.__name__=!0;a.events.MouseEvent.__altKey=null;a.events.MouseEvent.__buttonDown=null;a.events.MouseEvent.__commandKey=null;a.events.MouseEvent.__ctrlKey=null;a.events.MouseEvent.__shiftKey=null;a.events.MouseEvent.__create=function(b,e,c,d,f,g,l){null==l&&(l=0);switch(b){case a.events.MouseEvent.MOUSE_DOWN:a.events.MouseEvent.__buttonDown=!0;break;
case a.events.MouseEvent.MOUSE_UP:a.events.MouseEvent.__buttonDown=!1}b=new a.events.MouseEvent(b,!0,!1,f.x,f.y,null,a.events.MouseEvent.__ctrlKey,a.events.MouseEvent.__altKey,a.events.MouseEvent.__shiftKey,a.events.MouseEvent.__buttonDown,l,a.events.MouseEvent.__commandKey);b.stageX=c;b.stageY=d;b.target=g;return b};a.events.MouseEvent.__super__=a.events.Event;a.events.MouseEvent.prototype=w(a.events.Event.prototype,{__class__:a.events.MouseEvent});a.events.ProgressEvent=function(b,e,c,d,f){null==
f&&(f=0);null==d&&(d=0);null==c&&(c=!1);null==e&&(e=!1);a.events.Event.call(this,b,e,c);this.bytesLoaded=d;this.bytesTotal=f};l["openfl.events.ProgressEvent"]=a.events.ProgressEvent;a.events.ProgressEvent.__name__=!0;a.events.ProgressEvent.__super__=a.events.Event;a.events.ProgressEvent.prototype=w(a.events.Event.prototype,{__class__:a.events.ProgressEvent});a.events.SecurityErrorEvent=function(b,e,c,d,f){null==f&&(f=0);null==d&&(d="");null==c&&(c=!1);null==e&&(e=!1);a.events.ErrorEvent.call(this,
b,e,c,d,f)};l["openfl.events.SecurityErrorEvent"]=a.events.SecurityErrorEvent;a.events.SecurityErrorEvent.__name__=!0;a.events.SecurityErrorEvent.__super__=a.events.ErrorEvent;a.events.SecurityErrorEvent.prototype=w(a.events.ErrorEvent.prototype,{__class__:a.events.SecurityErrorEvent});a.events.TouchEvent=function(b,e,c,d,f,g,l,m,p,q,r,u,n,t,v){null==t&&(t=!1);null==n&&(n=0);null==u&&(u=!1);null==r&&(r=!1);null==q&&(q=!1);null==p&&(p=!1);null==l&&(l=1);null==g&&(g=1);null==f&&(f=0);null==d&&(d=0);
null==c&&(c=!1);null==e&&(e=!0);a.events.Event.call(this,b,e,c);this.shiftKey=r;this.altKey=q;this.ctrlKey=p;this.bubbles=e;this.relatedObject=m;this.delta=n;this.localX=d;this.localY=f;this.sizeX=g;this.sizeY=l;this.buttonDown=u;this.commandKey=t;this.pressure=1;this.touchPointID=0;this.isPrimaryTouchPoint=!0};l["openfl.events.TouchEvent"]=a.events.TouchEvent;a.events.TouchEvent.__name__=!0;a.events.TouchEvent.__create=function(b,e,c,d,f,g){b=new a.events.TouchEvent(b,!0,!1,f.x,f.y,1,1,null,!1,!1,
!1,!1,0,!1,0);b.stageX=c;b.stageY=d;b.target=g;return b};a.events.TouchEvent.__super__=a.events.Event;a.events.TouchEvent.prototype=w(a.events.Event.prototype,{__class__:a.events.TouchEvent});a.filters={};a.filters.BitmapFilter=function(){this.__saveLastFilter=!1;this.__passes=0};l["openfl.filters.BitmapFilter"]=a.filters.BitmapFilter;a.filters.BitmapFilter.__name__=!0;a.filters.BitmapFilter.__tmpRenderTexture=null;a.filters.BitmapFilter.__expandBounds=function(b,e,c){var d=a.geom.Rectangle.__temp;
d.setEmpty();for(var f=0;f<b.length;){var g=b[f];++f;g.__growBounds(d)}d.__transform(d,c);e.__expand(d.x,d.y,d.width,d.height)};a.filters.BitmapFilter.__applyFilters=function(b,e,c,d,f,g){if(g=d==c&&d.__usingPingPongTexture)d.__pingPongTexture.useOldTexture=!0;null==f&&(f=c.rect);for(var l=null,m=!1,p=c.__shader,q=0;q<b.length;){var r=b[q];++q;r.__saveLastFilter&&(d.__pingPongTexture.swap(),d.__drawGL(e,c,null,null,null,f,!0,!d.__usingPingPongTexture,!0),l=d.__pingPongTexture.get_oldRenderTexture(),
d.__pingPongTexture.set_oldRenderTexture(a.filters.BitmapFilter.__tmpRenderTexture));for(var u=0,n=r.__passes;u<n;){var t=u++,m=r.__saveLastFilter&&r.__useLastFilter(t);g&&!m&&d.__pingPongTexture.swap();m&&(a.filters.BitmapFilter.__tmpRenderTexture=d.__pingPongTexture.get_oldRenderTexture(),d.__pingPongTexture.set_oldRenderTexture(l));c.__shader=r.__preparePass(t);d.__drawGL(e,c,null,null,null,f,!0,!d.__usingPingPongTexture,!m)}}c.__shader=p;g&&(d.__pingPongTexture.useOldTexture=!1)};a.filters.BitmapFilter.prototype=
{__growBounds:function(a){},__preparePass:function(a){return null},__useLastFilter:function(a){return!1},__class__:a.filters.BitmapFilter};a.geom.Transform=function(b){this.__colorTransform=new a.geom.ColorTransform;this.concatenatedColorTransform=new a.geom.ColorTransform;this.pixelBounds=new a.geom.Rectangle;this.__displayObject=b;this.__hasMatrix=!0};l["openfl.geom.Transform"]=a.geom.Transform;a.geom.Transform.__name__=!0;a.geom.Transform.prototype={get_colorTransform:function(){return this.__colorTransform},
__class__:a.geom.Transform,__properties__:{get_colorTransform:"get_colorTransform"}};a.media={};a.media.ID3Info=function(){};l["openfl.media.ID3Info"]=a.media.ID3Info;a.media.ID3Info.__name__=!0;a.media.Sound=function(b,e){a.events.EventDispatcher.call(this,this);this.bytesTotal=this.bytesLoaded=0;this.id3=null;this.isBuffering=!1;this.url=null;null!=b&&this.load(b,e)};l["openfl.media.Sound"]=a.media.Sound;a.media.Sound.__name__=!0;a.media.Sound.__super__=a.events.EventDispatcher;a.media.Sound.prototype=
w(a.events.EventDispatcher.prototype,{load:function(b,e){this.url=b.url;this.__soundID=q.io.Path.withoutExtension(b.url);a.media.Sound.__registeredSounds.exists(this.__soundID)?this.dispatchEvent(new a.events.Event(a.events.Event.COMPLETE)):(a.media.Sound.__registeredSounds.set(this.__soundID,!0),createjs.Sound.addEventListener("fileload",t(this,this.SoundJS_onFileLoad)),createjs.Sound.addEventListener("fileerror",t(this,this.SoundJS_onFileError)),createjs.Sound.registerSound(this.url,this.__soundID))},
SoundJS_onFileLoad:function(b){b.id==this.__soundID&&(createjs.Sound.removeEventListener("fileload",t(this,this.SoundJS_onFileLoad)),createjs.Sound.removeEventListener("fileerror",t(this,this.SoundJS_onFileError)),this.dispatchEvent(new a.events.Event(a.events.Event.COMPLETE)))},SoundJS_onFileError:function(b){b.id==this.__soundID&&(createjs.Sound.removeEventListener("fileload",t(this,this.SoundJS_onFileLoad)),createjs.Sound.removeEventListener("fileerror",t(this,this.SoundJS_onFileError)),this.dispatchEvent(new a.events.IOErrorEvent(a.events.IOErrorEvent.IO_ERROR)))},
__class__:a.media.Sound});a.media.SoundLoaderContext=function(){};l["openfl.media.SoundLoaderContext"]=a.media.SoundLoaderContext;a.media.SoundLoaderContext.__name__=!0;a.media.SoundTransform=function(a,e){null==e&&(e=0);null==a&&(a=1);this.volume=a;this.pan=e;this.rightToRight=this.rightToLeft=this.leftToRight=this.leftToLeft=0};l["openfl.media.SoundTransform"]=a.media.SoundTransform;a.media.SoundTransform.__name__=!0;a.media.SoundTransform.prototype={__class__:a.media.SoundTransform};a.net={};a.net.URLLoader=
function(b){a.events.EventDispatcher.call(this);this.bytesTotal=this.bytesLoaded=0;this.set_dataFormat(a.net.URLLoaderDataFormat.TEXT);null!=b&&this.load(b)};l["openfl.net.URLLoader"]=a.net.URLLoader;a.net.URLLoader.__name__=!0;a.net.URLLoader.__super__=a.events.EventDispatcher;a.net.URLLoader.prototype=w(a.events.EventDispatcher.prototype,{getData:function(){return null},load:function(a){this.requestUrl(a.url,a.method,a.data,a.formatRequestHeaders())},registerEvents:function(a){var e=this;"undefined"!=
typeof XMLHttpRequestProgressEvent&&a.addEventListener("progress",t(this,this.onProgress),!1);a.onreadystatechange=function(){if(4==a.readyState){var c;try{c=a.status}catch(d){c=null}void 0==c&&(c=null);if(null!=c)e.onStatus(c);if(null!=c&&200<=c&&400>c)e.onData(a.response);else if(null==c)e.onError("Failed to connect or resolve host");else if(12029==c)e.onError("Failed to connect to host");else if(12007==c)e.onError("Unknown host");else if(0==c)e.onError("Unable to make request (may be blocked due to cross-domain permissions)"),
e.onSecurityError("Unable to make request (may be blocked due to cross-domain permissions)");else e.onError("Http Error #"+a.status)}}},requestUrl:function(b,h,c,d){var f=new XMLHttpRequest;this.registerEvents(f);var g="";if(x.Boot.__instanceof(c,e.utils.ByteArray))switch(this.dataFormat[1]){case 0:g=c.data.buffer;break;default:g=c.readUTFBytes(c.length)}else if(x.Boot.__instanceof(c,a.net.URLVariables))for(var l=0,m=v.fields(c);l<m.length;){var p=m[l];++l;0!=g.length&&(g+="&");g+=encodeURIComponent(p)+
"="+G.urlEncode(v.field(c,p))}else null!=c&&(g=c.toString());try{if("GET"==h&&null!=g&&""!=g){var q=1>=b.split("?").length;f.open(h,b+(q?"?":"&")+r.string(g),!0);g=""}else f.open(h,b,!0)}catch(t){this.onError(t.toString());return}switch(this.dataFormat[1]){case 0:f.responseType="arraybuffer"}for(b=0;b<d.length;)h=d[b],++b,f.setRequestHeader(h.name,h.value);f.send(g);this.onOpen();this.getData=function(){return null!=f.response?f.response:f.responseText}},onData:function(b){b=this.getData();switch(this.dataFormat[1]){case 0:this.data=
e.utils.ByteArray.__ofBuffer(b);break;default:this.data=r.string(b)}b=new a.events.Event(a.events.Event.COMPLETE);b.currentTarget=this;this.dispatchEvent(b)},onError:function(b){var e=new a.events.IOErrorEvent(a.events.IOErrorEvent.IO_ERROR);e.text=b;e.currentTarget=this;this.dispatchEvent(e)},onOpen:function(){var b=new a.events.Event(a.events.Event.OPEN);b.currentTarget=this;this.dispatchEvent(b)},onProgress:function(b){var e=new a.events.ProgressEvent(a.events.ProgressEvent.PROGRESS);e.currentTarget=
this;e.bytesLoaded=b.loaded;e.bytesTotal=b.total;this.dispatchEvent(e)},onSecurityError:function(b){var e=new a.events.SecurityErrorEvent(a.events.SecurityErrorEvent.SECURITY_ERROR);e.text=b;e.currentTarget=this;this.dispatchEvent(e)},onStatus:function(b){b=new a.events.HTTPStatusEvent(a.events.HTTPStatusEvent.HTTP_STATUS,!1,!1,b);b.currentTarget=this;this.dispatchEvent(b)},set_dataFormat:function(b){b!=a.net.URLLoaderDataFormat.BINARY||v.hasField(window,"ArrayBuffer")?this.dataFormat=b:this.dataFormat=
a.net.URLLoaderDataFormat.TEXT;return this.dataFormat},__class__:a.net.URLLoader,__properties__:{set_dataFormat:"set_dataFormat"}});a.net.URLLoaderDataFormat=l["openfl.net.URLLoaderDataFormat"]={__ename__:!0,__constructs__:["BINARY","TEXT","VARIABLES"]};a.net.URLLoaderDataFormat.BINARY=["BINARY",0];a.net.URLLoaderDataFormat.BINARY.toString=m;a.net.URLLoaderDataFormat.BINARY.__enum__=a.net.URLLoaderDataFormat;a.net.URLLoaderDataFormat.TEXT=["TEXT",1];a.net.URLLoaderDataFormat.TEXT.toString=m;a.net.URLLoaderDataFormat.TEXT.__enum__=
a.net.URLLoaderDataFormat;a.net.URLLoaderDataFormat.VARIABLES=["VARIABLES",2];a.net.URLLoaderDataFormat.VARIABLES.toString=m;a.net.URLLoaderDataFormat.VARIABLES.__enum__=a.net.URLLoaderDataFormat;a.net.URLRequest=function(a){null!=a&&(this.url=a);this.requestHeaders=[];this.method="GET";this.contentType=null};l["openfl.net.URLRequest"]=a.net.URLRequest;a.net.URLRequest.__name__=!0;a.net.URLRequest.prototype={formatRequestHeaders:function(){var b=this.requestHeaders;null==b&&(b=[]);if("GET"==this.method||
null==this.data)return b;if("string"==typeof this.data||x.Boot.__instanceof(this.data,e.utils.ByteArray))b=b.slice(),b.push(new a.net.URLRequestHeader("Content-Type",null!=this.contentType?this.contentType:"application/x-www-form-urlencoded"));return b},__class__:a.net.URLRequest};a.net.URLRequestHeader=function(a,e){null==e&&(e="");null==a&&(a="");this.name=a;this.value=e};l["openfl.net.URLRequestHeader"]=a.net.URLRequestHeader;a.net.URLRequestHeader.__name__=!0;a.net.URLRequestHeader.prototype=
{__class__:a.net.URLRequestHeader};a.net.URLVariables=function(){};l["openfl.net.URLVariables"]=a.net.URLVariables;a.net.URLVariables.__name__=!0;a.text.AntiAliasType=l["openfl.text.AntiAliasType"]={__ename__:!0,__constructs__:["ADVANCED","NORMAL"]};a.text.AntiAliasType.ADVANCED=["ADVANCED",0];a.text.AntiAliasType.ADVANCED.toString=m;a.text.AntiAliasType.ADVANCED.__enum__=a.text.AntiAliasType;a.text.AntiAliasType.NORMAL=["NORMAL",1];a.text.AntiAliasType.NORMAL.toString=m;a.text.AntiAliasType.NORMAL.__enum__=
a.text.AntiAliasType;a.text.GridFitType=l["openfl.text.GridFitType"]={__ename__:!0,__constructs__:["NONE","PIXEL","SUBPIXEL"]};a.text.GridFitType.NONE=["NONE",0];a.text.GridFitType.NONE.toString=m;a.text.GridFitType.NONE.__enum__=a.text.GridFitType;a.text.GridFitType.PIXEL=["PIXEL",1];a.text.GridFitType.PIXEL.toString=m;a.text.GridFitType.PIXEL.__enum__=a.text.GridFitType;a.text.GridFitType.SUBPIXEL=["SUBPIXEL",2];a.text.GridFitType.SUBPIXEL.toString=m;a.text.GridFitType.SUBPIXEL.__enum__=a.text.GridFitType;
a.text.TextField=function(){a.display.InteractiveObject.call(this);this.__caretIndex=-1;this.__graphics=new a.display.Graphics;this.__textEngine=new a._internal.text.TextEngine(this);this.__tabEnabled=this.__layoutDirty=!0;null==a.text.TextField.__defaultTextFormat&&(a.text.TextField.__defaultTextFormat=new a.text.TextFormat("Times New Roman",12,0,!1,!1,!1,"","",a.text.TextFormatAlign.LEFT,0,0,0,0),a.text.TextField.__defaultTextFormat.blockIndent=0,a.text.TextField.__defaultTextFormat.bullet=!1,a.text.TextField.__defaultTextFormat.letterSpacing=
0,a.text.TextField.__defaultTextFormat.kerning=!1);this.__textFormat=a.text.TextField.__defaultTextFormat.clone();this.__textEngine.textFormatRanges.push(new a._internal.text.TextFormatRange(this.__textFormat,0,0));this.addEventListener(a.events.MouseEvent.MOUSE_DOWN,t(this,this.this_onMouseDown))};l["openfl.text.TextField"]=a.text.TextField;a.text.TextField.__name__=!0;a.text.TextField.__defaultTextFormat=null;a.text.TextField.__super__=a.display.InteractiveObject;a.text.TextField.prototype=w(a.display.InteractiveObject.prototype,
{getCharBoundaries:function(b){if(0>b||b>this.__textEngine.text.length-1)return null;this.__updateLayout();for(var e=0,c=this.__textEngine.layoutGroups;e<c.length;){var d=c[e];++e;if(b>=d.startIndex&&b<=d.endIndex){for(var e=d.offsetX,c=0,f=b-d.startIndex;c<f;)var g=c++,e=e+d.advances[g];return new a.geom.Rectangle(e,d.offsetY,d.advances[b-d.startIndex],d.ascent+d.descent)}}return null},replaceSelectedText:function(a){if(""!=a||this.__selectionIndex!=this.__caretIndex){var e;e=this.__caretIndex<this.__selectionIndex?
this.__caretIndex:this.__selectionIndex;this.replaceText(e,this.__caretIndex>this.__selectionIndex?this.__caretIndex:this.__selectionIndex,a);this.__selectionIndex=this.__caretIndex=e+a.length}},replaceText:function(a,e,c){if(!(e<a||0>a||e>this.__textEngine.text.length||null==c)){this.__textEngine.text=this.__textEngine.text.substring(0,a)+c+this.__textEngine.text.substring(e);c=c.length-(e-a);for(var d=0,f;d<this.__textEngine.textFormatRanges.length;)f=this.__textEngine.textFormatRanges[d],f.start<=
a&&f.end>=e?(f.end+=c,d++):f.start>=a&&f.end<=e?(this.__textEngine.textFormatRanges.splice(d,1),c-=f.end-f.start):(f.start>a&&f.start<=e&&(f.start+=c),d++);this.__layoutDirty=this.__dirty=!0}},__getBounds:function(b,e){this.__updateLayout();var c=a.geom.Rectangle.__temp;this.__textEngine.bounds.__transform(c,e);b.__expand(c.x,c.y,c.width,c.height)},__getCursor:function(){return this.__textEngine.selectable?e.ui.MouseCursor.TEXT:null},__getPosition:function(a,e){this.__updateLayout();a+=this.get_scrollH();
for(var c=0,d=this.get_scrollV()-1;c<d;){var f=c++;e+=this.__textEngine.lineHeights[f]}e>this.__textEngine.textHeight&&(e=this.__textEngine.textHeight);for(var d=!0,g,f=0,l=this.__textEngine.layoutGroups.length;f<l;)if(g=f++,c=this.__textEngine.layoutGroups[g],g=g<this.__textEngine.layoutGroups.length-1?this.__textEngine.layoutGroups[g+1]:null,d&&(e<c.offsetY&&(e=c.offsetY),a<c.offsetX&&(a=c.offsetX),d=!1),e>=c.offsetY&&e<=c.offsetY+c.height||null==g)if(a>=c.offsetX&&a<=c.offsetX+c.width||null==g||
g.lineIndex!=c.lineIndex){f=d=0;for(l=c.advances.length;f<l;)if(g=f++,d+=c.advances[g],a<=c.offsetX+d){if(a<=c.offsetX+(d-c.advances[g])+c.advances[g]/2)return c.startIndex+g;if(c.startIndex+g<c.endIndex)return c.startIndex+g+1;break}return c.endIndex}return this.__textEngine.text.length},__hitTest:function(a,e,c,d,f){if(!this.get_visible()||this.__isMask||f&&!this.mouseEnabled||null!=this.get_mask()&&!this.get_mask().__hitTestMask(a,e))return!1;this.__getWorldTransform();this.__updateLayout();c=
this.__worldTransform.__transformInverseX(a,e);a=this.__worldTransform.__transformInverseY(a,e);return this.__textEngine.bounds.contains(c,a)?(null!=d&&d.push(this),!0):!1},__hitTestMask:function(a,e){this.__getWorldTransform();this.__updateLayout();var c=this.__worldTransform.__transformInverseX(a,e),d=this.__worldTransform.__transformInverseY(a,e);return this.__textEngine.bounds.contains(c,d)?!0:!1},__renderCairo:function(b){a._internal.renderer.cairo.CairoTextField.render(this,b);a.display.InteractiveObject.prototype.__renderCairo.call(this,
b)},__renderCanvas:function(b){a._internal.renderer.canvas.CanvasTextField.render(this,b);if(this.__textEngine.antiAliasType==a.text.AntiAliasType.ADVANCED&&this.__textEngine.gridFitType==a.text.GridFitType.PIXEL){var e=b.context.imageSmoothingEnabled;e&&(b.context.mozImageSmoothingEnabled=!1,b.context.msImageSmoothingEnabled=!1,b.context.imageSmoothingEnabled=!1);a.display.InteractiveObject.prototype.__renderCanvas.call(this,b);e&&(b.context.mozImageSmoothingEnabled=!0,b.context.msImageSmoothingEnabled=
!0,b.context.imageSmoothingEnabled=!0)}else a.display.InteractiveObject.prototype.__renderCanvas.call(this,b)},__renderDOM:function(b){a._internal.renderer.dom.DOMTextField.render(this,b)},__renderGL:function(b){this.__cacheAsBitmap?this.__cacheGL(b):(null!=this.__scrollRect&&b.maskManager.pushRect(this.__scrollRect,this.__renderTransform),null!=this.__mask&&null!=this.__maskGraphics&&0<this.__maskGraphics.__commands.get_length()&&b.maskManager.pushMask(this),a._internal.renderer.canvas.CanvasTextField.render(this,
b),a._internal.renderer.opengl.GLRenderer.renderBitmap(this,b,this.__textEngine.antiAliasType!=a.text.AntiAliasType.ADVANCED||this.__textEngine.gridFitType!=a.text.GridFitType.PIXEL),null!=this.__mask&&null!=this.__maskGraphics&&0<this.__maskGraphics.__commands.get_length()&&b.maskManager.popMask(),null!=this.__scrollRect&&b.maskManager.popRect())},__startCursorTimer:function(){this.__cursorTimer=q.Timer.delay(t(this,this.__startCursorTimer),600);this.__showCursor=!this.__showCursor;this.__dirty=
!0},__startTextInput:function(){0>this.__caretIndex&&(this.__selectionIndex=this.__caretIndex=this.__textEngine.text.length);null!=this.stage&&(this.stage.window.backend.setEnableTextEvents(!0),this.__inputEnabled||(this.stage.window.backend.setEnableTextEvents(!0),this.stage.window.onTextInput.has(t(this,this.window_onTextInput))||(this.stage.window.onTextInput.add(t(this,this.window_onTextInput)),this.stage.window.onKeyDown.add(t(this,this.window_onKeyDown))),this.__inputEnabled=!0,this.__startCursorTimer()))},
__stopCursorTimer:function(){null!=this.__cursorTimer&&(this.__cursorTimer.stop(),this.__cursorTimer=null);this.__showCursor&&(this.__showCursor=!1,this.__dirty=!0)},__stopTextInput:function(){this.__inputEnabled&&null!=this.stage&&(this.stage.window.backend.setEnableTextEvents(!1),this.stage.window.onTextInput.remove(t(this,this.window_onTextInput)),this.stage.window.onKeyDown.remove(t(this,this.window_onKeyDown)),this.__inputEnabled=!1,this.__stopCursorTimer())},__updateLayout:function(){if(this.__layoutDirty){this.__textEngine.update();
if(this.__textEngine.autoSize!=a.text.TextFieldAutoSize.NONE){var b=this.__textEngine.width;switch(this.__textEngine.autoSize[1]){case 1:case 3:case 0:this.__textEngine.wordWrap||(this.__textEngine.width=this.__textEngine.textWidth+4),this.__textEngine.height=this.__textEngine.textHeight+4}if(this.__textEngine.width!=b)switch(this.__textEngine.autoSize[1]){case 3:this.set_x(this.get_x()+(b-this.__textEngine.width));break;case 0:this.set_x(this.get_x()+(b-this.__textEngine.width)/2)}this.__textEngine.getBounds()}this.__layoutDirty=
!1}},set_autoSize:function(a){a!=this.__textEngine.autoSize&&(this.__layoutDirty=this.__dirty=!0);return this.__textEngine.autoSize=a},set_defaultTextFormat:function(a){this.__textFormat.__merge(a);this.__dirty=this.__layoutDirty=!0;return a},set_embedFonts:function(a){return this.__textEngine.embedFonts=a},get_height:function(){this.__updateLayout();return this.__textEngine.height},set_height:function(b){if(1!=this.get_scaleY()||b!=this.__textEngine.height)this.__transformDirty||(this.__transformDirty=
!0,a.display.DisplayObject.__worldTransformDirty++),this.__layoutDirty=this.__dirty=!0;this.set_scaleY(1);return this.__textEngine.height=b},get_htmlText:function(){return this.__textEngine.text},set_htmlText:function(b){this.__isHTML&&this.__textEngine.text==b||(this.__layoutDirty=this.__dirty=!0);this.__isHTML=!0;if(null==this.__div){b=(new P("<br>","g")).replace(b,"\n");b=(new P("<br/>","g")).replace(b,"\n");var e=b.split("<font");if(1==e.length)b=(new P("<.*?>","g")).replace(b,""),1<this.__textEngine.textFormatRanges.length&&
this.__textEngine.textFormatRanges.splice(1,this.__textEngine.textFormatRanges.length-1),e=this.__textEngine.textFormatRanges[0],e.format=this.__textFormat,e.start=0,e.end=b.length;else{this.__textEngine.textFormatRanges.splice(0,this.__textEngine.textFormatRanges.length);b="";for(var c=0;c<e.length;){var d=e[c];++c;if(""!=d){var f=d.indexOf("</font>");if(-1<f){var g=d.indexOf(">")+1,l=f,m=this.__textFormat.clone(),p=d.indexOf("face="),q=d.indexOf("color="),t=d.indexOf("size=");if(-1<p&&p<g){var u=
d.indexOf('"',p);m.font=z.substr(d,p+6,u)}-1<q&&q<g&&(m.color=r.parseInt("0x"+z.substr(d,q+8,6)));-1<t&&t<g&&(m.size=r.parseInt(function(a){a=d.indexOf('"',t);return z.substr(d,t+6,a)}(this)));g=d.substring(g,l);g=(new P("<.*?>","g")).replace(g,"");this.__textEngine.textFormatRanges.push(new a._internal.text.TextFormatRange(m,b.length,b.length+g.length));b+=g;f+7<d.length&&(g=z.substr(d,f+7,null),this.__textEngine.textFormatRanges.push(new a._internal.text.TextFormatRange(this.__textFormat,b.length,
b.length+g.length)),b+=g)}else this.__textEngine.textFormatRanges.push(new a._internal.text.TextFormatRange(this.__textFormat,b.length,b.length+d.length)),b+=d}}}}return this.__textEngine.text=b},set_maxChars:function(a){a!=this.__textEngine.maxChars&&(this.__layoutDirty=this.__dirty=!0);return this.__textEngine.maxChars=a},set_multiline:function(a){a!=this.__textEngine.multiline&&(this.__layoutDirty=this.__dirty=!0);return this.__textEngine.multiline=a},get_scrollH:function(){return this.__textEngine.scrollH},
get_scrollV:function(){return this.__textEngine.scrollV},get_selectable:function(){return this.__textEngine.selectable},set_selectable:function(b){b!=this.__textEngine.selectable&&this.get_type()==a.text.TextFieldType.INPUT&&(null!=this.stage&&this.stage.get_focus()==this?this.__startTextInput():b||this.__stopTextInput());return this.__textEngine.selectable=b},get_text:function(){return this.__textEngine.text},set_text:function(a){if(this.__isHTML||this.__textEngine.text!=a)this.__layoutDirty=this.__dirty=
!0;else return a;1<this.__textEngine.textFormatRanges.length&&this.__textEngine.textFormatRanges.splice(1,this.__textEngine.textFormatRanges.length-1);var e=this.__textEngine.textFormatRanges[0];e.format=this.__textFormat;e.start=0;e.end=a.length;this.__isHTML=!1;return this.__textEngine.text=a},get_textHeight:function(){this.__updateLayout();return this.__textEngine.textHeight},get_type:function(){return this.__textEngine.type},set_type:function(b){b!=this.__textEngine.type&&(b==a.text.TextFieldType.INPUT?
(this.addEventListener(a.events.FocusEvent.FOCUS_IN,t(this,this.this_onFocusIn)),this.addEventListener(a.events.FocusEvent.FOCUS_OUT,t(this,this.this_onFocusOut)),this.addEventListener(a.events.Event.ADDED_TO_STAGE,t(this,this.this_onAddedToStage)),this.this_onFocusIn(null)):(this.removeEventListener(a.events.FocusEvent.FOCUS_IN,t(this,this.this_onFocusIn)),this.removeEventListener(a.events.FocusEvent.FOCUS_OUT,t(this,this.this_onFocusOut)),this.removeEventListener(a.events.Event.ADDED_TO_STAGE,t(this,
this.this_onAddedToStage)),this.__stopTextInput()),this.__dirty=!0);return this.__textEngine.type=b},get_width:function(){this.__updateLayout();return this.__textEngine.width},set_width:function(b){if(1!=this.get_scaleX()||this.__textEngine.width!=b)this.__transformDirty||(this.__transformDirty=!0,a.display.DisplayObject.__worldTransformDirty++),this.__layoutDirty=this.__dirty=!0;this.set_scaleX(1);return this.__textEngine.width=b},set_wordWrap:function(a){a!=this.__textEngine.wordWrap&&(this.__layoutDirty=
this.__dirty=!0);return this.__textEngine.wordWrap=a},stage_onMouseMove:function(a){null!=this.stage&&this.__textEngine.selectable&&0<=this.__selectionIndex&&(this.__updateLayout(),a=this.__getPosition(this.get_mouseX(),this.get_mouseY()),a!=this.__caretIndex&&(this.__caretIndex=a,this.__dirty=!0))},stage_onMouseUp:function(b){if(null!=this.stage&&(this.stage.removeEventListener(a.events.MouseEvent.MOUSE_MOVE,t(this,this.stage_onMouseMove)),this.stage.removeEventListener(a.events.MouseEvent.MOUSE_UP,
t(this,this.stage_onMouseUp)),this.stage.get_focus()==this)){this.__getWorldTransform();this.__updateLayout();this.__worldTransform.__transformInverseX(this.get_x(),this.get_y());this.__worldTransform.__transformInverseY(this.get_x(),this.get_y());var e=this.__getPosition(this.get_mouseX(),this.get_mouseY());b=r["int"](Math.min(this.__selectionIndex,e));e=r["int"](Math.max(this.__selectionIndex,e));this.__selectionIndex=b;this.__caretIndex=e;this.__inputEnabled&&(this.this_onFocusIn(null),this.__stopCursorTimer(),
this.__startCursorTimer())}},this_onAddedToStage:function(a){this.this_onFocusIn(null)},this_onFocusIn:function(b){this.get_selectable()&&this.get_type()==a.text.TextFieldType.INPUT&&null!=this.stage&&this.stage.get_focus()==this&&this.__startTextInput()},this_onFocusOut:function(a){this.__stopTextInput()},this_onMouseDown:function(b){this.get_selectable()&&(this.__updateLayout(),this.__selectionIndex=this.__caretIndex=this.__getPosition(this.get_mouseX(),this.get_mouseY()),this.__dirty=!0,this.stage.addEventListener(a.events.MouseEvent.MOUSE_MOVE,
t(this,this.stage_onMouseMove)),this.stage.addEventListener(a.events.MouseEvent.MOUSE_UP,t(this,this.stage_onMouseUp)))},window_onKeyDown:function(b,h){switch(b){case 8:this.__selectionIndex==this.__caretIndex&&0<this.__caretIndex&&(this.__selectionIndex=this.__caretIndex-1);this.__selectionIndex!=this.__caretIndex&&(this.replaceSelectedText(""),this.__selectionIndex=this.__caretIndex,this.dispatchEvent(new a.events.Event(a.events.Event.CHANGE,!0)));break;case 127:this.__selectionIndex==this.__caretIndex&&
this.__caretIndex<this.__textEngine.text.length&&(this.__selectionIndex=this.__caretIndex+1);this.__selectionIndex!=this.__caretIndex&&(this.replaceSelectedText(""),this.__selectionIndex=this.__caretIndex,this.dispatchEvent(new a.events.Event(a.events.Event.CHANGE,!0)));break;case 1073741904:e.ui._KeyModifier.KeyModifier_Impl_.get_shiftKey(h)?0<this.__caretIndex&&this.__caretIndex--:(this.__selectionIndex==this.__caretIndex?0<this.__caretIndex&&this.__caretIndex--:this.__caretIndex=r["int"](Math.min(this.__caretIndex,
this.__selectionIndex)),this.__selectionIndex=this.__caretIndex);this.__stopCursorTimer();this.__startCursorTimer();break;case 1073741903:e.ui._KeyModifier.KeyModifier_Impl_.get_shiftKey(h)?this.__caretIndex<this.__textEngine.text.length&&this.__caretIndex++:(this.__selectionIndex==this.__caretIndex?this.__caretIndex<this.__textEngine.text.length&&this.__caretIndex++:this.__caretIndex=r["int"](Math.max(this.__caretIndex,this.__selectionIndex)),this.__selectionIndex=this.__caretIndex);this.__stopCursorTimer();
this.__startCursorTimer();break;case 99:64!=h&&128!=h||e.system.Clipboard.set_text(this.__textEngine.text.substring(this.__caretIndex,this.__selectionIndex));break;case 120:if(64==h||128==h)e.system.Clipboard.set_text(this.__textEngine.text.substring(this.__caretIndex,this.__selectionIndex)),this.__caretIndex!=this.__selectionIndex&&(this.replaceSelectedText(""),this.dispatchEvent(new a.events.Event(a.events.Event.CHANGE,!0)));break;case 118:if(64==h||128==h){var c=e.system.Clipboard.get_text();null!=
c?this.replaceSelectedText(c):this.replaceSelectedText("");this.dispatchEvent(new a.events.Event(a.events.Event.CHANGE,!0))}}},window_onTextInput:function(b){this.replaceSelectedText(b);this.dispatchEvent(new a.events.Event(a.events.Event.CHANGE,!0))},__class__:a.text.TextField,__properties__:w(a.display.InteractiveObject.prototype.__properties__,{set_wordWrap:"set_wordWrap",set_type:"set_type",get_type:"get_type",get_textHeight:"get_textHeight",set_text:"set_text",get_text:"get_text",set_selectable:"set_selectable",
get_selectable:"get_selectable",get_scrollV:"get_scrollV",get_scrollH:"get_scrollH",set_multiline:"set_multiline",set_maxChars:"set_maxChars",set_htmlText:"set_htmlText",get_htmlText:"get_htmlText",set_embedFonts:"set_embedFonts",set_defaultTextFormat:"set_defaultTextFormat",set_autoSize:"set_autoSize"})});a.text.TextFieldAutoSize=l["openfl.text.TextFieldAutoSize"]={__ename__:!0,__constructs__:["CENTER","LEFT","NONE","RIGHT"]};a.text.TextFieldAutoSize.CENTER=["CENTER",0];a.text.TextFieldAutoSize.CENTER.toString=
m;a.text.TextFieldAutoSize.CENTER.__enum__=a.text.TextFieldAutoSize;a.text.TextFieldAutoSize.LEFT=["LEFT",1];a.text.TextFieldAutoSize.LEFT.toString=m;a.text.TextFieldAutoSize.LEFT.__enum__=a.text.TextFieldAutoSize;a.text.TextFieldAutoSize.NONE=["NONE",2];a.text.TextFieldAutoSize.NONE.toString=m;a.text.TextFieldAutoSize.NONE.__enum__=a.text.TextFieldAutoSize;a.text.TextFieldAutoSize.RIGHT=["RIGHT",3];a.text.TextFieldAutoSize.RIGHT.toString=m;a.text.TextFieldAutoSize.RIGHT.__enum__=a.text.TextFieldAutoSize;
a.text.TextFieldType=l["openfl.text.TextFieldType"]={__ename__:!0,__constructs__:["DYNAMIC","INPUT"]};a.text.TextFieldType.DYNAMIC=["DYNAMIC",0];a.text.TextFieldType.DYNAMIC.toString=m;a.text.TextFieldType.DYNAMIC.__enum__=a.text.TextFieldType;a.text.TextFieldType.INPUT=["INPUT",1];a.text.TextFieldType.INPUT.toString=m;a.text.TextFieldType.INPUT.__enum__=a.text.TextFieldType;a.text.TextFormat=function(a,e,c,d,f,g,l,m,p,q,r,t,n){this.font=a;this.size=e;this.color=c;this.bold=d;this.italic=f;this.underline=
g;this.url=l;this.target=m;this.align=p;this.leftMargin=q;this.rightMargin=r;this.indent=t;this.leading=n};l["openfl.text.TextFormat"]=a.text.TextFormat;a.text.TextFormat.__name__=!0;a.text.TextFormat.prototype={clone:function(){var b=new a.text.TextFormat(this.font,this.size,this.color,this.bold,this.italic,this.underline,this.url,this.target);b.align=this.align;b.leftMargin=this.leftMargin;b.rightMargin=this.rightMargin;b.indent=this.indent;b.leading=this.leading;b.blockIndent=this.blockIndent;
b.bullet=this.bullet;b.kerning=this.kerning;b.letterSpacing=this.letterSpacing;b.tabStops=this.tabStops;return b},__merge:function(a){null!=a.font&&(this.font=a.font);null!=a.size&&(this.size=a.size);null!=a.color&&(this.color=a.color);null!=a.bold&&(this.bold=a.bold);null!=a.italic&&(this.italic=a.italic);null!=a.underline&&(this.underline=a.underline);null!=a.url&&(this.url=a.url);null!=a.target&&(this.target=a.target);null!=a.align&&(this.align=a.align);null!=a.leftMargin&&(this.leftMargin=a.leftMargin);
null!=a.rightMargin&&(this.rightMargin=a.rightMargin);null!=a.indent&&(this.indent=a.indent);null!=a.leading&&(this.leading=a.leading);null!=a.blockIndent&&(this.blockIndent=a.blockIndent);null!=a.bullet&&(this.bullet=a.bullet);null!=a.kerning&&(this.kerning=a.kerning);null!=a.letterSpacing&&(this.letterSpacing=a.letterSpacing);null!=a.tabStops&&(this.tabStops=a.tabStops)},__class__:a.text.TextFormat};a.text.TextFormatAlign=l["openfl.text.TextFormatAlign"]={__ename__:!0,__constructs__:["LEFT","RIGHT",
"JUSTIFY","CENTER"]};a.text.TextFormatAlign.LEFT=["LEFT",0];a.text.TextFormatAlign.LEFT.toString=m;a.text.TextFormatAlign.LEFT.__enum__=a.text.TextFormatAlign;a.text.TextFormatAlign.RIGHT=["RIGHT",1];a.text.TextFormatAlign.RIGHT.toString=m;a.text.TextFormatAlign.RIGHT.__enum__=a.text.TextFormatAlign;a.text.TextFormatAlign.JUSTIFY=["JUSTIFY",2];a.text.TextFormatAlign.JUSTIFY.toString=m;a.text.TextFormatAlign.JUSTIFY.__enum__=a.text.TextFormatAlign;a.text.TextFormatAlign.CENTER=["CENTER",3];a.text.TextFormatAlign.CENTER.toString=
m;a.text.TextFormatAlign.CENTER.__enum__=a.text.TextFormatAlign;a.ui={};a.ui.GameInput=function(){};l["openfl.ui.GameInput"]=a.ui.GameInput;a.ui.GameInput.__name__=!0;a.ui.GameInput.__getDevice=function(b){if(null==b)return null;if(null==a.ui.GameInput.__devices.h.__keys__[b.__id__]){var e=new a.ui.GameInputDevice(null==b.id?"null":""+b.id,null);a.ui.GameInput.__devices.set(b,e);a.ui.GameInput.numDevices=Y.count(a.ui.GameInput.__devices)}return a.ui.GameInput.__devices.h[b.__id__]};a.ui.GameInput.__onGamepadAxisMove=
function(b,e,c){b=a.ui.GameInput.__getDevice(b);if(null!=b&&b.enabled){if(!b.__axis.exists(e)){var d=a.ui.GameInputControl,f;switch(e){case 0:f="LEFT_X";break;case 1:f="LEFT_Y";break;case 2:f="RIGHT_X";break;case 3:f="RIGHT_Y";break;case 4:f="TRIGGER_LEFT";break;case 5:f="TRIGGER_RIGHT";break;default:f="UNKNOWN ("+e+")"}d=new d(b,"AXIS_"+f,-1,1);b.__axis.set(e,d);b.__controls.push(d)}e=b.__axis.get(e);e.value=c;e.dispatchEvent(new a.events.Event(a.events.Event.CHANGE))}};a.ui.GameInput.__onGamepadButtonDown=
function(b,e){var c=a.ui.GameInput.__getDevice(b);if(null!=c&&c.enabled){if(!c.__button.exists(e)){var d=a.ui.GameInputControl,f;switch(e){case 0:f="A";break;case 1:f="B";break;case 2:f="X";break;case 3:f="Y";break;case 4:f="BACK";break;case 5:f="GUIDE";break;case 6:f="START";break;case 7:f="LEFT_STICK";break;case 8:f="RIGHT_STICK";break;case 9:f="LEFT_SHOULDER";break;case 10:f="RIGHT_SHOULDER";break;case 11:f="DPAD_UP";break;case 12:f="DPAD_DOWN";break;case 13:f="DPAD_LEFT";break;case 14:f="DPAD_RIGHT";
break;default:f="UNKNOWN ("+e+")"}d=new d(c,"BUTTON_"+f,0,1);c.__button.set(e,d);c.__controls.push(d)}c=c.__button.get(e);c.value=1;c.dispatchEvent(new a.events.Event(a.events.Event.CHANGE))}};a.ui.GameInput.__onGamepadButtonUp=function(b,e){var c=a.ui.GameInput.__getDevice(b);if(null!=c&&c.enabled){if(!c.__button.exists(e)){var d=a.ui.GameInputControl,f;switch(e){case 0:f="A";break;case 1:f="B";break;case 2:f="X";break;case 3:f="Y";break;case 4:f="BACK";break;case 5:f="GUIDE";break;case 6:f="START";
break;case 7:f="LEFT_STICK";break;case 8:f="RIGHT_STICK";break;case 9:f="LEFT_SHOULDER";break;case 10:f="RIGHT_SHOULDER";break;case 11:f="DPAD_UP";break;case 12:f="DPAD_DOWN";break;case 13:f="DPAD_LEFT";break;case 14:f="DPAD_RIGHT";break;default:f="UNKNOWN ("+e+")"}d=new d(c,"BUTTON_"+f,0,1);c.__button.set(e,d);c.__controls.push(d)}c=c.__button.get(e);c.value=0;c.dispatchEvent(new a.events.Event(a.events.Event.CHANGE))}};a.ui.GameInput.__onGamepadConnect=function(b){b=a.ui.GameInput.__getDevice(b);
if(null!=b)for(var e=0,c=a.ui.GameInput.__instances;e<c.length;){var d=c[e];++e;d.dispatchEvent(new a.events.GameInputEvent(a.events.GameInputEvent.DEVICE_ADDED,null,null,b))}};a.ui.GameInput.__onGamepadDisconnect=function(b){var e=a.ui.GameInput.__devices.h[b.__id__];if(null!=e){a.ui.GameInput.__devices.remove(b);a.ui.GameInput.numDevices=Y.count(a.ui.GameInput.__devices);b=0;for(var c=a.ui.GameInput.__instances;b<c.length;){var d=c[b];++b;d.dispatchEvent(new a.events.GameInputEvent(a.events.GameInputEvent.DEVICE_REMOVED,
null,null,e))}}};a.ui.GameInput.__super__=a.events.EventDispatcher;a.ui.GameInput.prototype=w(a.events.EventDispatcher.prototype,{__class__:a.ui.GameInput});a.ui.GameInputControl=function(b,e,c,d,f){null==f&&(f=0);a.events.EventDispatcher.call(this);this.device=b;this.id=e;this.minValue=c;this.maxValue=d;this.value=f};l["openfl.ui.GameInputControl"]=a.ui.GameInputControl;a.ui.GameInputControl.__name__=!0;a.ui.GameInputControl.__super__=a.events.EventDispatcher;a.ui.GameInputControl.prototype=w(a.events.EventDispatcher.prototype,
{__class__:a.ui.GameInputControl});a.ui.GameInputDevice=function(b,e){this.__controls=[];this.__button=new q.ds.IntMap;this.__axis=new q.ds.IntMap;this.id=b;this.name=e;for(var c,d=0;6>d;){var f=d++;c=new a.ui.GameInputControl(this,"AXIS_"+f,-1,1);this.__axis.set(f,c);this.__controls.push(c)}for(d=0;15>d;)f=d++,c=new a.ui.GameInputControl(this,"BUTTON_"+f,0,1),this.__button.set(f,c),this.__controls.push(c)};l["openfl.ui.GameInputDevice"]=a.ui.GameInputDevice;a.ui.GameInputDevice.__name__=!0;a.ui.GameInputDevice.prototype=
{__class__:a.ui.GameInputDevice};a.ui.Keyboard=function(){};l["openfl.ui.Keyboard"]=a.ui.Keyboard;a.ui.Keyboard.__name__=!0;a.ui.Keyboard.__getCharCode=function(a,e){null==e&&(e=!1);if(e){switch(a){case 48:return 41;case 49:return 33;case 50:return 64;case 51:return 35;case 52:return 36;case 53:return 37;case 54:return 94;case 55:return 38;case 56:return 42;case 57:return 40;case 186:return 58;case 187:return 43;case 188:return 60;case 189:return 95;case 190:return 62;case 191:return 63;case 192:return 126;
case 219:return 123;case 220:return 124;case 221:return 125;case 222:return 34}if(65<=a&&90>=a)return a-65+65}else{switch(a){case 8:return 8;case 9:return 9;case 13:return 13;case 27:return 27;case 32:return 32;case 186:return 59;case 187:return 61;case 188:return 44;case 189:return 45;case 190:return 46;case 191:return 47;case 192:return 96;case 219:return 91;case 220:return 92;case 221:return 93;case 222:return 39}if(48<=a&&57>=a)return a-48+48;if(65<=a&&90>=a)return a-65+97}if(96<=a&&105>=a)return a-
96+48;switch(a){case 106:return 42;case 107:return 43;case 108:return 44;case 110:return 45;case 111:return 46;case 46:return 127;case 13:return 13;case 8:return 8}return 0};g.Equipment=function(b){this.offY=0;a.display.Sprite.call(this);this.items=[];this.grid=b;this.body=new a.display.Sprite;this.addChild(this.body);this.scrollH=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;this.scrollH-=150;this.set_scrollRect(new a.geom.Rectangle(0,0,g.Main.RIGHTCOL_WIDTH,
this.scrollH))};l["ru.octasoft.oem.designer.Equipment"]=g.Equipment;g.Equipment.__name__=!0;g.Equipment.__super__=a.display.Sprite;g.Equipment.prototype=w(a.display.Sprite.prototype,{addObject:function(a,e){var c=this;g.HttpUtil.loadBitmap(a.imagePath,null,function(d){d=new g.Item(a.title,a.quantity,new g.figures.Figure(a.w,a.h,K.createEnum(g.ItemType,a.type),a.id,d,c.grid));d.set_y(c.offY);c.body.addChild(d);c.offY+=d.get_height();c.offY+=15;c.items.push(d);e()})},scroll:function(a){this.body.get_height()<
this.scrollH||this.body.set_y((this.scrollH-this.body.get_height())*a)},findItemById:function(a){for(var e=0,c=this.items;e<c.length;){var d=c[e];++e;if(d.figure.id==a)return d}return null},__class__:g.Equipment});g.Grid=function(){this.scale=1;a.display.Sprite.call(this)};l["ru.octasoft.oem.designer.Grid"]=g.Grid;g.Grid.__name__=!0;g.Grid.__super__=a.display.Sprite;g.Grid.prototype=w(a.display.Sprite.prototype,{init:function(a,e,c,d){this.w=a;this.h=e;d=g.SizeUtil.unitsToPixels(1);this.wPix=Math.round(a*
d);this.hPix=Math.round(e*d);this.set_name("grid");this.gridType=c;this.useHandCursor=this.buttonMode=!0;this.draw();this.setScale(500/(a>e?this.wPix:this.hPix))},draw:function(){this.scaledW=Math.round(this.wPix*this.scale);this.scaledH=Math.round(this.hPix*this.scale);this.get_graphics().clear();this.get_graphics().beginFill(0,0);this.get_graphics().drawRect(0,0,this.scaledW,this.scaledH);this.get_graphics().endFill();this.get_graphics().moveTo(-6,-3);switch(this.gridType[1]){case 0:this.get_graphics().lineStyle(6,
8355711,null,null,a.display.LineScaleMode.NONE,a.display.CapsStyle.NONE,a.display.JointStyle.MITER);break;case 1:this.get_graphics().lineStyle(6,8355711,null,null,a.display.LineScaleMode.NONE,a.display.CapsStyle.NONE,a.display.JointStyle.MITER);break;case 2:this.get_graphics().lineStyle(6,8355711,null,null,a.display.LineScaleMode.NONE,a.display.CapsStyle.NONE,a.display.JointStyle.MITER);break;case 3:this.get_graphics().lineStyle(6,13421772,null,null,a.display.LineScaleMode.NONE,a.display.CapsStyle.NONE,
a.display.JointStyle.MITER)}this.get_graphics().lineTo(this.scaledW+6,-3);switch(this.gridType[1]){case 0:this.get_graphics().lineStyle(6,8355711,null,null,a.display.LineScaleMode.NONE,a.display.CapsStyle.NONE,a.display.JointStyle.MITER);break;case 1:this.get_graphics().lineStyle(6,8355711,null,null,a.display.LineScaleMode.NONE,a.display.CapsStyle.NONE,a.display.JointStyle.MITER);break;case 2:this.get_graphics().lineStyle(6,13421772,null,null,a.display.LineScaleMode.NONE,a.display.CapsStyle.NONE,
a.display.JointStyle.MITER);break;case 3:this.get_graphics().lineStyle(6,13421772,null,null,a.display.LineScaleMode.NONE,a.display.CapsStyle.NONE,a.display.JointStyle.MITER)}this.get_graphics().moveTo(this.scaledW+3,-3);this.get_graphics().lineTo(this.scaledW+3,this.scaledH+6);this.get_graphics().lineStyle(6,13421772,null,null,a.display.LineScaleMode.NONE,a.display.CapsStyle.NONE,a.display.JointStyle.MITER);this.get_graphics().moveTo(this.scaledW,this.scaledH+3);this.get_graphics().lineTo(0,this.scaledH+
3);switch(this.gridType[1]){case 0:this.get_graphics().lineStyle(6,8355711,null,null,a.display.LineScaleMode.NONE,a.display.CapsStyle.NONE,a.display.JointStyle.MITER);break;case 1:this.get_graphics().lineStyle(6,13421772,null,null,a.display.LineScaleMode.NONE,a.display.CapsStyle.NONE,a.display.JointStyle.MITER);break;case 2:this.get_graphics().lineStyle(6,13421772,null,null,a.display.LineScaleMode.NONE,a.display.CapsStyle.NONE,a.display.JointStyle.MITER);break;case 3:this.get_graphics().lineStyle(6,
13421772,null,null,a.display.LineScaleMode.NONE,a.display.CapsStyle.NONE,a.display.JointStyle.MITER)}this.get_graphics().moveTo(-3,this.scaledH+6);this.get_graphics().lineTo(-3,-3);var b=this.wPix/this.w*this.scale,e=0;this.get_graphics().lineStyle(1,8355711,null,null,a.display.LineScaleMode.NONE,a.display.CapsStyle.NONE,a.display.JointStyle.MITER);for(var c=0,d=this.h+1;c<d;){var f=c++,g=Math.round(e);f!=this.h&&0!=f&&(this.get_graphics().moveTo(0,g+.5),this.get_graphics().lineTo(this.scaledW,g+
.5));e+=b}c=e=0;for(d=this.w+1;c<d;)f=c++,g=Math.round(e),f!=this.w&&0!=f&&(this.get_graphics().moveTo(g+.5,0),this.get_graphics().lineTo(g+.5,this.scaledH)),e+=b},setScale:function(a){for(var e=0,c=this.get_numChildren();e<c;){var d=e++,f=d=this.getChildAt(d);f.set_x(f.get_x()/this.scale);d.set_y(d.get_y()/this.scale)}this.scale=a;a=0;for(e=this.get_numChildren();a<e;)c=a++,d=c=this.getChildAt(c),d.set_x(d.get_x()*this.scale),d=c,d.set_y(d.get_y()*this.scale),c.setScale(this.scale);this.draw()},
drop:function(b){var e=this.globalToLocal(new a.geom.Point(b.get_x(),b.get_y()));e.x=Math.round(e.x);e.y=Math.round(e.y);b.setScale(this.scale);this.dispatchEvent(new g.events.FigureAddedEvent(b,e,g.events.EventContext.DIRECT))},add:function(b,e,c,d,f){null==f&&(f=0);if(b.usedQty!=b.qty){var k=b.figure.copy();b.attach(k);b=new a.geom.Point(g.SizeUtil.unitsToPixels(e)*this.scale,g.SizeUtil.unitsToPixels(c)*this.scale);k.setScale(this.scale);k.set_rotation(d);"shelf"==k.id&&k.set_lift(f);this.dispatchEvent(new g.events.FigureAddedEvent(k,
b,g.events.EventContext.DIRECT,!0))}},zoomIn:function(){this.setScale(this.scale+.1)},zoomOut:function(){this.setScale(this.scale-.1)},__class__:g.Grid});g.GridType=l["ru.octasoft.oem.designer.GridType"]={__ename__:!0,__constructs__:["row","corner","head","island"]};g.GridType.row=["row",0];g.GridType.row.toString=m;g.GridType.row.__enum__=g.GridType;g.GridType.corner=["corner",1];g.GridType.corner.toString=m;g.GridType.corner.__enum__=g.GridType;g.GridType.head=["head",2];g.GridType.head.toString=
m;g.GridType.head.__enum__=g.GridType;g.GridType.island=["island",3];g.GridType.island.toString=m;g.GridType.island.__enum__=g.GridType;g.HttpUtil=function(){};l["ru.octasoft.oem.designer.HttpUtil"]=g.HttpUtil;g.HttpUtil.__name__=!0;g.HttpUtil.loadBitmap=function(b,g,c,d){var f=-1,k=new a.net.URLLoader;b=new a.net.URLRequest(b);k.set_dataFormat(a.net.URLLoaderDataFormat.BINARY);k.addEventListener(a.events.Event.COMPLETE,function(b){b=x.Boot.__cast(k.data,e.utils.ByteArray);a.display.BitmapData.fromBytes(b,
null,c)});k.addEventListener(a.events.HTTPStatusEvent.HTTP_STATUS,function(a){f=a.status});k.addEventListener(a.events.IOErrorEvent.IO_ERROR,function(a){null!=d&&d(a,f)});k.load(b)};g.Item=function(b,e,c){this.startDragX=this.startDragY=this.dragX=this.dragY=-1;a.display.Sprite.call(this);this.title=b;this.qty=e;this.figure=c;var d=a.Assets.getFont(g.Main.FONT_NORMAL),d=new a.text.TextFormat(d.name,17,0);d.align=a.text.TextFormatAlign.LEFT;var f=0,k=new a.text.TextField;k.set_selectable(!1);k.set_defaultTextFormat(d);
k.set_embedFonts(!0);k.set_autoSize(a.text.TextFieldAutoSize.LEFT);k.set_text(b);k.set_wordWrap(!0);k.set_multiline(!0);k.set_width(g.Main.RIGHTCOL_WIDTH-1);this.addChild(k);f=f+k.get_textHeight()+7;this.get_graphics().lineStyle(1,8355711);this.get_graphics().beginFill(0,0);this.get_graphics().drawRect(.5,f+.5,g.Main.RIGHTCOL_WIDTH-1,g.Main.TOOLBAR_HEIGHT);this.get_graphics().endFill();c.set_x(80);c.set_y(f+g.Main.TOOLBAR_HEIGHT/2);this.addChild(c);d.size=13;this.left=new a.text.TextField;this.left.set_selectable(!1);
this.left.set_defaultTextFormat(d);this.left.set_embedFonts(!0);this.left.set_autoSize(a.text.TextFieldAutoSize.LEFT);this.left.set_y(f+g.Main.TOOLBAR_HEIGHT/2);this.left.set_x(160);this.addChild(this.left);this.total=new a.text.TextField;this.total.set_selectable(!1);this.total.set_defaultTextFormat(d);this.total.set_embedFonts(!0);this.total.set_autoSize(a.text.TextFieldAutoSize.LEFT);this.total.set_y(f+g.Main.TOOLBAR_HEIGHT/2-20);this.total.set_x(160);this.total.set_text(g.Main.messages.ordered+
": "+e);this.addChild(this.total);this.set_usedQty(0);this.addEventListener(a.events.MouseEvent.MOUSE_DOWN,t(this,this.mouseDown));this.useHandCursor=this.buttonMode=!0};l["ru.octasoft.oem.designer.Item"]=g.Item;g.Item.__name__=!0;g.Item.__super__=a.display.Sprite;g.Item.prototype=w(a.display.Sprite.prototype,{updateQty:function(){this.left.set_text(g.Main.messages.placed+": "+this.usedQty)},attach:function(b){b.addEventListener(a.events.MouseEvent.MOUSE_DOWN,t(this,this.mouseDown2))},mouseDown:function(b){if(this.usedQty!=
this.qty){var e=this.figure.copy();this.figure.localToGlobal(new a.geom.Point(0,0));e.set_x(b.stageX);e.set_y(b.stageY);this.stage.addChild(e);e.startDrag();e.addEventListener(a.events.MouseEvent.MOUSE_UP,t(this,this.mouseUp));b.stopPropagation();this.startDragX=b.stageX;this.startDragY=b.stageY;this.dragging=e}},mouseDown2:function(b){var e=b.target;e.parent.addChild(e);b.stopPropagation();b=e.parent.localToGlobal(new a.geom.Point(e.get_x(),e.get_y()));this.startDragX=this.dragX=b.x;this.startDragY=
this.dragY=b.y;this.stage.addEventListener(a.events.MouseEvent.MOUSE_UP,t(this,this.mouseUp));this.stage.addEventListener(a.events.MouseEvent.MOUSE_MOVE,t(this,this.onDrag));this.dragging=e},onDrag:function(a){var e=a.stageX-this.dragX,c=a.stageY-this.dragY,d=this.dragging;d.set_x(d.get_x()+e);e=this.dragging;e.set_y(e.get_y()+c);this.dragX=a.stageX;this.dragY=a.stageY;this.dragging.grid.dispatchEvent(new g.events.FigureDraggedEvent(this.dragging))},mouseUp:function(b){var e=this.dragging,c=-1!=this.startDragX&&
-1!=this.startDragY;if(c){var d=e.parent.localToGlobal(new a.geom.Point(e.get_x(),e.get_y())),d=c&&(this.startDragX!=d.x||this.startDragY!=d.y);e.parent==this.stage?(e.stopDrag(),c=new a.geom.Point(b.stageX,b.stageY),c=this.stage.getObjectsUnderPoint(c),0<c.length&&"grid"==c[0].get_name()?(e.grid.drop(e),e.removeEventListener(a.events.MouseEvent.MOUSE_DOWN,t(this,this.mouseDown)),e.addEventListener(a.events.MouseEvent.MOUSE_DOWN,t(this,this.mouseDown2))):this.stage.removeChild(e)):(this.stage.removeEventListener(a.events.MouseEvent.MOUSE_MOVE,
t(this,this.onDrag)),this.stage.removeEventListener(a.events.MouseEvent.MOUSE_UP,t(this,this.onDrag)),d?(c=e.grid.globalToLocal(new a.geom.Point(this.startDragX,this.startDragY)),c.x=Math.round(c.x),c.y=Math.round(c.y),e.grid.dispatchEvent(new g.events.FigureMovedEvent(e,c,new a.geom.Point(e.get_x(),e.get_y()),g.events.EventContext.DIRECT))):c&&e.grid.dispatchEvent(new g.events.FigureSelectedEvent(e)));b.stopPropagation();this.startDragX=this.startDragY=-1}},set_usedQty:function(a){this.usedQty=a;
this.updateQty();return a},__class__:g.Item,__properties__:w(a.display.Sprite.prototype.__properties__,{set_usedQty:"set_usedQty"})});g.ItemType=l["ru.octasoft.oem.designer.ItemType"]={__ename__:!0,__constructs__:["simple","light","droppable","shelf","plug"]};g.ItemType.simple=["simple",0];g.ItemType.simple.toString=m;g.ItemType.simple.__enum__=g.ItemType;g.ItemType.light=["light",1];g.ItemType.light.toString=m;g.ItemType.light.__enum__=g.ItemType;g.ItemType.droppable=["droppable",2];g.ItemType.droppable.toString=
m;g.ItemType.droppable.__enum__=g.ItemType;g.ItemType.shelf=["shelf",3];g.ItemType.shelf.toString=m;g.ItemType.shelf.__enum__=g.ItemType;g.ItemType.plug=["plug",4];g.ItemType.plug.toString=m;g.ItemType.plug.__enum__=g.ItemType;g.Messages=function(a){a?(this.rightColumnLabel=a.rightColumnLabel,this.ordered=a.ordered,this.placed=a.placed,this.shelfPopupLabel=a.shelfPopupLabel):(this.rightColumnLabel="Equipments",this.ordered="Ordered",this.placed="Placed",this.shelfPopupLabel="Please, set height (cm) for the shelf to be mounted. Switch shelves by pressing arrow buttons on your keyboard.")};
l["ru.octasoft.oem.designer.Messages"]=g.Messages;g.Messages.__name__=!0;g.Messages.prototype={__class__:g.Messages};g.ShelfPopup=function(){this.offX=this.offY=0;var b=this;a.display.Sprite.call(this);this.bitmap=new a.display.Bitmap(a.Assets.getBitmapData("assets/images/shelf_bg1.png"));this.addChild(this.bitmap);var e=a.Assets.getFont(g.Main.FONT_NORMAL),c=new a.text.TextFormat(e.name,13,0);c.align=a.text.TextFormatAlign.LEFT;var d=a.Assets.getFont(g.Main.FONT_BOLD),f=new a.text.TextFormat(d.name,
14,0);f.align=a.text.TextFormatAlign.LEFT;(new a.text.TextFormat(d.name,11,16777215)).align=a.text.TextFormatAlign.LEFT;d=new a.text.TextFormat(d.name,11,16777215);d.align=a.text.TextFormatAlign.LEFT;e=new a.text.TextFormat(e.name,13,13421772);e.align=a.text.TextFormatAlign.LEFT;this.label=new a.text.TextField;this.label.set_selectable(!1);this.label.set_text(g.Main.messages.shelfPopupLabel);this.label.set_defaultTextFormat(c);this.label.set_embedFonts(!0);this.label.set_wordWrap(!0);this.label.set_autoSize(a.text.TextFieldAutoSize.LEFT);
this.label.set_width(280);this.addChild(this.label);this.num=new a.text.TextField;this.num.set_selectable(!1);this.num.set_defaultTextFormat(f);this.num.set_embedFonts(!0);this.num.set_autoSize(a.text.TextFieldAutoSize.LEFT);this.addChild(this.num);this.save=new a.display.Sprite;this.save.get_graphics().beginFill(8355711);this.save.get_graphics().drawRect(0,0,100,30);this.save.get_graphics().endFill();this.save.buttonMode=!0;this.save.useHandCursor=!0;this.addChild(this.save);this.save.addEventListener(a.events.MouseEvent.MOUSE_OVER,
t(this,this.hoverIn));this.save.addEventListener(a.events.MouseEvent.MOUSE_OUT,t(this,this.hoverOut));this.save.addEventListener(a.events.MouseEvent.CLICK,function(c){b.figure.set_lift(r.parseInt(b.units.get_text()));b.set_visible(!1);a.Lib.current.stage.set_focus(a.Lib.current.stage)});f=new a.text.TextField;f.set_selectable(!1);f.set_text("SAVE");f.set_defaultTextFormat(d);f.set_embedFonts(!0);f.set_autoSize(a.text.TextFieldAutoSize.LEFT);f.set_x(50-f.get_width()/2);f.set_y(15-f.get_height()/2);
this.save.addChild(f);this.input=new a.display.Sprite;this.input.get_graphics().lineStyle(1,11316396);this.input.get_graphics().drawRect(.5,.5,105,29);this.addChild(this.input);this.units=new a.text.TextField;this.units.set_type(a.text.TextFieldType.INPUT);this.units.set_text("0");this.units.set_defaultTextFormat(c);this.units.set_embedFonts(!0);this.units.set_autoSize(a.text.TextFieldAutoSize.LEFT);this.units.set_x(7);this.units.set_y(5);this.units.set_maxChars(3);this.units.addEventListener(a.events.MouseEvent.MOUSE_DOWN,
function(a){a.stopPropagation()});this.units.addEventListener(a.events.KeyboardEvent.KEY_UP,function(c){c.stopPropagation();13==c.charCode&&(b.figure.set_lift(r.parseInt(b.units.get_text())),b.set_visible(!1),a.Lib.current.stage.set_focus(a.Lib.current.stage))});this.units.addEventListener(a.events.Event.CHANGE,function(a){a=new P("\\D","i");""==b.units.get_text()&&b.units.set_text("0");3<b.units.get_text().length&&b.units.set_text(function(a){a=b.units.get_text();return z.substr(a,0,3)}(this));a.match(b.units.get_text())&&
b.units.set_text(a.replace(b.units.get_text(),""));b.cm.set_x(b.units.get_x()+b.units.get_width()+2)});this.input.addChild(this.units);this.cm=new a.text.TextField;this.cm.set_selectable(!1);this.cm.set_text("cm");this.cm.set_defaultTextFormat(e);this.cm.set_embedFonts(!0);this.cm.set_autoSize(a.text.TextFieldAutoSize.LEFT);this.cm.set_y(this.units.get_y());this.cm.set_x(this.units.get_x()+this.units.get_width()+2);this.input.addChild(this.cm);this.set_visible(!1)};l["ru.octasoft.oem.designer.ShelfPopup"]=
g.ShelfPopup;g.ShelfPopup.__name__=!0;g.ShelfPopup.__super__=a.display.Sprite;g.ShelfPopup.prototype=w(a.display.Sprite.prototype,{hoverOut:function(a){this.save.get_graphics().beginFill(8355711);this.save.get_graphics().drawRect(0,0,100,30);this.save.get_graphics().endFill()},hoverIn:function(a){this.save.get_graphics().beginFill(10066329);this.save.get_graphics().drawRect(0,0,100,30);this.save.get_graphics().endFill()},updateLanguage:function(){this.label.set_text(g.Main.messages.shelfPopupLabel)},
update:function(b){this.figure=b;this.num.set_text(b.number+".");this.units.set_text(b.get_lift()+"");this.cm.set_x(this.units.get_x()+this.units.get_width()+2);var e=b.parent,c=b.picture.getBounds(e),d=b.picture.getBounds(b.stage);g.Main.compare(b.get_x(),c.width/2)?(this.bitmap.bitmapData=a.Assets.getBitmapData("assets/images/popup_left.png"),b=this.parent.globalToLocal(new a.geom.Point(d.get_right()+40,d.y)),this.set_x(b.x),this.set_y(b.y-this.get_height()/2+c.height/2),this.offX=15,this.offY=
0,this.label.set_x(this.offX+15),this.label.set_y(this.offY+15),this.num.set_x(this.offX+15),this.num.set_y(this.offY+85),this.input.set_x(this.offX+50),this.input.set_y(this.offY+82),this.save.set_x(this.offX+180),this.save.set_y(this.offY+82)):g.Main.compare(b.get_y(),c.height/2)?(this.bitmap.bitmapData=a.Assets.getBitmapData("assets/images/popup_top.png"),b=this.parent.globalToLocal(new a.geom.Point(d.x,d.get_bottom()+40)),this.set_x(b.x-this.get_width()/2+c.width/2),this.set_y(b.y),this.offX=
0,this.offY=10,this.label.set_x(this.offX+15),this.label.set_y(this.offY+15),this.num.set_x(this.offX+15),this.num.set_y(this.offY+85),this.input.set_x(this.offX+50),this.input.set_y(this.offY+82),this.save.set_x(this.offX+180),this.save.set_y(this.offY+82)):g.Main.compare(b.get_x(),e.scaledW-c.width/2)&&(this.bitmap.bitmapData=a.Assets.getBitmapData("assets/images/popup_right.png"),b=this.parent.globalToLocal(new a.geom.Point(d.x-this.get_width()-40,d.y)),this.set_x(b.x),this.set_y(b.y-this.get_height()/
2+c.height/2),this.offY=this.offX=0,this.label.set_x(this.offX+15),this.label.set_y(this.offY+15),this.num.set_x(this.offX+15),this.num.set_y(this.offY+85),this.input.set_x(this.offX+50),this.input.set_y(this.offY+82),this.save.set_x(this.offX+180),this.save.set_y(this.offY+82));15>this.get_x()&&this.set_x(15);15>this.get_y()&&this.set_y(15);this.get_x()+this.get_width()>g.Main.clipSize-15&&this.set_x(g.Main.clipSize-15-this.get_width());this.get_y()+this.get_height()>g.Main.clipSize-15&&this.set_y(g.Main.clipSize-
15-this.get_height())},__class__:g.ShelfPopup});g.SizeUtil=function(){};l["ru.octasoft.oem.designer.SizeUtil"]=g.SizeUtil;g.SizeUtil.__name__=!0;g.SizeUtil.unitsToPixels=function(a){return a*g.SizeUtil.UNIT};g.SizeUtil.pixelsToUnits=function(a){return Math.round(a/g.SizeUtil.UNIT*100)/100};g.Toolbar=function(){var b=this;a.display.Sprite.call(this);this.get_graphics().beginFill(13421772);var e=g.Main.clipSize+12;this.get_graphics().drawRect(0,0,e,g.Main.TOOLBAR_HEIGHT);this.get_graphics().endFill();
var e=(e-360-30)/5,c=15,d=this.addButton("assets/images/rotate.png",function(a){b.dispatchEvent(new g.events.ClearEvent)});d.set_x(c);d.set_y(15);c+=d.get_width();c+=e;d=this.addButton("assets/images/delete.png",function(a){b.dispatchEvent(new g.events.DeleteEvent)});d.set_x(c);d.set_y(15);c+=d.get_width();c+=e;d=this.addButton("assets/images/undo.png",function(a){b.dispatchEvent(new g.events.UndoEvent)});d.set_x(c);d.set_y(15);c+=d.get_width();c+=e;d=this.addButton("assets/images/redo.png",function(a){b.dispatchEvent(new g.events.RedoEvent)});
d.set_x(c);d.set_y(15);c+=d.get_width();c+=e;d=this.addButton("assets/images/zoomOut.png",function(a){b.dispatchEvent(new g.events.ZoomEvent(g.events.ZoomEvent.ZOOM_OUT))});d.set_x(c);d.set_y(15);c+=d.get_width();c+=e;d=this.addButton("assets/images/zoomIn.png",function(a){b.dispatchEvent(new g.events.ZoomEvent(g.events.ZoomEvent.ZOOM_IN))});d.set_x(c);d.set_y(15)};l["ru.octasoft.oem.designer.Toolbar"]=g.Toolbar;g.Toolbar.__name__=!0;g.Toolbar.__super__=a.display.Sprite;g.Toolbar.prototype=w(a.display.Sprite.prototype,
{hoverOut:function(a){a.get_graphics().beginFill(8355711);a.get_graphics().drawRect(0,0,60,60);a.get_graphics().endFill()},hoverIn:function(a){a.get_graphics().beginFill(10066329);a.get_graphics().drawRect(0,0,60,60);a.get_graphics().endFill()},addButton:function(b,e){var c=this,d=new a.display.Sprite,f=new a.display.Bitmap(a.Assets.getBitmapData(b));f.set_x(30-f.get_width()/2);f.set_y(30-f.get_height()/2);d.addChild(f);d.buttonMode=d.useHandCursor=!0;d.addEventListener(a.events.MouseEvent.CLICK,
e);d.addEventListener(a.events.MouseEvent.MOUSE_OVER,function(a){c.hoverIn(d)});d.addEventListener(a.events.MouseEvent.MOUSE_OUT,function(a){c.hoverOut(d)});this.hoverOut(d);this.addChild(d);return d},__class__:g.Toolbar});g.events={};g.events.ClearEvent=function(){a.events.Event.call(this,g.events.ClearEvent.NAME)};l["ru.octasoft.oem.designer.events.ClearEvent"]=g.events.ClearEvent;g.events.ClearEvent.__name__=!0;g.events.ClearEvent.__super__=a.events.Event;g.events.ClearEvent.prototype=w(a.events.Event.prototype,
{__class__:g.events.ClearEvent});g.events.DeleteEvent=function(){a.events.Event.call(this,g.events.DeleteEvent.NAME)};l["ru.octasoft.oem.designer.events.DeleteEvent"]=g.events.DeleteEvent;g.events.DeleteEvent.__name__=!0;g.events.DeleteEvent.__super__=a.events.Event;g.events.DeleteEvent.prototype=w(a.events.Event.prototype,{__class__:g.events.DeleteEvent});g.events.EventContext=l["ru.octasoft.oem.designer.events.EventContext"]={__ename__:!0,__constructs__:["DIRECT","UNDO","REDO"]};g.events.EventContext.DIRECT=
["DIRECT",0];g.events.EventContext.DIRECT.toString=m;g.events.EventContext.DIRECT.__enum__=g.events.EventContext;g.events.EventContext.UNDO=["UNDO",1];g.events.EventContext.UNDO.toString=m;g.events.EventContext.UNDO.__enum__=g.events.EventContext;g.events.EventContext.REDO=["REDO",2];g.events.EventContext.REDO.toString=m;g.events.EventContext.REDO.__enum__=g.events.EventContext;g.events.FigureAddedEvent=function(b,e,c,d){null==d&&(d=!1);a.events.Event.call(this,g.events.FigureAddedEvent.NAME);this.figure=
b;this.to=e;this.context=c;this.shift=d};l["ru.octasoft.oem.designer.events.FigureAddedEvent"]=g.events.FigureAddedEvent;g.events.FigureAddedEvent.__name__=!0;g.events.FigureAddedEvent.__super__=a.events.Event;g.events.FigureAddedEvent.prototype=w(a.events.Event.prototype,{__class__:g.events.FigureAddedEvent});g.events.FigureDeletedEvent=function(b,e,c){a.events.Event.call(this,g.events.FigureDeletedEvent.NAME);this.figure=b;this.from=e;this.context=c};l["ru.octasoft.oem.designer.events.FigureDeletedEvent"]=
g.events.FigureDeletedEvent;g.events.FigureDeletedEvent.__name__=!0;g.events.FigureDeletedEvent.__super__=a.events.Event;g.events.FigureDeletedEvent.prototype=w(a.events.Event.prototype,{__class__:g.events.FigureDeletedEvent});g.events.FigureDraggedEvent=function(b){a.events.Event.call(this,g.events.FigureDraggedEvent.NAME);this.figure=b};l["ru.octasoft.oem.designer.events.FigureDraggedEvent"]=g.events.FigureDraggedEvent;g.events.FigureDraggedEvent.__name__=!0;g.events.FigureDraggedEvent.__super__=
a.events.Event;g.events.FigureDraggedEvent.prototype=w(a.events.Event.prototype,{__class__:g.events.FigureDraggedEvent});g.events.FigureMovedEvent=function(b,e,c,d){a.events.Event.call(this,g.events.FigureMovedEvent.NAME);this.figure=b;this.from=e;this.to=c;this.context=d};l["ru.octasoft.oem.designer.events.FigureMovedEvent"]=g.events.FigureMovedEvent;g.events.FigureMovedEvent.__name__=!0;g.events.FigureMovedEvent.__super__=a.events.Event;g.events.FigureMovedEvent.prototype=w(a.events.Event.prototype,
{__class__:g.events.FigureMovedEvent});g.events.FigureRotatedEvent=function(b,e,c,d){a.events.Event.call(this,g.events.FigureRotatedEvent.NAME);this.figure=b;this.from=e;this.to=c;this.context=d};l["ru.octasoft.oem.designer.events.FigureRotatedEvent"]=g.events.FigureRotatedEvent;g.events.FigureRotatedEvent.__name__=!0;g.events.FigureRotatedEvent.__super__=a.events.Event;g.events.FigureRotatedEvent.prototype=w(a.events.Event.prototype,{__class__:g.events.FigureRotatedEvent});g.events.FigureSelectedEvent=
function(b){a.events.Event.call(this,g.events.FigureSelectedEvent.NAME);this.figure=b};l["ru.octasoft.oem.designer.events.FigureSelectedEvent"]=g.events.FigureSelectedEvent;g.events.FigureSelectedEvent.__name__=!0;g.events.FigureSelectedEvent.__super__=a.events.Event;g.events.FigureSelectedEvent.prototype=w(a.events.Event.prototype,{__class__:g.events.FigureSelectedEvent});g.events.RedoEvent=function(){a.events.Event.call(this,g.events.RedoEvent.NAME)};l["ru.octasoft.oem.designer.events.RedoEvent"]=
g.events.RedoEvent;g.events.RedoEvent.__name__=!0;g.events.RedoEvent.__super__=a.events.Event;g.events.RedoEvent.prototype=w(a.events.Event.prototype,{__class__:g.events.RedoEvent});g.events.UndoEvent=function(){a.events.Event.call(this,g.events.UndoEvent.NAME)};l["ru.octasoft.oem.designer.events.UndoEvent"]=g.events.UndoEvent;g.events.UndoEvent.__name__=!0;g.events.UndoEvent.__super__=a.events.Event;g.events.UndoEvent.prototype=w(a.events.Event.prototype,{__class__:g.events.UndoEvent});g.events.ZoomEvent=
function(b){a.events.Event.call(this,b)};l["ru.octasoft.oem.designer.events.ZoomEvent"]=g.events.ZoomEvent;g.events.ZoomEvent.__name__=!0;g.events.ZoomEvent.__super__=a.events.Event;g.events.ZoomEvent.prototype=w(a.events.Event.prototype,{__class__:g.events.ZoomEvent});g.figures={};g.figures.Figure=function(b,e,c,d,f,k){this.liftVal=0;this.scale=1;this.shiftX=this.shiftY=0;this.rotationStart=-1;a.display.Sprite.call(this);this.grid=k;this.w=b;this.h=e;this.type=c;this.wPix=g.SizeUtil.unitsToPixels(b);
this.hPix=g.SizeUtil.unitsToPixels(e);this.id=d;this.image=f;b=a.Assets.getFont(g.Main.FONT_NORMAL);b=new a.text.TextFormat(b.name,13,0);b.align=a.text.TextFormatAlign.LEFT;this.label=new a.text.TextField;this.label.set_selectable(!1);this.label.set_text("100 cm");this.label.set_defaultTextFormat(b);this.label.set_embedFonts(!0);this.label.set_wordWrap(!1);this.label.set_autoSize(a.text.TextFieldAutoSize.LEFT);this.label.set_visible(c==g.ItemType.shelf);this.addChild(this.label);this.set_lift(0);
this.picture=new a.display.Bitmap(f);this.picture.smoothing=!0;120<f.width&&(this.scale=120/f.width);60<f.height&&(this.scale=60/f.height);this.addChild(this.picture);this.cover=new a.display.Sprite;this.addChild(this.cover);this.cover.set_visible(!1);this.cover.mouseEnabled=!1;this.h1=new a.display.Sprite;this.h1.get_graphics().lineStyle(1,8355711);this.h1.get_graphics().beginFill(0,0);this.h1.get_graphics().drawRect(.5,.5,6,6);this.h1.get_graphics().endFill();this.cover.addChild(this.h1);this.h1.addEventListener(a.events.MouseEvent.MOUSE_DOWN,
t(this,this.onDragHandle));this.h1.addEventListener(a.events.MouseEvent.MOUSE_UP,t(this,this.stopRotate));this.decor1=new a.display.Bitmap(a.Assets.getBitmapData("assets/images/decor.png"));this.cover.addChild(this.decor1);this.h2=new a.display.Sprite;this.h2.get_graphics().lineStyle(1,8355711);this.h2.get_graphics().beginFill(0,0);this.h2.get_graphics().drawRect(.5,.5,6,6);this.h2.get_graphics().endFill();this.cover.addChild(this.h2);this.h2.addEventListener(a.events.MouseEvent.MOUSE_DOWN,t(this,
this.onDragHandle));this.h2.addEventListener(a.events.MouseEvent.MOUSE_UP,t(this,this.stopRotate));this.decor2=new a.display.Bitmap(a.Assets.getBitmapData("assets/images/decor.png"));this.decor2.smoothing=!0;this.decor2.set_rotation(90);this.cover.addChild(this.decor2);this.h3=new a.display.Sprite;this.h3.get_graphics().lineStyle(1,8355711);this.h3.get_graphics().beginFill(0,0);this.h3.get_graphics().drawRect(.5,.5,6,6);this.h3.get_graphics().endFill();this.cover.addChild(this.h3);this.h3.addEventListener(a.events.MouseEvent.MOUSE_DOWN,
t(this,this.onDragHandle));this.h3.addEventListener(a.events.MouseEvent.MOUSE_UP,t(this,this.stopRotate));this.decor3=new a.display.Bitmap(a.Assets.getBitmapData("assets/images/decor.png"));this.decor3.smoothing=!0;this.decor3.set_rotation(180);this.cover.addChild(this.decor3);this.h4=new a.display.Sprite;this.h4.get_graphics().lineStyle(1,8355711);this.h4.get_graphics().beginFill(0,0);this.h4.get_graphics().drawRect(.5,.5,6,6);this.h4.get_graphics().endFill();this.cover.addChild(this.h4);this.h4.addEventListener(a.events.MouseEvent.MOUSE_DOWN,
t(this,this.onDragHandle));this.h4.addEventListener(a.events.MouseEvent.MOUSE_UP,t(this,this.stopRotate));this.decor4=new a.display.Bitmap(a.Assets.getBitmapData("assets/images/decor.png"));this.decor4.smoothing=!0;this.decor4.set_rotation(270);this.cover.addChild(this.decor4);this.draw();this.useHandCursor=this.buttonMode=!0;c==g.ItemType.shelf&&(this.number=g.figures.Figure.seq++)};l["ru.octasoft.oem.designer.figures.Figure"]=g.figures.Figure;g.figures.Figure.__name__=!0;g.figures.Figure.__super__=
a.display.Sprite;g.figures.Figure.prototype=w(a.display.Sprite.prototype,{draw:function(){this.picture.set_scaleX(this.picture.set_scaleY(this.scale));this.picture.set_x(-this.picture.get_width()/2);this.picture.set_y(-this.picture.get_height()/2);var a=this.hPix*this.scale;this.shiftX=Math.round(this.wPix*this.scale/2+15);27>this.shiftX&&(this.shiftX=27);this.shiftY=Math.round(a/2+15);27>this.shiftY&&(this.shiftY=27);this.cover.get_graphics().clear();this.cover.get_graphics().lineStyle(1,8355711);
this.cover.get_graphics().drawRect(-this.shiftX+.5,-this.shiftY+.5,2*this.shiftX,2*this.shiftY);this.cover.get_graphics().endFill();this.h1.set_x(-this.shiftX-3);this.h1.set_y(-this.shiftY-3);this.decor1.set_x(-this.shiftX+5);this.decor1.set_y(-this.shiftY+5);this.h2.set_x(this.shiftX-3);this.h2.set_y(-this.shiftY-3);this.decor2.set_x(this.shiftX-5);this.decor2.set_y(-this.shiftY+5);this.h3.set_x(this.shiftX-3);this.h3.set_y(this.shiftY-3);this.decor3.set_x(this.shiftX-5);this.decor3.set_y(this.shiftY-
5);this.h4.set_x(-this.shiftX-3);this.h4.set_y(this.shiftY-3);this.decor4.set_x(-this.shiftX+5);this.decor4.set_y(this.shiftY-5);this.label.set_x(-this.label.get_width()/2);this.label.set_y(this.picture.get_height()/2)},setScale:function(a){this.scale=a;this.draw()},onDragHandle:function(b){this.activeHandle=b.target;this.stage.addEventListener(a.events.MouseEvent.MOUSE_MOVE,t(this,this.doRotate));this.stage.addEventListener(a.events.MouseEvent.MOUSE_UP,t(this,this.stopRotate));this.stage.addEventListener(a.events.MouseEvent.MOUSE_OUT,
t(this,this.stopRotate));b.stopImmediatePropagation();this.rotationStart=this.get_rotation()},doRotate:function(b){var e=this.localToGlobal(new a.geom.Point(0,0)),c=this.activeHandle.get_x()+5,d=this.activeHandle.get_y()+5,c=180*Math.atan2(d,c)/Math.PI;b=180*Math.atan2(b.stageY-e.y,b.stageX-e.x)/Math.PI;b=Math.round(b-c);b=10*Math.round(b/10);this.set_rotation(b)},stopRotate:function(b){this.stage.removeEventListener(a.events.MouseEvent.MOUSE_MOVE,t(this,this.doRotate));this.stage.removeEventListener(a.events.MouseEvent.MOUSE_UP,
t(this,this.stopRotate));this.stage.removeEventListener(a.events.MouseEvent.MOUSE_OUT,t(this,this.stopRotate));b.stopImmediatePropagation();-1!=this.rotationStart&&this.get_rotation()!=this.rotationStart&&this.grid.dispatchEvent(new g.events.FigureRotatedEvent(this,this.rotationStart,this.get_rotation(),g.events.EventContext.DIRECT));this.rotationStart=-1},copy:function(){return new g.figures.Figure(this.w,this.h,this.type,this.id,this.image,this.grid)},get_selected:function(){return this.cover.get_visible()},
set_selected:function(a){this.label.set_visible(!a&&this.type==g.ItemType.shelf);return this.cover.set_visible(a)},get_lift:function(){return this.liftVal},set_lift:function(a){this.label.set_text(a+" cm");return this.liftVal=a},__class__:g.figures.Figure,__properties__:w(a.display.Sprite.prototype.__properties__,{set_lift:"set_lift",get_lift:"get_lift",set_selected:"set_selected",get_selected:"get_selected"})});g.jpg={};g.jpg.Writer=function(a){this.YTable=[];this.UVTable=[];this.fdtbl_Y=[];this.fdtbl_UV=
[];for(var e=0;64>e;)e++,this.YTable.push(0),this.UVTable.push(0),this.fdtbl_Y.push(0),this.fdtbl_UV.push(0);this.bitcode=new q.ds.IntMap;this.category=new q.ds.IntMap;this.byteout=a;this.bytenew=0;this.bytepos=7;this.YDC_HT=new q.ds.IntMap;this.UVDC_HT=new q.ds.IntMap;this.YAC_HT=new q.ds.IntMap;this.UVAC_HT=new q.ds.IntMap;this.YDU=[];this.UDU=[];this.VDU=[];this.DU=[];for(a=0;64>a;)a++,this.YDU.push(0),this.UDU.push(0),this.VDU.push(0),this.DU.push(0);this.initZigZag();this.initLuminance();this.initChrominance();
this.initHuffmanTbl();this.initCategoryNumber()};l["ru.octasoft.oem.designer.jpg.Writer"]=g.jpg.Writer;g.jpg.Writer.__name__=!0;g.jpg.Writer.prototype={initZigZag:function(){this.ZigZag=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63]},initQuantTables:function(a){for(var e=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,
62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],c=0;64>c;){var d=c++,f=Math.floor((e[d]*a+50)/100);1>f?f=1:255<f&&(f=255);this.YTable[this.ZigZag[d]]=f}e=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99];for(c=0;64>c;)d=c++,f=Math.floor((e[d]*a+50)/100),1>f?f=1:255<f&&(f=255),this.UVTable[this.ZigZag[d]]=
f;a=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379];for(c=e=0;8>c;)for(d=c++,f=0;8>f;){var g=f++;this.fdtbl_Y[e]=1/(this.YTable[this.ZigZag[e]]*a[d]*a[g]*8);this.fdtbl_UV[e]=1/(this.UVTable[this.ZigZag[e]]*a[d]*a[g]*8);e++}},initLuminance:function(){this.std_dc_luminance_nrcodes=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0];this.std_dc_luminance_values=this.strIntsToBytes("0,1,2,3,4,5,6,7,8,9,10,11");this.std_ac_luminance_nrcodes=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125];this.std_ac_luminance_values=
this.strIntsToBytes("0x01,0x02,0x03,0x00,0x04,0x11,0x05,0x12,0x21,0x31,0x41,0x06,0x13,0x51,0x61,0x07,0x22,0x71,0x14,0x32,0x81,0x91,0xa1,0x08,0x23,0x42,0xb1,0xc1,0x15,0x52,0xd1,0xf0,0x24,0x33,0x62,0x72,0x82,0x09,0x0a,0x16,0x17,0x18,0x19,0x1a,0x25,0x26,0x27,0x28,0x29,0x2a,0x34,0x35,0x36,0x37,0x38,0x39,0x3a,0x43,0x44,0x45,0x46,0x47,0x48,0x49,0x4a,0x53,0x54,0x55,0x56,0x57,0x58,0x59,0x5a,0x63,0x64,0x65,0x66,0x67,0x68,0x69,0x6a,0x73,0x74,0x75,0x76,0x77,0x78,0x79,0x7a,0x83,0x84,0x85,0x86,0x87,0x88,0x89,0x8a,0x92,0x93,0x94,0x95,0x96,0x97,0x98,0x99,0x9a,0xa2,0xa3,0xa4,0xa5,0xa6,0xa7,0xa8,0xa9,0xaa,0xb2,0xb3,0xb4,0xb5,0xb6,0xb7,0xb8,0xb9,0xba,0xc2,0xc3,0xc4,0xc5,0xc6,0xc7,0xc8,0xc9,0xca,0xd2,0xd3,0xd4,0xd5,0xd6,0xd7,0xd8,0xd9,0xda,0xe1,0xe2,0xe3,0xe4,0xe5,0xe6,0xe7,0xe8,0xe9,0xea,0xf1,0xf2,0xf3,0xf4,0xf5,0xf6,0xf7,0xf8,0xf9,0xfa")},
strIntsToBytes:function(a){for(var e=a.length,c=new q.io.BytesBuffer,d=0,f=d=0;f<e;){var g=f++;","==a.charAt(g)&&(d=r.parseInt(z.substr(a,d,g-d)),c.b.push(d),d=g+1)}d<e&&(d=r.parseInt(z.substr(a,d,null)),c.b.push(d));return c.getBytes()},initChrominance:function(){this.std_dc_chrominance_nrcodes=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0];this.std_dc_chrominance_values=this.strIntsToBytes("0,1,2,3,4,5,6,7,8,9,10,11");this.std_ac_chrominance_nrcodes=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119];this.std_ac_chrominance_values=
this.strIntsToBytes("0x00,0x01,0x02,0x03,0x11,0x04,0x05,0x21,0x31,0x06,0x12,0x41,0x51,0x07,0x61,0x71,0x13,0x22,0x32,0x81,0x08,0x14,0x42,0x91,0xa1,0xb1,0xc1,0x09,0x23,0x33,0x52,0xf0,0x15,0x62,0x72,0xd1,0x0a,0x16,0x24,0x34,0xe1,0x25,0xf1,0x17,0x18,0x19,0x1a,0x26,0x27,0x28,0x29,0x2a,0x35,0x36,0x37,0x38,0x39,0x3a,0x43,0x44,0x45,0x46,0x47,0x48,0x49,0x4a,0x53,0x54,0x55,0x56,0x57,0x58,0x59,0x5a,0x63,0x64,0x65,0x66,0x67,0x68,0x69,0x6a,0x73,0x74,0x75,0x76,0x77,0x78,0x79,0x7a,0x82,0x83,0x84,0x85,0x86,0x87,0x88,0x89,0x8a,0x92,0x93,0x94,0x95,0x96,0x97,0x98,0x99,0x9a,0xa2,0xa3,0xa4,0xa5,0xa6,0xa7,0xa8,0xa9,0xaa,0xb2,0xb3,0xb4,0xb5,0xb6,0xb7,0xb8,0xb9,0xba,0xc2,0xc3,0xc4,0xc5,0xc6,0xc7,0xc8,0xc9,0xca,0xd2,0xd3,0xd4,0xd5,0xd6,0xd7,0xd8,0xd9,0xda,0xe2,0xe3,0xe4,0xe5,0xe6,0xe7,0xe8,0xe9,0xea,0xf2,0xf3,0xf4,0xf5,0xf6,0xf7,0xf8,0xf9,0xfa")},
initHuffmanTbl:function(){this.YDC_HT=this.computeHuffmanTbl(this.std_dc_luminance_nrcodes,this.std_dc_luminance_values);this.UVDC_HT=this.computeHuffmanTbl(this.std_dc_chrominance_nrcodes,this.std_dc_chrominance_values);this.YAC_HT=this.computeHuffmanTbl(this.std_ac_luminance_nrcodes,this.std_ac_luminance_values);this.UVAC_HT=this.computeHuffmanTbl(this.std_ac_chrominance_nrcodes,this.std_ac_chrominance_values)},computeHuffmanTbl:function(a,e){for(var c=0,d=0,f=new q.ds.IntMap,k=1;17>k;){for(var l=
k++,m=a[l],p=0;p<m;){p++;var r=e.b[d],t=new g.jpg._Writer.BitString(l,c);f.set(r,t);d++;c++}c*=2}return f},initCategoryNumber:function(){for(var a=1,e=2,c,d=1;16>d;){for(var f=d++,k=a;k<e;){var l=k++;c=32767+l;this.category.set(c,f);l=new g.jpg._Writer.BitString(f,l);this.bitcode.set(c,l)}for(k=-(e-1);k<=-a;)c=32767+k,this.category.set(c,f),l=new g.jpg._Writer.BitString(f,e-1+k),this.bitcode.set(c,l),k++;a<<=1;e<<=1}},writeBits:function(a){if(null!=a){var e=a.val;for(a=a.len-1;0<=a;)0!=(e&1<<a)&&
(this.bytenew|=1<<this.bytepos),a--,this.bytepos--,0>this.bytepos&&(255==this.bytenew?(this.byteout.writeByte(255),this.byteout.writeByte(0)):this.byteout.writeByte(this.bytenew),this.bytepos=7,this.bytenew=0)}},writeWord:function(a){this.byteout.writeByte(a>>8&255);this.byteout.writeByte(a&255)},fDCTQuant:function(a,e){for(var c=0,d=0;8>d;){d++;var f=a[c]+a[c+7],g=a[c]-a[c+7],l=a[c+1]+a[c+6],m=a[c+1]-a[c+6],p=a[c+2]+a[c+5],q=a[c+2]-a[c+5],r=a[c+3]+a[c+4],t=a[c+3]-a[c+4],n=f+r,r=f-r,f=l+p,l=l-p;a[c]=
n+f;a[c+4]=n-f;n=.707106781*(l+r);a[c+2]=r+n;a[c+6]=r-n;n=t+q;f=q+m;l=m+g;q=.382683433*(n-l);m=.5411961*n+q;q=1.306562965*l+q;n=.707106781*f;t=g+n;g-=n;a[c+5]=g+m;a[c+3]=g-m;a[c+1]=t+q;a[c+7]=t-q;c+=8}for(d=c=0;8>d;)d++,f=a[c]+a[c+56],g=a[c]-a[c+56],l=a[c+8]+a[c+48],m=a[c+8]-a[c+48],p=a[c+16]+a[c+40],q=a[c+16]-a[c+40],r=a[c+24]+a[c+32],t=a[c+24]-a[c+32],n=f+r,r=f-r,f=l+p,l-=p,a[c]=n+f,a[c+32]=n-f,n=.707106781*(l+r),a[c+16]=r+n,a[c+48]=r-n,n=t+q,f=q+m,l=m+g,q=.382683433*(n-l),m=.5411961*n+q,q=1.306562965*
l+q,n=.707106781*f,t=g+n,g-=n,a[c+40]=g+m,a[c+24]=g-m,a[c+8]=t+q,a[c+56]=t-q,c++;for(c=0;64>c;)d=c++,a[d]=Math.round(a[d]*e[d]);return a},writeAPP0:function(){this.byteout.writeByte(255);this.byteout.writeByte(224);this.byteout.writeByte(0);this.byteout.writeByte(16);this.byteout.writeByte(74);this.byteout.writeByte(70);this.byteout.writeByte(73);this.byteout.writeByte(70);this.byteout.writeByte(0);this.byteout.writeByte(1);this.byteout.writeByte(1);this.byteout.writeByte(0);this.byteout.writeByte(0);
this.byteout.writeByte(1);this.byteout.writeByte(0);this.byteout.writeByte(1);this.byteout.writeByte(0);this.byteout.writeByte(0)},writeDQT:function(){this.byteout.writeByte(255);this.byteout.writeByte(219);this.byteout.writeByte(0);this.byteout.writeByte(132);this.byteout.writeByte(0);for(var a=0;64>a;){var e=a++;this.byteout.writeByte(this.YTable[e])}this.byteout.writeByte(1);for(a=0;64>a;)e=a++,this.byteout.writeByte(this.UVTable[e])},writeSOF0:function(a,e){this.byteout.writeByte(255);this.byteout.writeByte(192);
this.byteout.writeByte(0);this.byteout.writeByte(17);this.byteout.writeByte(8);this.byteout.writeByte(e>>8&255);this.byteout.writeByte(e&255);this.byteout.writeByte(a>>8&255);this.byteout.writeByte(a&255);this.byteout.writeByte(3);this.byteout.writeByte(1);this.byteout.writeByte(17);this.byteout.writeByte(0);this.byteout.writeByte(2);this.byteout.writeByte(17);this.byteout.writeByte(1);this.byteout.writeByte(3);this.byteout.writeByte(17);this.byteout.writeByte(1)},writeDHT:function(){this.byteout.writeByte(255);
this.byteout.writeByte(196);this.byteout.writeByte(1);this.byteout.writeByte(162);this.byteout.writeByte(0);for(var a=1;17>a;){var e=a++;this.byteout.writeByte(this.std_dc_luminance_nrcodes[e])}this.byteout.write(this.std_dc_luminance_values);this.byteout.writeByte(16);for(a=1;17>a;)e=a++,this.byteout.writeByte(this.std_ac_luminance_nrcodes[e]);this.byteout.write(this.std_ac_luminance_values);this.byteout.writeByte(1);for(a=1;17>a;)e=a++,this.byteout.writeByte(this.std_dc_chrominance_nrcodes[e]);
this.byteout.write(this.std_dc_chrominance_values);this.byteout.writeByte(17);for(a=1;17>a;)e=a++,this.byteout.writeByte(this.std_ac_chrominance_nrcodes[e]);this.byteout.write(this.std_ac_chrominance_values)},writeSOS:function(){this.byteout.writeByte(255);this.byteout.writeByte(218);this.byteout.writeByte(0);this.byteout.writeByte(12);this.byteout.writeByte(3);this.byteout.writeByte(1);this.byteout.writeByte(0);this.byteout.writeByte(2);this.byteout.writeByte(17);this.byteout.writeByte(3);this.byteout.writeByte(17);
this.byteout.writeByte(0);this.byteout.writeByte(63);this.byteout.writeByte(0)},processDU:function(a,e,c,d,f){var g=f.get(0),l=f.get(240);a=this.fDCTQuant(a,e);for(e=0;64>e;){var m=e++;this.DU[this.ZigZag[m]]=a[m]}var p;a=this.DU[0]-c|0;c=this.DU[0];0==a?this.writeBits(d.get(0)):(p=32767+a,this.writeBits(function(a){a=a.category.get(p);return d.get(a)}(this)),this.writeBits(this.bitcode.get(p)));for(a=63;0<a&&0==this.DU[a];)a--;if(0==a)return this.writeBits(g),c;for(e=1;e<=a;){for(m=e;0==this.DU[e]&&
e<=a;)e++;var q=e-m;if(16<=q){for(var m=0,r=q>>4;m<r;)m++,this.writeBits(l);q&=15}p=32767+(this.DU[e]|0);this.writeBits(function(a){a=16*q+a.category.get(p);return f.get(a)}(this));this.writeBits(this.bitcode.get(p));e++}63!=a&&this.writeBits(g);return c},RGB2YUV:function(a,e,c,d){for(var f=0,g=0;8>g;)for(var l=(g++ +d)*e+c<<2,m=0;8>m;){m++;l++;var p=a.get(l++),q=a.get(l++),r=a.get(l++);this.YDU[f]=.299*p+.587*q+.114*r-128;this.UDU[f]=-.16874*p+-.33126*q+.5*r;this.VDU[f]=.5*p+-.41869*q+-.08131*r;
f++}},write:function(a){var e=a.quality;0>=e&&(e=1);100<e&&(e=100);this.initQuantTables(50>e?5E3/e|0:200-2*e|0);this.bytenew=0;this.bytepos=7;var e=a.width,c=a.height;this.writeWord(65496);this.writeAPP0();this.writeDQT();this.writeSOF0(e,c);this.writeDHT();this.writeSOS();var d=0,f=0,k=0;this.bytenew=0;this.bytepos=7;for(var l=0;l<c;){for(var m=0;m<e;)this.RGB2YUV(a.pixels,e,m,l),d=this.processDU(this.YDU,this.fdtbl_Y,d,this.YDC_HT,this.YAC_HT),f=this.processDU(this.UDU,this.fdtbl_UV,f,this.UVDC_HT,
this.UVAC_HT),k=this.processDU(this.VDU,this.fdtbl_UV,k,this.UVDC_HT,this.UVAC_HT),m+=8;l+=8}0<=this.bytepos&&(a=new g.jpg._Writer.BitString(this.bytepos+1,(1<<this.bytepos+1)-1),this.writeBits(a));this.writeWord(65497)},__class__:g.jpg.Writer};g.jpg._Writer={};g.jpg._Writer.BitString=function(a,e){this.len=a;this.val=e};l["ru.octasoft.oem.designer.jpg._Writer.BitString"]=g.jpg._Writer.BitString;g.jpg._Writer.BitString.__name__=!0;g.jpg._Writer.BitString.prototype={__class__:g.jpg._Writer.BitString};
var Ca=0;Array.prototype.indexOf&&(z.indexOf=function(a,e,c){return Array.prototype.indexOf.call(a,e,c)});Math.NaN=Number.NaN;Math.NEGATIVE_INFINITY=Number.NEGATIVE_INFINITY;Math.POSITIVE_INFINITY=Number.POSITIVE_INFINITY;l.Math=Math;Math.isFinite=function(a){return isFinite(a)};Math.isNaN=function(a){return isNaN(a)};String.prototype.__class__=l.String=String;String.__name__=!0;l.Array=Array;Array.__name__=!0;Date.prototype.__class__=l.Date=Date;Date.__name__=["Date"];var Da=l.Int={__name__:["Int"]},
Ea=l.Dynamic={__name__:["Dynamic"]},va=l.Float=Number;va.__name__=["Float"];var wa=l.Bool=Boolean;wa.__ename__=["Bool"];var xa=l.Class={__name__:["Class"]},Sa={};J=new Uint32Array(256);e.math.color._RGBA.RGBA_Impl_.__alpha16=J;for(J=0;256>J;){var O=J++,Ta=Math.ceil(257.00392156862745*O);e.math.color._RGBA.RGBA_Impl_.__alpha16[O]=Ta}J=new Uint8Array(510);e.math.color._RGBA.RGBA_Impl_.__clamp=J;for(J=0;255>J;)O=J++,e.math.color._RGBA.RGBA_Impl_.__clamp[O]=O;for(J=255;511>J;)O=J++,e.math.color._RGBA.RGBA_Impl_.__clamp[O]=
255;null!=window.createjs&&(createjs.Sound.alternateExtensions=["ogg","mp3","wav"]);a.display.DisplayObject.__instanceCount=0;a.display.DisplayObject.__worldRenderDirty=0;a.display.DisplayObject.__worldTransformDirty=0;a.display.DisplayObject.__cacheAsBitmapMode=!1;g.Main.FONT_NORMAL="assets/fonts/gothaproreg-webfont.ttf";g.Main.FONT_BOLD="assets/fonts/gothaprobol-webfont.ttf";g.Main.TOOLBAR_HEIGHT=90;g.Main.RIGHTCOL_WIDTH=300;g.Main.DEFAULT_GRID=5;g.Main.GRID_PADDING=36;g.Main.draggable=!0;g.Main.clipSize=
528;g.Main.click=new a.geom.Point;g.Main.prev=0;a.text.Font.__registeredFonts=[];q.crypto.Base64.CHARS="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";q.crypto.Base64.BYTES=q.io.Bytes.ofString(q.crypto.Base64.CHARS);q.ds.ObjectMap.count=0;x.Boot.__toStr={}.toString;e.Assets.cache=new e.AssetCache;e.Assets.libraries=new q.ds.StringMap;e.Assets.onChange=new e.app.Event_Void_Void;e.Assets.initialized=!1;e._backend.html5.HTML5Window.windowID=0;e.app.Preloader.images=new q.ds.StringMap;
e.app.Preloader.loaders=new q.ds.StringMap;e.graphics.Image.__base64Chars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";e.ui.Gamepad.onConnect=new e.app.Event_lime_ui_Gamepad_Void;e.ui.Joystick.onConnect=new e.app.Event_lime_ui_Joystick_Void;e.ui.Touch.onEnd=new e.app.Event_lime_ui_Touch_Void;e.ui.Touch.onMove=new e.app.Event_lime_ui_Touch_Void;e.ui.Touch.onStart=new e.app.Event_lime_ui_Touch_Void;p.actuators.SimpleActuator.actuators=[];p.actuators.SimpleActuator.actuatorsLength=
0;p.actuators.SimpleActuator.addedEvent=!1;p.Actuate.defaultActuator=p.actuators.SimpleActuator;p.Actuate.defaultEase=p.easing.Expo.get_easeOut();p.Actuate.targetLibraries=new q.ds.ObjectMap;a.Assets.cache=new a.AssetCache;a.display.LoaderInfo.__rootURL=window.document.URL;a.system.ApplicationDomain.currentDomain=new a.system.ApplicationDomain(null);a.geom.Matrix.__temp=new a.geom.Matrix;a.geom.Matrix.__identity=new a.geom.Matrix;a.Lib.current=new a.display.MovieClip;a._internal.renderer.GraphicsPaths.SIN45=
.7071067811865476;a._internal.renderer.GraphicsPaths.TAN22=.41421356237309503;a._internal.renderer.cairo.CairoGraphics.SIN45=.7071067811865476;a._internal.renderer.cairo.CairoGraphics.TAN22=.41421356237309503;a._internal.renderer.canvas.CanvasGraphics.SIN45=.7071067811865476;a._internal.renderer.canvas.CanvasGraphics.TAN22=.41421356237309503;a._internal.renderer.canvas.CanvasGraphics.fillCommands=new a._internal.renderer.DrawCommandBuffer;a._internal.renderer.canvas.CanvasGraphics.strokeCommands=
new a._internal.renderer.DrawCommandBuffer;a._internal.renderer.opengl.GLBitmap.fbData=[];a._internal.renderer.opengl.GLRenderer.glContextId=0;a._internal.renderer.opengl.GLRenderer.glContexts=[];a._internal.renderer.opengl.shaders2.Shader.UID=0;a._internal.renderer.opengl.shaders2.DefaultShader.VERTEX_SRC=["attribute vec2 "+r.string("openfl_aPosition")+";","attribute vec2 "+r.string("openfl_aTexCoord0")+";","attribute vec4 "+r.string("openfl_aColor")+";","uniform mat3 "+r.string("openfl_uProjectionMatrix")+
";","uniform bool "+r.string("openfl_uUseColorTransform")+";","varying vec2 "+r.string("openfl_vTexCoord")+";","varying vec4 "+r.string("openfl_vColor")+";","void main(void) {","   gl_Position = vec4(("+r.string("openfl_uProjectionMatrix")+" * vec3("+r.string("openfl_aPosition")+", 1.0)).xy, 0.0, 1.0);","   "+r.string("openfl_vTexCoord")+" = "+r.string("openfl_aTexCoord0")+";","   if("+r.string("openfl_uUseColorTransform")+")","   \t"+r.string("openfl_vColor")+" = "+r.string("openfl_aColor")+";",
"   else","   \t"+r.string("openfl_vColor")+" = vec4("+r.string("openfl_aColor")+".rgb * "+r.string("openfl_aColor")+".a, "+r.string("openfl_aColor")+".a);","}"];a._internal.renderer.opengl.utils.PathBuiler.__currentWinding=0;a._internal.renderer.opengl.utils.PathBuiler.__fillIndex=0;a.geom.Rectangle.__temp=new a.geom.Rectangle;a._internal.renderer.opengl.utils.GraphicsRenderer.fillVertexAttributes=[new a._internal.renderer.opengl.utils.VertexAttribute(2,5126,!1,"openfl_aPosition")];a._internal.renderer.opengl.utils.GraphicsRenderer.drawTrianglesVertexAttributes=
[new a._internal.renderer.opengl.utils.VertexAttribute(2,5126,!1,"openfl_aPosition"),new a._internal.renderer.opengl.utils.VertexAttribute(2,5126,!1,"openfl_aTexCoord0"),new a._internal.renderer.opengl.utils.VertexAttribute(4,5121,!0,"openfl_aColor")];a._internal.renderer.opengl.utils.GraphicsRenderer.primitiveVertexAttributes=[new a._internal.renderer.opengl.utils.VertexAttribute(2,5126,!1,"openfl_aPosition"),new a._internal.renderer.opengl.utils.VertexAttribute(4,5126,!1,"openfl_aColor")];a._internal.renderer.opengl.utils.GraphicsRenderer.bucketPool=
[];a._internal.renderer.opengl.utils.GraphicsRenderer.objectPosition=new a.geom.Point;a._internal.renderer.opengl.utils.GraphicsRenderer.objectBounds=new a.geom.Rectangle;a._internal.renderer.opengl.utils.ShaderManager.compiledShadersCache=new q.ds.StringMap;a.display.Shader.uObjectSize="openfl_uObjectSize";a.display.Shader.uTextureSize="openfl_uTextureSize";a.events.Event.ACTIVATE="activate";a.events.Event.ADDED="added";a.events.Event.ADDED_TO_STAGE="addedToStage";a.events.Event.CHANGE="change";
a.events.Event.COMPLETE="complete";a.events.Event.DEACTIVATE="deactivate";a.events.Event.ENTER_FRAME="enterFrame";a.events.Event.MOUSE_LEAVE="mouseLeave";a.events.Event.OPEN="open";a.events.Event.REMOVED="removed";a.events.Event.REMOVED_FROM_STAGE="removedFromStage";a.events.Event.RENDER="render";a.events.Event.RESIZE="resize";a.events.TextEvent.TEXT_INPUT="textInput";a.events.FocusEvent.FOCUS_IN="focusIn";a.events.FocusEvent.FOCUS_OUT="focusOut";a.events.FullScreenEvent.FULL_SCREEN="fullScreen";
a.events.GameInputEvent.DEVICE_ADDED="deviceAdded";a.events.GameInputEvent.DEVICE_REMOVED="deviceRemoved";a.events.HTTPStatusEvent.HTTP_STATUS="httpStatus";a.events.IOErrorEvent.IO_ERROR="ioError";a.events.KeyboardEvent.KEY_DOWN="keyDown";a.events.KeyboardEvent.KEY_UP="keyUp";a.events.MouseEvent.CLICK="click";a.events.MouseEvent.DOUBLE_CLICK="doubleClick";a.events.MouseEvent.MIDDLE_CLICK="middleClick";a.events.MouseEvent.MIDDLE_MOUSE_DOWN="middleMouseDown";a.events.MouseEvent.MIDDLE_MOUSE_UP="middleMouseUp";
a.events.MouseEvent.MOUSE_DOWN="mouseDown";a.events.MouseEvent.MOUSE_MOVE="mouseMove";a.events.MouseEvent.MOUSE_OUT="mouseOut";a.events.MouseEvent.MOUSE_OVER="mouseOver";a.events.MouseEvent.MOUSE_UP="mouseUp";a.events.MouseEvent.MOUSE_WHEEL="mouseWheel";a.events.MouseEvent.RIGHT_CLICK="rightClick";a.events.MouseEvent.RIGHT_MOUSE_DOWN="rightMouseDown";a.events.MouseEvent.RIGHT_MOUSE_UP="rightMouseUp";a.events.ProgressEvent.PROGRESS="progress";a.events.SecurityErrorEvent.SECURITY_ERROR="securityError";
a.media.Sound.__registeredSounds=new q.ds.StringMap;a.ui.GameInput.numDevices=0;a.ui.GameInput.__devices=new q.ds.ObjectMap;a.ui.GameInput.__instances=[];g.SizeUtil.UNIT=100;g.events.ClearEvent.NAME="CLEAR_ALL";g.events.DeleteEvent.NAME="DELETE_FIGURE";g.events.FigureAddedEvent.NAME="FIGURE_ADDED";g.events.FigureDeletedEvent.NAME="FIGURE_DELETED";g.events.FigureDraggedEvent.NAME="FIGURE_DRAGGED";g.events.FigureMovedEvent.NAME="FIGURE_MOVED";g.events.FigureRotatedEvent.NAME="FIGURE_ROTATED";g.events.FigureSelectedEvent.NAME=
"FIGURE_SELECTED";g.events.RedoEvent.NAME="REDO";g.events.UndoEvent.NAME="UNDO";g.events.ZoomEvent.ZOOM_IN="ZOOM_IN";g.events.ZoomEvent.ZOOM_OUT="ZOOM_OUT";g.figures.Figure.seq=0;D.main()})("undefined"!=typeof window?window:exports);