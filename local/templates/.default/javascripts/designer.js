(function(fb,La,ne){function q(a,b){function c(){}c.prototype=a;var d=new c,e;for(e in b)d[e]=b[e];b.toString!==Object.prototype.toString&&(d.toString=b.toString);return d}function Ne(a){return a instanceof Array?function(){return F.iter(a)}:"function"==typeof a.iterator?l(a,a.iterator):a.iterator}function l(a,b){if(null==b)return null;null==b.__id__&&(b.__id__=Oe++);var c;null==a.hx__closures__?a.hx__closures__={}:c=a.hx__closures__[b.__id__];null==c&&(c=function(){return c.method.apply(c.scope,
arguments)},c.scope=a,c.method=b,a.hx__closures__[b.__id__]=c);return c}La.openfl=La.openfl||{};La.lime=La.lime||{};La.ru=La.ru||{};La.ru.octasoft=La.ru.octasoft||{};La.ru.octasoft.oem=La.ru.octasoft.oem||{};La.ru.octasoft.oem.designer=La.ru.octasoft.oem.designer||{};var k={},u=function(){return r.__string_rec(this,"")},X=function(){};k.ApplicationMain=X;X.__name__=!0;X.config=null;X.preloader=null;X.create=function(){var a=new mc;a.create(X.config);var b=new Ya;X.preloader=new nc(b);a.setPreloader(X.preloader);
X.preloader.onComplete.add(X.init);X.preloader.create(X.config);var b=[],c=[];b.push("Gotham Pro Bold");c.push("FONT");b.push("Gotham Pro Regular");c.push("FONT");b.push("assets/images/border1.png");c.push("IMAGE");b.push("assets/images/border2.png");c.push("IMAGE");b.push("assets/images/decor.png");c.push("IMAGE");b.push("assets/images/delete.png");c.push("IMAGE");b.push("assets/images/popup_left.png");c.push("IMAGE");b.push("assets/images/popup_right.png");c.push("IMAGE");b.push("assets/images/popup_top.png");
c.push("IMAGE");b.push("assets/images/redo.png");c.push("IMAGE");b.push("assets/images/rotate.png");c.push("IMAGE");b.push("assets/images/shelf_bg1.png");c.push("IMAGE");b.push("assets/images/undo.png");c.push("IMAGE");b.push("assets/images/zoomIn.png");c.push("IMAGE");b.push("assets/images/zoomOut.png");c.push("IMAGE");if(null!=X.config.assetsPrefix)for(var d=0,e=b.length;d<e;){var f=d++;"FONT"!=c[f]&&(b[f]=X.config.assetsPrefix+b[f])}X.preloader.load(b,c);a.exec()};X.init=function(){X.preloader=
null;X.start()};X.main=function(){X.config={build:"1753",company:"Octasoft",file:"designer",fps:60,name:"Editor",orientation:"",packageName:"ru.octasoft.oem.designer",version:"1.0.0",windows:[{antialiasing:0,background:16777215,borderless:!1,depthBuffer:!1,display:0,fullscreen:!1,hardware:!1,height:0,parameters:"{}",resizable:!0,stencilBuffer:!0,title:"Editor",vsync:!1,width:0,x:null,y:null}]}};X.start=function(){for(var a=!1,b=Fa.resolveClass("ru.octasoft.oem.designer.Main"),c=0,d=Fa.getClassFields(b);c<
d.length;){var e=d[c];++c;if("main"==e){a=!0;break}}w.initialize();a?p.callMethod(b,p.field(b,"main"),[]):Fa.createInstance(oc,[]);S.current.stage.window.__fullscreen&&S.current.stage.dispatchEvent(new pc("fullScreen",!1,!1,!0,!0));S.current.stage.dispatchEvent(new t("resize",!1,!1))};var oe=function(){};k["openfl.events.IEventDispatcher"]=oe;oe.__name__=!0;var L=function(a){null!=a&&(this.__targetDispatcher=a)};k["openfl.events.EventDispatcher"]=L;L.__name__=!0;L.__interfaces__=[oe];L.__sortByPriority=
function(a,b){return a.priority==b.priority?0:a.priority>b.priority?-1:1};L.prototype={addEventListener:function(a,b,c,d,e){null==d&&(d=0);null==c&&(c=!1);null==this.__eventMap&&(this.__dispatching=new va,this.__eventMap=new va,this.__newEventMap=new va);if(this.__eventMap.exists(a)){1==this.__dispatching.get(a)?this.__newEventMap.exists(a)?e=this.__newEventMap.get(a):(e=this.__eventMap.get(a).slice(),this.__newEventMap.set(a,e)):e=this.__eventMap.get(a);a=0;for(var f=e.length;a<f;){var O=a++;if(p.compareMethods(e[O].callback,
b))return}e.push(new qc(b,c,d));e.sort(L.__sortByPriority)}else e=[],e.push(new qc(b,c,d)),this.__eventMap.set(a,e)},dispatchEvent:function(a){a.target=null!=this.__targetDispatcher?this.__targetDispatcher:this;return this.__dispatchEvent(a)},hasEventListener:function(a){return null==this.__eventMap?!1:1==this.__dispatching.get(a)&&this.__newEventMap.exists(a)?0<this.__newEventMap.get(a).length:this.__eventMap.exists(a)},removeEventListener:function(a,b,c){null==c&&(c=!1);if(null!=this.__eventMap){var d=
this.__eventMap.get(a);if(null!=d){var e=1==this.__dispatching.get(a);e&&(this.__newEventMap.exists(a)?d=this.__newEventMap.get(a):(d=this.__eventMap.get(a).slice(),this.__newEventMap.set(a,d)));for(var f=0,O=d.length;f<O;){var g=f++;if(d[g].match(b,c)){d.splice(g,1);break}}e||(0==d.length&&this.__eventMap.remove(a),this.__eventMap.iterator().hasNext()||(this.__newEventMap=this.__eventMap=null))}}},__dispatchEvent:function(a){if(null==this.__eventMap||null==a)return!1;var b=a.type,c;if(1==this.__dispatching.get(b)){c=
this.__newEventMap.get(b);if(null==c)return!1;c=c.slice()}else{c=this.__eventMap.get(b);if(null==c)return!1;this.__dispatching.set(b,!0)}null==a.target&&(a.target=null!=this.__targetDispatcher?this.__targetDispatcher:this);a.currentTarget=this;for(var d=1==a.eventPhase,e=0,f;e<c.length;){f=c[e];if(f.useCapture==d&&(f.callback(a),a.__isCanceledNow))break;f==c[e]&&e++}null!=this.__newEventMap&&this.__newEventMap.exists(b)&&(c=this.__newEventMap.get(b),0<c.length?this.__eventMap.set(b,c):this.__eventMap.remove(b),
this.__eventMap.iterator().hasNext()?this.__newEventMap.remove(b):this.__newEventMap=this.__eventMap=null);this.__dispatching.set(a.type,!1);return!0},__class__:L};var Qd=function(){};k["openfl.display.IBitmapDrawable"]=Qd;Qd.__name__=!0;var y=function(){this.__maskCached=this.__cacheAsBitmap=!1;L.call(this);this.__alpha=1;this.__transform=new Y;this.__visible=!0;this.__rotationSine=this.__rotation=0;this.__rotationCosine=1;this.__renderTransform=new Y;this.__offset=new x;this.__worldOffset=new x;
this.__worldAlpha=1;this.__worldTransform=new Y;this.__worldColorTransform=new hb;this.set_name("instance"+ ++y.__instanceCount)};k["openfl.display.DisplayObject"]=y;y.__name__=!0;y.__interfaces__=[Qd];y.__super__=L;y.prototype=q(L.prototype,{getBounds:function(a){var b;null!=a?(b=this.__getWorldTransform().clone(),b.concat(a.__getWorldTransform().clone().invert())):(b=Y.__temp,b.identity());a=new Z;this.__getBounds(a,b);return a},globalToLocal:function(a){a=a.clone();this.__getWorldTransform().__transformInversePoint(a);
return a},localToGlobal:function(a){return this.__getWorldTransform().transformPoint(a)},__broadcast:function(a,b){if(null!=this.__eventMap&&this.hasEventListener(a.type)){var c=L.prototype.__dispatchEvent.call(this,a);return a.__isCanceled?!0:c}return!1},__dispatchEvent:function(a){var b=L.prototype.__dispatchEvent.call(this,a);if(a.__isCanceled)return!0;a.bubbles&&null!=this.parent&&this.parent!=this&&(a.eventPhase=3,null==a.target&&(a.target=this),this.parent.__dispatchEvent(a));return b},__enterFrame:function(a){},
__getBounds:function(a,b){null!=this.__graphics&&this.__graphics.__getBounds(a,b)},__getCursor:function(){return null},__getInteractive:function(a){return!1},__getRenderBounds:function(a,b){if(null==this.__scrollRect)this.__getBounds(a,b);else{var c=Z.__temp;c.copyFrom(this.__scrollRect);c.__transform(c,b);a.__expand(b.tx,b.ty,c.width,c.height)}},__getWorldTransform:function(){if(this.__transformDirty||0<y.__worldTransformDirty){var a=[],b=this,c=this.__transformDirty;if(null==this.parent)c&&this.__update(!0,
!1);else for(;null!=b.parent;)a.push(b),b=b.parent,b.__transformDirty&&(c=!0);if(c)for(b=a.length;0<=--b;)a[b].__update(!0,!1)}return this.__worldTransform},__hitTest:function(a,b,c,d,e,f){if(null!=this.__graphics){if(!f.get_visible()||this.__isMask||null!=this.get_mask()&&!this.get_mask().__hitTestMask(a,b))return!1;if(this.__graphics.__hitTest(a,b,c,this.__getWorldTransform()))return null==d||e||d.push(f),!0}return!1},__hitTestMask:function(a,b){return null!=this.__graphics&&this.__graphics.__hitTest(a,
b,!0,this.__getWorldTransform())?!0:!1},__renderCairo:function(a){null!=this.__graphics&&Rd.render(this,a)},__renderCairoMask:function(a){null!=this.__graphics&&R.renderMask(this.__graphics,a)},__renderCanvas:function(a){null!=this.__graphics&&Sd.render(this,a)},__renderCanvasMask:function(a){null!=this.__graphics&&g.renderMask(this.__graphics,a)},__setStageReference:function(a){this.stage!=a&&(null!=this.stage&&(this.stage.get_focus()==this&&this.stage.set_focus(null),this.dispatchEvent(new t("removedFromStage",
!1,!1))),this.stage=a,null!=a&&this.dispatchEvent(new t("addedToStage",!1,!1)))},__setRenderDirty:function(){this.__renderDirty||(this.__updateCachedBitmap=!0,this.__updateFilters=null!=this.get_filters()&&0<this.get_filters().length,this.__renderDirty=!0,y.__worldRenderDirty++)},__update:function(a,b,c){this.__renderable=this.get_visible()&&0!=this.get_scaleX()&&0!=this.get_scaleY()&&!this.__isMask;this.__updateTransforms();null!=this.parent&&this.__isMask&&(this.__maskCached=!1);b&&this.__transformDirty&&
(this.__transformDirty=!1,y.__worldTransformDirty--);a||null==this.__mask||this.__mask.__maskCached||(null==this.__maskGraphics&&(this.__maskGraphics=new Ib),this.__maskGraphics.clear(),this.__mask.__update(!0,!0,this.__maskGraphics),this.__mask.__maskCached=!0);null!=c&&this.__updateMask(c);!a&&this.__cacheAsBitmap&&(this.__updateCachedBitmap||this.__updateFilters)&&(null==this.__cachedBitmapBounds&&(this.__cachedBitmapBounds=new Z),null!=this.cacheAsBitmapBounds?this.__cachedBitmapBounds.copyFrom(this.cacheAsBitmapBounds):
(this.__cachedBitmapBounds.setEmpty(),this.__getRenderBounds(this.__cachedBitmapBounds,Y.__identity)),null!=this.__filters&&(null==this.__cachedFilterBounds&&(this.__cachedFilterBounds=new Z),this.__cachedFilterBounds.setEmpty(),rc.__expandBounds(this.__filters,this.__cachedFilterBounds,Y.__identity),this.__cachedBitmapBounds.x+=this.__cachedFilterBounds.x,this.__cachedBitmapBounds.y+=this.__cachedFilterBounds.y));if(!a){this.__worldColorTransform.__equals(this.get_transform().get_colorTransform())||
(this.__worldColorTransform=this.get_transform().get_colorTransform().__clone());if(null!=this.parent){this.__worldAlpha=this.get_alpha()*this.parent.__worldAlpha;this.__worldColorTransform.__combine(this.parent.__worldColorTransform);if(null==this.blendMode||10==this.blendMode)this.__blendMode=this.parent.__blendMode;null==this.shader&&(this.__shader=this.parent.__shader)}else this.__worldAlpha=this.get_alpha();b&&this.__renderDirty&&(this.__renderDirty=!1)}},__updateChildren:function(a){if((this.__renderable=
this.get_visible()&&0!=this.get_scaleX()&&0!=this.get_scaleY()&&!this.__isMask)||this.__isMask)this.__worldAlpha=this.get_alpha(),this.__transformDirty&&(this.__transformDirty=!1,y.__worldTransformDirty--)},__updateMask:function(a){null!=this.__graphics&&(a.__commands.overrideMatrix(this.__worldTransform),a.__commands.append(this.__graphics.__commands),a.set___dirty(!0),a.__visible=!0,null==a.__bounds&&(a.__bounds=new Z),this.__graphics.__getBounds(a.__bounds,Y.__identity))},__updateTransforms:function(a){var b=
null!=a;a=b?a.clone():this.__transform;null==this.__worldTransform&&(this.__worldTransform=new Y);b||null==this.parent?(this.__worldTransform.copyFrom(a),this.__worldOffset.setTo(0,0)):(b=this.parent.__worldTransform,this.__worldTransform.a=a.a*b.a+a.b*b.c,this.__worldTransform.b=a.a*b.b+a.b*b.d,this.__worldTransform.c=a.c*b.a+a.d*b.c,this.__worldTransform.d=a.c*b.b+a.d*b.d,this.__worldTransform.tx=a.tx*b.a+a.ty*b.c+b.tx,this.__worldTransform.ty=a.tx*b.b+a.ty*b.d+b.ty,this.__worldOffset.copyFrom(this.parent.__worldOffset));
null!=this.__scrollRect?(this.__offset=this.__worldTransform.deltaTransformPoint(this.__scrollRect.get_topLeft()),this.__worldOffset.offset(this.__offset.x,this.__offset.y)):this.__offset.setTo(0,0);this.__renderTransform.copyFrom(this.__worldTransform);this.__renderTransform.translate(-this.__worldOffset.x,-this.__worldOffset.y)},get_alpha:function(){return this.__alpha},get_filters:function(){return null==this.__filters?[]:this.__filters.slice()},set_filters:function(a){null!=a&&0<a.length?(this.__filters=
a,this.__updateFilters=this.__cacheAsBitmap=this.__forceCacheAsBitmap=!0):(this.__filters=null,this.__updateFilters=this.__cacheAsBitmap=this.__forceCacheAsBitmap=!1);this.__renderDirty||(this.__updateCachedBitmap=!0,this.__updateFilters=null!=this.get_filters()&&0<this.get_filters().length,this.__renderDirty=!0,y.__worldRenderDirty++);return a},get_height:function(){var a=new Z;this.__getBounds(a,this.__transform);return a.height},set_height:function(a){var b=new Z,c=Y.__temp;c.identity();this.__getBounds(b,
c);a!=b.height?this.set_scaleY(a/b.height):this.set_scaleY(1);return a},get_mask:function(){return this.__mask},get_mouseX:function(){var a;a=null!=this.stage?this.stage.__mouseX:S.current.stage.__mouseX;var b;b=null!=this.stage?this.stage.__mouseY:S.current.stage.__mouseY;return this.__getWorldTransform().__transformInverseX(a,b)},get_mouseY:function(){var a;a=null!=this.stage?this.stage.__mouseX:S.current.stage.__mouseX;var b;b=null!=this.stage?this.stage.__mouseY:S.current.stage.__mouseY;return this.__getWorldTransform().__transformInverseY(a,
b)},get_name:function(){return this.__name},set_name:function(a){return this.__name=a},get_rotation:function(){return this.__rotation},set_rotation:function(a){if(a!=this.__rotation){this.__rotation=a;var b=Math.PI/180*this.__rotation;this.__rotationSine=Math.sin(b);this.__rotationCosine=Math.cos(b);var b=this.get_scaleX(),c=this.get_scaleY();this.__transform.a=this.__rotationCosine*b;this.__transform.b=this.__rotationSine*b;this.__transform.c=-this.__rotationSine*c;this.__transform.d=this.__rotationCosine*
c;this.__transformDirty||(this.__transformDirty=!0,y.__worldTransformDirty++)}return a},get_scaleX:function(){return 0==this.__transform.b?this.__transform.a:Math.sqrt(this.__transform.a*this.__transform.a+this.__transform.b*this.__transform.b)},set_scaleX:function(a){if(0==this.__transform.c)a==this.__transform.a||this.__transformDirty||(this.__transformDirty=!0,y.__worldTransformDirty++),this.__transform.a=a;else{var b=this.__rotationCosine*a,c=this.__rotationSine*a;this.__transform.a==b&&this.__transform.b==
c||this.__transformDirty||(this.__transformDirty=!0,y.__worldTransformDirty++);this.__transform.a=b;this.__transform.b=c}return a},get_scaleY:function(){return 0==this.__transform.c?this.__transform.d:Math.sqrt(this.__transform.c*this.__transform.c+this.__transform.d*this.__transform.d)},set_scaleY:function(a){if(0==this.__transform.c)a==this.__transform.d||this.__transformDirty||(this.__transformDirty=!0,y.__worldTransformDirty++),this.__transform.d=a;else{var b=-this.__rotationSine*a,c=this.__rotationCosine*
a;this.__transform.d==c&&this.__transform.c==b||this.__transformDirty||(this.__transformDirty=!0,y.__worldTransformDirty++);this.__transform.c=b;this.__transform.d=c}return a},get_scrollRect:function(){return null==this.__scrollRect?null:this.__scrollRect.clone()},set_scrollRect:function(a){a==this.__scrollRect||this.__transformDirty||(this.__transformDirty=!0,y.__worldTransformDirty++);return this.__scrollRect=a},get_transform:function(){null==this.__objectTransform&&(this.__objectTransform=new cd(this));
return this.__objectTransform},get_visible:function(){return this.__visible},set_visible:function(a){a==this.__visible||this.__renderDirty||(this.__updateCachedBitmap=!0,this.__updateFilters=null!=this.get_filters()&&0<this.get_filters().length,this.__renderDirty=!0,y.__worldRenderDirty++);return this.__visible=a},get_width:function(){var a=new Z;this.__getBounds(a,this.__transform);return a.width},get_x:function(){return this.__transform.tx},set_x:function(a){a==this.__transform.tx||this.__transformDirty||
(this.__transformDirty=!0,y.__worldTransformDirty++);return this.__transform.tx=a},get_y:function(){return this.__transform.ty},set_y:function(a){a==this.__transform.ty||this.__transformDirty||(this.__transformDirty=!0,y.__worldTransformDirty++);return this.__transform.ty=a},__class__:y,__properties__:{get_mouseY:"get_mouseY",get_mouseX:"get_mouseX",set_y:"set_y",get_y:"get_y",set_x:"set_x",get_x:"get_x",get_width:"get_width",set_visible:"set_visible",get_visible:"get_visible",get_transform:"get_transform",
set_scrollRect:"set_scrollRect",get_scrollRect:"get_scrollRect",set_scaleY:"set_scaleY",get_scaleY:"get_scaleY",set_scaleX:"set_scaleX",get_scaleX:"get_scaleX",set_rotation:"set_rotation",get_rotation:"get_rotation",set_name:"set_name",get_name:"get_name",get_mask:"get_mask",set_height:"set_height",get_height:"get_height",set_filters:"set_filters",get_filters:"get_filters",get_alpha:"get_alpha"}});var ta=function(){y.call(this);this.doubleClickEnabled=!1;this.mouseEnabled=!0;this.__tabEnabled=this.needsSoftKeyboard=
!1;this.tabIndex=-1};k["openfl.display.InteractiveObject"]=ta;ta.__name__=!0;ta.__super__=y;ta.prototype=q(y.prototype,{__getInteractive:function(a){null!=a&&(a.push(this),null!=this.parent&&this.parent.__getInteractive(a));return!0},__hitTest:function(a,b,c,d,e,f){return!f.get_visible()||this.__isMask||e&&!this.mouseEnabled?!1:y.prototype.__hitTest.call(this,a,b,c,d,e,f)},get_tabEnabled:function(){return this.__tabEnabled},__class__:ta,__properties__:q(y.prototype.__properties__,{get_tabEnabled:"get_tabEnabled"})});
var oa=function(){ta.call(this);this.mouseChildren=!0;this.__children=[];this.__removedChildren=[]};k["openfl.display.DisplayObjectContainer"]=oa;oa.__name__=!0;oa.__super__=ta;oa.prototype=q(ta.prototype,{addChild:function(a){if(null!=a){null!=a.parent&&a.parent.removeChild(a);this.__children.push(a);a.parent=this;null!=this.stage&&a.__setStageReference(this.stage);a.__transformDirty||(a.__transformDirty=!0,y.__worldTransformDirty++);a.__renderDirty||(a.__updateCachedBitmap=!0,a.__updateFilters=
null!=a.get_filters()&&0<a.get_filters().length,a.__renderDirty=!0,y.__worldRenderDirty++);this.__renderDirty||(this.__updateCachedBitmap=!0,this.__updateFilters=null!=this.get_filters()&&0<this.get_filters().length,this.__renderDirty=!0,y.__worldRenderDirty++);var b=new t("added",!0);b.target=a;a.__dispatchEvent(b)}return a},getChildAt:function(a){return 0<=a&&a<this.__children.length?this.__children[a]:null},getObjectsUnderPoint:function(a){var b=[];this.__hitTest(a.x,a.y,!1,b,!1,this);b.reverse();
return b},removeChild:function(a){null!=a&&a.parent==this&&(a.__dispatchEvent(new t("removed",!0)),null!=this.stage&&a.__setStageReference(null),a.parent=null,F.remove(this.__children,a),this.__removedChildren.push(a),a.__transformDirty||(a.__transformDirty=!0,y.__worldTransformDirty++),a.__renderDirty||(a.__updateCachedBitmap=!0,a.__updateFilters=null!=a.get_filters()&&0<a.get_filters().length,a.__renderDirty=!0,y.__worldRenderDirty++),this.__renderDirty||(this.__updateCachedBitmap=!0,this.__updateFilters=
null!=this.get_filters()&&0<this.get_filters().length,this.__renderDirty=!0,y.__worldRenderDirty++));return a},removeChildAt:function(a){return 0<=a&&a<this.__children.length?this.removeChild(this.__children[a]):null},__broadcast:function(a,b){null==a.target&&(a.target=this);var c=ta.prototype.__broadcast.call(this,a,b);if(!a.__isCanceled&&b)for(var d=0,e=this.__children;d<e.length;){var f=e[d];++d;f.__broadcast(a,!0);if(a.__isCanceled)return!0}return c},__enterFrame:function(a){for(var b=0,c=this.__children;b<
c.length;){var d=c[b];++b;d.__enterFrame(a)}},__getBounds:function(a,b){ta.prototype.__getBounds.call(this,a,b);if(0!=this.__children.length){null!=b&&(this.__updateTransforms(b),this.__updateChildren(!0));for(var c=0,d=this.__children;c<d.length;){var e=d[c];++c;0!=e.get_scaleX()&&0!=e.get_scaleY()&&e.__getBounds(a,e.__worldTransform)}null!=b&&(this.__updateTransforms(),this.__updateChildren(!0))}},__getRenderBounds:function(a,b){if(null!=this.__scrollRect)ta.prototype.__getRenderBounds.call(this,
a,b);else if(ta.prototype.__getBounds.call(this,a,b),0!=this.__children.length){null!=b&&(this.__updateTransforms(b),this.__updateChildren(!0));for(var c=0,d=this.__children;c<d.length;){var e=d[c];++c;0==e.get_scaleX()||0==e.get_scaleY()||e.__isMask||e.__getRenderBounds(a,e.__worldTransform)}null!=b&&(this.__updateTransforms(),this.__updateChildren(!0))}},__hitTest:function(a,b,c,d,e,f){if(!f.get_visible()||this.__isMask||e&&!this.mouseEnabled&&!this.mouseChildren||null!=this.get_mask()&&!this.get_mask().__hitTestMask(a,
b)||null!=this.get_scrollRect()&&!this.get_scrollRect().containsPoint(this.globalToLocal(new x(a,b))))return!1;var O=this.__children.length;if(e)if(null==d||!this.mouseChildren)for(;0<=--O;){if(this.__children[O].__hitTest(a,b,c,null,!0,this.__children[O]))return null!=d&&d.push(f),!0}else{if(null!=d){e=d.length;for(var g=!1,h=!1;0<=--O&&!(((g=this.__children[O].__getInteractive(null))||this.mouseEnabled&&!h)&&this.__children[O].__hitTest(a,b,c,d,!0,this.__children[O])&&(h=!0,g)););if(h)return d.splice(e,
0,f),!0}}else for(;0<=--O;)this.__children[O].__hitTest(a,b,c,d,!1,this.__children[O]);return!1},__hitTestMask:function(a,b){for(var c=this.__children.length;0<=--c;)if(this.__children[c].__hitTestMask(a,b))return!0;return!1},__renderCairo:function(a){if(this.__renderable&&!(0>=this.__worldAlpha)){ta.prototype.__renderCairo.call(this,a);null!=this.get_scrollRect()&&a.maskManager.pushRect(this.get_scrollRect(),this.__worldTransform);null!=this.__mask&&a.maskManager.pushMask(this.__mask);for(var b=
0,c=this.__children;b<c.length;){var d=c[b];++b;d.__renderCairo(a)}0<this.__removedChildren.length&&this.__removedChildren.splice(0,this.__removedChildren.length);null!=this.__mask&&a.maskManager.popMask();null!=this.get_scrollRect()&&a.maskManager.popRect()}},__renderCairoMask:function(a){null!=this.__graphics&&R.renderMask(this.__graphics,a);for(var b=0,c=this.__children;b<c.length;){var d=c[b];++b;d.__renderCairoMask(a)}},__renderCanvas:function(a){if(this.__renderable&&!(0>=this.__worldAlpha)){ta.prototype.__renderCanvas.call(this,
a);null!=this.get_scrollRect()&&a.maskManager.pushRect(this.get_scrollRect(),this.__worldTransform);null!=this.__mask&&a.maskManager.pushMask(this.__mask);for(var b=0,c=this.__children;b<c.length;){var d=c[b];++b;d.__renderCanvas(a)}0<this.__removedChildren.length&&this.__removedChildren.splice(0,this.__removedChildren.length);null!=this.__mask&&a.maskManager.popMask();null!=this.get_scrollRect()&&a.maskManager.popRect()}},__renderCanvasMask:function(a){null!=this.__graphics&&g.renderMask(this.__graphics,
a);var b=new Z;this.__getBounds(b,this.__transform);a.context.rect(0,0,b.width,b.height)},__setStageReference:function(a){if(this.stage!=a&&(null!=this.stage&&this.__dispatchEvent(new t("removedFromStage",!1,!1)),this.stage=a,null!=a&&this.__dispatchEvent(new t("addedToStage",!1,!1)),null!=this.__children))for(var b=0,c=this.__children;b<c.length;){var d=c[b];++b;d.__setStageReference(a)}},__update:function(a,b,c){ta.prototype.__update.call(this,a,b,c);if((this.__renderable||this.__isMask)&&b){b=
0;for(var d=this.__children;b<d.length;){var e=d[b];++b;e.__update(a,!0,c)}}},__updateChildren:function(a){ta.prototype.__updateChildren.call(this,a);for(var b=0,c=this.__children;b<c.length;){var d=c[b];++b;d.__update(a,!0)}},get_numChildren:function(){return this.__children.length},__class__:oa,__properties__:q(ta.prototype.__properties__,{get_numChildren:"get_numChildren"})});var D=function(){oa.call(this);this.buttonMode=!1;this.useHandCursor=!0;this.loaderInfo=kb.create(null)};k["openfl.display.Sprite"]=
D;D.__name__=!0;D.__super__=oa;D.prototype=q(oa.prototype,{startDrag:function(a,b){null==a&&(a=!1);null!=this.stage&&this.stage.__startDrag(this,a,b)},stopDrag:function(){null!=this.stage&&this.stage.__stopDrag(this)},__getCursor:function(){return this.buttonMode&&this.useHandCursor?v.POINTER:null},__hitTest:function(a,b,c,d,e,f){if(null!=this.hitArea){if(!this.hitArea.mouseEnabled)return this.hitArea.mouseEnabled=!0,a=this.hitArea.__hitTest(a,b,c,null,!0,f),this.hitArea.mouseEnabled=!1,a&&(d[d.length]=
f),a}else{if(!f.get_visible()||this.__isMask||e&&!this.mouseEnabled&&!this.mouseChildren||null!=this.get_mask()&&!this.get_mask().__hitTestMask(a,b))return!1;if(oa.prototype.__hitTest.call(this,a,b,c,d,e,f))return e;if((!e||this.mouseEnabled)&&null!=this.__graphics&&this.__graphics.__hitTest(a,b,c,this.__getWorldTransform()))return null!=d&&d.push(f),!0}return!1},__hitTestMask:function(a,b){return oa.prototype.__hitTestMask.call(this,a,b)||null!=this.__graphics&&this.__graphics.__hitTest(a,b,!0,this.__getWorldTransform())?
!0:!1},get_graphics:function(){null==this.__graphics&&(this.__graphics=new Ib,this.__graphics.__owner=this);return this.__graphics},get_tabEnabled:function(){return this.__tabEnabled||this.buttonMode},__class__:D,__properties__:q(oa.prototype.__properties__,{get_graphics:"get_graphics"})});var x=function(a,b){null==b&&(b=0);null==a&&(a=0);this.x=a;this.y=b};k["openfl.geom.Point"]=x;x.__name__=!0;x.prototype={clone:function(){return new x(this.x,this.y)},copyFrom:function(a){this.x=a.x;this.y=a.y},
offset:function(a,b){this.x+=a;this.y+=b},setTo:function(a,b){this.x=a;this.y=b},toString:function(){return"(x="+this.x+", y="+this.y+")"},__class__:x};var h=La.ru.octasoft.oem.designer.Main=function(){var a=this;D.call(this);h.view=this;h.undo=new Tb;h.redo=new Tb;h.toolbar=new sc;this.addChild(h.toolbar);this.set_name("main");h.cont=new D;h.cont.set_name("cont");h.cont.set_x(6);h.cont.set_y(h.toolbar.get_height()+h.GRID_PADDING);h.cont.set_scrollRect(new Z(-6,-6,h.clipSize+12,h.clipSize+12));this.addChild(h.cont);
h.grid=new tc;h.cont.addChild(h.grid);h.cont.addEventListener("mouseDown",function(a){h.click.x=a.stageX;h.click.y=a.stageY;h.draggable&&(da.stop(h.grid),h.grid.startDrag())});h.cont.addEventListener("mouseMove",function(a){h.gridDown&&!h.dragged&&(h.dragged=!0)});h.cont.addEventListener("mouseUp",function(b){h.click.x==b.stageX&&h.click.y==b.stageY&&(b=new x(b.stageX,b.stageY),1==a.stage.getObjectsUnderPoint(b).length&&null!=h.selected&&h.selected.get_selected()&&(h.selected.set_selected(!1),h.selected=
null,a.showPopup(h.selected,!1)));h.dragged=!1;h.grid.stopDrag();h.validateEditor();h.gridDown=!1});h.cont.addEventListener("mouseOut",function(a){h.stopDragging()});h.toolbar.addEventListener(Ra.ZOOM_IN,function(a){h.shelfPopup.set_visible(!1);h.grid.zoomIn();h.validateEditor()});h.toolbar.addEventListener(Ra.ZOOM_OUT,function(a){h.shelfPopup.set_visible(!1);h.grid.zoomOut();h.validateEditor()});h.toolbar.addEventListener(rb.NAME,function(a){h.reset(!1)});h.toolbar.addEventListener(sb.NAME,function(a){null!=
h.selected&&(h.grid.dispatchEvent(new Sa(h.selected,new x(h.selected.get_x(),h.selected.get_y()),ea.DIRECT)),h.selected=null)});h.toolbar.addEventListener(tb.NAME,l(this,this.onUndo));h.toolbar.addEventListener(ub.NAME,l(this,this.onRedo));var b=this.stage.stageWidth-h.RIGHTCOL_WIDTH,c=h.RIGHTCOL_WIDTH;h.rightTitle=new D;h.rightTitle.set_x(b);this.addChild(h.rightTitle);h.rightTitle.get_graphics().beginBitmapFill(I.getBitmapData("assets/images/border2.png"));h.rightTitle.get_graphics().drawRect(0,
0,c,h.TOOLBAR_HEIGHT);h.rightTitle.get_graphics().endFill();var d=I.getFont(h.FONT_BOLD),d=new Ma(d.name,21,0);d.align=3;h.label=new wa;h.label.set_defaultTextFormat(d);h.label.set_embedFonts(!0);h.label.set_autoSize(1);h.label.set_text("EQUIPMENT");h.label.set_x(b+c/2-h.label.get_width()/2);h.label.set_y(h.TOOLBAR_HEIGHT/2-h.label.get_height()/2);this.addChild(h.label);h.eq=new uc(h.grid);h.eq.set_x(b);h.eq.set_y(h.TOOLBAR_HEIGHT+30);this.addChild(h.eq);h.grid.addEventListener(Sa.NAME,function(a){fb.log("FigureDeletedEvent"+
za.string(a.from));h.shelfPopup.set_visible(!1);var b=a.figure,c=a.from;h.grid.removeChild(b);b.set_selected(!1);for(var d=0,g=h.eq.body.get_numChildren();d<g;){var k=d++,k=r.__cast(h.eq.body.getChildAt(k),vb);if(k.figure.id==a.figure.id){var l=k.usedQty;k.set_usedQty(l-1);l}}switch(a.context[1]){case 1:h.redo.push(new Ta(b,c,ea.REDO));break;case 2:h.undo.push(new Ta(b,c,ea.UNDO));break;default:h.redo.clear(),h.undo.push(new Ta(b,c,ea.UNDO))}});h.grid.addEventListener(Ta.NAME,function(b){fb.log("FigureAddedEvent "+
za.string(b.to));var c=b.figure,d=b.to;c.set_x(d.x);c.set_y(d.y);h.grid.addChild(c);if(b.shift){var g=c.picture.getBounds(a);c.set_x(c.get_x()+g.width/2);c.set_y(c.get_y()+g.height/2)}if(a.validateDrop(c)){a.validatePosition(c);a.validateBounds(c);for(var g=0,k=h.eq.body.get_numChildren();g<k;){var J=g++,J=r.__cast(h.eq.body.getChildAt(J),vb);if(J.figure.id==b.figure.id){var l=J.usedQty;J.set_usedQty(l+1);l}}switch(b.context[1]){case 1:h.redo.push(new Sa(c,d,ea.REDO));break;case 2:h.undo.push(new Sa(c,
d,ea.UNDO));break;default:h.redo.clear(),h.undo.push(new Sa(c,d,ea.UNDO))}}else h.grid.removeChild(c)});h.grid.addEventListener(Za.NAME,function(b){fb.log("FigureMovedEvent"+za.string(b.from)+" -> "+za.string(b.to));var c=b.figure,d=b.to;c.set_x(d.x);c.set_y(d.y);if(a.validateDrop(c))switch(a.validatePosition(c),a.validateBounds(c),h.grid.addChild(c),b.context[1]){case 1:h.redo.push(new Za(c,b.to,b.from,ea.REDO));break;case 2:h.undo.push(new Za(c,b.to,b.from,ea.UNDO));break;default:h.redo.clear(),
h.undo.push(new Za(c,b.to,b.from,ea.UNDO))}else c.set_x(b.from.x),c.set_y(b.from.y)});h.grid.addEventListener($a.NAME,function(a){fb.log("FigureRotateEvent "+a.from+" "+a.to);var b=a.figure;b.set_rotation(a.to);switch(a.context[1]){case 1:h.redo.push(new $a(b,a.to,a.from,ea.REDO));break;case 2:h.undo.push(new $a(b,a.to,a.from,ea.UNDO));break;default:h.redo.clear(),h.undo.push(new $a(b,a.to,a.from,ea.UNDO))}});h.grid.addEventListener(wb.NAME,function(b){a.validateBounds(b.figure)});h.grid.addEventListener(xb.NAME,
l(this,this.onSelect));this.stage.addEventListener("keyUp",function(b){switch(b.keyCode){case 37:a.keyboardNav(!1);break;case 39:a.keyboardNav(!0)}});h.shelfPopup=new vc;h.cont.addChild(h.shelfPopup);window.onEditorReady()};k["ru.octasoft.oem.designer.Main"]=h;h.__name__=!0;h.view=null;h.rightTitle=null;h.label=null;h.toolbar=null;h.cont=null;h.grid=null;h.eq=null;h.dragged=null;h.gridDown=null;h.shelfPopup=null;h.selected=null;h.undo=null;h.redo=null;h.compare2=function(a,b,c){return Math.abs(a-
b)<=c};h.compare=function(a,b){return h.compare2(a,b,.5)};h.validateEditor=function(){0<h.grid.get_x()&&da.tween(h.grid,1,{x:0});h.grid.get_x()+h.grid.scaledW<=h.clipSize&&h.grid.scaledW>=h.clipSize&&da.tween(h.grid,1,{x:h.clipSize-h.grid.scaledW});0<h.grid.get_y()&&da.tween(h.grid,1,{y:0})};h.stopDragging=function(){h.dragged&&(h.dragged=!1,h.grid.stopDrag(),h.validateEditor())};h.init=function(a){h.reset();a.hideControls&&(h.eq.set_visible(h.toolbar.set_visible(h.label.set_visible(h.rightTitle.set_visible(!1)))),
h.cont.set_scrollRect(null),h.cont.set_y(6),h.draggable=!1);a.labelTitle&&h.label.set_text(a.labelTitle);h.grid.init(a.w,a.h,Fa.createEnum(Aa,a.type),h.clipSize);var b=Td.array(a.items);h.load(b,function(){if(null!=a.placedItems)for(var b=a.placedItems,d=0;d<b.length;){var e=b[d];++d;var f=h.eq.findItemById(e.id);null!=f&&h.grid.add(f,e.x,e.y,e.rotation,e.lift)}})};h.load=function(a,b){if(0==a.length)b();else{var c=a.shift();h.eq.addObject(c,function(){h.load(a,b)})}};h.scroll=function(a,b,c){0==
h.prev&&(h.prev=a);if(a!=b){var d=h.prev-c;c<a&&0<d&&(c=a);c>b&&0>d&&(c=b);d=(c-a)/(b-a);h.view.set_y((b-a)*d);h.eq.scroll(d);h.prev=c}};h.reset=function(a){for(null==a&&(a=!0);0<h.grid.get_numChildren();)h.grid.removeChildAt(0);if(a){for(;0<h.eq.body.get_numChildren();)h.eq.body.removeChildAt(0);h.eq.items=[];h.eq.offY=0;h.eq.body.set_y(0);h.eq.body.set_height(0)}a=0;for(var b=h.eq.body.get_numChildren();a<b;){var c=a++;r.__cast(h.eq.body.getChildAt(c),vb).set_usedQty(0)}h.undo.clear();h.redo.clear()};
h.placeItem=function(a){var b=h.eq.findItemById(a.id);null!=b&&h.grid.add(b,a.x,a.y,a.rotation,a.lift)};h.getScene=function(){for(var a={objects:[]},b=0,c=h.grid.get_numChildren();b<c;){var d=b++,d=h.grid.getChildAt(d);if(r.__instanceof(d,ab)){var e=d.picture.getBounds(h.grid),f=d.get_x()-e.width/2,e=d.get_y()-e.height/2,f={id:d.id,x:Math.max(0,Va.pixelsToUnits(f/h.grid.scale)),y:Math.max(0,Va.pixelsToUnits(e/h.grid.scale)),rotation:d.get_rotation()};a.objects.push(f);d.type==aa.shelf&&p.setField(f,
"lift",d.get_lift())}}return a};h.__super__=D;h.prototype=q(D.prototype,{keyboardNav:function(a){if(null!=h.selected&&h.selected.type==aa.shelf){for(var b=[],c=0,d=h.grid.get_numChildren();c<d;){var e=c++,e=h.grid.getChildAt(e);r.__instanceof(e,ab)&&e.type==h.selected.type&&b.push(e)}1>=b.length||(b.sort(function(a,b){return a.number-b.number}),c=F.indexOf(b,h.selected,0),a?(c++,c==b.length&&(c=0)):(c--,-1==c&&(c=b.length-1)),h.selected.set_selected(!1),h.selected=b[c],h.selected.set_selected(!0),
h.selected.parent.addChild(h.selected),this.showPopup(h.selected,!0))}},showPopup:function(a,b){b?a.type==aa.shelf?(h.shelfPopup.set_visible(!0),h.shelfPopup.update(a)):h.shelfPopup.set_visible(!1):h.shelfPopup.set_visible(!1)},nearWall:function(a){var b=a.picture.getBounds(h.grid);return h.compare(a.get_x(),b.width/2)||h.compare(a.get_y(),b.height/2)||h.compare(a.get_x(),h.grid.scaledW-b.width/2)||h.compare(a.get_y(),h.grid.scaledH-b.height/2)},validateBounds:function(a){var b=a.picture.getBounds(h.grid);
0>b.x&&a.set_x(b.width/2);0>b.y&&a.set_y(b.height/2);b.get_right()>h.grid.scaledW&&a.set_x(h.grid.scaledW-b.width/2);b.get_bottom()>h.grid.scaledH&&a.set_y(h.grid.scaledH-b.height/2);a.set_x(Math.round(a.get_x()));a.set_y(Math.round(a.get_y()))},validatePosition:function(a){var b=a.picture.getBounds(h.grid);0>b.x&&a.set_x(b.width/2);0>b.y&&a.set_y(b.height/2);b.get_right()>h.grid.scaledW&&a.set_x(h.grid.scaledW-b.width/2);b.get_bottom()>h.grid.scaledH&&a.set_y(h.grid.scaledH-b.height/2);switch(a.type[1]){case 1:var c=
a.get_x(),d=a.get_y(),e=h.grid.scaledW-a.get_x(),f=h.grid.scaledH-a.get_y(),O=Math.min(c,Math.min(d,Math.min(e,f)));O==c&&a.set_x(b.width/2);O==d&&a.set_y(b.height/2);O==e&&a.set_x(h.grid.scaledW-b.width/2);O==f&&a.set_y(h.grid.scaledH-b.height/2);break;case 3:c=a.get_x();d=a.get_y();e=h.grid.scaledW-a.get_x();f=0;switch(h.grid.gridType[1]){case 0:f=Math.min(c,Math.min(d,e));break;case 1:f=Math.min(d,e);break;case 2:f=d}f==c&&a.set_x(b.width/2);f==d&&a.set_y(b.height/2);f==e&&a.set_x(h.grid.scaledW-
b.width/2)}a.set_x(Math.round(a.get_x()));a.set_y(Math.round(a.get_y()))},validateDrop:function(a){if((a.type==aa.light||a.type==aa.shelf)&&h.grid.gridType==Aa.island)return!1;for(var b=0,c=h.grid.get_numChildren();b<c;){var d=b++,d=h.grid.getChildAt(h.grid.get_numChildren()-d-1);if(r.__instanceof(d,ab)&&a!=d){var e=a.picture.getBounds(h.grid),f=d.picture.getBounds(h.grid);if(e.intersects(f)&&a.type!=aa.plug&&a.type!=aa.shelf&&(a.type!=aa.light||!this.nearWall(d)))return!1}}return!0},onUndo:function(a){0!=
h.undo.length&&(a=h.undo.pop(),h.grid.dispatchEvent(a))},onRedo:function(a){0!=h.redo.length&&(a=h.redo.pop(),h.grid.dispatchEvent(a))},onSelect:function(a){a.figure==h.selected?(h.selected=null,a.figure.set_selected(!1),this.showPopup(h.selected,!1)):(null!=h.selected&&h.selected.set_selected(!1),h.selected=a.figure,h.selected.set_selected(!0),this.showPopup(h.selected,!0))},listObjectsUnderMouse:function(a){var b=new x(a.stageX,a.stageY),b=this.stage.getObjectsUnderPoint(b);0<b.length&&b[0]!=a.target&&
(a=r.__cast(b[0],D),a.get_graphics().beginFill(16711680),a.get_graphics().drawRect(0,0,100,100))},__class__:h});var oc=function(){S.current.addChild(this);h.call(this);this.dispatchEvent(new t("addedToStage",!1,!1))};k.DocumentClass=oc;oc.__name__=!0;oc.__super__=h;oc.prototype=q(h.prototype,{__class__:oc});var wc=function(){this.onChange=new ba};k["lime.AssetLibrary"]=wc;wc.__name__=!0;wc.prototype={exists:function(a,b){return!1},getFont:function(a){return null},getImage:function(a){return null},
isLocal:function(a,b){return!0},unload:function(){},__class__:wc};var zc=function(){this.type=new va;this.path=new va;this.className=new va;this.onChange=new ba;pa.registerFont(xc);pa.registerFont(yc);var a;a="assets/fonts/gothaprobol-webfont.ttf";this.className.set(a,Ub);this.type.set(a,"FONT");a="assets/fonts/gothaproreg-webfont.ttf";this.className.set(a,Vb);this.type.set(a,"FONT");a="assets/images/border1.png";this.path.set(a,a);this.type.set(a,"IMAGE");a="assets/images/border2.png";this.path.set(a,
a);this.type.set(a,"IMAGE");a="assets/images/decor.png";this.path.set(a,a);this.type.set(a,"IMAGE");a="assets/images/delete.png";this.path.set(a,a);this.type.set(a,"IMAGE");a="assets/images/popup_left.png";this.path.set(a,a);this.type.set(a,"IMAGE");a="assets/images/popup_right.png";this.path.set(a,a);this.type.set(a,"IMAGE");a="assets/images/popup_top.png";this.path.set(a,a);this.type.set(a,"IMAGE");a="assets/images/redo.png";this.path.set(a,a);this.type.set(a,"IMAGE");a="assets/images/rotate.png";
this.path.set(a,a);this.type.set(a,"IMAGE");a="assets/images/shelf_bg1.png";this.path.set(a,a);this.type.set(a,"IMAGE");a="assets/images/undo.png";this.path.set(a,a);this.type.set(a,"IMAGE");a="assets/images/zoomIn.png";this.path.set(a,a);this.type.set(a,"IMAGE");a="assets/images/zoomOut.png";this.path.set(a,a);this.type.set(a,"IMAGE");a=null;null!=X.config&&Object.prototype.hasOwnProperty.call(X.config,"assetsPrefix")&&(a=X.config.assetsPrefix);if(null!=a)for(var b=this.path.keys();b.hasNext();){var c=
b.next(),d=a+this.path.get(c);this.path.set(c,d)}};k.DefaultAssetLibrary=zc;zc.__name__=!0;zc.__super__=wc;zc.prototype=q(wc.prototype,{exists:function(a,b){var c;c=null!=b?r.__cast(b,String):null;var d=this.type.get(a);return null==d||d!=c&&("SOUND"!=c&&"MUSIC"!=c||"MUSIC"!=d&&"SOUND"!=d)&&"BINARY"!=c&&null!=c&&("BINARY"!=d||"TEXT"!=c)?!1:!0},getFont:function(a){return r.__cast(Fa.createInstance(this.className.get(a),[]),Ha)},getImage:function(a){return ja.fromImageElement(function(b){b=b.path.get(a);
return fa.images.get(b)}(this))},isLocal:function(a,b){null!=b&&r.__cast(b,String);return!0},__class__:zc});var Ha=function(a){null!=a&&(this.name=a);null!=this.__fontPath&&this.__fromFile(this.__fontPath)};k["lime.text.Font"]=Ha;Ha.__name__=!0;Ha.prototype={__fromFile:function(a){this.__fontPath=a},__class__:Ha};var Ub=function(){Ha.call(this);this.name="Gotham Pro Bold"};k.__ASSET__assets_fonts_gothaprobol_webfont_ttf=Ub;Ub.__name__=!0;Ub.__super__=Ha;Ub.prototype=q(Ha.prototype,{__class__:Ub});
var Vb=function(){Ha.call(this);this.name="Gotham Pro Regular"};k.__ASSET__assets_fonts_gothaproreg_webfont_ttf=Vb;Vb.__name__=!0;Vb.__super__=Ha;Vb.prototype=q(Ha.prototype,{__class__:Vb});var pa=function(a){Ha.call(this,a)};k["openfl.text.Font"]=pa;pa.__name__=!0;pa.registerFont=function(a){a=r.__cast(Fa.createInstance(a,[]),pa);null!=a&&pa.__registeredFonts.push(a)};pa.__fromLimeFont=function(a){var b=new pa;b.name=a.name;b.src=a.src;return b};pa.__super__=Ha;pa.prototype=q(Ha.prototype,{__class__:pa});
var xc=function(){var a=new Ub;this.src=a.src;this.name=a.name;Ha.call(this,void 0)};k.__ASSET__OPENFL__assets_fonts_gothaprobol_webfont_ttf=xc;xc.__name__=!0;xc.__super__=pa;xc.prototype=q(pa.prototype,{__class__:xc});var yc=function(){var a=new Vb;this.src=a.src;this.name=a.name;Ha.call(this,void 0)};k.__ASSET__OPENFL__assets_fonts_gothaproreg_webfont_ttf=yc;yc.__name__=!0;yc.__super__=pa;yc.prototype=q(pa.prototype,{__class__:yc});var Wb=function(a,b){b=b.split("u").join("");this.r=new RegExp(a,
b)};k.EReg=Wb;Wb.__name__=!0;Wb.prototype={match:function(a){this.r.global&&(this.r.lastIndex=0);this.r.m=this.r.exec(a);this.r.s=a;return null!=this.r.m},replace:function(a,b){return a.replace(this.r,b)},__class__:Wb};var F=function(){};k.HxOverrides=F;F.__name__=!0;F.cca=function(a,b){var c=a.charCodeAt(b);return c!=c?void 0:c};F.substr=function(a,b,c){if(null!=b&&0!=b&&null!=c&&0>c)return"";null==c&&(c=a.length);0>b?(b=a.length+b,0>b&&(b=0)):0>c&&(c=a.length+c-b);return a.substr(b,c)};F.indexOf=
function(a,b,c){var d=a.length;0>c&&(c+=d,0>c&&(c=0));for(;c<d;){if(a[c]===b)return c;c++}return-1};F.remove=function(a,b){var c=F.indexOf(a,b,0);if(-1==c)return!1;a.splice(c,1);return!0};F.iter=function(a){return{cur:0,arr:a,hasNext:function(){return this.cur<this.arr.length},next:function(){return this.arr[this.cur++]}}};var Td=function(){};k.Lambda=Td;Td.__name__=!0;Td.array=function(a){var b=[];for(a=Ne(a)();a.hasNext();){var c=a.next();b.push(c)}return b};var Tb=function(){this.length=0};k.List=
Tb;Tb.__name__=!0;Tb.prototype={add:function(a){a=[a];null==this.h?this.h=a:this.q[1]=a;this.q=a;this.length++},push:function(a){this.h=a=[a,this.h];null==this.q&&(this.q=a);this.length++},pop:function(){if(null==this.h)return null;var a=this.h[0];this.h=this.h[1];null==this.h&&(this.q=null);this.length--;return a},clear:function(){this.q=this.h=null;this.length=0},__class__:Tb};Math.__name__=!0;var Ya=function(){D.call(this);var a=this.getBackgroundColor(),b=0;70>.299*(a>>16&255)+.587*(a>>8&255)+
.114*(a&255)&&(b=16777215);var a=this.getHeight()/2-3.5,c=this.getWidth()-60;this.outline=new D;this.outline.get_graphics().beginFill(b,.07);this.outline.get_graphics().drawRect(0,0,c,7);this.outline.set_x(30);this.outline.set_y(a);this.addChild(this.outline);this.progress=new D;this.progress.get_graphics().beginFill(b,.35);this.progress.get_graphics().drawRect(0,0,c-4,3);this.progress.set_x(32);this.progress.set_y(a+2);this.progress.set_scaleX(0);this.addChild(this.progress)};k.NMEPreloader=Ya;Ya.__name__=
!0;Ya.__super__=D;Ya.prototype=q(D.prototype,{getBackgroundColor:function(){return 16777215},getHeight:function(){return S.current.stage.stageHeight},getWidth:function(){return S.current.stage.stageWidth},onInit:function(){},onLoaded:function(){this.dispatchEvent(new t("complete"))},onUpdate:function(a,b){var c=a/b;1<c&&(c=1);this.progress.set_scaleX(c)},__class__:Ya});var p=function(){};k.Reflect=p;p.__name__=!0;p.hasField=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)};p.field=function(a,
b){try{return a[b]}catch(c){return c instanceof qa&&(c=c.val),null}};p.setField=function(a,b,c){a[b]=c};p.getProperty=function(a,b){var c;return null==a?null:a.__properties__&&(c=a.__properties__["get_"+b])?a[c]():a[b]};p.setProperty=function(a,b,c){var d;if(a.__properties__&&(d=a.__properties__["set_"+b]))a[d](c);else a[b]=c};p.callMethod=function(a,b,c){return b.apply(a,c)};p.fields=function(a){var b=[];if(null!=a){var c=Object.prototype.hasOwnProperty,d;for(d in a)"__id__"!=d&&"hx__closures__"!=
d&&c.call(a,d)&&b.push(d)}return b};p.isFunction=function(a){return"function"==typeof a&&!(a.__name__||a.__ename__)};p.compareMethods=function(a,b){return a==b?!0:p.isFunction(a)&&p.isFunction(b)?a.scope==b.scope&&a.method==b.method&&null!=a.method:!1};var za=function(){};k.Std=za;za.__name__=!0;za.string=function(a){return r.__string_rec(a,"")};za["int"]=function(a){return a|0};za.parseInt=function(a){var b=parseInt(a,10);0!=b||120!=F.cca(a,1)&&88!=F.cca(a,1)||(b=parseInt(a));return isNaN(b)?null:
b};var T=function(){};k.StringTools=T;T.__name__=!0;T.urlEncode=function(a){return encodeURIComponent(a)};T.startsWith=function(a,b){return a.length>=b.length&&F.substr(a,0,b.length)==b};T.isSpace=function(a,b){var c=F.cca(a,b);return 8<c&&14>c||32==c};T.ltrim=function(a){for(var b=a.length,c=0;c<b&&T.isSpace(a,c);)c++;return 0<c?F.substr(a,c,b-c):a};T.rtrim=function(a){for(var b=a.length,c=0;c<b&&T.isSpace(a,b-c-1);)c++;return 0<c?F.substr(a,0,b-c):a};T.trim=function(a){return T.ltrim(T.rtrim(a))};
T.replace=function(a,b,c){return a.split(b).join(c)};T.hex=function(a,b){var c="";do c="0123456789ABCDEF".charAt(a&15)+c,a>>>=4;while(0<a);if(null!=b)for(;c.length<b;)c="0"+c;return c};T.fastCodeAt=function(a,b){return a.charCodeAt(b)};var Fa=function(){};k.Type=Fa;Fa.__name__=!0;Fa.resolveClass=function(a){a=k[a];return null!=a&&a.__name__?a:null};Fa.resolveEnum=function(a){a=k[a];return null!=a&&a.__ename__?a:null};Fa.createInstance=function(a,b){switch(b.length){case 0:return new a;case 1:return new a(b[0]);
case 2:return new a(b[0],b[1]);case 3:return new a(b[0],b[1],b[2]);case 4:return new a(b[0],b[1],b[2],b[3]);case 5:return new a(b[0],b[1],b[2],b[3],b[4]);case 6:return new a(b[0],b[1],b[2],b[3],b[4],b[5]);case 7:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6]);case 8:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6],b[7]);default:throw new qa("Too many arguments");}};Fa.createEnum=function(a,b,c){var d=p.field(a,b);if(null==d)throw new qa("No such constructor "+b);if(p.isFunction(d)){if(null==c)throw new qa("Constructor "+
b+" need parameters");return p.callMethod(a,d,c)}if(null!=c&&0!=c.length)throw new qa("Constructor "+b+" does not need parameters");return d};Fa.getClassFields=function(a){a=p.fields(a);F.remove(a,"__name__");F.remove(a,"__interfaces__");F.remove(a,"__properties__");F.remove(a,"__super__");F.remove(a,"__meta__");F.remove(a,"prototype");return a};var dd=function(){};k["haxe.IMap"]=dd;dd.__name__=!0;var ed=function(a,b){this.high=a;this.low=b};k["haxe._Int64.___Int64"]=ed;ed.__name__=!0;ed.prototype=
{__class__:ed};var Jb=function(a){var b=this;this.id=setInterval(function(){b.run()},a)};k["haxe.Timer"]=Jb;Jb.__name__=!0;Jb.delay=function(a,b){var c=new Jb(b);c.run=function(){c.stop();a()};return c};Jb.prototype={stop:function(){null!=this.id&&(clearInterval(this.id),this.id=null)},run:function(){},__class__:Jb};var fd=function(a){for(var b=a.length,c=1;b>1<<c;)c++;if(8<c||b!=1<<c)throw new qa("BaseCode : base length must be a power of two.");this.base=a;this.nbits=c};k["haxe.crypto.BaseCode"]=
fd;fd.__name__=!0;fd.prototype={encodeBytes:function(a){for(var b=this.nbits,c=this.base,d=8*a.length/b|0,e=ca.alloc(d+(0==8*a.length%b?0:1)),f=0,O=0,g=(1<<b)-1,h=0,k=0;k<d;){for(;O<b;)O+=8,f<<=8,f|=a.get(h++);O-=b;e.set(k++,c.b[f>>O&g])}0<O&&e.set(k++,c.b[f<<b-O&g]);return e},__class__:fd};var Na=function(){this.h={}};k["haxe.ds.IntMap"]=Na;Na.__name__=!0;Na.__interfaces__=[dd];Na.prototype={remove:function(a){if(!this.h.hasOwnProperty(a))return!1;delete this.h[a];return!0},__class__:Na};var yb=
function(){this.h={};this.h.__keys__={}};k["haxe.ds.ObjectMap"]=yb;yb.__name__=!0;yb.__interfaces__=[dd];yb.prototype={set:function(a,b){var c=a.__id__||(a.__id__=++yb.count);this.h[c]=b;this.h.__keys__[c]=a},remove:function(a){a=a.__id__;if(null==this.h.__keys__[a])return!1;delete this.h[a];delete this.h.__keys__[a];return!0},__class__:yb};var gd=function(a,b){this.map=a;this.keys=b;this.index=0;this.count=b.length};k["haxe.ds._StringMap.StringMapIterator"]=gd;gd.__name__=!0;gd.prototype={hasNext:function(){return this.index<
this.count},next:function(){return this.map.get(this.keys[this.index++])},__class__:gd};var va=function(){this.h={}};k["haxe.ds.StringMap"]=va;va.__name__=!0;va.__interfaces__=[dd];va.prototype={set:function(a,b){null!=Ud[a]?this.setReserved(a,b):this.h[a]=b},get:function(a){return null!=Ud[a]?this.getReserved(a):this.h[a]},exists:function(a){return null!=Ud[a]?this.existsReserved(a):this.h.hasOwnProperty(a)},setReserved:function(a,b){null==this.rh&&(this.rh={});this.rh["$"+a]=b},getReserved:function(a){return null==
this.rh?null:this.rh["$"+a]},existsReserved:function(a){return null==this.rh?!1:this.rh.hasOwnProperty("$"+a)},remove:function(a){if(null!=Ud[a]){a="$"+a;if(null==this.rh||!this.rh.hasOwnProperty(a))return!1;delete this.rh[a]}else{if(!this.h.hasOwnProperty(a))return!1;delete this.h[a]}return!0},keys:function(){var a=this.arrayKeys();return F.iter(a)},arrayKeys:function(){var a=[],b;for(b in this.h)this.h.hasOwnProperty(b)&&a.push(b);if(null!=this.rh)for(b in this.rh)36==b.charCodeAt(0)&&a.push(b.substr(1));
return a},iterator:function(){return new gd(this,this.arrayKeys())},__class__:va};var Xb={};k["haxe.ds._Vector.Vector_Impl_"]=Xb;Xb.__name__=!0;Xb.blit=function(a,b,c,d,e){for(var f=0;f<e;){var O=f++;c[d+O]=a[b+O]}};var ca=function(a){this.length=a.byteLength;this.b=new Yb(a);this.b.bufferValue=a;a.hxBytes=this;a.bytes=this.b};k["haxe.io.Bytes"]=ca;ca.__name__=!0;ca.alloc=function(a){return new ca(new hd(a))};ca.ofString=function(a){for(var b=[],c=0;c<a.length;){var d=T.fastCodeAt(a,c++);55296<=d&&
56319>=d&&(d=d-55232<<10|T.fastCodeAt(a,c++)&1023);127>=d?b.push(d):(2047>=d?b.push(192|d>>6):(65535>=d?b.push(224|d>>12):(b.push(240|d>>18),b.push(128|d>>12&63)),b.push(128|d>>6&63)),b.push(128|d&63))}return new ca((new Yb(b)).buffer)};ca.ofData=function(a){var b=a.hxBytes;return null!=b?b:new ca(a)};ca.prototype={get:function(a){return this.b[a]},set:function(a,b){this.b[a]=b&255},getString:function(a,b){if(0>a||0>b||a+b>this.length)throw new qa(Ia.OutsideBounds);for(var c="",d=this.b,e=String.fromCharCode,
f=a,O=a+b;f<O;){var g=d[f++];if(128>g){if(0==g)break;c+=e(g)}else if(224>g)c+=e((g&63)<<6|d[f++]&127);else if(240>g)var h=d[f++],c=c+e((g&31)<<12|(h&127)<<6|d[f++]&127);else var h=d[f++],k=d[f++],g=(g&15)<<18|(h&127)<<12|(k&127)<<6|d[f++]&127,c=c+e((g>>10)+55232),c=c+e(g&1023|56320)}return c},toString:function(){return this.getString(0,this.length)},__class__:ca};var Vd=function(){};k["haxe.io.Eof"]=Vd;Vd.__name__=!0;Vd.prototype={toString:function(){return"Eof"},__class__:Vd};var Ia=k["haxe.io.Error"]=
{__ename__:!0,__constructs__:["Blocked","Overflow","OutsideBounds","Custom"]};Ia.Blocked=["Blocked",0];Ia.Blocked.toString=u;Ia.Blocked.__enum__=Ia;Ia.Overflow=["Overflow",1];Ia.Overflow.toString=u;Ia.Overflow.__enum__=Ia;Ia.OutsideBounds=["OutsideBounds",2];Ia.OutsideBounds.toString=u;Ia.OutsideBounds.__enum__=Ia;Ia.Custom=function(a){a=["Custom",3,a];a.__enum__=Ia;a.toString=u;return a};var Wa=function(){};k["haxe.io.FPHelper"]=Wa;Wa.__name__=!0;Wa.i32ToFloat=function(a){var b=a>>>23&255,c=a&8388607;
return 0==c&&0==b?0:(1-(a>>>31<<1))*(1+Math.pow(2,-23)*c)*Math.pow(2,b-127)};Wa.floatToI32=function(a){if(0==a)return 0;var b;b=0>a?-a:a;var c=Math.floor(Math.log(b)/.6931471805599453);-127>c?c=-127:128<c&&(c=128);b=Math.round(8388608*(b/Math.pow(2,c)-1))&8388607;return(0>a?-2147483648:0)|c+127<<23|b};Wa.i64ToDouble=function(a,b){var c=(b>>20&2047)-1023,d=4294967296*(b&1048575)+2147483648*(a>>>31)+(a&2147483647);return 0==d&&-1023==c?0:(1-(b>>>31<<1))*(1+Math.pow(2,-52)*d)*Math.pow(2,c)};Wa.doubleToI64=
function(a){var b=Wa.i64tmp;if(0==a)b.low=0,b.high=0;else{var c;c=0>a?-a:a;var d=Math.floor(Math.log(c)/.6931471805599453);c=4503599627370496*(c/Math.pow(2,d)-1);c=Math.round(c);b.low=c|0;b.high=(0>a?-2147483648:0)|d+1023<<20|c/4294967296|0}return b};var Kb=function(a){switch(a){case ".":case "..":this.dir=a;this.file="";return}var b=a.lastIndexOf("/"),c=a.lastIndexOf("\\");b<c?(this.dir=F.substr(a,0,c),a=F.substr(a,c+1,null),this.backslash=!0):c<b?(this.dir=F.substr(a,0,b),a=F.substr(a,b+1,null)):
this.dir=null;b=a.lastIndexOf(".");-1!=b?(this.ext=F.substr(a,b+1,null),this.file=F.substr(a,0,b)):(this.ext=null,this.file=a)};k["haxe.io.Path"]=Kb;Kb.__name__=!0;Kb.withoutExtension=function(a){a=new Kb(a);a.ext=null;return a.toString()};Kb.prototype={toString:function(){return(null==this.dir?"":this.dir+(this.backslash?"\\":"/"))+this.file+(null==this.ext?"":"."+this.ext)},__class__:Kb};var qa=function(a){Error.call(this);this.val=a;this.message=String(a);Error.captureStackTrace&&Error.captureStackTrace(this,
qa)};k["js._Boot.HaxeError"]=qa;qa.__name__=!0;qa.__super__=Error;qa.prototype=q(Error.prototype,{__class__:qa});var r=function(){};k["js.Boot"]=r;r.__name__=!0;r.getClass=function(a){if(a instanceof Array&&null==a.__enum__)return Array;var b=a.__class__;if(null!=b)return b;a=r.__nativeClassName(a);return null!=a?r.__resolveNativeClass(a):null};r.__string_rec=function(a,b){if(null==a)return"null";if(5<=b.length)return"<...>";var c=typeof a;"function"==c&&(a.__name__||a.__ename__)&&(c="object");switch(c){case "object":if(a instanceof
Array){if(a.__enum__){if(2==a.length)return a[0];c=a[0]+"(";b+="\t";for(var d=2,e=a.length;d<e;)var f=d++,c=2!=f?c+(","+r.__string_rec(a[f],b)):c+r.__string_rec(a[f],b);return c+")"}c=a.length;d="[";b+="\t";for(e=0;e<c;)f=e++,d+=(0<f?",":"")+r.__string_rec(a[f],b);return d+"]"}try{d=a.toString}catch(O){return O instanceof qa&&(O=O.val),"???"}if(null!=d&&d!=Object.toString&&"function"==typeof d&&(c=a.toString(),"[object Object]"!=c))return c;c=null;d="{\n";b+="\t";e=null!=a.hasOwnProperty;for(c in a)e&&
!a.hasOwnProperty(c)||"prototype"==c||"__class__"==c||"__super__"==c||"__interfaces__"==c||"__properties__"==c||(2!=d.length&&(d+=", \n"),d+=b+c+" : "+r.__string_rec(a[c],b));b=b.substring(1);return d+("\n"+b+"}");case "function":return"<function>";case "string":return a;default:return String(a)}};r.__interfLoop=function(a,b){if(null==a)return!1;if(a==b)return!0;var c=a.__interfaces__;if(null!=c)for(var d=0,e=c.length;d<e;){var f=d++,f=c[f];if(f==b||r.__interfLoop(f,b))return!0}return r.__interfLoop(a.__super__,
b)};r.__instanceof=function(a,b){if(null==b)return!1;switch(b){case Pe:return(a|0)===a;case se:return"number"==typeof a;case te:return"boolean"==typeof a;case String:return"string"==typeof a;case Array:return a instanceof Array&&null==a.__enum__;case Qe:return!0;default:if(null!=a)if("function"==typeof b){if(a instanceof b||r.__interfLoop(r.getClass(a),b))return!0}else{if("object"==typeof b&&r.__isNativeObj(b)&&a instanceof b)return!0}else return!1;return b==ue&&null!=a.__name__||b==Re&&null!=a.__ename__?
!0:a.__enum__==b}};r.__cast=function(a,b){if(r.__instanceof(a,b))return a;throw new qa("Cannot cast "+za.string(a)+" to "+za.string(b));};r.__nativeClassName=function(a){a=r.__toStr.call(a).slice(8,-1);return"Object"==a||"Function"==a||"Math"==a||"JSON"==a?null:a};r.__isNativeObj=function(a){return null!=r.__nativeClassName(a)};r.__resolveNativeClass=function(a){return ne[a]};var Ca=function(a){if(a instanceof Array&&null==a.__enum__)this.a=a,this.byteLength=a.length;else{this.a=[];for(var b=0;b<
a;){var c=b++;this.a[c]=0}this.byteLength=a}};k["js.html.compat.ArrayBuffer"]=Ca;Ca.__name__=!0;Ca.sliceImpl=function(a,b){var c=new Yb(this,a,null==b?null:b-a),d=new hd(c.byteLength);(new Yb(d)).set(c);return d};Ca.prototype={slice:function(a,b){return new Ca(this.a.slice(a,b))},__class__:Ca};var Wd=function(a,b,c){this.buf=a;this.offset=null==b?0:b;this.length=null==c?a.byteLength-this.offset:c;if(0>this.offset||0>this.length||this.offset+this.length>a.byteLength)throw new qa(Ia.OutsideBounds);
};k["js.html.compat.DataView"]=Wd;Wd.__name__=!0;Wd.prototype={getInt8:function(a){a=this.buf.a[this.offset+a];return 128<=a?a-256:a},getUint8:function(a){return this.buf.a[this.offset+a]},getInt16:function(a,b){var c=this.getUint16(a,b);return 32768<=c?c-65536:c},getUint16:function(a,b){return b?this.buf.a[this.offset+a]|this.buf.a[this.offset+a+1]<<8:this.buf.a[this.offset+a]<<8|this.buf.a[this.offset+a+1]},getInt32:function(a,b){var c=this.offset+a,d=this.buf.a[c++],e=this.buf.a[c++],f=this.buf.a[c++],
c=this.buf.a[c++];return b?d|e<<8|f<<16|c<<24:c|f<<8|e<<16|d<<24},getUint32:function(a,b){var c=this.getInt32(a,b);return 0>c?c+4294967296:c},getFloat32:function(a,b){return Wa.i32ToFloat(this.getInt32(a,b))},getFloat64:function(a,b){var c=this.getInt32(a,b),d=this.getInt32(a+4,b);return Wa.i64ToDouble(b?c:d,b?d:c)},setInt8:function(a,b){this.buf.a[a+this.offset]=0>b?b+128&255:b&255},setUint8:function(a,b){this.buf.a[a+this.offset]=b&255},setInt16:function(a,b,c){this.setUint16(a,0>b?b+65536:b,c)},
setUint16:function(a,b,c){a+=this.offset;c?(this.buf.a[a]=b&255,this.buf.a[a++]=b>>8&255):(this.buf.a[a++]=b>>8&255,this.buf.a[a]=b&255)},setInt32:function(a,b,c){this.setUint32(a,b,c)},setUint32:function(a,b,c){a+=this.offset;c?(this.buf.a[a++]=b&255,this.buf.a[a++]=b>>8&255,this.buf.a[a++]=b>>16&255,this.buf.a[a++]=b>>>24):(this.buf.a[a++]=b>>>24,this.buf.a[a++]=b>>16&255,this.buf.a[a++]=b>>8&255,this.buf.a[a++]=b&255)},setFloat32:function(a,b,c){this.setUint32(a,Wa.floatToI32(b),c)},setFloat64:function(a,
b,c){b=Wa.doubleToI64(b);c?(this.setUint32(a,b.low),this.setUint32(a,b.high)):(this.setUint32(a,b.high),this.setUint32(a,b.low))},__class__:Wd};var lb=function(){};k["js.html.compat.Uint8Array"]=lb;lb.__name__=!0;lb._new=function(a,b,c){if("number"==typeof a){c=[];for(b=0;b<a;){var d=b++;c[d]=0}c.byteLength=c.length;c.byteOffset=0;c.buffer=new Ca(c)}else if(r.__instanceof(a,Ca))null==b&&(b=0),null==c&&(c=a.byteLength-b),c=0==b?a.a:a.a.slice(b,b+c),c.byteLength=c.length,c.byteOffset=b,c.buffer=a;else if(a instanceof
Array&&null==a.__enum__)c=a.slice(),c.byteLength=c.length,c.byteOffset=0,c.buffer=new Ca(c);else throw new qa("TODO "+za.string(a));c.subarray=lb._subarray;c.set=lb._set;return c};lb._set=function(a,b){if(r.__instanceof(a.buffer,Ca)){if(a.byteLength+b>this.byteLength)throw new qa("set() outside of range");for(var c=0,d=a.byteLength;c<d;){var e=c++;this[e+b]=a[e]}}else if(a instanceof Array&&null==a.__enum__){if(a.length+b>this.byteLength)throw new qa("set() outside of range");c=0;for(d=a.length;c<
d;)e=c++,this[e+b]=a[e]}else throw new qa("TODO");};lb._subarray=function(a,b){var c=lb._new(this.slice(a,b));c.byteOffset=a;return c};var id=function(){this.enabled=!0;this.audio=new va;this.font=new va;this.image=new va;this.version=za["int"](1E6*Math.random())};k["lime.AssetCache"]=id;id.__name__=!0;id.prototype={clear:function(a){if(null==a)this.audio=new va,this.font=new va,this.image=new va;else{for(var b=this.audio.keys();b.hasNext();){var c=b.next();T.startsWith(c,a)&&this.audio.remove(c)}for(b=
this.font.keys();b.hasNext();)c=b.next(),T.startsWith(c,a)&&this.font.remove(c);for(b=this.image.keys();b.hasNext();)c=b.next(),T.startsWith(c,a)&&this.image.remove(c)}},__class__:id};var ba=function(){this.canceled=!1;this.__listeners=[];this.__priorities=[];this.__repeat=[]};k["lime.app.Event_Void_Void"]=ba;ba.__name__=!0;ba.prototype={add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=0,e=this.__priorities.length;d<e;){var f=d++;if(c>this.__priorities[f]){this.__listeners.splice(f,0,
a);this.__priorities.splice(f,0,c);this.__repeat.splice(f,0,!b);return}}this.__listeners.push(a);this.__priorities.push(c);this.__repeat.push(!b)},remove:function(a){for(var b=this.__listeners.length;0<=--b;)p.compareMethods(this.__listeners[b],a)&&(this.__listeners.splice(b,1),this.__priorities.splice(b,1),this.__repeat.splice(b,1))},dispatch:function(){this.canceled=!1;for(var a=this.__listeners,b=this.__repeat,c=0;c<a.length&&(a[c](),b[c]?c++:this.remove(a[c]),!this.canceled););},__class__:ba};
var w=function(){};k["lime.Assets"]=w;w.__name__=!0;w.getFont=function(a,b){null==b&&(b=!0);w.initialize();if(b&&w.cache.enabled&&w.cache.font.exists(a))return w.cache.font.get(a);var c=a.substring(0,a.indexOf(":")),d;d=a.indexOf(":")+1;d=F.substr(a,d,null);var e=w.getLibrary(c);if(null!=e)if(e.exists(d,"FONT")){if(e.isLocal(d,"FONT"))return c=e.getFont(d),b&&w.cache.enabled&&w.cache.font.set(a,c),c;fb.log('[Assets] Font asset "'+a+'" exists, but only asynchronously')}else fb.log('[Assets] There is no Font asset with an ID of "'+
a+'"');else fb.log('[Assets] There is no asset library named "'+c+'"');return null};w.getImage=function(a,b){null==b&&(b=!0);w.initialize();if(b&&w.cache.enabled&&w.cache.image.exists(a)){var c=w.cache.image.get(a);if(w.isValidImage(c))return c}var c=a.substring(0,a.indexOf(":")),d;d=a.indexOf(":")+1;d=F.substr(a,d,null);var e=w.getLibrary(c);if(null!=e)if(e.exists(d,"IMAGE")){if(e.isLocal(d,"IMAGE"))return c=e.getImage(d),b&&w.cache.enabled&&w.cache.image.set(a,c),c;fb.log('[Assets] Image asset "'+
a+'" exists, but only asynchronously')}else fb.log('[Assets] There is no Image asset with an ID of "'+a+'"');else fb.log('[Assets] There is no asset library named "'+c+'"');return null};w.getLibrary=function(a){if(null==a||""==a)a="default";return w.libraries.get(a)};w.initialize=function(){w.initialized||(w.registerLibrary("default",new zc),w.initialized=!0)};w.isValidImage=function(a){return!0};w.registerLibrary=function(a,b){if(w.libraries.exists(a)){if(w.libraries.get(a)==b)return;w.unloadLibrary(a)}null!=
b&&b.onChange.add(w.library_onChange);w.libraries.set(a,b)};w.unloadLibrary=function(a){w.initialize();var b=w.libraries.get(a);null!=b&&(w.cache.clear(a+":"),b.onChange.remove(w.library_onChange),b.unload());w.libraries.remove(a)};w.library_onChange=function(){w.cache.clear();w.onChange.dispatch()};var jd=function(a){this.gameDeviceCache=new Na;this.parent=a;this.nextUpdate=this.lastUpdate=this.currentUpdate=0;this.framePeriod=-1;zb.init()};k["lime._backend.html5.HTML5Application"]=jd;jd.__name__=
!0;jd.prototype={convertKeyCode:function(a){if(65<=a&&90>=a)return a+32;switch(a){case 16:return 1073742049;case 17:return 1073742048;case 18:return 1073742050;case 20:return 1073741881;case 144:return 1073741907;case 37:return 1073741904;case 38:return 1073741906;case 39:return 1073741903;case 40:return 1073741905;case 45:return 1073741897;case 46:return 127;case 36:return 1073741898;case 35:return 1073741901;case 33:return 1073741899;case 34:return 1073741902;case 112:return 1073741882;case 113:return 1073741883;
case 114:return 1073741884;case 115:return 1073741885;case 116:return 1073741886;case 117:return 1073741887;case 118:return 1073741888;case 119:return 1073741889;case 120:return 1073741890;case 121:return 1073741891;case 122:return 1073741892;case 123:return 1073741893;case 124:return 1073741928;case 125:return 1073741929;case 126:return 1073741930;case 186:return 59;case 187:return 61;case 188:return 44;case 189:return 45;case 190:return 46;case 191:return 47;case 192:return 96;case 219:return 91;
case 220:return 92;case 221:return 93;case 222:return 39}return a},create:function(a){},exec:function(){window.addEventListener("keydown",l(this,this.handleKeyEvent),!1);window.addEventListener("keyup",l(this,this.handleKeyEvent),!1);window.addEventListener("focus",l(this,this.handleWindowEvent),!1);window.addEventListener("blur",l(this,this.handleWindowEvent),!1);window.addEventListener("resize",l(this,this.handleWindowEvent),!1);window.addEventListener("beforeunload",l(this,this.handleWindowEvent),
!1);CanvasRenderingContext2D.prototype.isPointInStroke||(CanvasRenderingContext2D.prototype.isPointInStroke=function(a,b,c){return!1});for(var a=0,b=["ms","moz","webkit","o"],c=0;c<b.length&&!window.requestAnimationFrame;++c)window.requestAnimationFrame=window[b[c]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[b[c]+"CancelAnimationFrame"]||window[b[c]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(b,c){var f=(new Date).getTime(),O=
Math.max(0,16-(f-a)),g=window.setTimeout(function(){b(f+O)},O);a=f+O;return g});window.cancelAnimationFrame||(window.cancelAnimationFrame=function(a){clearTimeout(a)});window.requestAnimFrame=window.requestAnimationFrame;this.lastUpdate=(new Date).getTime();this.handleApplicationEvent();return 0},exit:function(){},handleApplicationEvent:function(a){this.updateGameDevices();this.currentUpdate=(new Date).getTime();this.currentUpdate>=this.nextUpdate&&(this.deltaTime=this.currentUpdate-this.lastUpdate,
this.parent.onUpdate.dispatch(this.deltaTime|0),null!=this.parent.renderers[0]&&(this.parent.renderers[0].onRender.dispatch(),this.parent.renderers[0].flip()),this.nextUpdate=0>this.framePeriod?this.nextUpdate=this.currentUpdate:this.currentUpdate+this.framePeriod,this.lastUpdate=this.currentUpdate);window.requestAnimationFrame(l(this,this.handleApplicationEvent))},handleKeyEvent:function(a){if(null!=this.parent.windows[0]){var b=this.convertKeyCode(null!=a.keyCode?a.keyCode:a.which),c;c=(a.shiftKey?
3:0)|(a.ctrlKey?192:0)|(a.altKey?768:0)|(a.metaKey?3072:0);"keydown"==a.type?(this.parent.windows[0].onKeyDown.dispatch(b,c),this.parent.windows[0].onKeyDown.canceled&&a.preventDefault()):(this.parent.windows[0].onKeyUp.dispatch(b,c),this.parent.windows[0].onKeyUp.canceled&&a.preventDefault())}},handleWindowEvent:function(a){if(null!=this.parent.windows[0])switch(a.type){case "focus":this.parent.windows[0].onFocusIn.dispatch();this.parent.windows[0].onActivate.dispatch();break;case "blur":this.parent.windows[0].onFocusOut.dispatch();
this.parent.windows[0].onDeactivate.dispatch();break;case "resize":a=this.parent.windows[0].__width;var b=this.parent.windows[0].__height;this.parent.windows[0].backend.handleResize();this.parent.windows[0].__width==a&&this.parent.windows[0].__height==b||this.parent.windows[0].onResize.dispatch(this.parent.windows[0].__width,this.parent.windows[0].__height);break;case "beforeunload":this.parent.windows[0].onClose.dispatch()}},setFrameRate:function(a){this.framePeriod=60<=a?-1:0<a?1E3/a:1E3;return a},
updateGameDevices:function(){var a=xa.__getDeviceData();if(null!=a)for(var b,c,d,e,f,O=0,g=a.length;O<g;)if(b=O++,e=a[b],null!=e){if(!this.gameDeviceCache.h.hasOwnProperty(b)){f=new kd;f.id=b;f.connected=e.connected;c=0;for(d=e.buttons.length;c<d;){var h=c++;f.buttons.push(e.buttons[h].value)}c=0;for(d=e.axes.length;c<d;)h=c++,f.axes.push(e.axes[h]);"standard"==e.mapping&&(f.isGamepad=!0);this.gameDeviceCache.h[b]=f;e.connected&&(xa.__connect(b),f.isGamepad&&Ba.__connect(b))}f=this.gameDeviceCache.h[b];
d=xa.devices.h[b];c=Ba.devices.h[b];if(e.connected){for(var k=0,l=e.buttons.length;k<l;){var m=k++,h=e.buttons[m].value;if(h!=f.buttons[m]){if(6==m)d.onAxisMove.dispatch(e.axes.length,h),null!=c&&c.onAxisMove.dispatch(4,h);else if(7==m)d.onAxisMove.dispatch(e.axes.length+1,h),null!=c&&c.onAxisMove.dispatch(5,h);else if(0<h?d.onButtonDown.dispatch(m):d.onButtonUp.dispatch(m),null!=c){switch(m){case 0:b=0;break;case 1:b=1;break;case 2:b=2;break;case 3:b=3;break;case 4:b=9;break;case 5:b=10;break;case 8:b=
4;break;case 9:b=6;break;case 10:b=7;break;case 11:b=8;break;case 12:b=11;break;case 13:b=12;break;case 14:b=13;break;case 15:b=14;break;case 16:b=5;break;default:continue}0<h?c.onButtonDown.dispatch(b):c.onButtonUp.dispatch(b)}f.buttons[m]=h}}b=0;for(h=e.axes.length;b<h;)k=b++,e.axes[k]!=f.axes[k]&&(d.onAxisMove.dispatch(k,e.axes[k]),null!=c&&c.onAxisMove.dispatch(k,e.axes[k]),f.axes[k]=e.axes[k])}else f.connected&&(f.connected=!1,xa.__disconnect(b),Ba.__disconnect(b))}},__class__:jd};var kd=function(){this.connected=
!0;this.buttons=[];this.axes=[]};k["lime._backend.html5.GameDeviceData"]=kd;kd.__name__=!0;kd.prototype={__class__:kd};var mb=function(){};k["lime._backend.html5.HTML5Mouse"]=mb;mb.__name__=!0;mb.__cursor=null;mb.__hidden=null;mb.set_cursor=function(a){if(mb.__cursor!=a){if(!mb.__hidden)for(var b=0,c=Ja.current.windows;b<c.length;){var d=c[b];++b;switch(a[1]){case 0:d.backend.element.style.cursor="default";break;case 1:d.backend.element.style.cursor="crosshair";break;case 3:d.backend.element.style.cursor=
"move";break;case 4:d.backend.element.style.cursor="pointer";break;case 5:d.backend.element.style.cursor="nesw-resize";break;case 6:d.backend.element.style.cursor="ns-resize";break;case 7:d.backend.element.style.cursor="nwse-resize";break;case 8:d.backend.element.style.cursor="ew-resize";break;case 9:d.backend.element.style.cursor="text";break;case 10:d.backend.element.style.cursor="wait";break;case 11:d.backend.element.style.cursor="wait";break;default:d.backend.element.style.cursor="auto"}}mb.__cursor=
a}return mb.__cursor};var ld=function(a){this.parent=a};k["lime._backend.html5.HTML5Renderer"]=ld;ld.__name__=!0;ld.prototype={create:function(){this.createContext();switch(this.parent.context[1]){case 0:this.parent.window.backend.canvas.addEventListener("webglcontextlost",l(this,this.handleEvent),!1),this.parent.window.backend.canvas.addEventListener("webglcontextrestored",l(this,this.handleEvent),!1)}},createContext:function(){null!=this.parent.window.backend.div?(this.parent.context=ka.DOM(this.parent.window.backend.div),
this.parent.type=la.DOM):null!=this.parent.window.backend.canvas&&(this.parent.context=ka.CANVAS(this.parent.window.backend.canvas.getContext("2d")),this.parent.type=la.CANVAS)},flip:function(){},handleEvent:function(a){switch(a.type){case "webglcontextlost":a.preventDefault();this.parent.context=null;this.parent.onContextLost.dispatch();break;case "webglcontextrestored":this.createContext(),this.parent.onContextRestored.dispatch(this.parent.context)}},__class__:ld};var P=function(a){this.unusedTouchesPool=
new Tb;this.currentTouches=new Na;this.parent=a;null!=a.config&&Object.prototype.hasOwnProperty.call(a.config,"element")&&(this.element=a.config.element)};k["lime._backend.html5.HTML5Window"]=P;P.__name__=!0;P.textInput=null;P.prototype={close:function(){this.parent.application.removeWindow(this.parent)},create:function(a){this.setWidth=this.parent.__width;this.setHeight=this.parent.__height;this.parent.id=P.windowID++;r.__instanceof(this.element,HTMLCanvasElement)?this.canvas=this.element:this.canvas=
window.document.createElement("canvas");null!=this.canvas?(a=this.canvas.style,a.setProperty("-webkit-transform","translateZ(0)",null),a.setProperty("transform","translateZ(0)",null)):null!=this.div&&(a=this.div.style,a.setProperty("-webkit-transform","translate3D(0,0,0)",null),a.setProperty("transform","translate3D(0,0,0)",null),a.position="relative",a.overflow="hidden",a.setProperty("-webkit-user-select","none",null),a.setProperty("-moz-user-select","none",null),a.setProperty("-ms-user-select",
"none",null),a.setProperty("-o-user-select","none",null));0==this.parent.__width&&0==this.parent.__height&&(null!=this.element?(this.parent.set_width(this.element.clientWidth),this.parent.set_height(this.element.clientHeight)):(this.parent.set_width(window.innerWidth),this.parent.set_height(window.innerHeight)),this.parent.set_fullscreen(!0));null!=this.canvas?(this.canvas.width=this.parent.__width,this.canvas.height=this.parent.__height):(this.div.style.width=this.parent.__width+"px",this.div.style.height=
this.parent.__height+"px");this.handleResize();if(null!=this.element){null!=this.canvas?this.element!=this.canvas&&this.element.appendChild(this.canvas):this.element.appendChild(this.div);a="mousedown mouseenter mouseleave mousemove mouseup wheel".split(" ");for(var b=0;b<a.length;){var c=a[b];++b;this.element.addEventListener(c,l(this,this.handleMouseEvent),!0)}window.document.addEventListener("dragstart",function(a){return"img"==a.target.nodeName.toLowerCase()?(a.preventDefault(),!1):!0},!1);this.element.addEventListener("touchstart",
l(this,this.handleTouchEvent),!0);this.element.addEventListener("touchmove",l(this,this.handleTouchEvent),!0);this.element.addEventListener("touchend",l(this,this.handleTouchEvent),!0);this.element.addEventListener("gamepadconnected",l(this,this.handleGamepadEvent),!0);this.element.addEventListener("gamepaddisconnected",l(this,this.handleGamepadEvent),!0)}},handleFocusEvent:function(a){this.enableTextEvents&&Jb.delay(function(){P.textInput.focus()},20)},handleGamepadEvent:function(a){switch(a.type){case "gamepadconnected":xa.__connect(a.gamepad.index);
"standard"==a.gamepad.mapping&&Ba.__connect(a.gamepad.index);break;case "gamepaddisconnected":xa.__disconnect(a.gamepad.index),Ba.__disconnect(a.gamepad.index)}},handleInputEvent:function(a){""!=P.textInput.value&&(this.parent.onTextInput.dispatch(P.textInput.value),P.textInput.value="")},handleMouseEvent:function(a){var b=0,c=0;if("wheel"!=a.type)switch(null!=this.element?null!=this.canvas?(c=this.canvas.getBoundingClientRect(),b=this.parent.__width/c.width*(a.clientX-c.left),c=this.parent.__height/
c.height*(a.clientY-c.top)):null!=this.div?(c=this.div.getBoundingClientRect(),b=a.clientX-c.left,c=a.clientY-c.top):(c=this.element.getBoundingClientRect(),b=this.parent.__width/c.width*(a.clientX-c.left),c=this.parent.__height/c.height*(a.clientY-c.top)):(b=a.clientX,c=a.clientY),a.type){case "mousedown":this.parent.onMouseDown.dispatch(b,c,a.button);break;case "mouseenter":this.parent.onEnter.dispatch();break;case "mouseleave":this.parent.onLeave.dispatch();break;case "mouseup":this.parent.onMouseUp.dispatch(b,
c,a.button);break;case "mousemove":this.parent.onMouseMove.dispatch(b,c)}else this.parent.onMouseWheel.dispatch(a.deltaX,-a.deltaY)},handleResize:function(){var a=this.parent.__fullscreen||0==this.setWidth&&0==this.setHeight;if(null!=this.element&&(null==this.div||null!=this.div&&a))if(a){if(this.parent.__width!=this.element.clientWidth||this.parent.__height!=this.element.clientHeight)this.parent.set_width(this.element.clientWidth),this.parent.set_height(this.element.clientHeight),null!=this.canvas?
this.element!=this.canvas&&(this.canvas.width=this.element.clientWidth,this.canvas.height=this.element.clientHeight):(this.div.style.width=this.element.clientWidth+"px",this.div.style.height=this.element.clientHeight+"px")}else a=Math.min(this.element.clientWidth/this.setWidth,this.element.clientHeight/this.setHeight),null!=this.canvas?this.element!=this.canvas&&(this.canvas.style.width=this.setWidth*a+"px",this.canvas.style.height=this.setHeight*a+"px",this.canvas.style.marginLeft=(this.element.clientWidth-
this.setWidth*a)/2+"px",this.canvas.style.marginTop=(this.element.clientHeight-this.setHeight*a)/2+"px"):(this.div.style.width=this.setWidth*a+"px",this.div.style.height=this.setHeight*a+"px",this.div.style.marginLeft=(this.element.clientWidth-this.setWidth*a)/2+"px",this.div.style.marginTop=(this.element.clientHeight-this.setHeight*a)/2+"px")},handleTouchEvent:function(a){a.preventDefault();var b=null;null!=this.element&&(b=null!=this.canvas?this.canvas.getBoundingClientRect():null!=this.div?this.div.getBoundingClientRect():
this.element.getBoundingClientRect());var c=this.setWidth,d=this.setHeight;if(0==c||0==d)null!=b?(c=b.width,d=b.height):d=c=1;for(var e=0,f=a.changedTouches;e<f.length;){var g=f[e];++e;var h=0,k=0;null!=b?(h=c/b.width*(g.clientX-b.left),k=d/b.height*(g.clientY-b.top)):(h=g.clientX,k=g.clientY);switch(a.type){case "touchstart":var J=this.unusedTouchesPool.pop();null==J?J=new Xa(h/c,k/d,g.identifier,0,0,g.force,this.parent.id):(J.x=h/c,J.y=k/d,J.id=g.identifier,J.dx=0,J.dy=0,J.pressure=g.force,J.device=
this.parent.id);this.currentTouches.h[g.identifier]=J;Xa.onStart.dispatch(J);null==this.primaryTouch&&(this.primaryTouch=J);J==this.primaryTouch&&this.parent.onMouseDown.dispatch(h,k,0);break;case "touchend":J=this.currentTouches.h[g.identifier];if(null!=J){var l=J.x,m=J.y;J.x=h/c;J.y=k/d;J.dx=J.x-l;J.dy=J.y-m;J.pressure=g.force;Xa.onEnd.dispatch(J);this.currentTouches.remove(g.identifier);this.unusedTouchesPool.add(J);J==this.primaryTouch&&(this.parent.onMouseUp.dispatch(h,k,0),this.primaryTouch=
null)}break;case "touchmove":J=this.currentTouches.h[g.identifier],null!=J&&(l=J.x,m=J.y,J.x=h/c,J.y=k/d,J.dx=J.x-l,J.dy=J.y-m,J.pressure=g.force,Xa.onMove.dispatch(J),J==this.primaryTouch&&this.parent.onMouseMove.dispatch(h,k))}}},resize:function(a,b){},setEnableTextEvents:function(a){a?(null==P.textInput&&(P.textInput=window.document.createElement("input"),P.textInput.type="text",P.textInput.style.position="absolute",P.textInput.style.opacity="0",P.textInput.style.color="transparent",P.textInput.value=
"",P.textInput.autocapitalize="off",P.textInput.autocorrect="off",P.textInput.autocomplete="off",P.textInput.style.left="0px",P.textInput.style.top="50%",(new Wb("(iPad|iPhone|iPod).*OS 8_","gi")).match(window.navigator.userAgent)?(P.textInput.style.fontSize="0px",P.textInput.style.width="0px",P.textInput.style.height="0px"):(P.textInput.style.width="1px",P.textInput.style.height="1px"),P.textInput.style.pointerEvents="none",P.textInput.style.zIndex="-10000000",window.document.body.appendChild(P.textInput)),
this.enableTextEvents||(P.textInput.addEventListener("input",l(this,this.handleInputEvent),!0),P.textInput.addEventListener("blur",l(this,this.handleFocusEvent),!0)),P.textInput.focus()):null!=P.textInput&&(P.textInput.removeEventListener("input",l(this,this.handleInputEvent),!0),P.textInput.removeEventListener("blur",l(this,this.handleFocusEvent),!0),P.textInput.blur());return this.enableTextEvents=a},setFullscreen:function(a){return!1},__class__:P};var Ac=function(){};k["lime.app.IModule"]=Ac;Ac.__name__=
!0;Ac.prototype={__class__:Ac};var Zb=function(){this.onExit=new Ab};k["lime.app.Module"]=Zb;Zb.__name__=!0;Zb.__interfaces__=[Ac];Zb.prototype={onGamepadAxisMove:function(a,b,c){},onGamepadButtonDown:function(a,b){},onGamepadButtonUp:function(a,b){},onGamepadConnect:function(a){fb.log("onGamepadConnect (module)")},onGamepadDisconnect:function(a){},onJoystickAxisMove:function(a,b,c){},onJoystickButtonDown:function(a,b){},onJoystickButtonUp:function(a,b){},onJoystickConnect:function(a){},onJoystickDisconnect:function(a){},
onJoystickHatMove:function(a,b,c){},onJoystickTrackballMove:function(a,b,c){},onKeyDown:function(a,b,c){},onKeyUp:function(a,b,c){},onModuleExit:function(a){},onMouseDown:function(a,b,c,d){},onMouseMove:function(a,b,c){},onMouseMoveRelative:function(a,b,c){},onMouseUp:function(a,b,c,d){},onMouseWheel:function(a,b,c){},onPreloadComplete:function(){},onPreloadProgress:function(a,b){},onRenderContextLost:function(a){},onRenderContextRestored:function(a,b){},onTextEdit:function(a,b,c,d){},onTextInput:function(a,
b){},onTouchEnd:function(a){},onTouchMove:function(a){},onTouchStart:function(a){},onWindowActivate:function(a){},onWindowClose:function(a){},onWindowCreate:function(a){},onWindowDeactivate:function(a){},onWindowDropFile:function(a,b){},onWindowEnter:function(a){},onWindowFocusIn:function(a){},onWindowFocusOut:function(a){},onWindowFullscreen:function(a){},onWindowLeave:function(a){},onWindowMove:function(a,b,c){},onWindowMinimize:function(a){},onWindowResize:function(a,b,c){},onWindowRestore:function(a){},
render:function(a){},update:function(a){},__class__:Zb};var Ja=function(){this.onUpdate=new Ab;this.onExit=new Ab;null==Ja.current&&(Ja.current=this);this.modules=[];this.renderers=[];this.windows=[];this.windowByID=new Na;this.backend=new jd(this);this.onExit.add(l(this,this.onModuleExit));this.onUpdate.add(l(this,this.update));Ba.onConnect.add(l(this,this.__onGamepadConnect));xa.onConnect.add(l(this,this.__onJoystickConnect));Xa.onStart.add(l(this,this.onTouchStart));Xa.onMove.add(l(this,this.onTouchMove));
Xa.onEnd.add(l(this,this.onTouchEnd))};k["lime.app.Application"]=Ja;Ja.__name__=!0;Ja.current=null;Ja.__super__=Zb;Ja.prototype=q(Zb.prototype,{addModule:function(a){this.modules.push(a);if(0<this.windows.length){for(var b=0,c=this.windows;b<c.length;){var d=c[b];++b;a.onWindowCreate(d)}if(null==this.preloader||this.preloader.complete)a.onPreloadComplete()}},addRenderer:function(a){a.onRender.add(function(a,c){return function(){a(c)}}(l(this,this.render),a));a.onContextLost.add(function(a,c){return function(){a(c)}}(l(this,
this.onRenderContextLost),a));a.onContextRestored.add(function(a,c){return function(d){a(c,d)}}(l(this,this.onRenderContextRestored),a));this.renderers.push(a)},createWindow:function(a){a.onActivate.add(function(a,b){return function(){a(b)}}(l(this,this.onWindowActivate),a));a.onClose.add(function(a,b){return function(){a(b)}}(l(this,this.onWindowClose),a));a.onCreate.add(function(a,b){return function(){a(b)}}(l(this,this.onWindowCreate),a));a.onDeactivate.add(function(a,b){return function(){a(b)}}(l(this,
this.onWindowDeactivate),a));a.onDropFile.add(function(a,b){return function(e){a(b,e)}}(l(this,this.onWindowDropFile),a));a.onEnter.add(function(a,b){return function(){a(b)}}(l(this,this.onWindowEnter),a));a.onFocusIn.add(function(a,b){return function(){a(b)}}(l(this,this.onWindowFocusIn),a));a.onFocusOut.add(function(a,b){return function(){a(b)}}(l(this,this.onWindowFocusOut),a));a.onFullscreen.add(function(a,b){return function(){a(b)}}(l(this,this.onWindowFullscreen),a));a.onKeyDown.add(function(a,
b){return function(e,f){a(b,e,f)}}(l(this,this.onKeyDown),a));a.onKeyUp.add(function(a,b){return function(e,f){a(b,e,f)}}(l(this,this.onKeyUp),a));a.onLeave.add(function(a,b){return function(){a(b)}}(l(this,this.onWindowLeave),a));a.onMinimize.add(function(a,b){return function(){a(b)}}(l(this,this.onWindowMinimize),a));a.onMouseDown.add(function(a,b){return function(e,f,g){a(b,e,f,g)}}(l(this,this.onMouseDown),a));a.onMouseMove.add(function(a,b){return function(e,f){a(b,e,f)}}(l(this,this.onMouseMove),
a));a.onMouseMoveRelative.add(function(a,b){return function(e,f){a(b,e,f)}}(l(this,this.onMouseMoveRelative),a));a.onMouseUp.add(function(a,b){return function(e,f,g){a(b,e,f,g)}}(l(this,this.onMouseUp),a));a.onMouseWheel.add(function(a,b){return function(e,f){a(b,e,f)}}(l(this,this.onMouseWheel),a));a.onMove.add(function(a,b){return function(e,f){a(b,e,f)}}(l(this,this.onWindowMove),a));a.onResize.add(function(a,b){return function(e,f){a(b,e,f)}}(l(this,this.onWindowResize),a));a.onRestore.add(function(a,
b){return function(){a(b)}}(l(this,this.onWindowRestore),a));a.onTextEdit.add(function(a,b){return function(e,f,g){a(b,e,f,g)}}(l(this,this.onTextEdit),a));a.onTextInput.add(function(a,b){return function(e){a(b,e)}}(l(this,this.onTextInput),a));if(null==a.renderer){var b=new md(a);this.addRenderer(b)}a.create(this);this.windows.push(a);this.windowByID.h[a.id]=a;a.onCreate.dispatch()},exec:function(){Ja.current=this;return this.backend.exec()},onGamepadAxisMove:function(a,b,c){for(var d=0,e=this.modules;d<
e.length;){var f=e[d];++d;f.onGamepadAxisMove(a,b,c)}},onGamepadButtonDown:function(a,b){for(var c=0,d=this.modules;c<d.length;){var e=d[c];++c;e.onGamepadButtonDown(a,b)}},onGamepadButtonUp:function(a,b){for(var c=0,d=this.modules;c<d.length;){var e=d[c];++c;e.onGamepadButtonUp(a,b)}},onGamepadConnect:function(a){for(var b=0,c=this.modules;b<c.length;){var d=c[b];++b;d.onGamepadConnect(a)}},onGamepadDisconnect:function(a){for(var b=0,c=this.modules;b<c.length;){var d=c[b];++b;d.onGamepadDisconnect(a)}},
onJoystickAxisMove:function(a,b,c){for(var d=0,e=this.modules;d<e.length;){var f=e[d];++d;f.onJoystickAxisMove(a,b,c)}},onJoystickButtonDown:function(a,b){for(var c=0,d=this.modules;c<d.length;){var e=d[c];++c;e.onJoystickButtonDown(a,b)}},onJoystickButtonUp:function(a,b){for(var c=0,d=this.modules;c<d.length;){var e=d[c];++c;e.onJoystickButtonUp(a,b)}},onJoystickConnect:function(a){for(var b=0,c=this.modules;b<c.length;){var d=c[b];++b;d.onJoystickConnect(a)}},onJoystickDisconnect:function(a){for(var b=
0,c=this.modules;b<c.length;){var d=c[b];++b;d.onJoystickDisconnect(a)}},onJoystickHatMove:function(a,b,c){for(var d=0,e=this.modules;d<e.length;){var f=e[d];++d;f.onJoystickHatMove(a,b,c)}},onJoystickTrackballMove:function(a,b,c){for(var d=0,e=this.modules;d<e.length;){var f=e[d];++d;f.onJoystickTrackballMove(a,b,c)}},onKeyDown:function(a,b,c){for(var d=0,e=this.modules;d<e.length;){var f=e[d];++d;f.onKeyDown(a,b,c)}},onKeyUp:function(a,b,c){for(var d=0,e=this.modules;d<e.length;){var f=e[d];++d;
f.onKeyUp(a,b,c)}},onModuleExit:function(a){for(var b=0,c=this.modules;b<c.length;){var d=c[b];++b;d.onModuleExit(a)}this.backend.exit()},onMouseDown:function(a,b,c,d){for(var e=0,f=this.modules;e<f.length;){var g=f[e];++e;g.onMouseDown(a,b,c,d)}},onMouseMove:function(a,b,c){for(var d=0,e=this.modules;d<e.length;){var f=e[d];++d;f.onMouseMove(a,b,c)}},onMouseMoveRelative:function(a,b,c){for(var d=0,e=this.modules;d<e.length;){var f=e[d];++d;f.onMouseMoveRelative(a,b,c)}},onMouseUp:function(a,b,c,
d){for(var e=0,f=this.modules;e<f.length;){var g=f[e];++e;g.onMouseUp(a,b,c,d)}},onMouseWheel:function(a,b,c){for(var d=0,e=this.modules;d<e.length;){var f=e[d];++d;f.onMouseWheel(a,b,c)}},onPreloadComplete:function(){for(var a=0,b=this.modules;a<b.length;){var c=b[a];++a;c.onPreloadComplete()}},onPreloadProgress:function(a,b){for(var c=0,d=this.modules;c<d.length;){var e=d[c];++c;e.onPreloadProgress(a,b)}},onRenderContextLost:function(a){for(var b=0,c=this.modules;b<c.length;){var d=c[b];++b;d.onRenderContextLost(a)}},
onRenderContextRestored:function(a,b){for(var c=0,d=this.modules;c<d.length;){var e=d[c];++c;e.onRenderContextRestored(a,b)}},onTextEdit:function(a,b,c,d){for(var e=0,f=this.modules;e<f.length;){var g=f[e];++e;g.onTextEdit(a,b,c,d)}},onTextInput:function(a,b){for(var c=0,d=this.modules;c<d.length;){var e=d[c];++c;e.onTextInput(a,b)}},onTouchEnd:function(a){for(var b=0,c=this.modules;b<c.length;){var d=c[b];++b;d.onTouchEnd(a)}},onTouchMove:function(a){for(var b=0,c=this.modules;b<c.length;){var d=
c[b];++b;d.onTouchMove(a)}},onTouchStart:function(a){for(var b=0,c=this.modules;b<c.length;){var d=c[b];++b;d.onTouchStart(a)}},onWindowActivate:function(a){for(var b=0,c=this.modules;b<c.length;){var d=c[b];++b;d.onWindowActivate(a)}},onWindowClose:function(a){for(var b=0,c=this.modules;b<c.length;){var d=c[b];++b;d.onWindowClose(a)}this.removeWindow(a)},onWindowCreate:function(a){for(var b=0,c=this.modules;b<c.length;){var d=c[b];++b;d.onWindowCreate(a)}},onWindowDeactivate:function(a){for(var b=
0,c=this.modules;b<c.length;){var d=c[b];++b;d.onWindowDeactivate(a)}},onWindowDropFile:function(a,b){for(var c=0,d=this.modules;c<d.length;){var e=d[c];++c;e.onWindowDropFile(a,b)}},onWindowEnter:function(a){for(var b=0,c=this.modules;b<c.length;){var d=c[b];++b;d.onWindowEnter(a)}},onWindowFocusIn:function(a){for(var b=0,c=this.modules;b<c.length;){var d=c[b];++b;d.onWindowFocusIn(a)}},onWindowFocusOut:function(a){for(var b=0,c=this.modules;b<c.length;){var d=c[b];++b;d.onWindowFocusOut(a)}},onWindowFullscreen:function(a){for(var b=
0,c=this.modules;b<c.length;){var d=c[b];++b;d.onWindowFullscreen(a)}},onWindowLeave:function(a){for(var b=0,c=this.modules;b<c.length;){var d=c[b];++b;d.onWindowLeave(a)}},onWindowMinimize:function(a){for(var b=0,c=this.modules;b<c.length;){var d=c[b];++b;d.onWindowMinimize(a)}},onWindowMove:function(a,b,c){for(var d=0,e=this.modules;d<e.length;){var f=e[d];++d;f.onWindowMove(a,b,c)}},onWindowResize:function(a,b,c){for(var d=0,e=this.modules;d<e.length;){var f=e[d];++d;f.onWindowResize(a,b,c)}},
onWindowRestore:function(a){for(var b=0,c=this.modules;b<c.length;){var d=c[b];++b;d.onWindowRestore(a)}},removeWindow:function(a){null!=a&&this.windowByID.h.hasOwnProperty(a.id)&&(F.remove(this.windows,a),this.windowByID.remove(a.id),a.close(),this.windows[0]==a&&(this.window=null))},render:function(a){for(var b=0,c=this.modules;b<c.length;){var d=c[b];++b;d.render(a)}},setPreloader:function(a){null!=this.preloader&&(this.preloader.onProgress.remove(l(this,this.onPreloadProgress)),this.preloader.onComplete.remove(l(this,
this.onPreloadComplete)));this.preloader=a;if(a.complete)this.onPreloadComplete();else a.onProgress.add(l(this,this.onPreloadProgress)),a.onComplete.add(l(this,this.onPreloadComplete))},update:function(a){for(var b=0,c=this.modules;b<c.length;){var d=c[b];++b;d.update(a)}},__onGamepadConnect:function(a){this.onGamepadConnect(a);a.onAxisMove.add(function(a,c){return function(d,e){a(c,d,e)}}(l(this,this.onGamepadAxisMove),a));a.onButtonDown.add(function(a,c){return function(d){a(c,d)}}(l(this,this.onGamepadButtonDown),
a));a.onButtonUp.add(function(a,c){return function(d){a(c,d)}}(l(this,this.onGamepadButtonUp),a));a.onDisconnect.add(function(a,c){return function(){a(c)}}(l(this,this.onGamepadDisconnect),a))},__onJoystickConnect:function(a){this.onJoystickConnect(a);a.onAxisMove.add(function(a,c){return function(d,e){a(c,d,e)}}(l(this,this.onJoystickAxisMove),a));a.onButtonDown.add(function(a,c){return function(d){a(c,d)}}(l(this,this.onJoystickButtonDown),a));a.onButtonUp.add(function(a,c){return function(d){a(c,
d)}}(l(this,this.onJoystickButtonUp),a));a.onDisconnect.add(function(a,c){return function(){a(c)}}(l(this,this.onJoystickDisconnect),a));a.onHatMove.add(function(a,c){return function(d,e){a(c,d,e)}}(l(this,this.onJoystickHatMove),a));a.onTrackballMove.add(function(a,c){return function(d,e){a(c,d,e)}}(l(this,this.onJoystickTrackballMove),a))},__class__:Ja});var $b=function(){this.canceled=!1;this.__listeners=[];this.__priorities=[];this.__repeat=[]};k["lime.app.Event_Dynamic_Void"]=$b;$b.__name__=
!0;$b.prototype={add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=0,e=this.__priorities.length;d<e;){var f=d++;if(c>this.__priorities[f]){this.__listeners.splice(f,0,a);this.__priorities.splice(f,0,c);this.__repeat.splice(f,0,!b);return}}this.__listeners.push(a);this.__priorities.push(c);this.__repeat.push(!b)},remove:function(a){for(var b=this.__listeners.length;0<=--b;)p.compareMethods(this.__listeners[b],a)&&(this.__listeners.splice(b,1),this.__priorities.splice(b,1),this.__repeat.splice(b,
1))},dispatch:function(a){this.canceled=!1;for(var b=this.__listeners,c=this.__repeat,d=0;d<b.length&&(b[d](a),c[d]?d++:this.remove(b[d]),!this.canceled););},__class__:$b};var Bc=function(){this.canceled=!1;this.__listeners=[];this.__priorities=[];this.__repeat=[]};k["lime.app.Event_Float_Float_Int_Void"]=Bc;Bc.__name__=!0;Bc.prototype={add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=0,e=this.__priorities.length;d<e;){var f=d++;if(c>this.__priorities[f]){this.__listeners.splice(f,0,a);
this.__priorities.splice(f,0,c);this.__repeat.splice(f,0,!b);return}}this.__listeners.push(a);this.__priorities.push(c);this.__repeat.push(!b)},remove:function(a){for(var b=this.__listeners.length;0<=--b;)p.compareMethods(this.__listeners[b],a)&&(this.__listeners.splice(b,1),this.__priorities.splice(b,1),this.__repeat.splice(b,1))},dispatch:function(a,b,c){this.canceled=!1;for(var d=this.__listeners,e=this.__repeat,f=0;f<d.length&&(d[f](a,b,c),e[f]?f++:this.remove(d[f]),!this.canceled););},__class__:Bc};
var Lb=function(){this.canceled=!1;this.__listeners=[];this.__priorities=[];this.__repeat=[]};k["lime.app.Event_Float_Float_Void"]=Lb;Lb.__name__=!0;Lb.prototype={add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=0,e=this.__priorities.length;d<e;){var f=d++;if(c>this.__priorities[f]){this.__listeners.splice(f,0,a);this.__priorities.splice(f,0,c);this.__repeat.splice(f,0,!b);return}}this.__listeners.push(a);this.__priorities.push(c);this.__repeat.push(!b)},remove:function(a){for(var b=this.__listeners.length;0<=
--b;)p.compareMethods(this.__listeners[b],a)&&(this.__listeners.splice(b,1),this.__priorities.splice(b,1),this.__repeat.splice(b,1))},dispatch:function(a,b){this.canceled=!1;for(var c=this.__listeners,d=this.__repeat,e=0;e<c.length&&(c[e](a,b),d[e]?e++:this.remove(c[e]),!this.canceled););},__class__:Lb};var Cc=function(){this.canceled=!1;this.__listeners=[];this.__priorities=[];this.__repeat=[]};k["lime.app.Event_Int_Float_Void"]=Cc;Cc.__name__=!0;Cc.prototype={add:function(a,b,c){null==c&&(c=0);
null==b&&(b=!1);for(var d=0,e=this.__priorities.length;d<e;){var f=d++;if(c>this.__priorities[f]){this.__listeners.splice(f,0,a);this.__priorities.splice(f,0,c);this.__repeat.splice(f,0,!b);return}}this.__listeners.push(a);this.__priorities.push(c);this.__repeat.push(!b)},remove:function(a){for(var b=this.__listeners.length;0<=--b;)p.compareMethods(this.__listeners[b],a)&&(this.__listeners.splice(b,1),this.__priorities.splice(b,1),this.__repeat.splice(b,1))},dispatch:function(a,b){this.canceled=!1;
for(var c=this.__listeners,d=this.__repeat,e=0;e<c.length&&(c[e](a,b),d[e]?e++:this.remove(c[e]),!this.canceled););},__class__:Cc};var Dc=function(){this.canceled=!1;this.__listeners=[];this.__priorities=[];this.__repeat=[]};k["lime.app.Event_Int_Int_Void"]=Dc;Dc.__name__=!0;Dc.prototype={add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=0,e=this.__priorities.length;d<e;){var f=d++;if(c>this.__priorities[f]){this.__listeners.splice(f,0,a);this.__priorities.splice(f,0,c);this.__repeat.splice(f,
0,!b);return}}this.__listeners.push(a);this.__priorities.push(c);this.__repeat.push(!b)},remove:function(a){for(var b=this.__listeners.length;0<=--b;)p.compareMethods(this.__listeners[b],a)&&(this.__listeners.splice(b,1),this.__priorities.splice(b,1),this.__repeat.splice(b,1))},dispatch:function(a,b){this.canceled=!1;for(var c=this.__listeners,d=this.__repeat,e=0;e<c.length&&(c[e](a,b),d[e]?e++:this.remove(c[e]),!this.canceled););},__class__:Dc};var Ab=function(){this.canceled=!1;this.__listeners=
[];this.__priorities=[];this.__repeat=[]};k["lime.app.Event_Int_Void"]=Ab;Ab.__name__=!0;Ab.prototype={add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=0,e=this.__priorities.length;d<e;){var f=d++;if(c>this.__priorities[f]){this.__listeners.splice(f,0,a);this.__priorities.splice(f,0,c);this.__repeat.splice(f,0,!b);return}}this.__listeners.push(a);this.__priorities.push(c);this.__repeat.push(!b)},remove:function(a){for(var b=this.__listeners.length;0<=--b;)p.compareMethods(this.__listeners[b],
a)&&(this.__listeners.splice(b,1),this.__priorities.splice(b,1),this.__repeat.splice(b,1))},dispatch:function(a){this.canceled=!1;for(var b=this.__listeners,c=this.__repeat,d=0;d<b.length&&(b[d](a),c[d]?d++:this.remove(b[d]),!this.canceled););},__class__:Ab};var nd=function(){this.canceled=!1;this.__listeners=[];this.__priorities=[];this.__repeat=[]};k["lime.app.Event_Int_lime_ui_JoystickHatPosition_Void"]=nd;nd.__name__=!0;nd.prototype={add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=
0,e=this.__priorities.length;d<e;){var f=d++;if(c>this.__priorities[f]){this.__listeners.splice(f,0,a);this.__priorities.splice(f,0,c);this.__repeat.splice(f,0,!b);return}}this.__listeners.push(a);this.__priorities.push(c);this.__repeat.push(!b)},__class__:nd};var od=function(){this.canceled=!1;this.__listeners=[];this.__priorities=[];this.__repeat=[]};k["lime.app.Event_String_Int_Int_Void"]=od;od.__name__=!0;od.prototype={add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=0,e=this.__priorities.length;d<
e;){var f=d++;if(c>this.__priorities[f]){this.__listeners.splice(f,0,a);this.__priorities.splice(f,0,c);this.__repeat.splice(f,0,!b);return}}this.__listeners.push(a);this.__priorities.push(c);this.__repeat.push(!b)},__class__:od};var Ec=function(){this.canceled=!1;this.__listeners=[];this.__priorities=[];this.__repeat=[]};k["lime.app.Event_String_Void"]=Ec;Ec.__name__=!0;Ec.prototype={add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=0,e=this.__priorities.length;d<e;){var f=d++;if(c>this.__priorities[f]){this.__listeners.splice(f,
0,a);this.__priorities.splice(f,0,c);this.__repeat.splice(f,0,!b);return}}this.__listeners.push(a);this.__priorities.push(c);this.__repeat.push(!b)},has:function(a){for(var b=0,c=this.__listeners;b<c.length;){var d=c[b];++b;if(p.compareMethods(d,a))return!0}return!1},remove:function(a){for(var b=this.__listeners.length;0<=--b;)p.compareMethods(this.__listeners[b],a)&&(this.__listeners.splice(b,1),this.__priorities.splice(b,1),this.__repeat.splice(b,1))},dispatch:function(a){this.canceled=!1;for(var b=
this.__listeners,c=this.__repeat,d=0;d<b.length&&(b[d](a),c[d]?d++:this.remove(b[d]),!this.canceled););},__class__:Ec};var pd=function(){this.canceled=!1;this.__listeners=[];this.__priorities=[];this.__repeat=[]};k["lime.app.Event_lime_graphics_RenderContext_Void"]=pd;pd.__name__=!0;pd.prototype={add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=0,e=this.__priorities.length;d<e;){var f=d++;if(c>this.__priorities[f]){this.__listeners.splice(f,0,a);this.__priorities.splice(f,0,c);this.__repeat.splice(f,
0,!b);return}}this.__listeners.push(a);this.__priorities.push(c);this.__repeat.push(!b)},remove:function(a){for(var b=this.__listeners.length;0<=--b;)p.compareMethods(this.__listeners[b],a)&&(this.__listeners.splice(b,1),this.__priorities.splice(b,1),this.__repeat.splice(b,1))},dispatch:function(a){this.canceled=!1;for(var b=this.__listeners,c=this.__repeat,d=0;d<b.length&&(b[d](a),c[d]?d++:this.remove(b[d]),!this.canceled););},__class__:pd};var qd=function(){this.canceled=!1;this.__listeners=[];
this.__priorities=[];this.__repeat=[]};k["lime.app.Event_lime_ui_GamepadAxis_Float_Void"]=qd;qd.__name__=!0;qd.prototype={add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=0,e=this.__priorities.length;d<e;){var f=d++;if(c>this.__priorities[f]){this.__listeners.splice(f,0,a);this.__priorities.splice(f,0,c);this.__repeat.splice(f,0,!b);return}}this.__listeners.push(a);this.__priorities.push(c);this.__repeat.push(!b)},remove:function(a){for(var b=this.__listeners.length;0<=--b;)p.compareMethods(this.__listeners[b],
a)&&(this.__listeners.splice(b,1),this.__priorities.splice(b,1),this.__repeat.splice(b,1))},dispatch:function(a,b){this.canceled=!1;for(var c=this.__listeners,d=this.__repeat,e=0;e<c.length&&(c[e](a,b),d[e]?e++:this.remove(c[e]),!this.canceled););},__class__:qd};var Fc=function(){this.canceled=!1;this.__listeners=[];this.__priorities=[];this.__repeat=[]};k["lime.app.Event_lime_ui_GamepadButton_Void"]=Fc;Fc.__name__=!0;Fc.prototype={add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=0,e=
this.__priorities.length;d<e;){var f=d++;if(c>this.__priorities[f]){this.__listeners.splice(f,0,a);this.__priorities.splice(f,0,c);this.__repeat.splice(f,0,!b);return}}this.__listeners.push(a);this.__priorities.push(c);this.__repeat.push(!b)},remove:function(a){for(var b=this.__listeners.length;0<=--b;)p.compareMethods(this.__listeners[b],a)&&(this.__listeners.splice(b,1),this.__priorities.splice(b,1),this.__repeat.splice(b,1))},dispatch:function(a){this.canceled=!1;for(var b=this.__listeners,c=this.__repeat,
d=0;d<b.length&&(b[d](a),c[d]?d++:this.remove(b[d]),!this.canceled););},__class__:Fc};var rd=function(){this.canceled=!1;this.__listeners=[];this.__priorities=[];this.__repeat=[]};k["lime.app.Event_lime_ui_Gamepad_Void"]=rd;rd.__name__=!0;rd.prototype={add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=0,e=this.__priorities.length;d<e;){var f=d++;if(c>this.__priorities[f]){this.__listeners.splice(f,0,a);this.__priorities.splice(f,0,c);this.__repeat.splice(f,0,!b);return}}this.__listeners.push(a);
this.__priorities.push(c);this.__repeat.push(!b)},remove:function(a){for(var b=this.__listeners.length;0<=--b;)p.compareMethods(this.__listeners[b],a)&&(this.__listeners.splice(b,1),this.__priorities.splice(b,1),this.__repeat.splice(b,1))},dispatch:function(a){this.canceled=!1;for(var b=this.__listeners,c=this.__repeat,d=0;d<b.length&&(b[d](a),c[d]?d++:this.remove(b[d]),!this.canceled););},__class__:rd};var sd=function(){this.canceled=!1;this.__listeners=[];this.__priorities=[];this.__repeat=[]};
k["lime.app.Event_lime_ui_Joystick_Void"]=sd;sd.__name__=!0;sd.prototype={add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=0,e=this.__priorities.length;d<e;){var f=d++;if(c>this.__priorities[f]){this.__listeners.splice(f,0,a);this.__priorities.splice(f,0,c);this.__repeat.splice(f,0,!b);return}}this.__listeners.push(a);this.__priorities.push(c);this.__repeat.push(!b)},remove:function(a){for(var b=this.__listeners.length;0<=--b;)p.compareMethods(this.__listeners[b],a)&&(this.__listeners.splice(b,
1),this.__priorities.splice(b,1),this.__repeat.splice(b,1))},dispatch:function(a){this.canceled=!1;for(var b=this.__listeners,c=this.__repeat,d=0;d<b.length&&(b[d](a),c[d]?d++:this.remove(b[d]),!this.canceled););},__class__:sd};var Gc=function(){this.canceled=!1;this.__listeners=[];this.__priorities=[];this.__repeat=[]};k["lime.app.Event_lime_ui_KeyCode_lime_ui_KeyModifier_Void"]=Gc;Gc.__name__=!0;Gc.prototype={add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=0,e=this.__priorities.length;d<
e;){var f=d++;if(c>this.__priorities[f]){this.__listeners.splice(f,0,a);this.__priorities.splice(f,0,c);this.__repeat.splice(f,0,!b);return}}this.__listeners.push(a);this.__priorities.push(c);this.__repeat.push(!b)},cancel:function(){this.canceled=!0},remove:function(a){for(var b=this.__listeners.length;0<=--b;)p.compareMethods(this.__listeners[b],a)&&(this.__listeners.splice(b,1),this.__priorities.splice(b,1),this.__repeat.splice(b,1))},dispatch:function(a,b){this.canceled=!1;for(var c=this.__listeners,
d=this.__repeat,e=0;e<c.length&&(c[e](a,b),d[e]?e++:this.remove(c[e]),!this.canceled););},__class__:Gc};var ac=function(){this.canceled=!1;this.__listeners=[];this.__priorities=[];this.__repeat=[]};k["lime.app.Event_lime_ui_Touch_Void"]=ac;ac.__name__=!0;ac.prototype={add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=0,e=this.__priorities.length;d<e;){var f=d++;if(c>this.__priorities[f]){this.__listeners.splice(f,0,a);this.__priorities.splice(f,0,c);this.__repeat.splice(f,0,!b);return}}this.__listeners.push(a);
this.__priorities.push(c);this.__repeat.push(!b)},remove:function(a){for(var b=this.__listeners.length;0<=--b;)p.compareMethods(this.__listeners[b],a)&&(this.__listeners.splice(b,1),this.__priorities.splice(b,1),this.__repeat.splice(b,1))},dispatch:function(a){this.canceled=!1;for(var b=this.__listeners,c=this.__repeat,d=0;d<b.length&&(b[d](a),c[d]?d++:this.remove(b[d]),!this.canceled););},__class__:ac};var ma=function(a){if(null!=a){null==ma.__threadPool&&(ma.__threadPool=new td,ma.__threadPool.doWork.add(ma.threadPool_doWork),
ma.__threadPool.onComplete.add(ma.threadPool_onComplete),ma.__threadPool.onError.add(ma.threadPool_onError));var b=new Hc;b.future=this;ma.__threadPool.queue({promise:b,work:a})}};k["lime.app.Future"]=ma;ma.__name__=!0;ma.__threadPool=null;ma.threadPool_doWork=function(a){try{var b=a.work();ma.__threadPool.sendComplete({promise:a.promise,result:b})}catch(c){c instanceof qa&&(c=c.val),ma.__threadPool.sendError({promise:a.promise,error:c})}};ma.threadPool_onComplete=function(a){a.promise.complete(a.result)};
ma.threadPool_onError=function(a){a.promise.error(a.error)};ma.prototype={onComplete:function(a){null!=a&&(this.__completed?a(this.value):this.__errored||(null==this.__completeListeners&&(this.__completeListeners=[]),this.__completeListeners.push(a)));return this},__class__:ma};var fa=function(){this.loaded=this.total=0;this.onProgress=new Dc;this.onComplete=new ba;this.onProgress.add(l(this,this.update))};k["lime.app.Preloader"]=fa;fa.__name__=!0;fa.prototype={create:function(a){},load:function(a,
b){for(var c=null,d=w.cache.version,e=0,f=a.length;e<f;){var g=e++,c=a[g];switch(b[g]){case "IMAGE":fa.images.exists(c)||(g=new Image,fa.images.set(c,g),g.onload=l(this,this.image_onLoad),g.src=c+"?"+d,this.total++);break;case "BINARY":fa.loaders.exists(c)||(g=new Ic,fa.loaders.set(c,g),this.total++);break;case "TEXT":fa.loaders.exists(c)||(g=new Ic,fa.loaders.set(c,g),this.total++);break;case "FONT":this.total++,this.loadFont(c)}}for(c=fa.loaders.keys();c.hasNext();)e=c.next(),fa.loaders.get(e).load(e+
"?"+d).onComplete(l(this,this.loader_onComplete));0==this.total&&this.start()},loadFont:function(a){var b=this;if(window.document.fonts&&(pe=window.document.fonts,l(pe,pe.load)))window.document.fonts.load("1em '"+a+"'").then(function(a){b.loaded++;b.onProgress.dispatch(b.loaded,b.total);b.loaded==b.total&&b.start()});else{var c=window.document.createElement("span");c.innerHTML="giItT1WQy@!-/#";var d=c.style;d.position="absolute";d.left="-10000px";d.top="-10000px";d.fontSize="300px";d.fontFamily="sans-serif";
d.fontVariant="normal";d.fontStyle="normal";d.fontWeight="normal";d.letterSpacing="0";window.document.body.appendChild(c);var e=c.offsetWidth;d.fontFamily="'"+a+"', sans-serif";var f=null,g=!1;a=function(){if(c.offsetWidth!=e){if(!g)return g=!0,!1;b.loaded++;null!=f&&window.clearInterval(f);c.parentNode.removeChild(c);c=null;b.onProgress.dispatch(b.loaded,b.total);b.loaded==b.total&&b.start();return!0}return!1};a()||(f=window.setInterval(a,50))}},start:function(){this.complete=!0;this.onComplete.dispatch()},
update:function(a,b){},image_onLoad:function(a){this.loaded++;this.onProgress.dispatch(this.loaded,this.total);this.loaded==this.total&&this.start()},loader_onComplete:function(a){this.loaded++;this.onProgress.dispatch(this.loaded,this.total);this.loaded==this.total&&this.start()},__class__:fa};var Hc=function(){this.future=new ma};k["lime.app.Promise"]=Hc;Hc.__name__=!0;Hc.prototype={complete:function(a){if(!this.future.__errored&&(this.future.__completed=!0,this.future.value=a,null!=this.future.__completeListeners)){for(var b=
0,c=this.future.__completeListeners;b<c.length;){var d=c[b];++b;d(a)}this.future.__completeListeners=null}return this},error:function(a){if(!this.future.__completed&&(this.future.__errored=!0,this.future.__errorMessage=a,null!=this.future.__errorListeners)){for(var b=0,c=this.future.__errorListeners;b<c.length;){var d=c[b];++b;d(a)}this.future.__errorListeners=null}return this},progress:function(a){if(!this.future.__errored&&!this.future.__completed&&null!=this.future.__progressListeners)for(var b=
0,c=this.future.__progressListeners;b<c.length;){var d=c[b];++b;d(a)}return this},__class__:Hc};var ve=function(){};k["lime.audio.ALAudioContext"]=ve;ve.__name__=!0;var we=function(){};k["lime.audio.ALCAudioContext"]=we;we.__name__=!0;var xe=function(){};k["lime.audio.AudioBuffer"]=xe;xe.__name__=!0;var Ga=k["lime.audio.AudioContext"]={__ename__:!0,__constructs__:["OPENAL","HTML5","WEB","FLASH","CUSTOM"]};Ga.OPENAL=function(a,b){var c=["OPENAL",0,a,b];c.__enum__=Ga;c.toString=u;return c};Ga.HTML5=
function(a){a=["HTML5",1,a];a.__enum__=Ga;a.toString=u;return a};Ga.WEB=function(a){a=["WEB",2,a];a.__enum__=Ga;a.toString=u;return a};Ga.FLASH=function(a){a=["FLASH",3,a];a.__enum__=Ga;a.toString=u;return a};Ga.CUSTOM=function(a){a=["CUSTOM",4,a];a.__enum__=Ga;a.toString=u;return a};var zb=function(){};k["lime.audio.AudioManager"]=zb;zb.__name__=!0;zb.context=null;zb.init=function(a){if(null==zb.context)if(null==a)try{window.AudioContext=window.AudioContext||window.webkitAudioContext,zb.context=
Ga.WEB(new AudioContext)}catch(b){b instanceof qa&&(b=b.val),zb.context=Ga.HTML5(new ud)}else zb.context=a};var Xd=function(){};k["lime.audio.AudioSource"]=Xd;Xd.__name__=!0;Xd.prototype={__class__:Xd};var ye=function(){};k["lime.audio.FlashAudioContext"]=ye;ye.__name__=!0;var ud=function(){};k["lime.audio.HTML5AudioContext"]=ud;ud.__name__=!0;ud.prototype={__class__:ud};var Yd=function(){};k["lime.graphics.ConsoleRenderContext"]=Yd;Yd.__name__=!0;Yd.prototype={__class__:Yd};var ze=function(){};k["lime.graphics.FlashRenderContext"]=
ze;ze.__name__=!0;var ja=function(a,b,c,d,e,f,g){null==e&&(e=-1);null==d&&(d=-1);null==c&&(c=0);null==b&&(b=0);this.offsetX=b;this.offsetY=c;this.width=d;this.height=e;if(null==g)if(null!=Ja.current&&null!=Ja.current.renderers[0])switch(Ja.current.renderers[0].context[1]){case 2:case 1:this.type=ga.CANVAS;break;case 3:this.type=ga.FLASH;break;default:this.type=ga.DATA}else this.type=ga.DATA;else this.type=g;if(null==a){if(0<d&&0<e)switch(this.type[1]){case 0:this.buffer=new Bb(null,d,e);U.createCanvas(this,
d,e);null!=f&&this.fillRect(new bc(0,0,d,e),f);break;case 1:a=d*e*4,a=null!=a?new Yb(a):null,this.buffer=new Bb(a,d,e),null!=f&&this.fillRect(new bc(0,0,d,e),f)}}else this.__fromImageBuffer(a)};k["lime.graphics.Image"]=ja;ja.__name__=!0;ja.__base64Encoder=null;ja.fromBytes=function(a,b){if(null==a)return null;var c=new ja;c.__fromBytes(a,b);return c};ja.fromCanvas=function(a){if(null==a)return null;var b=new Bb(null,a.width,a.height);b.set_src(a);return new ja(b)};ja.fromImageElement=function(a){if(null==
a)return null;var b=new Bb(null,a.width,a.height);b.set_src(a);return new ja(b)};ja.__base64Encode=function(a){var b;switch(a.length%3){case 1:b="==";break;case 2:b="=";break;default:b=""}null==ja.__base64Encoder&&(ja.__base64Encoder=new fd(ca.ofString(ja.__base64Chars)));return ja.__base64Encoder.encodeBytes(a).toString()+b};ja.__isJPG=function(a){return 255==a.b[0]&&216==a.b[1]};ja.__isPNG=function(a){return 137==a.b[0]&&80==a.b[1]&&78==a.b[2]&&71==a.b[3]&&13==a.b[4]&&10==a.b[5]&&26==a.b[6]&&10==
a.b[7]};ja.__isGIF=function(a){if(71==a.b[0]&&73==a.b[1]&&70==a.b[2]&&56==a.b[3]){var b=a.b[4];return(55==b||57==b)&&97==a.b[5]}return!1};ja.prototype={fillRect:function(a,b,c){a=this.__clipRect(a);if(null!=this.buffer&&null!=a)switch(this.type[1]){case 0:U.fillRect(this,a,b,c);break;case 1:U.convertToData(this);if(0==this.buffer.data.length)break;Zd.fillRect(this,a,b,c);break;case 2:a.offset(this.offsetX,this.offsetY);if(null!=c)switch(c){case 1:break;case 2:b=(b&255)<<24|(b>>8&255)<<16|(b>>16&255)<<
8|b>>24&255;break;default:b=(b&255)<<24|(b>>24&255)<<16|(b>>16&255)<<8|b>>8&255}else b=(b&255)<<24|(b>>24&255)<<16|(b>>16&255)<<8|b>>8&255;this.buffer.__srcBitmapData.fillRect(a.__toFlashRectangle(),b)}},__clipRect:function(a){return null==a||0>a.x&&(a.width-=-a.x,a.x=0,0>=a.x+a.width)||0>a.y&&(a.height-=-a.y,a.y=0,0>=a.y+a.height)||a.x+a.width>=this.width&&(a.width-=a.x+a.width-this.width,0>=a.width)||a.y+a.height>=this.height&&(a.height-=a.y+a.height-this.height,0>=a.height)?null:a},__fromBase64:function(a,
b,c){var d=this,e=new Image;e.crossOrigin="Anonymous";e.addEventListener("load",function(a){d.buffer=new Bb(null,e.width,e.height);d.buffer.__srcImage=e;d.offsetX=0;d.offsetY=0;d.width=d.buffer.width;d.height=d.buffer.height;null!=c&&c(d)},!1);e.src="data:"+b+";base64,"+a},__fromBytes:function(a,b){var c="";if(ja.__isPNG(a))c="image/png";else if(ja.__isJPG(a))c="image/jpeg";else if(ja.__isGIF(a))c="image/gif";else throw new qa("Image tried to read PNG/JPG Bytes, but found an invalid header.");this.__fromBase64(ja.__base64Encode(a),
c,b)},__fromImageBuffer:function(a){this.buffer=a;null!=a&&(-1==this.width&&(this.width=a.width),-1==this.height&&(this.height=a.height))},get_rect:function(){return new bc(0,0,this.width,this.height)},get_src:function(){null==this.buffer.__srcCanvas&&U.convertToCanvas(this);return this.buffer.get_src()},get_transparent:function(){return null==this.buffer?!1:this.buffer.transparent},set_transparent:function(a){return null==this.buffer?!1:this.buffer.transparent=a},__class__:ja,__properties__:{get_rect:"get_rect",
set_transparent:"set_transparent",get_transparent:"get_transparent",get_src:"get_src"}};var Bb=function(a,b,c,d,e){null==d&&(d=32);null==c&&(c=0);null==b&&(b=0);this.data=a;this.width=b;this.height=c;this.bitsPerPixel=d;this.format=null==e?0:e;this.transparent=!0};k["lime.graphics.ImageBuffer"]=Bb;Bb.__name__=!0;Bb.prototype={get_src:function(){return null!=this.__srcImage?this.__srcImage:this.__srcCanvas},set_src:function(a){r.__instanceof(a,Image)?this.__srcImage=a:r.__instanceof(a,HTMLCanvasElement)&&
(this.__srcCanvas=a,this.__srcContext=this.__srcCanvas.getContext("2d"));return a},get_stride:function(){return 4*this.width},__class__:Bb,__properties__:{get_stride:"get_stride",set_src:"set_src",get_src:"get_src"}};var ga=k["lime.graphics.ImageType"]={__ename__:!0,__constructs__:["CANVAS","DATA","FLASH","CUSTOM"]};ga.CANVAS=["CANVAS",0];ga.CANVAS.toString=u;ga.CANVAS.__enum__=ga;ga.DATA=["DATA",1];ga.DATA.toString=u;ga.DATA.__enum__=ga;ga.FLASH=["FLASH",2];ga.FLASH.toString=u;ga.FLASH.__enum__=
ga;ga.CUSTOM=["CUSTOM",3];ga.CUSTOM.toString=u;ga.CUSTOM.__enum__=ga;var ka=k["lime.graphics.RenderContext"]={__ename__:!0,__constructs__:"OPENGL CANVAS DOM FLASH CAIRO CONSOLE CUSTOM NONE".split(" ")};ka.OPENGL=function(a){a=["OPENGL",0,a];a.__enum__=ka;a.toString=u;return a};ka.CANVAS=function(a){a=["CANVAS",1,a];a.__enum__=ka;a.toString=u;return a};ka.DOM=function(a){a=["DOM",2,a];a.__enum__=ka;a.toString=u;return a};ka.FLASH=function(a){a=["FLASH",3,a];a.__enum__=ka;a.toString=u;return a};ka.CAIRO=
function(a){a=["CAIRO",4,a];a.__enum__=ka;a.toString=u;return a};ka.CONSOLE=function(a){a=["CONSOLE",5,a];a.__enum__=ka;a.toString=u;return a};ka.CUSTOM=function(a){a=["CUSTOM",6,a];a.__enum__=ka;a.toString=u;return a};ka.NONE=["NONE",7];ka.NONE.toString=u;ka.NONE.__enum__=ka;var md=function(a){this.onRender=new ba;this.onContextRestored=new pd;this.onContextLost=new ba;this.window=a;this.backend=new ld(this);this.window.renderer=this};k["lime.graphics.Renderer"]=md;md.__name__=!0;md.prototype={create:function(){this.backend.create()},
flip:function(){this.backend.flip()},__class__:md};var la=k["lime.graphics.RendererType"]={__ename__:!0,__constructs__:"OPENGL CANVAS DOM FLASH CAIRO CONSOLE CUSTOM".split(" ")};la.OPENGL=["OPENGL",0];la.OPENGL.toString=u;la.OPENGL.__enum__=la;la.CANVAS=["CANVAS",1];la.CANVAS.toString=u;la.CANVAS.__enum__=la;la.DOM=["DOM",2];la.DOM.toString=u;la.DOM.__enum__=la;la.FLASH=["FLASH",3];la.FLASH.toString=u;la.FLASH.__enum__=la;la.CAIRO=["CAIRO",4];la.CAIRO.toString=u;la.CAIRO.__enum__=la;la.CONSOLE=["CONSOLE",
5];la.CONSOLE.toString=u;la.CONSOLE.__enum__=la;la.CUSTOM=["CUSTOM",6];la.CUSTOM.toString=u;la.CUSTOM.__enum__=la;var $d=function(){};k["lime.graphics.cairo.Cairo"]=$d;$d.__name__=!0;$d.prototype={arc:function(a,b,c,d,e){},clip:function(){},curveTo:function(a,b,c,d,e,f){},fill:function(){},identityMatrix:function(){},lineTo:function(a,b){},moveTo:function(a,b){},newPath:function(){},paint:function(){},paintWithAlpha:function(a){},popGroupToSource:function(){},pushGroup:function(){},rectangle:function(a,
b,c,d){},restore:function(){},save:function(){},setSourceRGB:function(a,b,c){},get_currentPoint:function(){return null},get_hasCurrentPoint:function(){return!1},set_matrix:function(a){return a},set_source:function(a){return a},__class__:$d,__properties__:{set_source:"set_source",set_matrix:"set_matrix",get_hasCurrentPoint:"get_hasCurrentPoint",get_currentPoint:"get_currentPoint"}};var ae={};k["lime.graphics.cairo._CairoImageSurface.CairoImageSurface_Impl_"]=ae;ae.__name__=!0;ae.fromImage=function(a){return null};
var cc={};k["lime.graphics.cairo._CairoPattern.CairoPattern_Impl_"]=cc;cc.__name__=!0;cc.__properties__={set_filter:"set_filter"};cc.createForSurface=function(a){return 0};cc.set_filter=function(a,b){return b};var qe=function(){};k["lime.graphics.opengl.GL"]=qe;qe.__name__=!0;qe.context=null;var U=function(){};k["lime.graphics.utils.ImageCanvasUtil"]=U;U.__name__=!0;U.convertToCanvas=function(a){var b=a.buffer;null!=b.__srcImage?(null==b.__srcCanvas&&(U.createCanvas(a,b.__srcImage.width,b.__srcImage.height),
b.__srcContext.drawImage(b.__srcImage,0,0)),b.__srcImage=null):null!=b.data&&null==b.__srcCanvas?(U.createCanvas(a,b.width,b.height),U.createImageData(a)):null==b.data&&null!=b.__srcImageData&&(b.data=b.__srcImageData.data)};U.convertToData=function(a){null==a.buffer.data&&(U.convertToCanvas(a),U.sync(a,!1),U.createImageData(a),a.buffer.__srcCanvas=null,a.buffer.__srcContext=null)};U.createCanvas=function(a,b,c){var d=a.buffer;null==d.__srcCanvas&&(d.__srcCanvas=window.document.createElement("canvas"),
d.__srcCanvas.width=b,d.__srcCanvas.height=c,a.get_transparent()?d.__srcContext=d.__srcCanvas.getContext("2d"):(a.get_transparent()||d.__srcCanvas.setAttribute("moz-opaque","true"),d.__srcContext=d.__srcCanvas.getContext("2d",{alpha:!1})),d.__srcContext.mozImageSmoothingEnabled=!1,d.__srcContext.msImageSmoothingEnabled=!1,d.__srcContext.imageSmoothingEnabled=!1)};U.createImageData=function(a){a=a.buffer;if(null==a.__srcImageData){null==a.data?a.__srcImageData=a.__srcContext.getImageData(0,0,a.width,
a.height):(a.__srcImageData=a.__srcContext.createImageData(a.width,a.height),a.__srcImageData.data.set(a.data));var b=a.__srcImageData.data.buffer,b=null!=b?new Yb(b):null;a.data=b}};U.fillRect=function(a,b,c,d){U.convertToCanvas(a);U.sync(a,!0);if(0==b.x&&0==b.y&&b.width==a.width&&b.height==a.height&&a.get_transparent()&&0==(c&255))a.buffer.__srcCanvas.width=a.buffer.width;else{var e,f;1==d?(d=c>>16&255,e=c>>8&255,f=c&255,c=a.get_transparent()?c>>24&255:255):(d=c>>24&255,e=c>>16&255,f=c>>8&255,c=
a.get_transparent()?c&255:255);a.buffer.__srcContext.fillStyle="rgba("+d+", "+e+", "+f+", "+c/255+")";a.buffer.__srcContext.fillRect(b.x+a.offsetX,b.y+a.offsetY,b.width+a.offsetX,b.height+a.offsetY)}};U.sync=function(a,b){a.dirty&&null!=a.buffer.__srcImageData&&a.type!=ga.DATA&&(a.buffer.__srcContext.putImageData(a.buffer.__srcImageData,0,0),a.buffer.data=null,a.dirty=!1);b&&(a.buffer.__srcImageData=null,a.buffer.data=null)};var Zd=function(){};k["lime.graphics.utils.ImageDataUtil"]=Zd;Zd.__name__=
!0;Zd.fillRect=function(a,b,c,d){switch(d){case 1:c=(c>>16&255)<<24|(c>>8&255)<<16|(c&255)<<8|c>>24&255;break;case 2:c=(c>>8&255)<<24|(c>>16&255)<<16|(c>>24&255)<<8|c&255;break}a.get_transparent()||(c=(c>>24&255)<<24|(c>>16&255)<<16|(c>>8&255)<<8|255,255);d=a.buffer.data;if(null!=d){var e=a.buffer.format,f=a.buffer.premultiplied;b=new vd(a,b);for(var g,h=0,k=b.height;h<k;){g=h++;g=b.offset+b.stride*g;for(var J=0,l=b.width;J<l;){var m=J++,m=g+4*m;f&&(0==(c&255)?0!=c&&(c=0):255!=(c&255)&&(Oa.a16=Oa.__alpha16[c&
255],c=((c>>24&255)*Oa.a16>>16&255)<<24|((c>>16&255)*Oa.a16>>16&255)<<16|((c>>8&255)*Oa.a16>>16&255)<<8|c&255));switch(e){case 2:d[m]=c>>8&255;d[m+1]=c>>16&255;d[m+2]=c>>24&255;d[m+3]=c&255;break;case 0:d[m]=c>>24&255;d[m+1]=c>>16&255;d[m+2]=c>>8&255;d[m+3]=c&255;break;case 1:d[m]=c&255,d[m+1]=c>>24&255,d[m+2]=c>>16&255,d[m+3]=c>>8&255}}}a.dirty=!0}};var vd=function(a,b){this.image=a;null==b?this.rect=a.get_rect():(0>b.x&&(b.x=0),0>b.y&&(b.y=0),b.x+b.width>a.width&&(b.width=a.width-b.x),b.y+b.height>
a.height&&(b.height=a.height-b.y),0>b.width&&(b.width=0),0>b.height&&(b.height=0),this.rect=b);this.stride=a.buffer.get_stride();this.x=Math.ceil(this.rect.x);this.y=Math.ceil(this.rect.y);this.width=Math.floor(this.rect.width);this.height=Math.floor(this.rect.height);this.offset=this.stride*(this.y+a.offsetY)+4*(this.x+a.offsetX)};k["lime.graphics.utils._ImageDataUtil.ImageDataView"]=vd;vd.__name__=!0;vd.prototype={__class__:vd};var Jc=function(a,b,c,d,e,f){null==f&&(f=0);null==e&&(e=0);null==d&&
(d=1);null==c&&(c=0);null==b&&(b=0);null==a&&(a=1);this.a=a;this.b=b;this.c=c;this.d=d;this.tx=e;this.ty=f};k["lime.math.Matrix3"]=Jc;Jc.__name__=!0;Jc.prototype={__class__:Jc};var bc=function(a,b,c,d){null==d&&(d=0);null==c&&(c=0);null==b&&(b=0);null==a&&(a=0);this.x=a;this.y=b;this.width=c;this.height=d};k["lime.math.Rectangle"]=bc;bc.__name__=!0;bc.prototype={offset:function(a,b){this.x+=a;this.y+=b},__toFlashRectangle:function(){return null},__class__:bc};var wd=function(a,b){null==b&&(b=0);null==
a&&(a=0);this.x=a;this.y=b};k["lime.math.Vector2"]=wd;wd.__name__=!0;wd.prototype={__class__:wd};var Ae=function(){};k["lime.math.Vector4"]=Ae;Ae.__name__=!0;var Oa={};k["lime.math.color._RGBA.RGBA_Impl_"]=Oa;Oa.__name__=!0;Oa.__alpha16=null;Oa.__clamp=null;Oa.a16=null;var Ic=function(){this.promise=new Hc};k["lime.net.HTTPRequest"]=Ic;Ic.__name__=!0;Ic.prototype={load:function(a){var b=this;this.bytesTotal=this.bytesLoaded=0;var c=new XMLHttpRequest;c.addEventListener("progress",l(this,this.request_onProgress),
!1);c.onreadystatechange=function(){4==c.readyState&&(null!=c.status&&200<=c.status&&400>=c.status?(b.bytes=bb.ofData(c.response),b.promise.complete(b.bytes)):b.promise.error(c.status))};c.open("GET",a,!0);c.responseType="arraybuffer";c.send("");return this.promise.future},request_onProgress:function(a){this.promise.progress(a.loaded/a.total)},__class__:Ic};var Mb=function(){};k["lime.system.Clipboard"]=Mb;Mb.__name__=!0;Mb.__properties__={set_text:"set_text",get_text:"get_text"};Mb.get_text=function(){return null};
Mb.set_text=function(a){return null};var Kc=function(){};k["lime.system.System"]=Kc;Kc.__name__=!0;Kc.embed=La.lime.embed=function(a,b,c,d,e){var f=null,f="string"==typeof a?window.document.getElementById(r.__cast(a,String)):null==a?window.document.createElement("div"):a;a=null;null!=d&&(d=T.replace(d,"#",""),a=-1<d.indexOf("0x")?za.parseInt(d):za.parseInt("0x"+d));null==b&&(b=0);null==c&&(c=0);X.config.windows[0].background=a;X.config.windows[0].element=f;X.config.windows[0].width=b;X.config.windows[0].height=
c;X.config.assetsPrefix=e;X.create()};Kc.getTimer=function(){return(new Date).getTime()};var td=function(a,b){null==b&&(b=1);null==a&&(a=0);this.onError=new $b;this.onComplete=new $b;this.doWork=new $b;this.minThreads=a;this.maxThreads=b;this.currentThreads=0};k["lime.system.ThreadPool"]=td;td.__name__=!0;td.prototype={queue:function(a){this.doWork.dispatch(a)},sendComplete:function(a){this.onComplete.dispatch(a)},sendError:function(a){this.onError.dispatch(a)},__class__:td};var Ba=function(a){this.onDisconnect=
new ba;this.onButtonUp=new Fc;this.onButtonDown=new Fc;this.onAxisMove=new qd;this.id=a;this.connected=!0};k["lime.ui.Gamepad"]=Ba;Ba.__name__=!0;Ba.__connect=function(a){if(!Ba.devices.h.hasOwnProperty(a)){var b=new Ba(a);Ba.devices.h[a]=b;Ba.onConnect.dispatch(b)}};Ba.__disconnect=function(a){var b=Ba.devices.h[a];null!=b&&(b.connected=!1);Ba.devices.remove(a);null!=b&&b.onDisconnect.dispatch()};Ba.prototype={get_guid:function(){return xa.__getDeviceData()[this.id].id},get_name:function(){return xa.__getDeviceData()[this.id].id},
__class__:Ba,__properties__:{get_name:"get_name",get_guid:"get_guid"}};var xa=function(a){this.onTrackballMove=new Cc;this.onHatMove=new nd;this.onDisconnect=new ba;this.onButtonUp=new Ab;this.onButtonDown=new Ab;this.onAxisMove=new Cc;this.id=a;this.connected=!0};k["lime.ui.Joystick"]=xa;xa.__name__=!0;xa.__connect=function(a){if(!xa.devices.h.hasOwnProperty(a)){var b=new xa(a);xa.devices.h[a]=b;xa.onConnect.dispatch(b)}};xa.__disconnect=function(a){var b=xa.devices.h[a];null!=b&&(b.connected=!1);
xa.devices.remove(a);null!=b&&b.onDisconnect.dispatch()};xa.__getDeviceData=function(){return navigator.getGamepads?navigator.getGamepads():navigator.webkitGetGamepads?navigator.webkitGetGamepads():null};xa.prototype={__class__:xa};var ya={};k["lime.ui._KeyModifier.KeyModifier_Impl_"]=ya;ya.__name__=!0;ya.__properties__={get_shiftKey:"get_shiftKey",get_metaKey:"get_metaKey",get_ctrlKey:"get_ctrlKey",get_altKey:"get_altKey"};ya.get_altKey=function(a){return 0<(a&256)||0<(a&512)};ya.get_ctrlKey=function(a){return 0<
(a&64)||0<(a&128)};ya.get_metaKey=function(a){return 0<(a&1024)||0<(a&2048)};ya.get_shiftKey=function(a){return 0<(a&1)||0<(a&2)};var Lc=function(){};k["lime.ui.Mouse"]=Lc;Lc.__name__=!0;Lc.__properties__={set_cursor:"set_cursor"};Lc.set_cursor=function(a){return mb.set_cursor(a)};var v=k["lime.ui.MouseCursor"]={__ename__:!0,__constructs__:"ARROW CROSSHAIR DEFAULT MOVE POINTER RESIZE_NESW RESIZE_NS RESIZE_NWSE RESIZE_WE TEXT WAIT WAIT_ARROW CUSTOM".split(" ")};v.ARROW=["ARROW",0];v.ARROW.toString=
u;v.ARROW.__enum__=v;v.CROSSHAIR=["CROSSHAIR",1];v.CROSSHAIR.toString=u;v.CROSSHAIR.__enum__=v;v.DEFAULT=["DEFAULT",2];v.DEFAULT.toString=u;v.DEFAULT.__enum__=v;v.MOVE=["MOVE",3];v.MOVE.toString=u;v.MOVE.__enum__=v;v.POINTER=["POINTER",4];v.POINTER.toString=u;v.POINTER.__enum__=v;v.RESIZE_NESW=["RESIZE_NESW",5];v.RESIZE_NESW.toString=u;v.RESIZE_NESW.__enum__=v;v.RESIZE_NS=["RESIZE_NS",6];v.RESIZE_NS.toString=u;v.RESIZE_NS.__enum__=v;v.RESIZE_NWSE=["RESIZE_NWSE",7];v.RESIZE_NWSE.toString=u;v.RESIZE_NWSE.__enum__=
v;v.RESIZE_WE=["RESIZE_WE",8];v.RESIZE_WE.toString=u;v.RESIZE_WE.__enum__=v;v.TEXT=["TEXT",9];v.TEXT.toString=u;v.TEXT.__enum__=v;v.WAIT=["WAIT",10];v.WAIT.toString=u;v.WAIT.__enum__=v;v.WAIT_ARROW=["WAIT_ARROW",11];v.WAIT_ARROW.toString=u;v.WAIT_ARROW.__enum__=v;v.CUSTOM=["CUSTOM",12];v.CUSTOM.toString=u;v.CUSTOM.__enum__=v;var Xa=function(a,b,c,d,e,f,g){this.x=a;this.y=b;this.id=c;this.dx=d;this.dy=e;this.pressure=f;this.device=g};k["lime.ui.Touch"]=Xa;Xa.__name__=!0;Xa.prototype={__class__:Xa};
var Nb=function(a){this.onTextInput=new Ec;this.onTextEdit=new od;this.onRestore=new ba;this.onResize=new Dc;this.onMove=new Lb;this.onMouseWheel=new Lb;this.onMouseUp=new Bc;this.onMouseMoveRelative=new Lb;this.onMouseMove=new Lb;this.onMouseDown=new Bc;this.onMinimize=new ba;this.onLeave=new ba;this.onKeyUp=new Gc;this.onKeyDown=new Gc;this.onFullscreen=new ba;this.onFocusOut=new ba;this.onFocusIn=new ba;this.onEnter=new ba;this.onDropFile=new Ec;this.onDeactivate=new ba;this.onCreate=new ba;this.onClose=
new ba;this.onActivate=new ba;this.config=a;this.__height=this.__width=0;this.__fullscreen=!1;this.__scale=1;this.__y=this.__x=0;this.__title="";this.id=-1;null!=a&&(Object.prototype.hasOwnProperty.call(a,"width")&&(this.__width=a.width),Object.prototype.hasOwnProperty.call(a,"height")&&(this.__height=a.height),Object.prototype.hasOwnProperty.call(a,"x")&&(this.__x=a.x),Object.prototype.hasOwnProperty.call(a,"y")&&(this.__y=a.y),Object.prototype.hasOwnProperty.call(a,"fullscreen")&&(this.__fullscreen=
a.fullscreen),Object.prototype.hasOwnProperty.call(a,"borderless")&&(this.__borderless=a.borderless),Object.prototype.hasOwnProperty.call(a,"resizable")&&(this.__resizable=a.resizable),Object.prototype.hasOwnProperty.call(a,"title")&&(this.__title=a.title));this.backend=new P(this)};k["lime.ui.Window"]=Nb;Nb.__name__=!0;Nb.prototype={close:function(){this.backend.close()},create:function(a){this.application=a;this.backend.create(a);null!=this.renderer&&this.renderer.create()},resize:function(a,b){this.backend.resize(a,
b);this.__width=a;this.__height=b},set_fullscreen:function(a){return this.__fullscreen=this.backend.setFullscreen(a)},set_height:function(a){this.resize(this.__width,a);return this.__height},set_width:function(a){this.resize(a,this.__height);return this.__width},__class__:Nb,__properties__:{set_width:"set_width",set_height:"set_height",set_fullscreen:"set_fullscreen"}};var bb=function(a,b){ca.call(this,b)};k["lime.utils.Bytes"]=bb;bb.__name__=!0;bb.alloc=function(a){a=ca.alloc(a);return new bb(a.length,
a.b.bufferValue)};bb.ofData=function(a){a=ca.ofData(a);return new bb(a.length,a.b.bufferValue)};bb.ofString=function(a){a=ca.ofString(a);return new bb(a.length,a.b.bufferValue)};bb.__super__=ca;bb.prototype=q(ca.prototype,{__class__:bb});var Mc=function(){};k["motion.actuators.IGenericActuator"]=Mc;Mc.__name__=!0;Mc.prototype={__class__:Mc};var nb=function(a,b,c){this._autoVisible=!0;this._delay=0;this._reflect=!1;this._repeat=0;this.special=this._snapping=this._smartRotation=this._reverse=!1;this.target=
a;this.properties=c;this.duration=b;this._ease=da.defaultEase};k["motion.actuators.GenericActuator"]=nb;nb.__name__=!0;nb.__interfaces__=[Mc];nb.prototype={apply:function(){for(var a=0,b=p.fields(this.properties);a<b.length;){var c=b[a];++a;Object.prototype.hasOwnProperty.call(this.target,c)?p.setField(this.target,c,p.field(this.properties,c)):p.setProperty(this.target,c,p.field(this.properties,c))}},autoVisible:function(a){null==a&&(a=!0);this._autoVisible=a;return this},callMethod:function(a,b){null==
b&&(b=[]);return p.callMethod(a,a,b)},change:function(){null!=this._onUpdate&&this.callMethod(this._onUpdate,this._onUpdateParams)},complete:function(a){null==a&&(a=!0);a&&(this.change(),null!=this._onComplete&&this.callMethod(this._onComplete,this._onCompleteParams));da.unload(this)},delay:function(a){this._delay=a;return this},ease:function(a){this._ease=a;return this},move:function(){},onComplete:function(a,b){this._onComplete=a;this._onCompleteParams=null==b?[]:b;0==this.duration&&this.complete();
return this},onRepeat:function(a,b){this._onRepeat=a;this._onRepeatParams=null==b?[]:b;return this},onUpdate:function(a,b){this._onUpdate=a;this._onUpdateParams=null==b?[]:b;return this},onPause:function(a,b){this._onPause=a;this._onPauseParams=null==b?[]:b;return this},onResume:function(a,b){this._onResume=a;this._onResumeParams=null==b?[]:b;return this},pause:function(){null!=this._onPause&&this.callMethod(this._onPause,this._onPauseParams)},reflect:function(a){null==a&&(a=!0);this._reflect=a;this.special=
!0;return this},repeat:function(a){null==a&&(a=-1);this._repeat=a;return this},resume:function(){null!=this._onResume&&this.callMethod(this._onResume,this._onResumeParams)},reverse:function(a){null==a&&(a=!0);this._reverse=a;this.special=!0;return this},smartRotation:function(a){null==a&&(a=!0);this._smartRotation=a;this.special=!0;return this},snapping:function(a){null==a&&(a=!0);this._snapping=a;this.special=!0;return this},stop:function(a,b,c){},__class__:nb};var K=function(a,b,c){this.active=
!0;this.propertyDetails=[];this.toggleVisible=this.setVisible=this.initialized=this.cacheVisible=this.paused=this.sendChange=!1;this.startTime=S.getTimer()/1E3;nb.call(this,a,b,c);K.addedEvent||(K.addedEvent=!0,S.current.stage.addEventListener("enterFrame",K.stage_onEnterFrame))};k["motion.actuators.SimpleActuator"]=K;K.__name__=!0;K.stage_onEnterFrame=function(a){a=S.getTimer()/1E3;for(var b,c=0,d=0,e=K.actuatorsLength;d<e;)d++,b=K.actuators[c],null!=b&&b.active?(a>=b.timeOffset&&b.update(a),c++):
(K.actuators.splice(c,1),--K.actuatorsLength)};K.__super__=nb;K.prototype=q(nb.prototype,{setField_openfl_geom_Transform:function(a,b,c){Object.prototype.hasOwnProperty.call(a,b)?a[b]=c:p.setProperty(a,b,c)},setField_motion_actuators_TransformActuator_T:function(a,b,c){Object.prototype.hasOwnProperty.call(a,b)?a[b]=c:p.setProperty(a,b,c)},setField_motion_actuators_MotionPathActuator_T:function(a,b,c){Object.prototype.hasOwnProperty.call(a,b)?a[b]=c:p.setProperty(a,b,c)},setField_openfl_display_DisplayObject:function(a,
b,c){Object.prototype.hasOwnProperty.call(a,b)?a[b]=c:p.setProperty(a,b,c)},setField_motion_actuators_SimpleActuator_T:function(a,b,c){Object.prototype.hasOwnProperty.call(a,b)?a[b]=c:p.setProperty(a,b,c)},autoVisible:function(a){null==a&&(a=!0);this._autoVisible=a;a||(this.toggleVisible=!1,this.setVisible&&this.setField_motion_actuators_SimpleActuator_T(this.target,"visible",this.cacheVisible));return this},delay:function(a){this._delay=a;this.timeOffset=this.startTime+a;return this},getField:function(a,
b){var c=null;return c=Object.prototype.hasOwnProperty.call(a,b)?p.field(a,b):p.getProperty(a,b)},initialize:function(){for(var a,b=0,c=p.fields(this.properties);b<c.length;){var d=c[b];++b;var e=!0;!Object.prototype.hasOwnProperty.call(this.target,d)||this.target.__properties__&&this.target.__properties__["set_"+d]?(e=!1,a=p.getProperty(this.target,d)):a=p.field(this.target,d);if("number"==typeof a){var f=this.getField(this.properties,d);null==a&&(a=0);null==f&&(f=0);a=new cb(this.target,d,a,f-a,
e);this.propertyDetails.push(a)}}this.detailsLength=this.propertyDetails.length;this.initialized=!0},move:function(){(this.toggleVisible=Object.prototype.hasOwnProperty.call(this.properties,"alpha")&&r.__instanceof(this.target,y))&&0!=this.properties.alpha&&!this.getField(this.target,"visible")&&(this.setVisible=!0,this.cacheVisible=this.getField(this.target,"visible"),this.setField_motion_actuators_SimpleActuator_T(this.target,"visible",!0));this.timeOffset=this.startTime;K.actuators.push(this);
++K.actuatorsLength},onUpdate:function(a,b){this._onUpdate=a;this._onUpdateParams=null==b?[]:b;this.sendChange=!0;return this},pause:function(){this.paused||(this.paused=!0,nb.prototype.pause.call(this),this.pauseTime=S.getTimer())},resume:function(){this.paused&&(this.paused=!1,this.timeOffset+=(S.getTimer()-this.pauseTime)/1E3,nb.prototype.resume.call(this))},setProperty:function(a,b){a.isField?a.target[a.propertyName]=b:p.setProperty(a.target,a.propertyName,b)},stop:function(a,b,c){if(this.active)if(null==
a)this.active=!1,b&&this.apply(),this.complete(c);else{var d=0;for(a=p.fields(a);d<a.length;){var e=a[d];++d;if(Object.prototype.hasOwnProperty.call(this.properties,e)){this.active=!1;b&&this.apply();this.complete(c);break}}}},update:function(a){if(!this.paused){var b,c,d=(a-this.timeOffset)/this.duration;1<d&&(d=1);this.initialized||this.initialize();if(this.special){c=this._reverse?this._ease.calculate(1-d):this._ease.calculate(d);for(var e,f=0,g=this.detailsLength;f<g;)b=f++,b=this.propertyDetails[b],
!this._smartRotation||"rotation"!=b.propertyName&&"rotationX"!=b.propertyName&&"rotationY"!=b.propertyName&&"rotationZ"!=b.propertyName?e=b.start+b.change*c:(e=b.change%360,180<e?e-=360:-180>e&&(e+=360),e=b.start+e*c),this._snapping?this.setProperty(b,Math.round(e)):b.isField?b.target[b.propertyName]=e:p.setProperty(b.target,b.propertyName,e)}else for(c=this._ease.calculate(d),f=0,g=this.detailsLength;f<g;)b=f++,b=this.propertyDetails[b],this.setProperty(b,b.start+b.change*c);if(1==d){if(0==this._repeat){this.active=
!1;this.toggleVisible&&0==this.getField(this.target,"alpha")&&this.setField_motion_actuators_SimpleActuator_T(this.target,"visible",!1);this.complete(!0);return}null!=this._onRepeat&&this.callMethod(this._onRepeat,this._onRepeatParams);this._reflect&&(this._reverse=!this._reverse);this.startTime=a;this.timeOffset=this.startTime+this._delay;0<this._repeat&&this._repeat--}this.sendChange&&this.change()}},__class__:K});var xd=function(){};k["motion.easing.Expo"]=xd;xd.__name__=!0;xd.__properties__={get_easeOut:"get_easeOut"};
xd.get_easeOut=function(){return new Nc};var yd=function(){};k["motion.easing.IEasing"]=yd;yd.__name__=!0;yd.prototype={__class__:yd};var Nc=function(){};k["motion.easing.ExpoEaseOut"]=Nc;Nc.__name__=!0;Nc.__interfaces__=[yd];Nc.prototype={calculate:function(a){return 1==a?1:1-Math.pow(2,-10*a)},__class__:Nc};var da=function(){};k["motion.Actuate"]=da;da.__name__=!0;da.apply=function(a,b,c){da.stop(a,b);null==c&&(c=da.defaultActuator);a=Fa.createInstance(c,[a,0,b]);a.apply();return a};da.getLibrary=
function(a,b){null==b&&(b=!0);null==da.targetLibraries.h.__keys__[a.__id__]&&b&&da.targetLibraries.set(a,[]);return da.targetLibraries.h[a.__id__]};da.stop=function(a,b,c,d){null==d&&(d=!0);null==c&&(c=!1);if(null!=a)if(r.__instanceof(a,Mc))a.stop(null,c,d);else if(a=da.getLibrary(a,!1),null!=a){if("string"==typeof b){var e={};p.setField(e,b,null);b=e}else if(b instanceof Array&&null==b.__enum__){var e={},f=0;for(b=r.__cast(b,Array);f<b.length;){var g=b[f];++f;p.setField(e,g,null)}b=e}for(e=a.length-
1;0<=e;)a[e].stop(b,c,d),e--}};da.tween=function(a,b,c,d,e){null==d&&(d=!0);if(null!=a){if(0<b){null==e&&(e=da.defaultActuator);a=Fa.createInstance(e,[a,b,c]);b=da.getLibrary(a.target);if(d){for(d=b.length-1;0<=d;)b[d].stop(a.properties,!1,!1),d--;b=da.getLibrary(a.target)}b.push(a);a.move();return a}return da.apply(a,c,e)}return null};da.unload=function(a){var b=a.target;null!=da.targetLibraries.h.__keys__[b.__id__]&&(F.remove(da.targetLibraries.h[b.__id__],a),0==da.targetLibraries.h[b.__id__].length&&
da.targetLibraries.remove(b))};var dc=function(){};k["motion.IComponentPath"]=dc;dc.__name__=!0;dc.prototype={__class__:dc,__properties__:{get_end:"get_end"}};var zd=function(a,b,c){this.filterIndex=-1;K.call(this,a,b,c);if(r.__instanceof(c.filter,ue))for(this.filterClass=c.filter,0==a.get_filters().length&&a.set_filters([Fa.createInstance(this.filterClass,[])]),b=0,a=a.get_filters();b<a.length;)c=a[b],++b,r.__instanceof(c,this.filterClass)&&(this.filter=c);else this.filterIndex=c.filter,this.filter=
a.get_filters()[this.filterIndex]};k["motion.actuators.FilterActuator"]=zd;zd.__name__=!0;zd.__super__=K;zd.prototype=q(K.prototype,{apply:function(){for(var a=0,b=p.fields(this.properties);a<b.length;){var c=b[a];++a;"filter"!=c&&p.setField(this.filter,c,p.field(this.properties,c))}a=this.getField(this.target,"filters");p.setField(a,this.properties.filter,this.filter);this.setField_openfl_display_DisplayObject(this.target,"filters",a)},initialize:function(){for(var a,b=0,c=p.fields(this.properties);b<
c.length;){var d=c[b];++b;"filter"!=d&&(a=this.getField(this.filter,d),a=new cb(this.filter,d,a,p.field(this.properties,d)-a),this.propertyDetails.push(a))}this.detailsLength=this.propertyDetails.length;this.initialized=!0},update:function(a){K.prototype.update.call(this,a);a=this.target.get_filters();if(-1<this.filterIndex)p.setField(a,this.properties.filter,this.filter);else for(var b=0,c=a.length;b<c;){var d=b++;r.__instanceof(a[d],this.filterClass)&&(a[d]=this.filter)}this.setField_openfl_display_DisplayObject(this.target,
"filters",a)},__class__:zd});var Ad=function(a,b,c){this.currentParameters=[];this.tweenProperties={};K.call(this,a,b,c);Object.prototype.hasOwnProperty.call(c,"start")||(this.properties.start=[]);Object.prototype.hasOwnProperty.call(c,"end")||(this.properties.end=this.properties.start);a=0;for(b=this.properties.start.length;a<b;)c=a++,this.currentParameters.push(this.properties.start[c])};k["motion.actuators.MethodActuator"]=Ad;Ad.__name__=!0;Ad.__super__=K;Ad.prototype=q(K.prototype,{apply:function(){this.callMethod(this.target,
this.properties.end)},complete:function(a){null==a&&(a=!0);for(var b=0,c=this.properties.start.length;b<c;){var d=b++;this.currentParameters[d]=p.field(this.tweenProperties,"param"+d)}this.callMethod(this.target,this.currentParameters);K.prototype.complete.call(this,a)},initialize:function(){for(var a,b,c=0,d=this.properties.start.length;c<d;){var e=c++;a="param"+e;b=this.properties.start[e];this.tweenProperties[a]=b;if("number"==typeof b||(b|0)===b)a=new cb(this.tweenProperties,a,b,this.properties.end[e]-
b),this.propertyDetails.push(a)}this.detailsLength=this.propertyDetails.length;this.initialized=!0},update:function(a){K.prototype.update.call(this,a);if(this.active&&!this.paused){a=0;for(var b=this.properties.start.length;a<b;){var c=a++;this.currentParameters[c]=p.field(this.tweenProperties,"param"+c)}this.callMethod(this.target,this.currentParameters)}},__class__:Ad});var Bd=function(a,b,c){K.call(this,a,b,c)};k["motion.actuators.MotionPathActuator"]=Bd;Bd.__name__=!0;Bd.__super__=K;Bd.prototype=
q(K.prototype,{apply:function(){for(var a=0,b=p.fields(this.properties);a<b.length;){var c=b[a];++a;Object.prototype.hasOwnProperty.call(this.target,c)?p.setField(this.target,c,r.__cast(p.field(this.properties,c),dc).get_end()):p.setProperty(this.target,c,r.__cast(p.field(this.properties,c),dc).get_end())}},initialize:function(){for(var a,b=0,c=p.fields(this.properties);b<c.length;){var d=c[b];++b;a=r.__cast(p.field(this.properties,d),dc);if(null!=a){var e=!0;Object.prototype.hasOwnProperty.call(this.target,
d)?a.start=p.field(this.target,d):(e=!1,a.start=p.getProperty(this.target,d));a=new db(this.target,d,a,e);this.propertyDetails.push(a)}}this.detailsLength=this.propertyDetails.length;this.initialized=!0},update:function(a){if(!this.paused){var b,c=(a-this.timeOffset)/this.duration;1<c&&(c=1);this.initialized||this.initialize();if(this.special){b=this._reverse?this._ease.calculate(1-c):this._ease.calculate(c);for(var d=0,e=this.propertyDetails;d<e.length;){var f=e[d];++d;this._snapping?f.isField?p.setField(f.target,
f.propertyName,Math.round(r.__cast(f,db).path.calculate(b))):p.setProperty(f.target,f.propertyName,Math.round(r.__cast(f,db).path.calculate(b))):f.isField?p.setField(f.target,f.propertyName,r.__cast(f,db).path.calculate(b)):p.setProperty(f.target,f.propertyName,r.__cast(f,db).path.calculate(b))}}else for(b=this._ease.calculate(c),d=0,e=this.propertyDetails;d<e.length;)f=e[d],++d,f.isField?p.setField(f.target,f.propertyName,r.__cast(f,db).path.calculate(b)):p.setProperty(f.target,f.propertyName,r.__cast(f,
db).path.calculate(b));if(1==c){if(0==this._repeat){this.active=!1;this.toggleVisible&&0==this.getField(this.target,"alpha")&&this.setField_motion_actuators_MotionPathActuator_T(this.target,"visible",!1);this.complete(!0);return}null!=this._onRepeat&&this.callMethod(this._onRepeat,this._onRepeatParams);this._reflect&&(this._reverse=!this._reverse);this.startTime=a;this.timeOffset=this.startTime+this._delay;0<this._repeat&&this._repeat--}this.sendChange&&this.change()}},__class__:Bd});var cb=function(a,
b,c,d,e){null==e&&(e=!0);this.target=a;this.propertyName=b;this.start=c;this.change=d;this.isField=e};k["motion.actuators.PropertyDetails"]=cb;cb.__name__=!0;cb.prototype={__class__:cb};var db=function(a,b,c,d){null==d&&(d=!0);cb.call(this,a,b,0,0,d);this.path=c};k["motion.actuators.PropertyPathDetails"]=db;db.__name__=!0;db.__super__=cb;db.prototype=q(cb.prototype,{__class__:db});var Cd=function(a,b,c){K.call(this,a,b,c)};k["motion.actuators.TransformActuator"]=Cd;Cd.__name__=!0;Cd.__super__=K;Cd.prototype=
q(K.prototype,{apply:function(){this.initialize();if(null!=this.endColorTransform){var a=this.getField(this.target,"transform");this.setField_openfl_geom_Transform(a,"colorTransform",this.endColorTransform)}null!=this.endSoundTransform&&this.setField_motion_actuators_TransformActuator_T(this.target,"soundTransform",this.endSoundTransform)},initialize:function(){Object.prototype.hasOwnProperty.call(this.properties,"colorValue")&&r.__instanceof(this.target,y)&&this.initializeColor();(Object.prototype.hasOwnProperty.call(this.properties,
"soundVolume")||Object.prototype.hasOwnProperty.call(this.properties,"soundPan"))&&this.initializeSound();this.detailsLength=this.propertyDetails.length;this.initialized=!0},initializeColor:function(){this.endColorTransform=new hb;var a=this.properties.colorValue,b=this.properties.colorStrength;if(1>b){var c;.5>b?(c=1,b*=2):(c=1-2*(b-.5),b=1);this.endColorTransform.redMultiplier=c;this.endColorTransform.greenMultiplier=c;this.endColorTransform.blueMultiplier=c;this.endColorTransform.redOffset=b*(a>>
16&255);this.endColorTransform.greenOffset=b*(a>>8&255);this.endColorTransform.blueOffset=b*(a&255)}else this.endColorTransform.redMultiplier=0,this.endColorTransform.greenMultiplier=0,this.endColorTransform.blueMultiplier=0,this.endColorTransform.redOffset=a>>16&255,this.endColorTransform.greenOffset=a>>8&255,this.endColorTransform.blueOffset=a&255;a="redMultiplier greenMultiplier blueMultiplier redOffset greenOffset blueOffset".split(" ");Object.prototype.hasOwnProperty.call(this.properties,"colorAlpha")?
(this.endColorTransform.alphaMultiplier=this.properties.colorAlpha,a.push("alphaMultiplier")):this.endColorTransform.alphaMultiplier=this.getField(this.target,"alpha");c=this.getField(this.target,"transform");c=this.getField(c,"colorTransform");this.tweenColorTransform=new hb;for(var d,b=0;b<a.length;){var e=a[b];++b;d=this.getField(c,e);d=new cb(this.tweenColorTransform,e,d,this.getField(this.endColorTransform,e)-d);this.propertyDetails.push(d)}},initializeSound:function(){null==this.getField(this.target,
"soundTransform")&&this.setField_motion_actuators_TransformActuator_T(this.target,"soundTransform",new Ob);var a=this.getField(this.target,"soundTransform");this.endSoundTransform=this.getField(this.target,"soundTransform");this.tweenSoundTransform=new Ob;Object.prototype.hasOwnProperty.call(this.properties,"soundVolume")&&(this.endSoundTransform.volume=this.properties.soundVolume,this.propertyDetails.push(new cb(this.tweenSoundTransform,"volume",a.volume,this.endSoundTransform.volume-a.volume)));
Object.prototype.hasOwnProperty.call(this.properties,"soundPan")&&(this.endSoundTransform.pan=this.properties.soundPan,this.propertyDetails.push(new cb(this.tweenSoundTransform,"pan",a.pan,this.endSoundTransform.pan-a.pan)))},update:function(a){K.prototype.update.call(this,a);null!=this.endColorTransform&&(a=this.getField(this.target,"transform"),this.setField_openfl_geom_Transform(a,"colorTransform",this.tweenColorTransform));null!=this.endSoundTransform&&this.setField_motion_actuators_TransformActuator_T(this.target,
"soundTransform",this.tweenSoundTransform)},__class__:Cd});var Dd=function(){};k["openfl.IAssetCache"]=Dd;Dd.__name__=!0;Dd.prototype={__class__:Dd,__properties__:{get_enabled:"get_enabled"}};var Oc=function(){this.__enabled=!0;this.bitmapData=new va;this.font=new va;this.sound=new va};k["openfl.AssetCache"]=Oc;Oc.__name__=!0;Oc.__interfaces__=[Dd];Oc.prototype={getBitmapData:function(a){return this.bitmapData.get(a)},getFont:function(a){return this.font.get(a)},hasBitmapData:function(a){return this.bitmapData.exists(a)},
hasFont:function(a){return this.font.exists(a)},setBitmapData:function(a,b){this.bitmapData.set(a,b)},setFont:function(a,b){this.font.set(a,b)},get_enabled:function(){return this.__enabled},__class__:Oc,__properties__:{get_enabled:"get_enabled"}};var I=function(){};k["openfl.Assets"]=I;I.__name__=!0;I.getBitmapData=function(a,b){null==b&&(b=!0);if(b&&I.cache.get_enabled()&&I.cache.hasBitmapData(a)){var c=I.cache.getBitmapData(a);if(I.isValidBitmapData(c))return c}c=w.getImage(a,!1);return null!=c?
(c=eb.fromImage(c),b&&I.cache.get_enabled()&&I.cache.setBitmapData(a,c),c):null};I.getFont=function(a,b){null==b&&(b=!0);if(b&&I.cache.get_enabled()&&I.cache.hasFont(a))return I.cache.getFont(a);var c=w.getFont(a,!1);return null!=c?(c=pa.__fromLimeFont(c),b&&I.cache.get_enabled()&&I.cache.setFont(a,c),c):new pa};I.isValidBitmapData=function(a){return null!=a&&null!=a.image};var Pc=function(){D.call(this);this.__currentFrame=0;this.__currentLabels=[];this.__totalFrames=0;this.enabled=!0};k["openfl.display.MovieClip"]=
Pc;Pc.__name__=!0;Pc.__super__=D;Pc.prototype=q(D.prototype,{__class__:Pc});var kb=function(){L.call(this);this.applicationDomain=Pb.currentDomain;this.bytesTotal=this.bytesLoaded=0;this.childAllowsParent=!0;this.parameters={}};k["openfl.display.LoaderInfo"]=kb;kb.__name__=!0;kb.create=function(a){var b=new kb;b.uncaughtErrorEvents=new Qc;null!=a?b.loader=a:b.url=kb.__rootURL;return b};kb.__super__=L;kb.prototype=q(L.prototype,{__class__:kb});var Pb=function(a){this.parentDomain=null!=a?a:Pb.currentDomain};
k["openfl.system.ApplicationDomain"]=Pb;Pb.__name__=!0;Pb.prototype={__class__:Pb};var Qc=function(){L.call(this)};k["openfl.events.UncaughtErrorEvents"]=Qc;Qc.__name__=!0;Qc.__super__=L;Qc.prototype=q(L.prototype,{__class__:Qc});var Y=function(a,b,c,d,e,f){null==f&&(f=0);null==e&&(e=0);null==d&&(d=1);null==c&&(c=0);null==b&&(b=0);null==a&&(a=1);this.a=a;this.b=b;this.c=c;this.d=d;this.tx=e;this.ty=f};k["openfl.geom.Matrix"]=Y;Y.__name__=!0;Y.prototype={clone:function(){return new Y(this.a,this.b,
this.c,this.d,this.tx,this.ty)},concat:function(a){var b=this.a*a.a+this.b*a.c;this.b=this.a*a.b+this.b*a.d;this.a=b;b=this.c*a.a+this.d*a.c;this.d=this.c*a.b+this.d*a.d;this.c=b;b=this.tx*a.a+this.ty*a.c+a.tx;this.ty=this.tx*a.b+this.ty*a.d+a.ty;this.tx=b},copyFrom:function(a){this.a=a.a;this.b=a.b;this.c=a.c;this.d=a.d;this.tx=a.tx;this.ty=a.ty},deltaTransformPoint:function(a){return new x(a.x*this.a+a.y*this.c,a.x*this.b+a.y*this.d)},identity:function(){this.a=1;this.c=this.b=0;this.d=1;this.ty=
this.tx=0},invert:function(){var a=this.a*this.d-this.b*this.c;if(0==a)this.a=this.b=this.c=this.d=0,this.tx=-this.tx,this.ty=-this.ty;else{var a=1/a,b=this.d*a;this.d=this.a*a;this.a=b;this.b*=-a;this.c*=-a;a=-this.a*this.tx-this.c*this.ty;this.ty=-this.b*this.tx-this.d*this.ty;this.tx=a}return this},transformPoint:function(a){return new x(a.x*this.a+a.y*this.c+this.tx,a.x*this.b+a.y*this.d+this.ty)},translate:function(a,b){this.tx+=a;this.ty+=b},__toMatrix3:function(){return new Jc(this.a,this.b,
this.c,this.d,this.tx,this.ty)},__transformInversePoint:function(a){var b=this.a*this.d-this.b*this.c;if(0==b)a.x=-this.tx,a.y=-this.ty;else{var c=1/b*(this.c*(this.ty-a.y)+this.d*(a.x-this.tx));a.y=1/b*(this.a*(a.y-this.ty)+this.b*(this.tx-a.x));a.x=c}},__transformInverseX:function(a,b){var c=this.a*this.d-this.b*this.c;return 0==c?-this.tx:1/c*(this.c*(this.ty-b)+this.d*(a-this.tx))},__transformInverseY:function(a,b){var c=this.a*this.d-this.b*this.c;return 0==c?-this.ty:1/c*(this.a*(b-this.ty)+
this.b*(this.tx-a))},__class__:Y};var hb=function(a,b,c,d,e,f,g,h){null==h&&(h=0);null==g&&(g=0);null==f&&(f=0);null==e&&(e=0);null==d&&(d=1);null==c&&(c=1);null==b&&(b=1);null==a&&(a=1);this.redMultiplier=a;this.greenMultiplier=b;this.blueMultiplier=c;this.alphaMultiplier=d;this.redOffset=e;this.greenOffset=f;this.blueOffset=g;this.alphaOffset=h};k["openfl.geom.ColorTransform"]=hb;hb.__name__=!0;hb.prototype={__clone:function(){return new hb(this.redMultiplier,this.greenMultiplier,this.blueMultiplier,
this.alphaMultiplier,this.redOffset,this.greenOffset,this.blueOffset,this.alphaOffset)},__combine:function(a){this.redMultiplier*=a.redMultiplier;this.greenMultiplier*=a.greenMultiplier;this.blueMultiplier*=a.blueMultiplier;this.alphaMultiplier*=a.alphaMultiplier;this.redOffset+=a.redOffset;this.greenOffset+=a.greenOffset;this.blueOffset+=a.blueOffset;this.alphaOffset+=a.alphaOffset},__equals:function(a,b){null==b&&(b=!1);return null!=a&&this.redMultiplier==a.redMultiplier&&this.greenMultiplier==
a.greenMultiplier&&this.blueMultiplier==a.blueMultiplier&&(b||this.alphaMultiplier==a.alphaMultiplier)&&this.redOffset==a.redOffset&&this.greenOffset==a.greenOffset&&this.blueOffset==a.blueOffset&&this.alphaOffset==a.alphaOffset},__class__:hb};var S=function(){};k["openfl.Lib"]=S;S.__name__=!0;S.application=null;S.embed=La.openfl.embed=function(a,b,c,d,e){Kc.embed(a,b,c,d,e)};S.getTimer=function(){return Kc.getTimer()};var ec=function(){this.length=0};k["openfl.VectorData"]=ec;ec.__name__=!0;ec.prototype=
{__class__:ec};var ob=function(a){this.renderSession=a};k["openfl._internal.renderer.AbstractMaskManager"]=ob;ob.__name__=!0;ob.prototype={pushMask:function(a){},pushRect:function(a,b){},popMask:function(){},popRect:function(){},saveState:function(){},restoreState:function(){},__class__:ob};var Cb=function(a,b){this.width=a;this.height=b};k["openfl._internal.renderer.AbstractRenderer"]=Cb;Cb.__name__=!0;Cb.prototype={render:function(a){},resize:function(a,b){},__class__:Cb};var fc=function(){this.types=
[];this.b=[];this.i=[];this.f=[];this.o=[];this.ff=[];this.ii=[];this.ts=[]};k["openfl._internal.renderer.DrawCommandBuffer"]=fc;fc.__name__=!0;fc.prototype={append:function(a){for(var b=new pb(a),c=0,d=a.types;c<d.length;){var e=d[c];++c;switch(e[1]){case 0:e=b.readBeginBitmapFill();this.beginBitmapFill(ha.get_bitmap(e),ha.get_matrix(e),ha.get_repeat(e),ha.get_smooth(e));break;case 1:e=b.readBeginFill();this.beginFill(Ea.get_color(e),Ea.get_alpha(e));break;case 2:e=b.readBeginGradientFill();this.beginGradientFill(B.get_type(e),
B.get_colors(e),B.get_alphas(e),B.get_ratios(e),B.get_matrix(e),B.get_spreadMethod(e),B.get_interpolationMethod(e),B.get_focalPointRatio(e));break;case 3:e=b.readCubicCurveTo();this.cubicCurveTo(A.get_controlX1(e),A.get_controlY1(e),A.get_controlX2(e),A.get_controlY2(e),A.get_anchorX(e),A.get_anchorY(e));break;case 4:e=b.readCurveTo();this.curveTo(M.get_controlX(e),M.get_controlY(e),M.get_anchorX(e),M.get_anchorY(e));break;case 5:e=b.readDrawCircle();this.drawCircle(V.get_x(e),V.get_y(e),V.get_radius(e));
break;case 6:e=b.readDrawEllipse();this.drawEllipse(Q.get_x(e),Q.get_y(e),Q.get_width(e),Q.get_height(e));break;case 7:e=b.readDrawPath();this.drawPath(ib.get_commands(e),ib.get_data(e),ib.get_winding(e));break;case 8:e=b.readDrawRect();this.drawRect(E.get_x(e),E.get_y(e),E.get_width(e),E.get_height(e));break;case 9:e=b.readDrawRoundRect();this.drawRoundRect(C.get_x(e),C.get_y(e),C.get_width(e),C.get_height(e),C.get_ellipseWidth(e),C.get_ellipseHeight(e));break;case 10:e=b.readDrawTiles();this.drawTiles(z.get_sheet(e),
z.get_tileData(e),z.get_smooth(e),z.get_flags(e),z.get_shader(e),z.get_count(e));break;case 11:e=b.readDrawTriangles();this.drawTriangles(Ua.get_vertices(e),Ua.get_indices(e),Ua.get_uvtData(e),Ua.get_culling(e));break;case 12:b.readEndFill();this.endFill();break;case 13:e=b.readLineBitmapStyle();this.lineBitmapStyle(Da.get_bitmap(e),Da.get_matrix(e),Da.get_repeat(e),Da.get_smooth(e));break;case 14:e=b.readLineGradientStyle();this.lineGradientStyle(N.get_type(e),N.get_colors(e),N.get_alphas(e),N.get_ratios(e),
N.get_matrix(e),N.get_spreadMethod(e),N.get_interpolationMethod(e),N.get_focalPointRatio(e));break;case 15:e=b.readLineStyle();this.lineStyle(G.get_thickness(e),G.get_color(e),G.get_alpha(e),G.get_pixelHinting(e),G.get_scaleMode(e),G.get_caps(e),G.get_joints(e),G.get_miterLimit(e));break;case 16:e=b.readLineTo();this.lineTo(ua.get_x(e),ua.get_y(e));break;case 17:e=b.readMoveTo();this.moveTo(ra.get_x(e),ra.get_y(e));break;case 18:e=b.readOverrideMatrix(),this.overrideMatrix(gc.get_matrix(e))}}b.destroy();
return a},beginBitmapFill:function(a,b,c,d){this.types.push(m.BEGIN_BITMAP_FILL);this.o.push(a);this.o.push(b);this.b.push(c);this.b.push(d)},beginFill:function(a,b){this.types.push(m.BEGIN_FILL);this.i.push(a);this.f.push(b)},beginGradientFill:function(a,b,c,d,e,f,g,h){this.types.push(m.BEGIN_GRADIENT_FILL);this.o.push(a);this.ii.push(b);this.ff.push(c);this.ii.push(d);this.o.push(e);this.o.push(f);this.o.push(g);this.f.push(h)},clear:function(){this.types.splice(0,this.types.length);this.b.splice(0,
this.b.length);this.i.splice(0,this.i.length);this.f.splice(0,this.f.length);this.o.splice(0,this.o.length);this.ff.splice(0,this.ff.length);this.ii.splice(0,this.ii.length);this.ts.splice(0,this.ts.length)},cubicCurveTo:function(a,b,c,d,e,f){this.types.push(m.CUBIC_CURVE_TO);this.f.push(a);this.f.push(b);this.f.push(c);this.f.push(d);this.f.push(e);this.f.push(f)},curveTo:function(a,b,c,d){this.types.push(m.CURVE_TO);this.f.push(a);this.f.push(b);this.f.push(c);this.f.push(d)},drawCircle:function(a,
b,c){this.types.push(m.DRAW_CIRCLE);this.f.push(a);this.f.push(b);this.f.push(c)},drawEllipse:function(a,b,c,d){this.types.push(m.DRAW_ELLIPSE);this.f.push(a);this.f.push(b);this.f.push(c);this.f.push(d)},drawPath:function(a,b,c){this.types.push(m.DRAW_PATH);this.o.push(a);this.o.push(b);this.o.push(c)},drawRect:function(a,b,c,d){this.types.push(m.DRAW_RECT);this.f.push(a);this.f.push(b);this.f.push(c);this.f.push(d)},drawRoundRect:function(a,b,c,d,e,f){this.types.push(m.DRAW_ROUND_RECT);this.f.push(a);
this.f.push(b);this.f.push(c);this.f.push(d);this.f.push(e);this.o.push(f)},drawTiles:function(a,b,c,d,e,f){this.types.push(m.DRAW_TILES);this.ts.push(a);this.ff.push(b);this.b.push(c);this.i.push(d);this.o.push(e);this.i.push(f)},drawTriangles:function(a,b,c,d){this.types.push(m.DRAW_TRIANGLES);this.o.push(a);this.o.push(b);this.o.push(c);this.o.push(d)},endFill:function(){this.types.push(m.END_FILL)},lineBitmapStyle:function(a,b,c,d){this.types.push(m.LINE_BITMAP_STYLE);this.o.push(a);this.o.push(b);
this.b.push(c);this.b.push(d)},lineGradientStyle:function(a,b,c,d,e,f,g,h){this.types.push(m.LINE_GRADIENT_STYLE);this.o.push(a);this.ii.push(b);this.ff.push(c);this.ii.push(d);this.o.push(e);this.o.push(f);this.o.push(g);this.f.push(h)},lineStyle:function(a,b,c,d,e,f,g,h){this.types.push(m.LINE_STYLE);this.o.push(a);this.i.push(b);this.f.push(c);this.b.push(d);this.o.push(e);this.o.push(f);this.o.push(g);this.f.push(h)},lineTo:function(a,b){this.types.push(m.LINE_TO);this.f.push(a);this.f.push(b)},
moveTo:function(a,b){this.types.push(m.MOVE_TO);this.f.push(a);this.f.push(b)},overrideMatrix:function(a){this.types.push(m.OVERRIDE_MATRIX);this.o.push(a)},get_length:function(){return this.types.length},__class__:fc,__properties__:{get_length:"get_length"}};var pb=function(a){this.buffer=a;this.bPos=this.iPos=this.fPos=this.oPos=this.ffPos=this.iiPos=this.tsPos=0;this.prev=m.UNKNOWN};k["openfl._internal.renderer.DrawCommandReader"]=pb;pb.__name__=!0;pb.prototype={advance:function(){switch(this.prev[1]){case 0:this.oPos+=
2;this.bPos+=2;break;case 1:this.iPos+=1;this.fPos+=1;break;case 2:this.oPos+=4;this.iiPos+=2;this.ffPos+=1;this.fPos+=1;break;case 3:this.fPos+=6;break;case 4:this.fPos+=4;break;case 5:this.fPos+=3;break;case 6:this.fPos+=4;break;case 7:this.oPos+=3;break;case 8:this.fPos+=4;break;case 9:this.fPos+=5;this.oPos+=1;break;case 10:this.tsPos+=1;this.ffPos+=1;this.bPos+=1;this.iPos+=2;this.oPos+=1;break;case 11:this.oPos+=4;break;case 13:this.oPos+=2;this.bPos+=2;break;case 14:this.oPos+=4;this.iiPos+=
2;this.ffPos+=1;this.fPos+=1;break;case 15:this.oPos+=4;this.iPos+=1;this.fPos+=2;this.bPos+=1;break;case 16:this.fPos+=2;break;case 17:this.fPos+=2;break;case 18:this.oPos+=1}},bool:function(a){return this.buffer.b[this.bPos+a]},destroy:function(){this.buffer=null;this.reset()},fArr:function(a){return this.buffer.ff[this.ffPos+a]},"float":function(a){return this.buffer.f[this.fPos+a]},iArr:function(a){return this.buffer.ii[this.iiPos+a]},"int":function(a){return this.buffer.i[this.iPos+a]},obj:function(a){return this.buffer.o[this.oPos+
a]},readBeginBitmapFill:function(){this.advance();this.prev=m.BEGIN_BITMAP_FILL;return ha._new(this)},readBeginFill:function(){this.advance();this.prev=m.BEGIN_FILL;return Ea._new(this)},readBeginGradientFill:function(){this.advance();this.prev=m.BEGIN_GRADIENT_FILL;return B._new(this)},readCubicCurveTo:function(){this.advance();this.prev=m.CUBIC_CURVE_TO;return A._new(this)},readCurveTo:function(){this.advance();this.prev=m.CURVE_TO;return M._new(this)},readDrawCircle:function(){this.advance();this.prev=
m.DRAW_CIRCLE;return V._new(this)},readDrawEllipse:function(){this.advance();this.prev=m.DRAW_ELLIPSE;return Q._new(this)},readDrawPath:function(){this.advance();this.prev=m.DRAW_PATH;return ib._new(this)},readDrawRect:function(){this.advance();this.prev=m.DRAW_RECT;return E._new(this)},readDrawRoundRect:function(){this.advance();this.prev=m.DRAW_ROUND_RECT;return C._new(this)},readDrawTiles:function(){this.advance();this.prev=m.DRAW_TILES;return z._new(this)},readDrawTriangles:function(){this.advance();
this.prev=m.DRAW_TRIANGLES;return Ua._new(this)},readEndFill:function(){this.advance();this.prev=m.END_FILL;return be._new(this)},readLineBitmapStyle:function(){this.advance();this.prev=m.LINE_BITMAP_STYLE;return Da._new(this)},readLineGradientStyle:function(){this.advance();this.prev=m.LINE_GRADIENT_STYLE;return N._new(this)},readLineStyle:function(){this.advance();this.prev=m.LINE_STYLE;return G._new(this)},readLineTo:function(){this.advance();this.prev=m.LINE_TO;return ua._new(this)},readMoveTo:function(){this.advance();
this.prev=m.MOVE_TO;return ra._new(this)},readOverrideMatrix:function(){this.advance();this.prev=m.OVERRIDE_MATRIX;return gc._new(this)},reset:function(){this.bPos=this.iPos=this.fPos=this.oPos=this.ffPos=this.iiPos=this.tsPos=0},skip:function(a){this.advance();this.prev=a},tileSheet:function(a){return this.buffer.ts[this.tsPos+a]},__class__:pb};var ha={};k["openfl._internal.renderer._DrawCommandReader.BeginBitmapFillView_Impl_"]=ha;ha.__name__=!0;ha.__properties__={get_smooth:"get_smooth",get_repeat:"get_repeat",
get_matrix:"get_matrix",get_bitmap:"get_bitmap"};ha._new=function(a){return a};ha.get_bitmap=function(a){return a.obj(0)};ha.get_matrix=function(a){return a.obj(1)};ha.get_repeat=function(a){return a.bool(0)};ha.get_smooth=function(a){return a.bool(1)};var Ea={};k["openfl._internal.renderer._DrawCommandReader.BeginFillView_Impl_"]=Ea;Ea.__name__=!0;Ea.__properties__={get_alpha:"get_alpha",get_color:"get_color"};Ea._new=function(a){return a};Ea.get_color=function(a){return a["int"](0)};Ea.get_alpha=
function(a){return a["float"](0)};var B={};k["openfl._internal.renderer._DrawCommandReader.BeginGradientFillView_Impl_"]=B;B.__name__=!0;B.__properties__={get_focalPointRatio:"get_focalPointRatio",get_interpolationMethod:"get_interpolationMethod",get_spreadMethod:"get_spreadMethod",get_matrix:"get_matrix",get_ratios:"get_ratios",get_alphas:"get_alphas",get_colors:"get_colors",get_type:"get_type"};B._new=function(a){return a};B.get_type=function(a){return a.obj(0)};B.get_colors=function(a){return a.iArr(0)};
B.get_alphas=function(a){return a.fArr(0)};B.get_ratios=function(a){return a.iArr(1)};B.get_matrix=function(a){return a.obj(1)};B.get_spreadMethod=function(a){return a.obj(2)};B.get_interpolationMethod=function(a){return a.obj(3)};B.get_focalPointRatio=function(a){return a["float"](0)};var A={};k["openfl._internal.renderer._DrawCommandReader.CubicCurveToView_Impl_"]=A;A.__name__=!0;A.__properties__={get_anchorY:"get_anchorY",get_anchorX:"get_anchorX",get_controlY2:"get_controlY2",get_controlX2:"get_controlX2",
get_controlY1:"get_controlY1",get_controlX1:"get_controlX1"};A._new=function(a){return a};A.get_controlX1=function(a){return a["float"](0)};A.get_controlY1=function(a){return a["float"](1)};A.get_controlX2=function(a){return a["float"](2)};A.get_controlY2=function(a){return a["float"](3)};A.get_anchorX=function(a){return a["float"](4)};A.get_anchorY=function(a){return a["float"](5)};var M={};k["openfl._internal.renderer._DrawCommandReader.CurveToView_Impl_"]=M;M.__name__=!0;M.__properties__={get_anchorY:"get_anchorY",
get_anchorX:"get_anchorX",get_controlY:"get_controlY",get_controlX:"get_controlX"};M._new=function(a){return a};M.get_controlX=function(a){return a["float"](0)};M.get_controlY=function(a){return a["float"](1)};M.get_anchorX=function(a){return a["float"](2)};M.get_anchorY=function(a){return a["float"](3)};var V={};k["openfl._internal.renderer._DrawCommandReader.DrawCircleView_Impl_"]=V;V.__name__=!0;V.__properties__={get_radius:"get_radius",get_y:"get_y",get_x:"get_x"};V._new=function(a){return a};
V.get_x=function(a){return a["float"](0)};V.get_y=function(a){return a["float"](1)};V.get_radius=function(a){return a["float"](2)};var Q={};k["openfl._internal.renderer._DrawCommandReader.DrawEllipseView_Impl_"]=Q;Q.__name__=!0;Q.__properties__={get_height:"get_height",get_width:"get_width",get_y:"get_y",get_x:"get_x"};Q._new=function(a){return a};Q.get_x=function(a){return a["float"](0)};Q.get_y=function(a){return a["float"](1)};Q.get_width=function(a){return a["float"](2)};Q.get_height=function(a){return a["float"](3)};
var ib={};k["openfl._internal.renderer._DrawCommandReader.DrawPathView_Impl_"]=ib;ib.__name__=!0;ib.__properties__={get_winding:"get_winding",get_data:"get_data",get_commands:"get_commands"};ib._new=function(a){return a};ib.get_commands=function(a){return a.obj(0)};ib.get_data=function(a){return a.obj(1)};ib.get_winding=function(a){return a.obj(2)};var E={};k["openfl._internal.renderer._DrawCommandReader.DrawRectView_Impl_"]=E;E.__name__=!0;E.__properties__={get_height:"get_height",get_width:"get_width",
get_y:"get_y",get_x:"get_x"};E._new=function(a){return a};E.get_x=function(a){return a["float"](0)};E.get_y=function(a){return a["float"](1)};E.get_width=function(a){return a["float"](2)};E.get_height=function(a){return a["float"](3)};var C={};k["openfl._internal.renderer._DrawCommandReader.DrawRoundRectView_Impl_"]=C;C.__name__=!0;C.__properties__={get_ellipseHeight:"get_ellipseHeight",get_ellipseWidth:"get_ellipseWidth",get_height:"get_height",get_width:"get_width",get_y:"get_y",get_x:"get_x"};
C._new=function(a){return a};C.get_x=function(a){return a["float"](0)};C.get_y=function(a){return a["float"](1)};C.get_width=function(a){return a["float"](2)};C.get_height=function(a){return a["float"](3)};C.get_ellipseWidth=function(a){return a["float"](4)};C.get_ellipseHeight=function(a){return a.obj(0)};var z={};k["openfl._internal.renderer._DrawCommandReader.DrawTilesView_Impl_"]=z;z.__name__=!0;z.__properties__={get_count:"get_count",get_shader:"get_shader",get_flags:"get_flags",get_smooth:"get_smooth",
get_tileData:"get_tileData",get_sheet:"get_sheet"};z._new=function(a){return a};z.get_sheet=function(a){return a.tileSheet(0)};z.get_tileData=function(a){return a.fArr(0)};z.get_smooth=function(a){return a.bool(0)};z.get_flags=function(a){return a["int"](0)};z.get_shader=function(a){return a.obj(0)};z.get_count=function(a){return a["int"](1)};var Ua={};k["openfl._internal.renderer._DrawCommandReader.DrawTrianglesView_Impl_"]=Ua;Ua.__name__=!0;Ua.__properties__={get_culling:"get_culling",get_uvtData:"get_uvtData",
get_indices:"get_indices",get_vertices:"get_vertices"};Ua._new=function(a){return a};Ua.get_vertices=function(a){return a.obj(0)};Ua.get_indices=function(a){return a.obj(1)};Ua.get_uvtData=function(a){return a.obj(2)};Ua.get_culling=function(a){return a.obj(3)};var be={};k["openfl._internal.renderer._DrawCommandReader.EndFillView_Impl_"]=be;be.__name__=!0;be._new=function(a){return a};var Da={};k["openfl._internal.renderer._DrawCommandReader.LineBitmapStyleView_Impl_"]=Da;Da.__name__=!0;Da.__properties__=
{get_smooth:"get_smooth",get_repeat:"get_repeat",get_matrix:"get_matrix",get_bitmap:"get_bitmap"};Da._new=function(a){return a};Da.get_bitmap=function(a){return a.obj(0)};Da.get_matrix=function(a){return a.obj(1)};Da.get_repeat=function(a){return a.bool(0)};Da.get_smooth=function(a){return a.bool(1)};var N={};k["openfl._internal.renderer._DrawCommandReader.LineGradientStyleView_Impl_"]=N;N.__name__=!0;N.__properties__={get_focalPointRatio:"get_focalPointRatio",get_interpolationMethod:"get_interpolationMethod",
get_spreadMethod:"get_spreadMethod",get_matrix:"get_matrix",get_ratios:"get_ratios",get_alphas:"get_alphas",get_colors:"get_colors",get_type:"get_type"};N._new=function(a){return a};N.get_type=function(a){return a.obj(0)};N.get_colors=function(a){return a.iArr(0)};N.get_alphas=function(a){return a.fArr(0)};N.get_ratios=function(a){return a.iArr(1)};N.get_matrix=function(a){return a.obj(1)};N.get_spreadMethod=function(a){return a.obj(2)};N.get_interpolationMethod=function(a){return a.obj(3)};N.get_focalPointRatio=
function(a){return a["float"](0)};var G={};k["openfl._internal.renderer._DrawCommandReader.LineStyleView_Impl_"]=G;G.__name__=!0;G.__properties__={get_miterLimit:"get_miterLimit",get_joints:"get_joints",get_caps:"get_caps",get_scaleMode:"get_scaleMode",get_pixelHinting:"get_pixelHinting",get_alpha:"get_alpha",get_color:"get_color",get_thickness:"get_thickness"};G._new=function(a){return a};G.get_thickness=function(a){return a.obj(0)};G.get_color=function(a){return a["int"](0)};G.get_alpha=function(a){return a["float"](0)};
G.get_pixelHinting=function(a){return a.bool(0)};G.get_scaleMode=function(a){return a.obj(1)};G.get_caps=function(a){return a.obj(2)};G.get_joints=function(a){return a.obj(3)};G.get_miterLimit=function(a){return a["float"](1)};var ua={};k["openfl._internal.renderer._DrawCommandReader.LineToView_Impl_"]=ua;ua.__name__=!0;ua.__properties__={get_y:"get_y",get_x:"get_x"};ua._new=function(a){return a};ua.get_x=function(a){return a["float"](0)};ua.get_y=function(a){return a["float"](1)};var ra={};k["openfl._internal.renderer._DrawCommandReader.MoveToView_Impl_"]=
ra;ra.__name__=!0;ra.__properties__={get_y:"get_y",get_x:"get_x"};ra._new=function(a){return a};ra.get_x=function(a){return a["float"](0)};ra.get_y=function(a){return a["float"](1)};var gc={};k["openfl._internal.renderer._DrawCommandReader.OverrideMatrixView_Impl_"]=gc;gc.__name__=!0;gc.__properties__={get_matrix:"get_matrix"};gc._new=function(a){return a};gc.get_matrix=function(a){return a.obj(0)};var m=k["openfl._internal.renderer.DrawCommandType"]={__ename__:!0,__constructs__:"BEGIN_BITMAP_FILL BEGIN_FILL BEGIN_GRADIENT_FILL CUBIC_CURVE_TO CURVE_TO DRAW_CIRCLE DRAW_ELLIPSE DRAW_PATH DRAW_RECT DRAW_ROUND_RECT DRAW_TILES DRAW_TRIANGLES END_FILL LINE_BITMAP_STYLE LINE_GRADIENT_STYLE LINE_STYLE LINE_TO MOVE_TO OVERRIDE_MATRIX UNKNOWN".split(" ")};
m.BEGIN_BITMAP_FILL=["BEGIN_BITMAP_FILL",0];m.BEGIN_BITMAP_FILL.toString=u;m.BEGIN_BITMAP_FILL.__enum__=m;m.BEGIN_FILL=["BEGIN_FILL",1];m.BEGIN_FILL.toString=u;m.BEGIN_FILL.__enum__=m;m.BEGIN_GRADIENT_FILL=["BEGIN_GRADIENT_FILL",2];m.BEGIN_GRADIENT_FILL.toString=u;m.BEGIN_GRADIENT_FILL.__enum__=m;m.CUBIC_CURVE_TO=["CUBIC_CURVE_TO",3];m.CUBIC_CURVE_TO.toString=u;m.CUBIC_CURVE_TO.__enum__=m;m.CURVE_TO=["CURVE_TO",4];m.CURVE_TO.toString=u;m.CURVE_TO.__enum__=m;m.DRAW_CIRCLE=["DRAW_CIRCLE",5];m.DRAW_CIRCLE.toString=
u;m.DRAW_CIRCLE.__enum__=m;m.DRAW_ELLIPSE=["DRAW_ELLIPSE",6];m.DRAW_ELLIPSE.toString=u;m.DRAW_ELLIPSE.__enum__=m;m.DRAW_PATH=["DRAW_PATH",7];m.DRAW_PATH.toString=u;m.DRAW_PATH.__enum__=m;m.DRAW_RECT=["DRAW_RECT",8];m.DRAW_RECT.toString=u;m.DRAW_RECT.__enum__=m;m.DRAW_ROUND_RECT=["DRAW_ROUND_RECT",9];m.DRAW_ROUND_RECT.toString=u;m.DRAW_ROUND_RECT.__enum__=m;m.DRAW_TILES=["DRAW_TILES",10];m.DRAW_TILES.toString=u;m.DRAW_TILES.__enum__=m;m.DRAW_TRIANGLES=["DRAW_TRIANGLES",11];m.DRAW_TRIANGLES.toString=
u;m.DRAW_TRIANGLES.__enum__=m;m.END_FILL=["END_FILL",12];m.END_FILL.toString=u;m.END_FILL.__enum__=m;m.LINE_BITMAP_STYLE=["LINE_BITMAP_STYLE",13];m.LINE_BITMAP_STYLE.toString=u;m.LINE_BITMAP_STYLE.__enum__=m;m.LINE_GRADIENT_STYLE=["LINE_GRADIENT_STYLE",14];m.LINE_GRADIENT_STYLE.toString=u;m.LINE_GRADIENT_STYLE.__enum__=m;m.LINE_STYLE=["LINE_STYLE",15];m.LINE_STYLE.toString=u;m.LINE_STYLE.__enum__=m;m.LINE_TO=["LINE_TO",16];m.LINE_TO.toString=u;m.LINE_TO.__enum__=m;m.MOVE_TO=["MOVE_TO",17];m.MOVE_TO.toString=
u;m.MOVE_TO.__enum__=m;m.OVERRIDE_MATRIX=["OVERRIDE_MATRIX",18];m.OVERRIDE_MATRIX.toString=u;m.OVERRIDE_MATRIX.__enum__=m;m.UNKNOWN=["UNKNOWN",19];m.UNKNOWN.toString=u;m.UNKNOWN.__enum__=m;var Ed=function(){};k["openfl._internal.renderer.RenderSession"]=Ed;Ed.__name__=!0;Ed.prototype={__class__:Ed};var ce=function(){};k["openfl._internal.renderer.cairo.CairoBitmap"]=ce;ce.__name__=!0;ce.render=function(a,b){if(a.__renderable&&!(0>=a.__worldAlpha)){var c=b.cairo;if(null!=a.bitmapData&&a.bitmapData.__isValid){null!=
a.__mask&&b.maskManager.pushMask(a.__mask);var d=a.__renderTransform,e=a.get_scrollRect();b.roundPixels?(d=d.__toMatrix3(),d.tx=Math.round(d.tx),d.ty=Math.round(d.ty),c.set_matrix(d)):c.set_matrix(d.__toMatrix3());d=a.bitmapData.getSurface();null!=d&&(d=cc.createForSurface(d),cc.set_filter(d,a.smoothing?1:3),null!=e?(c.pushGroup(),c.set_source(d),c.newPath(),c.rectangle(e.x,e.y,e.width,e.height),c.fill(),c.popGroupToSource()):c.set_source(d),1==a.__worldAlpha?c.paint():c.paintWithAlpha(a.__worldAlpha));
null!=a.__mask&&b.maskManager.popMask()}}};var R=function(){};k["openfl._internal.renderer.cairo.CairoGraphics"]=R;R.__name__=!0;R.cairo=null;R.drawRoundRect=function(a,b,c,d,e,f){null==f&&(f=e);e*=.5;f*=.5;e>c/2&&(e=c/2);f>d/2&&(f=d/2);c=a+c;d=b+d;var g=-e+e*R.SIN45,h=-e+e*R.TAN22,k=-f+f*R.SIN45,m=-f+f*R.TAN22;R.cairo.moveTo(c,d-f);R.quadraticCurveTo(c,d+m,c+g,d+k);R.quadraticCurveTo(c+h,d,c-e,d);R.cairo.lineTo(a+e,d);R.quadraticCurveTo(a-h,d,a-g,d+k);R.quadraticCurveTo(a,d+m,a,d-f);R.cairo.lineTo(a,
b+f);R.quadraticCurveTo(a,b-m,a-g,b-k);R.quadraticCurveTo(a-h,b,a+e,b);R.cairo.lineTo(c-e,b);R.quadraticCurveTo(c+h,b,c+g,b-k);R.quadraticCurveTo(c,b-m,c,b+f);R.cairo.lineTo(c,d-f)};R.quadraticCurveTo=function(a,b,c,d){var e=null;R.cairo.get_hasCurrentPoint()?e=R.cairo.get_currentPoint():(R.cairo.moveTo(a,b),e=new wd(a,b));R.cairo.curveTo(e.x+.6666666666666666*(a-e.x),e.y+.6666666666666666*(b-e.y),c+.6666666666666666*(a-c),d+.6666666666666666*(b-d),c,d)};R.renderMask=function(a,b){if(0!=a.__commands.get_length()){for(var c=
b.cairo,d=new pb(a.__commands),e=0,f=a.__commands.types;e<f.length;){var g=f[e];++e;switch(g[1]){case 3:g=d.readCubicCurveTo();c.curveTo(A.get_controlX1(g)-0,A.get_controlY1(g)-0,A.get_controlX2(g)-0,A.get_controlY2(g)-0,A.get_anchorX(g)-0,A.get_anchorY(g)-0);A.get_anchorX(g);A.get_anchorX(g);break;case 4:g=d.readCurveTo();R.quadraticCurveTo(M.get_controlX(g)-0,M.get_controlY(g)-0,M.get_anchorX(g)-0,M.get_anchorY(g)-0);M.get_anchorX(g);M.get_anchorY(g);break;case 5:g=d.readDrawCircle();c.arc(V.get_x(g)-
0,V.get_y(g)-0,V.get_radius(g),0,2*Math.PI);break;case 6:var h=d.readDrawEllipse(),g=Q.get_x(h),k=Q.get_y(h),m=Q.get_width(h),l=Q.get_height(h),g=g-0,k=k-0,h=m/2*.5522848,t=l/2*.5522848,n=g+m,p=k+l,m=g+m/2,l=k+l/2;c.moveTo(g,l);c.curveTo(g,l-t,m-h,k,m,k);c.curveTo(m+h,k,n,l-t,n,l);c.curveTo(n,l+t,m+h,p,m,p);c.curveTo(m-h,p,g,l+t,g,l);break;case 8:g=d.readDrawRect();c.rectangle(E.get_x(g)-0,E.get_y(g)-0,E.get_width(g),E.get_height(g));break;case 9:g=d.readDrawRoundRect();R.drawRoundRect(C.get_x(g)-
0,C.get_y(g)-0,C.get_width(g),C.get_height(g),C.get_ellipseWidth(g),C.get_ellipseHeight(g));break;case 16:g=d.readLineTo();c.lineTo(ua.get_x(g)-0,ua.get_y(g)-0);ua.get_x(g);ua.get_y(g);break;case 17:g=d.readMoveTo();c.moveTo(ra.get_x(g)-0,ra.get_y(g)-0);ra.get_x(g);ra.get_y(g);break;default:d.skip(g)}}d.destroy()}};var Fd=function(a){this.renderSession=a};k["openfl._internal.renderer.cairo.CairoMaskManager"]=Fd;Fd.__name__=!0;Fd.__super__=ob;Fd.prototype=q(ob.prototype,{pushMask:function(a){var b=
this.renderSession.cairo;b.save();var c=a.__getWorldTransform();b.set_matrix(c.__toMatrix3());b.newPath();a.__renderCairoMask(this.renderSession);b.clip()},pushRect:function(a,b){var c=this.renderSession.cairo;c.save();c.set_matrix(new Jc(b.a,b.c,b.b,b.d,b.tx,b.ty));c.newPath();c.rectangle(a.x,a.y,a.width,a.height);c.clip()},popMask:function(){this.renderSession.cairo.restore()},popRect:function(){this.renderSession.cairo.restore()},__class__:Fd});var Rc=function(){};k["openfl._internal.renderer.cairo.CairoRenderer"]=
Rc;Rc.__name__=!0;Rc.__super__=Cb;Rc.prototype=q(Cb.prototype,{render:function(a){this.cairo.identityMatrix();a.__clearBeforeRender&&(this.cairo.setSourceRGB(a.__colorSplit[0],a.__colorSplit[1],a.__colorSplit[2]),this.cairo.paint());a.__renderCairo(this.renderSession)},__class__:Rc});var Rd=function(){};k["openfl._internal.renderer.cairo.CairoShape"]=Rd;Rd.__name__=!0;Rd.render=function(a,b){};var de=function(){};k["openfl._internal.renderer.cairo.CairoTextField"]=de;de.__name__=!0;de.render=function(a,
b){};var ee=function(){};k["openfl._internal.renderer.canvas.CanvasBitmap"]=ee;ee.__name__=!0;ee.render=function(a,b){if(a.__renderable&&!(0>=a.__worldAlpha)){var c=b.context;if(null!=a.bitmapData&&a.bitmapData.__isValid){null!=a.__mask&&b.maskManager.pushMask(a.__mask);a.bitmapData.__sync();c.globalAlpha=a.__worldAlpha;var d=a.__renderTransform,e=a.get_scrollRect();b.roundPixels?c.setTransform(d.a,d.b,d.c,d.d,d.tx|0,d.ty|0):c.setTransform(d.a,d.b,d.c,d.d,d.tx,d.ty);a.smoothing||(c.mozImageSmoothingEnabled=
!1,c.msImageSmoothingEnabled=!1,c.imageSmoothingEnabled=!1);null==e?c.drawImage(a.bitmapData.image.get_src(),0,0):c.drawImage(a.bitmapData.image.get_src(),e.x,e.y,e.width,e.height,e.x,e.y,e.width,e.height);a.smoothing||(c.mozImageSmoothingEnabled=!0,c.msImageSmoothingEnabled=!0,c.imageSmoothingEnabled=!0);null!=a.__mask&&b.maskManager.popMask()}}};var g=function(){};k["openfl._internal.renderer.canvas.CanvasGraphics"]=g;g.__name__=!0;g.bitmapFill=null;g.bitmapRepeat=null;g.bounds=null;g.graphics=
null;g.hasFill=null;g.hasStroke=null;g.hitTesting=null;g.inversePendingMatrix=null;g.pendingMatrix=null;g.context=null;g.closePath=function(){null!=g.context.strokeStyle&&(g.context.closePath(),g.context.stroke(),g.context.beginPath())};g.createBitmapFill=function(a,b){a.__sync();return g.context.createPattern(a.image.get_src(),b?"repeat":"no-repeat")};g.createGradientPattern=function(a,b,c,d,e,f,h,k){f=null;switch(a){case 1:null==e&&(e=new Y);f=e.transformPoint(new x(1638.4,0));f=g.context.createRadialGradient(e.tx,
e.ty,0,e.tx,e.ty,(f.x-e.tx)/2);break;case 0:e=null!=e?e:new Y,f=e.transformPoint(new x(-819.2,0)),e=e.transformPoint(new x(819.2,0)),f=g.context.createLinearGradient(f.x,f.y,e.x,e.y)}e=0;for(a=b.length;e<a;){var m=e++,l=b[m];h=c[m];k=(l&16711680)>>>16;var t=(l&65280)>>>8,l=l&255,m=d[m]/255;0>m&&(m=0);1<m&&(m=1);f.addColorStop(m,"rgba("+k+", "+t+", "+l+", "+h+")")}return f};g.createTempPatternCanvas=function(a,b,c,d){var e=window.document.createElement("canvas"),f=e.getContext("2d");e.width=c;e.height=
d;f.fillStyle=f.createPattern(a.image.get_src(),b?"repeat":"no-repeat");f.beginPath();f.moveTo(0,0);f.lineTo(0,d);f.lineTo(c,d);f.lineTo(c,0);f.lineTo(0,0);f.closePath();g.hitTesting||f.fill();return e};g.drawRoundRect=function(a,b,c,d,e,f){null==f&&(f=e);e*=.5;f*=.5;e>c/2&&(e=c/2);f>d/2&&(f=d/2);c=a+c;d=b+d;var h=-e+e*g.SIN45,k=-e+e*g.TAN22,m=-f+f*g.SIN45,l=-f+f*g.TAN22;g.context.moveTo(c,d-f);g.context.quadraticCurveTo(c,d+l,c+h,d+m);g.context.quadraticCurveTo(c+k,d,c-e,d);g.context.lineTo(a+e,
d);g.context.quadraticCurveTo(a-k,d,a-h,d+m);g.context.quadraticCurveTo(a,d+l,a,d-f);g.context.lineTo(a,b+f);g.context.quadraticCurveTo(a,b-l,a-h,b-m);g.context.quadraticCurveTo(a-k,b,a+e,b);g.context.lineTo(c-e,b);g.context.quadraticCurveTo(c+k,b,c+h,b-m);g.context.quadraticCurveTo(c,b-l,c,b+f);g.context.lineTo(c,d-f)};g.endFill=function(){g.context.beginPath();g.playCommands(g.fillCommands,!1);g.fillCommands.clear()};g.endStroke=function(){g.context.beginPath();g.playCommands(g.strokeCommands,!0);
g.context.closePath();g.strokeCommands.clear()};g.hitTest=function(a,b,c){if(!(0==a.__commands.get_length()||null==g.bounds||0>=g.bounds.width||0>=g.bounds.height)){g.hitTesting=!0;b-=g.bounds.x;c-=g.bounds.y;null==a.__canvas&&(a.__canvas=window.document.createElement("canvas"),a.__context=a.__canvas.getContext("2d"));g.context=a.__context;g.fillCommands.clear();g.strokeCommands.clear();g.hasFill=!1;g.hasStroke=!1;g.bitmapFill=null;g.bitmapRepeat=!1;g.context.beginPath();var d=new pb(a.__commands),
e=0;for(a=a.__commands.types;e<a.length;){var f=a[e];++e;switch(f[1]){case 3:f=d.readCubicCurveTo();g.fillCommands.cubicCurveTo(A.get_controlX1(f),A.get_controlY1(f),A.get_controlX2(f),A.get_controlY2(f),A.get_anchorX(f),A.get_anchorY(f));g.strokeCommands.cubicCurveTo(A.get_controlX1(f),A.get_controlY1(f),A.get_controlX2(f),A.get_controlY2(f),A.get_anchorX(f),A.get_anchorY(f));break;case 4:f=d.readCurveTo();g.fillCommands.curveTo(M.get_controlX(f),M.get_controlY(f),M.get_anchorX(f),M.get_anchorY(f));
g.strokeCommands.curveTo(M.get_controlX(f),M.get_controlY(f),M.get_anchorX(f),M.get_anchorY(f));break;case 16:f=d.readLineTo();g.fillCommands.lineTo(ua.get_x(f),ua.get_y(f));g.strokeCommands.lineTo(ua.get_x(f),ua.get_y(f));break;case 17:f=d.readMoveTo();g.fillCommands.moveTo(ra.get_x(f),ra.get_y(f));g.strokeCommands.moveTo(ra.get_x(f),ra.get_y(f));break;case 14:f=d.readLineGradientStyle();g.strokeCommands.lineGradientStyle(N.get_type(f),N.get_colors(f),N.get_alphas(f),N.get_ratios(f),N.get_matrix(f),
N.get_spreadMethod(f),N.get_interpolationMethod(f),N.get_focalPointRatio(f));break;case 13:f=d.readLineBitmapStyle();g.strokeCommands.lineBitmapStyle(Da.get_bitmap(f),Da.get_matrix(f),Da.get_repeat(f),Da.get_smooth(f));break;case 15:f=d.readLineStyle();g.strokeCommands.lineStyle(G.get_thickness(f),G.get_color(f),1,G.get_pixelHinting(f),G.get_scaleMode(f),G.get_caps(f),G.get_joints(f),G.get_miterLimit(f));break;case 12:d.readEndFill();g.endFill();g.endStroke();if(g.hasFill&&g.context.isPointInPath(b,
c)||g.hasStroke&&g.context.isPointInStroke(b,c))return d.destroy(),!0;g.hasFill=!1;g.bitmapFill=null;break;case 0:case 1:case 2:g.endFill();g.endStroke();if(g.hasFill&&g.context.isPointInPath(b,c)||g.hasStroke&&g.context.isPointInStroke(b,c))return d.destroy(),!0;f==m.BEGIN_BITMAP_FILL?(f=d.readBeginBitmapFill(),g.fillCommands.beginBitmapFill(ha.get_bitmap(f),ha.get_matrix(f),ha.get_repeat(f),ha.get_smooth(f)),g.strokeCommands.beginBitmapFill(ha.get_bitmap(f),ha.get_matrix(f),ha.get_repeat(f),ha.get_smooth(f))):
f==m.BEGIN_GRADIENT_FILL?(f=d.readBeginGradientFill(),g.fillCommands.beginGradientFill(B.get_type(f),B.get_colors(f),B.get_alphas(f),B.get_ratios(f),B.get_matrix(f),B.get_spreadMethod(f),B.get_interpolationMethod(f),B.get_focalPointRatio(f)),g.strokeCommands.beginGradientFill(B.get_type(f),B.get_colors(f),B.get_alphas(f),B.get_ratios(f),B.get_matrix(f),B.get_spreadMethod(f),B.get_interpolationMethod(f),B.get_focalPointRatio(f))):(f=d.readBeginFill(),g.fillCommands.beginFill(Ea.get_color(f),1),g.strokeCommands.beginFill(Ea.get_color(f),
1));break;case 5:f=d.readDrawCircle();g.fillCommands.drawCircle(V.get_x(f),V.get_y(f),V.get_radius(f));g.strokeCommands.drawCircle(V.get_x(f),V.get_y(f),V.get_radius(f));break;case 6:f=d.readDrawEllipse();g.fillCommands.drawEllipse(Q.get_x(f),Q.get_y(f),Q.get_width(f),Q.get_height(f));g.strokeCommands.drawEllipse(Q.get_x(f),Q.get_y(f),Q.get_width(f),Q.get_height(f));break;case 8:f=d.readDrawRect();g.fillCommands.drawRect(E.get_x(f),E.get_y(f),E.get_width(f),E.get_height(f));g.strokeCommands.drawRect(E.get_x(f),
E.get_y(f),E.get_width(f),E.get_height(f));break;case 9:f=d.readDrawRoundRect();g.fillCommands.drawRoundRect(C.get_x(f),C.get_y(f),C.get_width(f),C.get_height(f),C.get_ellipseWidth(f),C.get_ellipseHeight(f));g.strokeCommands.drawRoundRect(C.get_x(f),C.get_y(f),C.get_width(f),C.get_height(f),C.get_ellipseWidth(f),C.get_ellipseHeight(f));break;default:d.skip(f)}}0<g.fillCommands.get_length()&&g.endFill();0<g.strokeCommands.get_length()&&g.endStroke();d.destroy();if(g.hasFill&&g.context.isPointInPath(b,
c)||g.hasStroke&&g.context.isPointInStroke(b,c))return!0}return!1};g.normalizeUVT=function(a,b){null==b&&(b=!1);for(var c=-Infinity,d=-Infinity,e=a.length,f=1,g=e+1;f<g;)d=f++,b&&0==d%3||(d=a.data[d-1],c<d&&(c=d));f=new ec;f.data=[];f.length=0;f.fixed=!1;g=1;for(e+=1;g<e;)if(d=g++,!b||0!=d%3){if(!f.fixed){f.length++;if(f.data.length<f.length){var h;h=Array(f.data.length+10);Xb.blit(f.data,0,h,0,f.data.length);f.data=h}f.data[f.length-1]=a.data[d-1]/c}f.length}return{max:c,uvt:f}};g.playCommands=function(a,
b){null==b&&(b=!1);g.bounds=g.graphics.__bounds;for(var c=g.bounds.x,d=g.bounds.y,e=0,f=0,h=!1,k=0,m=0,l=new pb(a),t=0,p=a.types;t<p.length;){var n=p[t];++t;switch(n[1]){case 3:n=l.readCubicCurveTo();g.context.bezierCurveTo(A.get_controlX1(n)-c,A.get_controlY1(n)-d,A.get_controlX2(n)-c,A.get_controlY2(n)-d,A.get_anchorX(n)-c,A.get_anchorY(n)-d);break;case 4:n=l.readCurveTo();g.context.quadraticCurveTo(M.get_controlX(n)-c,M.get_controlY(n)-d,M.get_anchorX(n)-c,M.get_anchorY(n)-d);break;case 5:n=l.readDrawCircle();
g.context.moveTo(V.get_x(n)-c+V.get_radius(n),V.get_y(n)-d);g.context.arc(V.get_x(n)-c,V.get_y(n)-d,V.get_radius(n),0,2*Math.PI,!0);break;case 6:var q=l.readDrawEllipse(),n=Q.get_x(q),r=Q.get_y(q),u=Q.get_width(q),v=Q.get_height(q),n=n-c,r=r-d,q=u/2*.5522848,z=v/2*.5522848,y=n+u,w=r+v,u=n+u/2,v=r+v/2;g.context.moveTo(n,v);g.context.bezierCurveTo(n,v-z,u-q,r,u,r);g.context.bezierCurveTo(u+q,r,y,v-z,y,v);g.context.bezierCurveTo(y,v+z,u+q,w,u,w);g.context.bezierCurveTo(u-q,w,n,v+z,n,v);break;case 9:n=
l.readDrawRoundRect();g.drawRoundRect(C.get_x(n)-c,C.get_y(n)-d,C.get_width(n),C.get_height(n),C.get_ellipseWidth(n),C.get_ellipseHeight(n));break;case 16:f=l.readLineTo();g.context.lineTo(ua.get_x(f)-c,ua.get_y(f)-d);e=ua.get_x(f);f=ua.get_y(f);break;case 17:m=l.readMoveTo();g.context.moveTo(ra.get_x(m)-c,ra.get_y(m)-d);e=ra.get_x(m);f=ra.get_y(m);h=!0;k=ra.get_x(m);m=ra.get_y(m);break;case 15:n=l.readLineStyle();b&&g.hasStroke&&(g.context.closePath(),g.hitTesting||g.context.stroke(),g.context.beginPath());
g.context.moveTo(e-c,f-d);if(null==G.get_thickness(n))g.hasStroke=!1;else{0<G.get_thickness(n)?g.context.lineWidth=G.get_thickness(n):g.context.lineWidth=1;null==G.get_joints(n)?g.context.lineJoin="round":g.context.lineJoin=fe.toString(G.get_joints(n)).toLowerCase();if(null==G.get_caps(n))g.context.lineCap="round";else switch(G.get_caps(n)){case 0:g.context.lineCap="butt";break;default:g.context.lineCap=ge.toString(G.get_caps(n)).toLowerCase()}g.context.miterLimit=G.get_miterLimit(n);1==G.get_alpha(n)?
g.context.strokeStyle="#"+T.hex(G.get_color(n)&16777215,6):(r=(G.get_color(n)&16711680)>>>16,q=(G.get_color(n)&65280)>>>8,z=G.get_color(n)&255,g.context.strokeStyle="rgba("+r+", "+q+", "+z+", "+G.get_alpha(n)+")");g.hasStroke=!0}break;case 14:n=l.readLineGradientStyle();b&&g.hasStroke&&g.closePath();g.context.moveTo(e-c,f-d);g.context.strokeStyle=g.createGradientPattern(N.get_type(n),N.get_colors(n),N.get_alphas(n),N.get_ratios(n),N.get_matrix(n),N.get_spreadMethod(n),N.get_interpolationMethod(n),
N.get_focalPointRatio(n));g.hasStroke=!0;break;case 13:n=l.readLineBitmapStyle();b&&g.hasStroke&&g.closePath();g.context.moveTo(e-c,f-d);g.context.strokeStyle=g.createBitmapFill(Da.get_bitmap(n),Da.get_repeat(n));g.hasStroke=!0;break;case 0:n=l.readBeginBitmapFill();g.context.fillStyle=g.createBitmapFill(ha.get_bitmap(n),!0);g.hasFill=!0;null!=ha.get_matrix(n)?(g.pendingMatrix=ha.get_matrix(n),g.inversePendingMatrix=ha.get_matrix(n).clone(),g.inversePendingMatrix.invert()):(g.pendingMatrix=null,g.inversePendingMatrix=
null);break;case 1:n=l.readBeginFill();.005>Ea.get_alpha(n)?g.hasFill=!1:(1==Ea.get_alpha(n)?g.context.fillStyle="#"+T.hex(Ea.get_color(n),6):(r=(Ea.get_color(n)&16711680)>>>16,q=(Ea.get_color(n)&65280)>>>8,z=Ea.get_color(n)&255,g.context.fillStyle="rgba("+r+", "+q+", "+z+", "+Ea.get_alpha(n)+")"),g.bitmapFill=null,g.hasFill=!0);break;case 2:n=l.readBeginGradientFill();g.context.fillStyle=g.createGradientPattern(B.get_type(n),B.get_colors(n),B.get_alphas(n),B.get_ratios(n),B.get_matrix(n),B.get_spreadMethod(n),
B.get_interpolationMethod(n),B.get_focalPointRatio(n));g.bitmapFill=null;g.hasFill=!0;break;case 8:n=l.readDrawRect();r=!1;null!=g.bitmapFill&&(w=y=u=q=0,z=!0,null!=g.pendingMatrix?0!=g.pendingMatrix.b||0!=g.pendingMatrix.c?z=!1:(y=g.inversePendingMatrix.transformPoint(new x(E.get_x(n),E.get_y(n))),u=g.inversePendingMatrix.transformPoint(new x(E.get_x(n)+E.get_width(n),E.get_y(n)+E.get_height(n))),q=y.y,w=y.x,y=u.y,u=u.x):(q=E.get_y(n),w=E.get_x(n),y=E.get_y(n)+E.get_height(n),u=E.get_x(n)+E.get_width(n)),
z&&0<=q&&0<=w&&u<=g.bitmapFill.width&&y<=g.bitmapFill.height&&(r=!0,g.hitTesting||g.context.drawImage(g.bitmapFill.image.get_src(),w,q,u-w,y-q,E.get_x(n)-c,E.get_y(n)-d,E.get_width(n),E.get_height(n))));r||g.context.rect(E.get_x(n)-c,E.get_y(n)-d,E.get_width(n),E.get_height(n));break;default:l.skip(n)}}l.destroy();b&&g.hasStroke&&(g.hasFill&&h?g.context.lineTo(k-c,m-d):h&&e==k&&f==m&&g.context.closePath(),g.hitTesting||g.context.stroke());b||!g.hasFill&&null==g.bitmapFill||(g.context.translate(-g.bounds.x,
-g.bounds.y),null!=g.pendingMatrix?(g.context.transform(g.pendingMatrix.a,g.pendingMatrix.b,g.pendingMatrix.c,g.pendingMatrix.d,g.pendingMatrix.tx,g.pendingMatrix.ty),g.hitTesting||g.context.fill(),g.context.transform(g.inversePendingMatrix.a,g.inversePendingMatrix.b,g.inversePendingMatrix.c,g.inversePendingMatrix.d,g.inversePendingMatrix.tx,g.inversePendingMatrix.ty)):g.hitTesting||g.context.fill(),g.context.translate(g.bounds.x,g.bounds.y),g.context.closePath())};g.render=function(a,b){if(a.__dirty){g.hitTesting=
!1;g.graphics=a;g.bounds=a.__bounds;if(!a.__visible||0==a.__commands.get_length()||null==g.bounds||0>=g.bounds.width||0>=g.bounds.height)a.__canvas=null,a.__context=null,a.__bitmap=null;else{null==a.__canvas&&(a.__canvas=window.document.createElement("canvas"),a.__context=a.__canvas.getContext("2d"));g.context=a.__context;a.__canvas.width=Math.ceil(g.bounds.width);a.__canvas.height=Math.ceil(g.bounds.height);g.fillCommands.clear();g.strokeCommands.clear();g.hasFill=!1;g.hasStroke=!1;g.bitmapFill=
null;g.bitmapRepeat=!1;var c=new pb(a.__commands),d=0,e=a.__commands.types;try{for(;d<e.length;){var f=e[d];++d;switch(f[1]){case 3:var h=c.readCubicCurveTo();g.fillCommands.cubicCurveTo(A.get_controlX1(h),A.get_controlY1(h),A.get_controlX2(h),A.get_controlY2(h),A.get_anchorX(h),A.get_anchorY(h));g.strokeCommands.cubicCurveTo(A.get_controlX1(h),A.get_controlY1(h),A.get_controlX2(h),A.get_controlY2(h),A.get_anchorX(h),A.get_anchorY(h));break;case 4:var k=c.readCurveTo();g.fillCommands.curveTo(M.get_controlX(k),
M.get_controlY(k),M.get_anchorX(k),M.get_anchorY(k));g.strokeCommands.curveTo(M.get_controlX(k),M.get_controlY(k),M.get_anchorX(k),M.get_anchorY(k));break;case 16:var l=c.readLineTo();g.fillCommands.lineTo(ua.get_x(l),ua.get_y(l));g.strokeCommands.lineTo(ua.get_x(l),ua.get_y(l));break;case 17:var t=c.readMoveTo();g.fillCommands.moveTo(ra.get_x(t),ra.get_y(t));g.strokeCommands.moveTo(ra.get_x(t),ra.get_y(t));break;case 12:c.readEndFill();g.endFill();g.endStroke();g.hasFill=!1;g.bitmapFill=null;break;
case 15:var q=c.readLineStyle();g.strokeCommands.lineStyle(G.get_thickness(q),G.get_color(q),G.get_alpha(q),G.get_pixelHinting(q),G.get_scaleMode(q),G.get_caps(q),G.get_joints(q),G.get_miterLimit(q));break;case 14:var p=c.readLineGradientStyle();g.strokeCommands.lineGradientStyle(N.get_type(p),N.get_colors(p),N.get_alphas(p),N.get_ratios(p),N.get_matrix(p),N.get_spreadMethod(p),N.get_interpolationMethod(p),N.get_focalPointRatio(p));break;case 13:var n=c.readLineBitmapStyle();g.strokeCommands.lineBitmapStyle(Da.get_bitmap(n),
Da.get_matrix(n),Da.get_repeat(n),Da.get_smooth(n));break;case 0:case 1:case 2:g.endFill();g.endStroke();if(f==m.BEGIN_BITMAP_FILL){var u=c.readBeginBitmapFill();g.fillCommands.beginBitmapFill(ha.get_bitmap(u),ha.get_matrix(u),ha.get_repeat(u),ha.get_smooth(u));g.strokeCommands.beginBitmapFill(ha.get_bitmap(u),ha.get_matrix(u),ha.get_repeat(u),ha.get_smooth(u))}else if(f==m.BEGIN_GRADIENT_FILL){var r=c.readBeginGradientFill();g.fillCommands.beginGradientFill(B.get_type(r),B.get_colors(r),B.get_alphas(r),
B.get_ratios(r),B.get_matrix(r),B.get_spreadMethod(r),B.get_interpolationMethod(r),B.get_focalPointRatio(r));g.strokeCommands.beginGradientFill(B.get_type(r),B.get_colors(r),B.get_alphas(r),B.get_ratios(r),B.get_matrix(r),B.get_spreadMethod(r),B.get_interpolationMethod(r),B.get_focalPointRatio(r))}else{var v=c.readBeginFill();g.fillCommands.beginFill(Ea.get_color(v),Ea.get_alpha(v));g.strokeCommands.beginFill(Ea.get_color(v),Ea.get_alpha(v))}break;case 5:var y=c.readDrawCircle();g.fillCommands.drawCircle(V.get_x(y),
V.get_y(y),V.get_radius(y));g.strokeCommands.drawCircle(V.get_x(y),V.get_y(y),V.get_radius(y));break;case 6:var w=c.readDrawEllipse();g.fillCommands.drawEllipse(Q.get_x(w),Q.get_y(w),Q.get_width(w),Q.get_height(w));g.strokeCommands.drawEllipse(Q.get_x(w),Q.get_y(w),Q.get_width(w),Q.get_height(w));break;case 8:var D=c.readDrawRect();g.fillCommands.drawRect(E.get_x(D),E.get_y(D),E.get_width(D),E.get_height(D));g.strokeCommands.drawRect(E.get_x(D),E.get_y(D),E.get_width(D),E.get_height(D));break;case 9:var F=
c.readDrawRoundRect();g.fillCommands.drawRoundRect(C.get_x(F),C.get_y(F),C.get_width(F),C.get_height(F),C.get_ellipseWidth(F),C.get_ellipseHeight(F));g.strokeCommands.drawRoundRect(C.get_x(F),C.get_y(F),C.get_width(F),C.get_height(F),C.get_ellipseWidth(F),C.get_ellipseHeight(F));break;case 11:g.endFill();g.endStroke();var P=c.readDrawTriangles(),H=Ua.get_vertices(P),L=Ua.get_indices(P),x=Ua.get_uvtData(P),K=null,S=null==g.bitmapFill;if(S&&null!=x)throw"__break__";if(!S){if(null==x){var R;R=new ec;
R.data=[];R.length=0;R.fixed=!1;for(var x=R,I=0,aa=H.length/2|0;I<aa;){var X=I++;if(!x.fixed){x.length++;if(x.data.length<x.length){var T;T=Array(x.data.length+10);Xb.blit(x.data,0,T,0,x.data.length);x.data=T}x.data[x.length-1]=H.data[2*X]/g.bitmapFill.width}x.length;if(!x.fixed){x.length++;if(x.data.length<x.length){var Z;Z=Array(x.data.length+10);Xb.blit(x.data,0,Z,0,x.data.length);x.data=Z}x.data[x.length-1]=H.data[2*X+1]/g.bitmapFill.height}x.length}}var da=g.normalizeUVT(x,x.length!=H.length),
la=da.max,x=da.uvt,K=1<la?g.createTempPatternCanvas(g.bitmapFill,g.bitmapRepeat,g.bounds.width|0,g.bounds.height|0):g.createTempPatternCanvas(g.bitmapFill,g.bitmapRepeat,g.bitmapFill.width,g.bitmapFill.height)}for(var I=0,na=L.length,ea,ia,ja,qa,sa,ta,va,wa,xa,ba,ca,U,Y,fa,ga,ya,Ba,ka,ma,oa,pa,Aa,Fa,Ha,Ia,Ja,La,Oa;I<na;){ea=I;ia=I+1;ja=I+2;qa=2*L.data[ea];sa=2*L.data[ea]+1;ta=2*L.data[ia];va=2*L.data[ia]+1;wa=2*L.data[ja];xa=2*L.data[ja]+1;ba=H.data[qa];ca=H.data[sa];U=H.data[ta];Y=H.data[va];fa=
H.data[wa];ga=H.data[xa];switch(Ua.get_culling(P)){case 2:if(!(0>(U-ba)*(ga-ca)-(Y-ca)*(fa-ba))){I+=3;continue}break;case 0:if(0>(U-ba)*(ga-ca)-(Y-ca)*(fa-ba)){I+=3;continue}}S?(g.context.beginPath(),g.context.moveTo(ba,ca),g.context.lineTo(U,Y),g.context.lineTo(fa,ga),g.context.closePath(),g.hitTesting||g.context.fill()):(g.context.save(),g.context.beginPath(),g.context.moveTo(ba,ca),g.context.lineTo(U,Y),g.context.lineTo(fa,ga),g.context.closePath(),g.context.clip(),ya=x.data[qa]*K.width,ka=x.data[ta]*
K.width,oa=x.data[wa]*K.width,Ba=x.data[sa]*K.height,ma=x.data[va]*K.height,pa=x.data[xa]*K.height,Aa=ya*(pa-ma)-ka*pa+oa*ma+(ka-oa)*Ba,0!=Aa&&(Fa=-(Ba*(fa-U)-ma*fa+pa*U+(ma-pa)*ba)/Aa,Ha=(ma*ga+Ba*(Y-ga)-pa*Y+(pa-ma)*ca)/Aa,Ia=(ya*(fa-U)-ka*fa+oa*U+(ka-oa)*ba)/Aa,Ja=-(ka*ga+ya*(Y-ga)-oa*Y+(oa-ka)*ca)/Aa,La=(ya*(pa*U-ma*fa)+Ba*(ka*fa-oa*U)+(oa*ma-ka*pa)*ba)/Aa,Oa=(ya*(pa*Y-ma*ga)+Ba*(ka*ga-oa*Y)+(oa*ma-ka*pa)*ca)/Aa,g.context.transform(Fa,Ha,Ia,Ja,La,Oa),g.context.drawImage(K,0,0),g.context.restore()));
I+=3}break;case 10:var W=c.readDrawTiles(),Ma=0<(z.get_flags(W)&1),Va=g.bounds.x,Xa=g.bounds.y,Ra=0<(z.get_flags(W)&2),Ta=0<(z.get_flags(W)&16),cb=0<(z.get_flags(W)&4),Ya=0<(z.get_flags(W)&8),Sa=0<(z.get_flags(W)&32),Za=0<(z.get_flags(W)&64),$a=0<(z.get_flags(W)&65536);Ta&&(Ra=Ma=!1);var ab=I=K=0,Na=0,gb=3;Sa&&(gb=Za?8:6);Ma&&(K=gb,gb++);Ra&&(I=gb,gb++);Ta&&(Na=gb,gb+=4);cb&&(gb+=3);Ya&&(ab=gb,gb++);var Wa=z.get_tileData(W).length;0<=z.get_count(W)&&Wa>z.get_count(W)&&(Wa=z.get_count(W));var Ka=0,
Ca=null,Ga=null,bb=-1,db;z.get_sheet(W).__bitmap.__sync();db=z.get_sheet(W).__bitmap.image.get_src();$a&&(g.context.globalCompositeOperation="lighter");for(;Ka<Wa;){var Pa;Pa=Sa?-1:za["int"](z.get_tileData(W)[Ka+2]);Sa||Pa==bb?Sa&&(Ca=z.get_sheet(W).__rectTile,Ca.setTo(z.get_tileData(W)[Ka+2],z.get_tileData(W)[Ka+3],z.get_tileData(W)[Ka+4],z.get_tileData(W)[Ka+5]),Ga=z.get_sheet(W).__point,Za?Ga.setTo(z.get_tileData(W)[Ka+6],z.get_tileData(W)[Ka+7]):Ga.setTo(0,0)):(Ca=z.get_sheet(W).__tileRects[Pa],
Ga=z.get_sheet(W).__centerPoints[Pa],bb=Pa);if(null!=Ca&&0<Ca.width&&0<Ca.height&&null!=Ga){g.context.save();g.context.translate(z.get_tileData(W)[Ka]-Va,z.get_tileData(W)[Ka+1]-Xa);Ra&&g.context.rotate(z.get_tileData(W)[Ka+I]);var Qa=1;Ma&&(Qa=z.get_tileData(W)[Ka+K]);Ta&&g.context.transform(z.get_tileData(W)[Ka+Na],z.get_tileData(W)[Ka+Na+1],z.get_tileData(W)[Ka+Na+2],z.get_tileData(W)[Ka+Na+3],0,0);Ya&&(g.context.globalAlpha=z.get_tileData(W)[Ka+ab]);g.context.imageSmoothingEnabled=z.get_smooth(W);
g.context.drawImage(db,Ca.x,Ca.y,Ca.width,Ca.height,-Ga.x*Qa,-Ga.y*Qa,Ca.width*Qa,Ca.height*Qa);g.context.restore()}Ka+=gb}$a&&(g.context.globalCompositeOperation="source-over");break;default:c.skip(f)}}}catch(fb){if("__break__"!=fb)throw fb;}0<g.fillCommands.get_length()&&g.endFill();0<g.strokeCommands.get_length()&&g.endStroke();c.destroy();a.__bitmap=eb.fromCanvas(a.__canvas)}a.set___dirty(!1)}};g.renderMask=function(a,b){if(0!=a.__commands.get_length()){g.context=b.context;for(var c=new pb(a.__commands),
d=0,e=a.__commands.types;d<e.length;){var f=e[d];++d;switch(f[1]){case 3:f=c.readCubicCurveTo();g.context.bezierCurveTo(A.get_controlX1(f)-0,A.get_controlY1(f)-0,A.get_controlX2(f)-0,A.get_controlY2(f)-0,A.get_anchorX(f)-0,A.get_anchorY(f)-0);A.get_anchorX(f);A.get_anchorY(f);break;case 4:f=c.readCurveTo();g.context.quadraticCurveTo(M.get_controlX(f)-0,M.get_controlY(f)-0,M.get_anchorX(f)-0,M.get_anchorY(f)-0);M.get_anchorX(f);M.get_anchorY(f);break;case 5:f=c.readDrawCircle();g.context.arc(V.get_x(f)-
0,V.get_y(f)-0,V.get_radius(f),0,2*Math.PI,!0);break;case 6:var h=c.readDrawEllipse(),f=Q.get_x(h),k=Q.get_y(h),m=Q.get_width(h),l=Q.get_height(h),f=f-0,k=k-0,h=m/2*.5522848,q=l/2*.5522848,t=f+m,n=k+l,m=f+m/2,l=k+l/2;g.context.moveTo(f,l);g.context.bezierCurveTo(f,l-q,m-h,k,m,k);g.context.bezierCurveTo(m+h,k,t,l-q,t,l);g.context.bezierCurveTo(t,l+q,m+h,n,m,n);g.context.bezierCurveTo(m-h,n,f,l+q,f,l);break;case 8:f=c.readDrawRect();g.context.rect(E.get_x(f)-0,E.get_y(f)-0,E.get_width(f),E.get_height(f));
break;case 9:f=c.readDrawRoundRect();g.drawRoundRect(C.get_x(f)-0,C.get_y(f)-0,C.get_width(f),C.get_height(f),C.get_ellipseWidth(f),C.get_ellipseHeight(f));break;case 16:f=c.readLineTo();g.context.lineTo(ua.get_x(f)-0,ua.get_y(f)-0);ua.get_x(f);ua.get_y(f);break;case 17:f=c.readMoveTo();g.context.moveTo(ra.get_x(f)-0,ra.get_y(f)-0);ra.get_x(f);ra.get_y(f);break;default:c.skip(f)}}c.destroy()}};var Sc=function(a){this.renderSession=a};k["openfl._internal.renderer.canvas.CanvasMaskManager"]=Sc;Sc.__name__=
!0;Sc.__super__=ob;Sc.prototype=q(ob.prototype,{pushMask:function(a){var b=this.renderSession.context;b.save();var c=a.__getWorldTransform();b.setTransform(c.a,c.b,c.c,c.d,c.tx,c.ty);b.beginPath();a.__renderCanvasMask(this.renderSession);b.clip()},pushRect:function(a,b){var c=this.renderSession.context;c.save();c.setTransform(b.a,b.b,b.c,b.d,b.tx,b.ty);c.beginPath();c.rect(a.x,a.y,a.width,a.height);c.clip()},popMask:function(){this.renderSession.context.restore()},popRect:function(){this.renderSession.context.restore()},
__class__:Sc});var Tc=function(a,b,c){Cb.call(this,a,b);this.context=c;this.renderSession=new Ed;this.renderSession.context=c;this.renderSession.roundPixels=!0;this.renderSession.renderer=this;this.renderSession.maskManager=new Sc(this.renderSession)};k["openfl._internal.renderer.canvas.CanvasRenderer"]=Tc;Tc.__name__=!0;Tc.__super__=Cb;Tc.prototype=q(Cb.prototype,{render:function(a){this.context.setTransform(1,0,0,1,0,0);this.context.globalAlpha=1;!a.__transparent&&a.__clearBeforeRender?(this.context.fillStyle=
a.__colorString,this.context.fillRect(0,0,a.stageWidth,a.stageHeight)):a.__transparent&&a.__clearBeforeRender&&this.context.clearRect(0,0,a.stageWidth,a.stageHeight);a.__renderCanvas(this.renderSession)},__class__:Tc});var Sd=function(){};k["openfl._internal.renderer.canvas.CanvasShape"]=Sd;Sd.__name__=!0;Sd.render=function(a,b){if(a.__renderable&&!(0>=a.__worldAlpha)){var c=a.__graphics;if(null!=c&&(g.render(c,b),null!=c.__canvas)){var d=b.context,e=a.get_scrollRect();if(0<c.__bounds.width&&0<c.__bounds.height&&
(null==e||0<e.width&&0<e.height)){null!=a.__mask&&b.maskManager.pushMask(a.__mask);d.globalAlpha=a.__worldAlpha;var f=a.__renderTransform;b.roundPixels?d.setTransform(f.a,f.b,f.c,f.d,f.tx|0,f.ty|0):d.setTransform(f.a,f.b,f.c,f.d,f.tx,f.ty);null==e?d.drawImage(c.__canvas,c.__bounds.x,c.__bounds.y):d.drawImage(c.__canvas,Math.ceil(c.__bounds.x+e.x),Math.ceil(c.__bounds.y+e.y),e.width,e.height,Math.ceil(c.__bounds.x+e.x),Math.ceil(c.__bounds.y+e.y),e.width,e.height);null!=a.__mask&&b.maskManager.popMask()}}}};
var na=function(){};k["openfl._internal.renderer.canvas.CanvasTextField"]=na;na.__name__=!0;na.context=null;na.render=function(a,b){if(a.__dirty){var c=a.__textEngine;a.__updateLayout();if(!(null!=c.text&&""!=c.text||c.background||c.border||c.__hasFocus)||(0>=c.width||0>=c.height)&&2!=c.autoSize)a.__graphics.__canvas=null,a.__graphics.__context=null,a.__graphics.set___dirty(!1),a.__dirty=!1;else{var d=c.bounds;if(null==a.__graphics||null==a.__graphics.__canvas)null==a.__graphics&&(a.__graphics=new Ib),
a.__graphics.__canvas=window.document.createElement("canvas"),a.__graphics.__context=a.__graphics.__canvas.getContext("2d"),a.__graphics.__bounds=new Z(0,0,d.width,d.height);var e=a.__graphics;na.context=e.__context;if(null!=c.text&&""!=c.text||c.__hasFocus){var f=c.text;if(c.displayAsPassword){for(var f=f.length,g="",h=0;h<f;)h++,g+="*";f=g}e.__canvas.width=Math.ceil(d.width);e.__canvas.height=Math.ceil(d.height);0!=c.antiAliasType||1!=c.gridFitType?(e.__context.mozImageSmoothingEnabled=!0,e.__context.msImageSmoothingEnabled=
!0,e.__context.imageSmoothingEnabled=!0):(e.__context.mozImageSmoothingEnabled=!1,e.__context.msImageSmoothingEnabled=!1,e.__context.imageSmoothingEnabled=!1);if(c.border||c.background)na.context.rect(.5,.5,d.width-1,d.height-1),c.background&&(na.context.fillStyle="#"+T.hex(c.backgroundColor,6),na.context.fill()),c.border&&(na.context.lineWidth=1,na.context.strokeStyle="#"+T.hex(c.borderColor,6),na.context.stroke());na.context.textBaseline="top";na.context.textAlign="start";for(var d=-a.get_scrollH(),
h=g=0,k=a.get_scrollV()-1;h<k;)var m=h++,g=g-c.lineHeights[m];for(var l,h=0,k=(new Wb("(iPad|iPhone|iPod|Firefox)","g")).match(window.navigator.userAgent),m=0,q=c.layoutGroups;m<q.length;){var n=q[m];++m;if(!(n.lineIndex<a.get_scrollV()-1)){if(n.lineIndex>a.get_scrollV()+c.bottomScrollV-2)break;na.context.font=sa.getFont(n.format);na.context.fillStyle="#"+T.hex(n.format.color,6);k&&(h=.185*n.format.size);na.context.fillText(f.substring(n.startIndex,n.endIndex),n.offsetX+d,n.offsetY+h+g);if(-1<a.__caretIndex&&
c.selectable)if(a.__selectionIndex==a.__caretIndex){if(a.__showCursor&&n.startIndex<=a.__caretIndex&&n.endIndex>=a.__caretIndex){for(var t=l=0,r=a.__caretIndex-n.startIndex;t<r;){var p=t++;if(n.advances.length<=p)break;l+=n.advances[p]}na.context.fillRect(n.offsetX+l,n.offsetY,1,n.height)}}else if(n.startIndex<=a.__caretIndex&&n.endIndex>=a.__caretIndex||n.startIndex<=a.__selectionIndex&&n.endIndex>=a.__selectionIndex)l=za["int"](Math.min(a.__selectionIndex,a.__caretIndex)),t=za["int"](Math.max(a.__selectionIndex,
a.__caretIndex)),n.startIndex>l&&(l=n.startIndex),n.endIndex<t&&(t=n.endIndex),r=a.getCharBoundaries(l),t>=c.text.length?(p=a.getCharBoundaries(c.text.length-1),p.x+=p.width+2):p=a.getCharBoundaries(t),null!=r&&null!=p&&(na.context.fillStyle="#000000",na.context.fillRect(r.x,r.y,p.x-r.x,n.height),na.context.fillStyle="#FFFFFF",na.context.fillText(f.substring(l,t),d+r.x,n.offsetY+h+g))}}}else if(e.__canvas.width=Math.ceil(d.width),e.__canvas.height=Math.ceil(d.height),c.border||c.background)c.border?
na.context.rect(.5,.5,d.width-1,d.height-1):na.context.rect(0,0,d.width,d.height),c.background&&(na.context.fillStyle="#"+T.hex(c.backgroundColor,6),na.context.fill()),c.border&&(na.context.lineWidth=1,na.context.lineCap="square",na.context.strokeStyle="#"+T.hex(c.borderColor,6),na.context.stroke());e.__bitmap=eb.fromCanvas(a.__graphics.__canvas);a.__dirty=!1;e.set___dirty(!1)}}};var Gd=function(a){this.renderSession=a};k["openfl._internal.renderer.dom.DOMMaskManager"]=Gd;Gd.__name__=!0;Gd.__super__=
ob;Gd.prototype=q(ob.prototype,{pushMask:function(a){},pushRect:function(a,b){},popMask:function(){},__class__:Gd});var Z=function(a,b,c,d){null==d&&(d=0);null==c&&(c=0);null==b&&(b=0);null==a&&(a=0);this.x=a;this.y=b;this.width=c;this.height=d};k["openfl.geom.Rectangle"]=Z;Z.__name__=!0;Z.prototype={clone:function(){return new Z(this.x,this.y,this.width,this.height)},contains:function(a,b){return a>=this.x&&b>=this.y&&a<this.get_right()&&b<this.get_bottom()},containsPoint:function(a){return this.contains(a.x,
a.y)},copyFrom:function(a){this.x=a.x;this.y=a.y;this.width=a.width;this.height=a.height},intersects:function(a){var b;b=this.x<a.x?a.x:this.x;if((this.get_right()>a.get_right()?a.get_right():this.get_right())<=b)return!1;b=this.y<a.y?a.y:this.y;return(this.get_bottom()>a.get_bottom()?a.get_bottom():this.get_bottom())>b},setEmpty:function(){this.x=this.y=this.width=this.height=0},setTo:function(a,b,c,d){this.x=a;this.y=b;this.width=c;this.height=d},__expand:function(a,b,c,d){if(0==this.width&&0==
this.height)this.x=a,this.y=b,this.width=c,this.height=d;else{var e=this.get_right(),f=this.get_bottom();this.x>a&&(this.x=a,this.width=e-a);this.y>b&&(this.y=b,this.height=f-b);e<a+c&&(this.width=a+c-this.x);f<b+d&&(this.height=b+d-this.y)}},__transform:function(a,b){var c=b.a*this.x+b.c*this.y,d=c,e=b.b*this.x+b.d*this.y,f=e,g=b.a*(this.x+this.width)+b.c*this.y,h=b.b*(this.x+this.width)+b.d*this.y;g<c&&(c=g);h<e&&(e=h);g>d&&(d=g);h>f&&(f=h);g=b.a*(this.x+this.width)+b.c*(this.y+this.height);h=b.b*
(this.x+this.width)+b.d*(this.y+this.height);g<c&&(c=g);h<e&&(e=h);g>d&&(d=g);h>f&&(f=h);g=b.a*this.x+b.c*(this.y+this.height);h=b.b*this.x+b.d*(this.y+this.height);g<c&&(c=g);h<e&&(e=h);g>d&&(d=g);h>f&&(f=h);a.setTo(c+b.tx,e+b.ty,d-c,f-e)},get_bottom:function(){return this.y+this.height},get_right:function(){return this.x+this.width},get_topLeft:function(){return new x(this.x,this.y)},__class__:Z,__properties__:{get_topLeft:"get_topLeft",get_right:"get_right",get_bottom:"get_bottom"}};var Be=function(){};
k["openfl._internal.renderer.opengl.utils.RenderTexture"]=Be;Be.__name__=!0;var sa=function(a){this.textField=a;this.height=this.width=100;this.text="";this.bounds=new Z(0,0,0,0);this.type=0;this.autoSize=2;this.embedFonts=this.displayAsPassword=!1;this.selectable=!0;this.borderColor=0;this.border=!1;this.backgroundColor=16777215;this.background=!1;this.gridFitType=1;this.maxChars=0;this.multiline=!1;this.scrollH=this.sharpness=0;this.scrollV=1;this.wordWrap=!1;this.lineAscents=[];this.lineBreaks=
[];this.lineDescents=[];this.lineLeadings=[];this.lineHeights=[];this.lineWidths=[];this.layoutGroups=[];this.textFormatRanges=[];sa.__canvas=window.document.createElement("canvas");sa.__context=sa.__canvas.getContext("2d")};k["openfl._internal.text.TextEngine"]=sa;sa.__name__=!0;sa.__canvas=null;sa.__context=null;sa.getFont=function(a){var b;b=a.italic?"italic ":"normal ";b+="normal ";b=a.bold?b+"bold ":b+"normal ";b+=a.size+"px";b+="/"+(a.size+a.leading+6)+"px ";switch(a.font){case "_sans":a="sans-serif";
break;case "_serif":a="serif";break;case "_typewriter":a="monospace";break;default:a="'"+a.font+"'"}return b+=""+a};sa.prototype={getBounds:function(){var a;a=this.border?1:0;this.bounds.width=this.width+a;this.bounds.height=this.height+a},getLineMeasurements:function(){this.lineAscents.splice(0,this.lineAscents.length);this.lineDescents.splice(0,this.lineDescents.length);this.lineLeadings.splice(0,this.lineLeadings.length);this.lineHeights.splice(0,this.lineHeights.length);this.lineWidths.splice(0,
this.lineWidths.length);var a=0,b=0,c=null,d=0,e=0;this.textHeight=this.textWidth=0;this.numLines=1;for(var f=this.maxScrollH=this.bottomScrollV=0,g=this.layoutGroups;f<g.length;){var h=g[f];for(++f;h.lineIndex>this.numLines-1;)this.lineAscents.push(a),this.lineDescents.push(b),this.lineLeadings.push(null!=c?c:0),this.lineHeights.push(d),this.lineWidths.push(e),b=a=0,c=null,e=d=0,this.numLines++,this.textHeight<=this.height-2&&this.bottomScrollV++;a=Math.max(a,h.ascent);b=Math.max(b,h.descent);c=
null==c?h.leading:za["int"](Math.max(c,h.leading));d=Math.max(d,h.height);e=h.offsetX-2+h.width;e>this.textWidth&&(this.textWidth=e);this.textHeight=h.offsetY-2+h.ascent+h.descent}this.lineAscents.push(a);this.lineDescents.push(b);this.lineLeadings.push(null!=c?c:0);this.lineHeights.push(d);this.lineWidths.push(e);1==this.numLines?(this.bottomScrollV=1,0<c&&(this.textHeight+=c)):this.textHeight<=this.height-2&&this.bottomScrollV++;this.maxScrollH=this.textWidth>this.width-4?this.textWidth-this.width+
4|0:0;this.maxScrollV=this.numLines-this.bottomScrollV+1},getLayoutGroups:function(){this.layoutGroups.splice(0,this.layoutGroups.length);var a=-1,b=null,c=wa.__defaultTextFormat.clone(),d=0,e=0,f=0,g,h,k,l=0,m=0,t=0,n=this.text.indexOf(" "),q=this.text.indexOf("\n"),r=0,p=2,u=2,v=0,x=0,y=null;a<this.textFormatRanges.length-1&&(a++,b=this.textFormatRanges[a],c.__merge(b.format),sa.__context.font=sa.getFont(c),e=c.size,f=.185*c.size,d=c.leading,l=e+f+d,-1<n&&(m=sa.__context.measureText(" ").width));
for(var y=b.format,w;v<this.text.length;)if(-1<q&&(-1==n||q<n)&&b.end>=q){g=new Qb(b.format,v,q);h=this.text;for(w=[];v<q;)k=v++,w.push(sa.__context.measureText(h.charAt(k)).width);g.advances=w;g.offsetX=p;g.ascent=e;g.descent=f;g.leading=d;g.lineIndex=x;g.offsetY=u;p=g.advances;for(h=v=0;h<p.length;)w=p[h],++h,v+=w;g.width=v;g.height=l;this.layoutGroups.push(g);u+=l;p=2;this.wordWrap&&g.offsetX+g.width>this.width-2&&(g.offsetY=u,g.offsetX=p,u+=l,x++);v=q+1;q=this.text.indexOf("\n",v);x++;b.end==
q&&(a<this.textFormatRanges.length-1&&(a++,b=this.textFormatRanges[a],c.__merge(b.format),sa.__context.font=sa.getFont(c),e=c.size,f=.185*c.size,d=c.leading,l=e+f+d,-1<n&&(m=sa.__context.measureText(" ").width)),y=b.format)}else if(b.end>=n&&-1<n)for(g=null,w=!1;;){-1==n&&(n=b.end);h=this.text;k=[];for(var z=v;z<n;){var A=z++;k.push(sa.__context.measureText(h.charAt(A)).width)}h=k;for(z=k=0;z<h.length;)A=h[z],++z,k+=A;this.wordWrap&&p+k>this.width-2&&(w=!0);if(w){u+=l;p=this.layoutGroups.length-1;
for(r=0;;){g=this.layoutGroups[p];if(0<p&&g.startIndex>t)r++;else break;p--}x++;p=2;if(0<r)for(t=this.layoutGroups[this.layoutGroups.length-r].offsetX,r=this.layoutGroups.length-r,w=this.layoutGroups.length;r<w;)g=r++,g=this.layoutGroups[g],g.offsetX-=t,g.offsetY=u,g.lineIndex=x,p+=g.width;g=new Qb(b.format,v,n);g.advances=h;g.offsetX=p;g.ascent=e;g.descent=f;g.leading=d;g.lineIndex=x;g.offsetY=u;g.width=k;g.height=l;this.layoutGroups.push(g);p=k+m;r=m;w=!1}else null!=g&&v==n?(2!=b.format.align&&
(g.endIndex=n),g.advances.push(m),r+=m):(null==g||2==y.align?(g=new Qb(b.format,v,n),g.advances=h,g.offsetX=p,g.ascent=e,g.descent=f,g.leading=d,g.lineIndex=x,g.offsetY=u,g.width=k,g.height=l,this.layoutGroups.push(g)):(g.endIndex=n,g.advances=g.advances.concat(h),g.width+=r+k),g.advances.push(m),r=m),p+=k+m;v=n+1;t=n;n=this.text.indexOf(" ",t+1);b.end<=t&&(g=null,a<this.textFormatRanges.length-1&&(a++,b=this.textFormatRanges[a],c.__merge(b.format),sa.__context.font=sa.getFont(c),e=c.size,f=.185*
c.size,d=c.leading,l=e+f+d,-1<n&&(m=sa.__context.measureText(" ").width)));if(n>q&&-1<q||v>this.text.length||n>b.end||-1==n&&-1<q)break}else{if(v>=b.end)break;g=new Qb(b.format,v,b.end);h=this.text;for(w=[];v<b.end;)k=v++,w.push(sa.__context.measureText(h.charAt(k)).width);g.advances=w;g.offsetX=p;g.ascent=e;g.descent=f;g.leading=d;g.lineIndex=x;g.offsetY=u;v=g.advances;for(w=h=0;w<v.length;)k=v[w],++w,h+=k;g.width=h;g.height=l;this.layoutGroups.push(g);p+=g.width;v=b.end;a<this.textFormatRanges.length-
1&&(a++,b=this.textFormatRanges[a],c.__merge(b.format),sa.__context.font=sa.getFont(c),e=c.size,f=.185*c.size,d=c.leading,l=e+f+d,-1<n&&(m=sa.__context.measureText(" ").width))}},setTextAlignment:function(){for(var a=-1,b=0,c,d,e=0,f=this.layoutGroups.length;e<f;){var g=e++;c=this.layoutGroups[g];if(c.lineIndex!=a)switch(a=c.lineIndex,c.format.align){case 0:b=this.lineWidths[a]<this.width-4?Math.round((this.width-4-this.lineWidths[a])/2):0;break;case 4:b=this.lineWidths[a]<this.width-4?Math.round(this.width-
4-this.lineWidths[a]):0;break;case 2:if(this.lineWidths[a]<this.width-4){d=1;for(var b=g+1,h=this.layoutGroups.length;b<h;){var k=b++;if(this.layoutGroups[k].lineIndex==a)d++;else break}if(1<d&&(c=this.layoutGroups[g+d-1],c.endIndex<this.text.length&&"\n"!=this.text.charAt(c.endIndex)))for(b=(this.width-4-this.lineWidths[a])/(d-1),h=1;h<d;)k=h++,this.layoutGroups[g+k].offsetX+=b*k}b=0;break;default:b=0}0<b&&(c.offsetX+=b)}},update:function(){null==this.text||""==T.trim(this.text)||0==this.textFormatRanges.length?
(this.lineAscents.splice(0,this.lineAscents.length),this.lineBreaks.splice(0,this.lineBreaks.length),this.lineDescents.splice(0,this.lineDescents.length),this.lineLeadings.splice(0,this.lineLeadings.length),this.lineHeights.splice(0,this.lineHeights.length),this.lineWidths.splice(0,this.lineWidths.length),this.layoutGroups.splice(0,this.layoutGroups.length),this.textHeight=this.textWidth=0,this.numLines=1,this.maxScrollH=0,this.bottomScrollV=this.maxScrollV=1):(this.getLayoutGroups(),this.getLineMeasurements(),
this.setTextAlignment());this.getBounds()},__class__:sa};var Hd=function(a,b,c){this.format=a;this.start=b;this.end=c};k["openfl._internal.text.TextFormatRange"]=Hd;Hd.__name__=!0;Hd.prototype={__class__:Hd};var Qb=function(a,b,c){this.format=a;this.startIndex=b;this.endIndex=c};k["openfl._internal.text.TextLayoutGroup"]=Qb;Qb.__name__=!0;Qb.prototype={__class__:Qb};var mc=function(){Ja.call(this);null==S.application&&(S.application=this)};k["openfl.display.Application"]=mc;mc.__name__=!0;mc.__super__=
Ja;mc.prototype=q(Ja.prototype,{create:function(a){this.config=a;this.backend.create(a);if(null!=a){Object.prototype.hasOwnProperty.call(a,"fps")&&this.backend.setFrameRate(a.fps);if(Object.prototype.hasOwnProperty.call(a,"windows"))for(a=a.windows;0<a.length;){a=new Uc(a[0]);this.createWindow(a);break}if(null==this.preloader||this.preloader.complete)this.onPreloadComplete()}},__class__:mc});var Pa=function(a,b,c){null==c&&(c=!1);y.call(this);this.bitmapData=a;this.pixelSnapping=b;this.smoothing=
c;null==b&&(this.pixelSnapping=1)};k["openfl.display.Bitmap"]=Pa;Pa.__name__=!0;Pa.__super__=y;Pa.prototype=q(y.prototype,{__getBounds:function(a,b){if(null!=this.bitmapData){var c=Z.__temp;c.setTo(0,0,this.bitmapData.width,this.bitmapData.height);c.__transform(c,b);a.__expand(c.x,c.y,c.width,c.height)}},__hitTest:function(a,b,c,d,e,f){if(!f.get_visible()||this.__isMask||null==this.bitmapData||null!=this.get_mask()&&!this.get_mask().__hitTestMask(a,b))return!1;this.__getWorldTransform();c=this.__worldTransform.__transformInverseX(a,
b);a=this.__worldTransform.__transformInverseY(a,b);return 0<c&&0<a&&c<=this.bitmapData.width&&a<=this.bitmapData.height?(null==d||e||d.push(f),!0):!1},__hitTestMask:function(a,b){if(null==this.bitmapData)return!1;this.__getWorldTransform();var c=this.__worldTransform.__transformInverseX(a,b),d=this.__worldTransform.__transformInverseY(a,b);return 0<c&&0<d&&c<=this.bitmapData.width&&d<=this.bitmapData.height?!0:!1},__renderCairo:function(a){ce.render(this,a)},__renderCairoMask:function(a){a.cairo.rectangle(0,
0,this.get_width(),this.get_height())},__renderCanvas:function(a){ee.render(this,a)},__renderCanvasMask:function(a){a.context.rect(0,0,this.get_width(),this.get_height())},__updateMask:function(a){null!=this.bitmapData&&(a.__commands.overrideMatrix(this.__worldTransform),a.beginFill(0),a.drawRect(0,0,this.bitmapData.width,this.bitmapData.height),null==a.__bounds&&(a.__bounds=new Z),this.__getBounds(a.__bounds,Y.__identity),y.prototype.__updateMask.call(this,a))},get_height:function(){return null!=
this.bitmapData?this.bitmapData.height*this.get_scaleY():0},set_height:function(a){return null!=this.bitmapData?(a!=this.bitmapData.height&&this.set_scaleY(a/this.bitmapData.height),a):0},get_width:function(){return null!=this.bitmapData?this.bitmapData.width*this.get_scaleX():0},__class__:Pa});var eb=function(a,b,c,d){null==d&&(d=-1);null==c&&(c=!0);this.transparent=c;null==a&&(a=0);null==b&&(b=0);0>a&&(a=0);0>b&&(b=0);this.width=a;this.height=b;this.rect=new Z(0,0,a,b);0<a&&0<b&&(c?0==(d&-16777216)&&
(d=0):d=-16777216|d&16777215,this.image=new ja(null,0,0,a,b,d<<8|d>>24&255),this.image.set_transparent(c),this.__isValid=!0);this.__createUVs();this.__worldTransform=new Y;this.__worldColorTransform=new hb};k["openfl.display.BitmapData"]=eb;eb.__name__=!0;eb.__interfaces__=[Qd];eb.fromBytes=function(a,b,c){var d=new eb(0,0,!0);d.__fromBytes(a,b,c);return d};eb.fromCanvas=function(a,b){null==b&&(b=!0);if(null==a)return null;var c=new eb(0,0,b);c.__fromImage(ja.fromCanvas(a));c.image.set_transparent(b);
return c};eb.fromImage=function(a,b){null==b&&(b=!0);if(null==a||null==a.buffer)return null;var c=new eb(0,0,b);c.__fromImage(a);c.image.set_transparent(b);return c};eb.prototype={getSurface:function(){if(!this.__isValid)return null;null==this.__surface&&(this.__surface=ae.fromImage(this.image));return this.__surface},__createUVs:function(a,b,c,d,e,f,g,h){null==h&&(h=1);null==g&&(g=0);null==f&&(f=1);null==e&&(e=1);null==d&&(d=0);null==c&&(c=1);null==b&&(b=0);null==a&&(a=0);null==this.__uvData&&(this.__uvData=
new Id);this.__uvData.x0=a;this.__uvData.y0=b;this.__uvData.x1=c;this.__uvData.y1=d;this.__uvData.x2=e;this.__uvData.y2=f;this.__uvData.x3=g;this.__uvData.y3=h},__fromBytes:function(a,b,c){var d=this;ja.fromBytes(Db.toBytes(a),function(a){d.__fromImage(a);if(null!=b){U.convertToCanvas(a);U.createImageData(a);for(var f=a.buffer.data,g=0,h=Db.get_length(b);g<h;){var k=g++,l=b.readUnsignedByte();f[4*k+3]=l}a.dirty=!0}null!=c&&c(d)})},__fromImage:function(a){null!=a&&null!=a.buffer&&(this.image=a,this.width=
a.width,this.height=a.height,this.rect=new Z(0,0,a.width,a.height),this.__isValid=!0)},__sync:function(){U.sync(this.image,!1)},__class__:eb};var Id=function(){this.x0=this.x1=this.x2=this.x3=this.y0=this.y1=this.y2=this.y3=0};k["openfl.display.TextureUvs"]=Id;Id.__name__=!0;Id.prototype={__class__:Id};var ge={};k["openfl.display._CapsStyle.CapsStyle_Impl_"]=ge;ge.__name__=!0;ge.toString=function(a){switch(a){case 0:return"none";case 1:return"round";case 2:return"square";default:return null}};var Jd=
function(){};k["openfl.display.FrameLabel"]=Jd;Jd.__name__=!0;Jd.__super__=L;Jd.prototype=q(L.prototype,{__class__:Jd});var Ib=function(){this.__dirty=!0;this.__commands=new fc;this.__positionY=this.__positionX=this.__strokePadding=0;this.__hardware=!0;this.moveTo(0,0)};k["openfl.display.Graphics"]=Ib;Ib.__name__=!0;Ib.prototype={beginBitmapFill:function(a,b,c,d){null==d&&(d=!1);null==c&&(c=!0);this.__commands.beginBitmapFill(a,null!=b?b.clone():null,c,d);this.__visible=!0},beginFill:function(a,b){null==
b&&(b=1);null==a&&(a=0);this.__commands.beginFill(a&16777215,b);0<b&&(this.__visible=!0)},clear:function(){this.__commands.clear();this.__strokePadding=0;null!=this.__bounds&&(this.set___dirty(!0),this.__transformDirty=!0,this.__bounds=null);this.__visible=!1;this.__hardware=!0;this.moveTo(0,0)},drawRect:function(a,b,c,d){0>=c||0>=d||(this.__inflateBounds(a-this.__strokePadding,b-this.__strokePadding),this.__inflateBounds(a+c+this.__strokePadding,b+d+this.__strokePadding),this.__commands.drawRect(a,
b,c,d),this.set___dirty(!0))},endFill:function(){this.__commands.endFill()},lineStyle:function(a,b,c,d,e,f,g,h){null==h&&(h=3);null==e&&(e=2);null==d&&(d=!1);null==c&&(c=1);null==b&&(b=0);null!=a&&(1==g?a>this.__strokePadding&&(this.__strokePadding=a):a/2>this.__strokePadding&&(this.__strokePadding=a/2));this.__commands.lineStyle(a,b,c,d,e,f,g,h);null!=a&&(this.__visible=!0)},lineTo:function(a,b){this.__inflateBounds(this.__positionX-this.__strokePadding,this.__positionY-this.__strokePadding);this.__inflateBounds(this.__positionX+
this.__strokePadding,this.__positionY+this.__strokePadding);this.__positionX=a;this.__positionY=b;this.__inflateBounds(this.__positionX-this.__strokePadding,this.__positionY-this.__strokePadding);this.__inflateBounds(this.__positionX+2*this.__strokePadding,this.__positionY+this.__strokePadding);this.__commands.lineTo(a,b);this.__hardware=!1;this.set___dirty(!0)},moveTo:function(a,b){this.__positionX=a;this.__positionY=b;this.__commands.moveTo(a,b)},__getBounds:function(a,b){if(null!=this.__bounds){var c=
Z.__temp;this.__bounds.__transform(c,b);a.__expand(c.x,c.y,c.width,c.height)}},__hitTest:function(a,b,c,d){if(null==this.__bounds)return!1;var e=d.__transformInverseX(a,b);a=d.__transformInverseY(a,b);return e>this.__bounds.x&&a>this.__bounds.y&&this.__bounds.contains(e,a)?c?g.hitTest(this,e,a):!0:!1},__inflateBounds:function(a,b){null==this.__bounds?(this.__bounds=new Z(a,b,0,0),this.__transformDirty=!0):(a<this.__bounds.x&&(this.__bounds.width+=this.__bounds.x-a,this.__bounds.x=a,this.__transformDirty=
!0),b<this.__bounds.y&&(this.__bounds.height+=this.__bounds.y-b,this.__bounds.y=b,this.__transformDirty=!0),a>this.__bounds.x+this.__bounds.width&&(this.__bounds.width=a-this.__bounds.x),b>this.__bounds.y+this.__bounds.height&&(this.__bounds.height=b-this.__bounds.y))},set___dirty:function(a){a&&null!=this.__owner&&this.__owner.__setRenderDirty();return this.__dirty=a},__class__:Ib,__properties__:{set___dirty:"set___dirty"}};var fe={};k["openfl.display._JointStyle.JointStyle_Impl_"]=fe;fe.__name__=
!0;fe.toString=function(a){switch(a){case 0:return"bevel";case 1:return"miter";case 2:return"round";default:return null}};var Kd=function(){};k["openfl.display.Loader"]=Kd;Kd.__name__=!0;Kd.__super__=oa;Kd.prototype=q(oa.prototype,{__class__:Kd});var nc=function(a){fa.call(this);if(null!=a&&(this.display=a,S.current.addChild(a),r.__instanceof(a,Ya)))r.__cast(a,Ya).onInit()};k["openfl.display.Preloader"]=nc;nc.__name__=!0;nc.__super__=fa;nc.prototype=q(fa.prototype,{load:function(a,b){for(var c=[],
d=null,e=0,f=a.length;e<f;){var g=e++,d=a[g];switch(b[g]){case "MUSIC":case "SOUND":d=Kb.withoutExtension(d),F.remove(c,d)||this.total++,c.push(d)}}for(e=0;e<c.length;)f=c[e],++e,d=new Eb,d.addEventListener("complete",l(this,this.sound_onComplete)),d.addEventListener("ioError",l(this,this.sound_onIOError)),d.load(new Vc(f+".ogg"));fa.prototype.load.call(this,a,b)},start:function(){null!=this.display&&r.__instanceof(this.display,Ya)?(this.display.addEventListener("complete",l(this,this.display_onComplete)),
r.__cast(this.display,Ya).onLoaded()):fa.prototype.start.call(this)},update:function(a,b){if(null!=this.display&&r.__instanceof(this.display,Ya))r.__cast(this.display,Ya).onUpdate(a,b)},display_onComplete:function(a){this.display.removeEventListener("complete",l(this,this.display_onComplete));S.current.removeChild(this.display);S.current.stage.set_focus(null);this.display=null;fa.prototype.start.call(this)},sound_onComplete:function(a){this.loaded++;this.onProgress.dispatch(this.loaded,this.total);
this.loaded==this.total&&this.start()},sound_onIOError:function(a){this.loaded++;this.onProgress.dispatch(this.loaded,this.total);this.loaded==this.total&&this.start()},__class__:nc});var Ce=function(){};k["openfl.display.Shader"]=Ce;Ce.__name__=!0;var hc=function(a,b){oa.call(this);this.application=a.application;this.window=a;null==b?(this.__transparent=!0,this.set_color(0)):this.set_color(b);this.set_name(null);this.__deltaTime=0;this.__displayState=2;this.__lastClickTime=this.__mouseY=this.__mouseX=
0;this.stageWidth=a.__width*a.__scale|0;this.stageHeight=a.__height*a.__scale|0;this.stage=this;this.align=6;this.allowsFullScreenInteractive=this.allowsFullScreen=!1;this.quality=1;this.scaleMode=2;this.stageFocusRect=!0;this.__macKeyboard=/AppleWebKit/.test(navigator.userAgent)&&/Mobile\/\w+/.test(navigator.userAgent)||/Mac/.test(navigator.platform);this.__clearBeforeRender=!0;this.__stack=[];this.__mouseOutStack=[];var c;c=new ec;c.data=[];c.length=0;c.fixed=!1;c=this.stage3Ds=c;var d=new Wc;if(!c.fixed){c.length++;
if(c.data.length<c.length){var e;e=Array(c.data.length+10);Xb.blit(c.data,0,e,0,c.data.length);c.data=e}c.data[c.length-1]=d}c.length;null==S.current.stage&&this.stage.addChild(S.current)};k["openfl.display.Stage"]=hc;hc.__name__=!0;hc.__interfaces__=[Ac];hc.__super__=oa;hc.prototype=q(oa.prototype,{globalToLocal:function(a){return a.clone()},localToGlobal:function(a){return a.clone()},onGamepadAxisMove:function(a,b,c){H.__onGamepadAxisMove(a,b,c)},onGamepadButtonDown:function(a,b){H.__onGamepadButtonDown(a,
b)},onGamepadButtonUp:function(a,b){H.__onGamepadButtonUp(a,b)},onGamepadConnect:function(a){H.__onGamepadConnect(a)},onGamepadDisconnect:function(a){H.__onGamepadDisconnect(a)},onJoystickAxisMove:function(a,b,c){},onJoystickButtonDown:function(a,b){},onJoystickButtonUp:function(a,b){},onJoystickConnect:function(a){},onJoystickDisconnect:function(a){},onJoystickHatMove:function(a,b,c){},onJoystickTrackballMove:function(a,b,c){},onKeyDown:function(a,b,c){null!=this.window&&this.window==a&&this.__onKey("keyDown",
b,c)},onKeyUp:function(a,b,c){null!=this.window&&this.window==a&&this.__onKey("keyUp",b,c)},onModuleExit:function(a){null!=this.window&&(a=new t("deactivate"),this.__broadcast(a,!0))},onMouseDown:function(a,b,c,d){if(null!=this.window&&this.window==a){var e;switch(d){case 1:e="middleMouseDown";break;case 2:e="rightMouseDown";break;default:e="mouseDown"}this.__onMouse(e,b*a.__scale|0,c*a.__scale|0,d)}},onMouseMove:function(a,b,c){null!=this.window&&this.window==a&&this.__onMouse("mouseMove",b*a.__scale|
0,c*a.__scale|0,0)},onMouseMoveRelative:function(a,b,c){},onMouseUp:function(a,b,c,d){if(null!=this.window&&this.window==a){var e;switch(d){case 1:e="middleMouseUp";break;case 2:e="rightMouseUp";break;default:e="mouseUp"}this.__onMouse(e,b*a.__scale|0,c*a.__scale|0,d)}},onMouseWheel:function(a,b,c){null!=this.window&&this.window==a&&this.__onMouseWheel(b*a.__scale|0,c*a.__scale|0)},onPreloadComplete:function(){},onPreloadProgress:function(a,b){},onRenderContextLost:function(a){},onRenderContextRestored:function(a,
b){},onTextEdit:function(a,b,c,d){},onTextInput:function(a,b){if(null!=this.window&&this.window==a){var c=[];null==this.__focus?this.__getInteractive(c):this.__focus.__getInteractive(c);var d=new Fb("textInput",!0,!1,b);0<c.length?(c.reverse(),this.__fireEvent(d,c)):this.__broadcast(d,!0)}},onTouchMove:function(a){this.__onTouch("touchMove",a)},onTouchEnd:function(a){this.__onTouch("touchEnd",a)},onTouchStart:function(a){this.__onTouch("touchBegin",a)},onWindowActivate:function(a){null!=this.window&&
this.window==a&&(a=new t("activate"),this.__broadcast(a,!0))},onWindowClose:function(a){this.window==a&&(this.window=null)},onWindowCreate:function(a){if(null!=this.window&&this.window==a&&null!=a.renderer)switch(a=a.renderer.context,a[1]){case 1:this.__renderer=new Tc(this.stageWidth,this.stageHeight,a[2])}},onWindowDeactivate:function(a){null!=this.window&&this.window==a&&(a=new t("deactivate"),this.__broadcast(a,!0))},onWindowDropFile:function(a,b){},onWindowEnter:function(a){},onWindowFocusIn:function(a){null!=
this.window&&this.window==a&&(a=new Gb("focusIn",!0,!1,null,!1,0),this.__broadcast(a,!0))},onWindowFocusOut:function(a){null!=this.window&&this.window==a&&(a=new Gb("focusOut",!0,!1,null,!1,0),this.__broadcast(a,!0))},onWindowFullscreen:function(a){null!=this.window&&this.window==a&&2==this.__displayState&&(this.__displayState=1)},onWindowLeave:function(a){null!=this.window&&this.window==a&&this.__dispatchEvent(new t("mouseLeave"))},onWindowMinimize:function(a){},onWindowMove:function(a,b,c){},onWindowResize:function(a,
b,c){null!=this.window&&this.window==a&&(2==this.__displayState||a.__fullscreen||(this.__displayState=2),this.stageWidth=b*a.__scale|0,this.stageHeight=c*a.__scale|0,null!=this.__renderer&&this.__renderer.resize(this.stageWidth,this.stageHeight),a=new t("resize"),this.__broadcast(a,!1))},onWindowRestore:function(a){},render:function(a){if(null!=a.window&&a.window==this.window&&(null!=this.application&&0<this.application.windows.length&&(this.__transformDirty||(this.__transformDirty=!0,y.__worldTransformDirty++),
this.__renderDirty||(this.__updateCachedBitmap=!0,this.__updateFilters=null!=this.get_filters()&&0<this.get_filters().length,this.__renderDirty=!0,y.__worldRenderDirty++)),!this.__rendering)){this.__rendering=!0;this.__broadcast(new t("enterFrame"),!0);this.__invalidated&&(this.__invalidated=!1,this.__broadcast(new t("render"),!0));this.__renderable=!0;this.__enterFrame(this.__deltaTime);this.__deltaTime=0;this.__update(!1,!0);if(null!=this.__renderer){a=a.context;switch(a[1]){case 4:a=a[2],r.__cast(this.__renderer,
Rc).cairo=a,this.__renderer.renderSession.cairo=a}this.__renderer.render(this)}this.__rendering=!1}},update:function(a){this.__deltaTime=a},__drag:function(a){var b=this.__dragObject.parent;null!=b&&(a=b.globalToLocal(a));b=a.x+this.__dragOffsetX;a=a.y+this.__dragOffsetY;null!=this.__dragBounds&&(b<this.__dragBounds.x?b=this.__dragBounds.x:b>this.__dragBounds.get_right()&&(b=this.__dragBounds.get_right()),a<this.__dragBounds.y?a=this.__dragBounds.y:a>this.__dragBounds.get_bottom()&&(a=this.__dragBounds.get_bottom()));
this.__dragObject.set_x(b);this.__dragObject.set_y(a)},__fireEvent:function(a,b){var c=b.length;if(0==c)a.eventPhase=2,a.target.__broadcast(a,!1);else{a.eventPhase=1;a.target=b[b.length-1];for(var d=0,e=c-1;d<e;){var f=d++;b[f].__broadcast(a,!1);if(a.__isCanceled)return}a.eventPhase=2;a.target.__broadcast(a,!1);if(!a.__isCanceled&&a.bubbles)for(a.eventPhase=3,c-=2;0<=c;){b[c].__broadcast(a,!1);if(a.__isCanceled)break;c--}}},__getInteractive:function(a){null!=a&&a.push(this);return!0},__onKey:function(a,
b,c){ia.__altKey=ya.get_altKey(c);ia.__commandKey=ya.get_metaKey(c);ia.__ctrlKey=ya.get_ctrlKey(c);ia.__shiftKey=ya.get_shiftKey(c);var d=[];null==this.__focus?this.__getInteractive(d):this.__focus.__getInteractive(d);if(0<d.length){var e;switch(b){case 1073742048:case 1073742049:case 1073742050:case 1073742051:e=1;break;case 1073742052:case 1073742053:case 1073742054:case 1073742055:e=2;break;case 1073741908:case 1073741909:case 1073741910:case 1073741911:case 1073741912:case 1073741913:case 1073741914:case 1073741915:case 1073741916:case 1073741917:case 1073741918:case 1073741919:case 1073741920:case 1073741921:case 1073741922:case 1073741923:case 1073742044:e=
3;break;default:e=0}switch(b){case 8:b=8;break;case 9:b=9;break;case 13:b=13;break;case 27:b=27;break;case 32:b=32;break;case 33:b=49;break;case 34:b=222;break;case 35:b=51;break;case 36:b=52;break;case 37:b=53;break;case 38:b=55;break;case 39:b=222;break;case 40:b=57;break;case 41:b=48;break;case 42:b=56;break;case 44:b=188;break;case 45:b=189;break;case 46:b=190;break;case 47:b=191;break;case 48:b=48;break;case 49:b=49;break;case 50:b=50;break;case 51:b=51;break;case 52:b=52;break;case 53:b=53;
break;case 54:b=54;break;case 55:b=55;break;case 56:b=56;break;case 57:b=57;break;case 58:b=186;break;case 59:b=186;break;case 60:b=60;break;case 61:b=187;break;case 62:b=190;break;case 63:b=191;break;case 64:b=50;break;case 91:b=219;break;case 92:b=220;break;case 93:b=221;break;case 94:b=54;break;case 95:b=189;break;case 96:b=192;break;case 97:b=65;break;case 98:b=66;break;case 99:b=67;break;case 100:b=68;break;case 101:b=69;break;case 102:b=70;break;case 103:b=71;break;case 104:b=72;break;case 105:b=
73;break;case 106:b=74;break;case 107:b=75;break;case 108:b=76;break;case 109:b=77;break;case 110:b=78;break;case 111:b=79;break;case 112:b=80;break;case 113:b=81;break;case 114:b=82;break;case 115:b=83;break;case 116:b=84;break;case 117:b=85;break;case 118:b=86;break;case 119:b=87;break;case 120:b=88;break;case 121:b=89;break;case 122:b=90;break;case 127:b=46;break;case 1073741881:b=20;break;case 1073741882:b=112;break;case 1073741883:b=113;break;case 1073741884:b=114;break;case 1073741885:b=115;
break;case 1073741886:b=116;break;case 1073741887:b=117;break;case 1073741888:b=118;break;case 1073741889:b=119;break;case 1073741890:b=120;break;case 1073741891:b=121;break;case 1073741892:b=122;break;case 1073741893:b=123;break;case 1073741894:b=301;break;case 1073741895:b=145;break;case 1073741896:b=19;break;case 1073741897:b=45;break;case 1073741898:b=36;break;case 1073741899:b=33;break;case 1073741901:b=35;break;case 1073741902:b=34;break;case 1073741903:b=39;break;case 1073741904:b=37;break;
case 1073741905:b=40;break;case 1073741906:b=38;break;case 1073741907:b=144;break;case 1073741908:b=111;break;case 1073741909:b=106;break;case 1073741910:b=109;break;case 1073741911:b=107;break;case 1073741912:b=108;break;case 1073741913:b=97;break;case 1073741914:b=98;break;case 1073741915:b=99;break;case 1073741916:b=100;break;case 1073741917:b=101;break;case 1073741918:b=102;break;case 1073741919:b=103;break;case 1073741920:b=104;break;case 1073741921:b=105;break;case 1073741922:b=96;break;case 1073741923:b=
110;break;case 1073741925:b=302;break;case 1073741928:b=124;break;case 1073741929:b=125;break;case 1073741930:b=126;break;case 1073741982:b=13;break;case 1073742044:b=110;break;case 1073742048:b=17;break;case 1073742049:b=16;break;case 1073742050:b=18;break;case 1073742051:b=15;break;case 1073742052:b=17;break;case 1073742053:b=16;break;case 1073742054:b=18;break;case 1073742055:b=15;break}var f=he.__getCharCode(b,ya.get_shiftKey(c));c=new Xc(a,!0,!1,f,b,e,this.__macKeyboard?ya.get_ctrlKey(c)||ya.get_metaKey(c):
ya.get_ctrlKey(c),ya.get_altKey(c),ya.get_shiftKey(c),ya.get_ctrlKey(c),ya.get_metaKey(c));d.reverse();this.__fireEvent(c,d);c.__isCanceled&&("keyDown"==a?this.window.onKeyDown.cancel():this.window.onKeyUp.cancel())}},__onMouse:function(a,b,c,d){if(!(2<d)){this.__mouseX=b;this.__mouseY=c;var e=[],f=null,g=new x(b,c);this.__hitTest(b,c,!0,e,!0,this)?f=e[e.length-1]:(f=this,e=[this]);null==f&&(f=this);b=null;switch(a){case "mouseDown":f.get_tabEnabled()?this.set_focus(f):this.set_focus(null);this.__mouseDownLeft=
f;break;case "middleMouseDown":this.__mouseDownMiddle=f;break;case "rightMouseDown":this.__mouseDownRight=f;break;case "mouseUp":this.__mouseDownLeft==f&&(b="click");this.__mouseDownLeft=null;break;case "middleMouseUp":this.__mouseDownMiddle==f&&(b="middleClick");this.__mouseDownMiddle=null;break;case "rightMouseUp":this.__mouseDownRight==f&&(b="rightClick"),this.__mouseDownRight=null}this.__fireEvent(ia.__create(a,d,this.__mouseX,this.__mouseY,f==this?g:f.globalToLocal(g),f),e);null!=b&&(this.__fireEvent(ia.__create(b,
d,this.__mouseX,this.__mouseY,f==this?g:f.globalToLocal(g),f),e),"mouseUp"==a&&r.__cast(f,ta).doubleClickEnabled&&(a=S.getTimer(),500>a-this.__lastClickTime?(this.__fireEvent(ia.__create("doubleClick",d,this.__mouseX,this.__mouseY,f==this?g:f.globalToLocal(g),f),e),this.__lastClickTime=0):this.__lastClickTime=a));a=null;for(f=0;f<e.length;)if(a=e[f],++f,a=a.__getCursor(),null!=a){Lc.set_cursor(a);break}null==a&&Lc.set_cursor(v.ARROW);a=0;for(b=this.__mouseOutStack;a<b.length;)c=b[a],++a,-1==F.indexOf(e,
c,0)&&(F.remove(this.__mouseOutStack,c),f=c.globalToLocal(g),f=ia.__create("mouseOut",d,this.__mouseX,this.__mouseY,f,c),f.bubbles=!1,c.__dispatchEvent(f));for(a=0;a<e.length;)b=e[a],++a,-1==F.indexOf(this.__mouseOutStack,b,0)&&(b.hasEventListener("mouseOver")&&(f=b.globalToLocal(g),f=ia.__create("mouseOver",d,this.__mouseX,this.__mouseY,f,b),f.bubbles=!1,b.__dispatchEvent(f)),b.hasEventListener("mouseOut")&&this.__mouseOutStack.push(b));null!=this.__dragObject&&this.__drag(g)}},__onMouseWheel:function(a,
b){var c=this.__mouseX,d=this.__mouseY,e=[];this.__hitTest(c,d,!1,e,!0,this)||(e=[this]);var f=e[e.length-1],c=new x(c,d),d=b|0;this.__fireEvent(ia.__create("mouseWheel",0,this.__mouseX,this.__mouseY,f==this?c:f.globalToLocal(c),f,d),e)},__onTouch:function(a,b){var c=new x(b.x*this.stageWidth,b.y*this.stageHeight);this.__mouseX=c.x;this.__mouseY=c.y;var d=[];if(this.__hitTest(this.__mouseX,this.__mouseY,!1,d,!0,this)){var e=d[d.length-1];null==e&&(e=this);c=e.globalToLocal(c);e=Hb.__create(a,null,
this.__mouseX,this.__mouseY,c,e);e.touchPointID=b.id;e.isPrimaryTouchPoint=!0;this.__fireEvent(e,d)}else d=Hb.__create(a,null,this.__mouseX,this.__mouseY,c,this),d.touchPointID=b.id,d.isPrimaryTouchPoint=!0,this.__fireEvent(d,[this.stage])},__startDrag:function(a,b,c){this.__dragBounds=null==c?null:c.clone();this.__dragObject=a;null!=this.__dragObject&&(b?(this.__dragOffsetX=-this.__dragObject.get_width()/2,this.__dragOffsetY=-this.__dragObject.get_height()/2):(a=new x(this.get_mouseX(),this.get_mouseY()),
b=this.__dragObject.parent,null!=b&&(a=b.globalToLocal(a)),this.__dragOffsetX=this.__dragObject.get_x()-a.x,this.__dragOffsetY=this.__dragObject.get_y()-a.y))},__stopDrag:function(a){this.__dragObject=this.__dragBounds=null},__update:function(a,b,c){if(a)0<y.__worldTransformDirty&&(oa.prototype.__update.call(this,!0,b,c),b&&(y.__worldTransformDirty=0,this.__dirty=!0));else if(0<y.__worldTransformDirty||this.__dirty||0<y.__worldRenderDirty)oa.prototype.__update.call(this,!1,b,c),b&&(y.__worldTransformDirty=
0,y.__worldRenderDirty=0,this.__dirty=!1)},get_mouseX:function(){return this.__mouseX},get_mouseY:function(){return this.__mouseY},set_color:function(a){this.__colorSplit=[((a&16711680)>>>16)/255,((a&65280)>>>8)/255,(a&255)/255];this.__colorString="#"+T.hex(a,6);return this.__color=a},get_focus:function(){return this.__focus},set_focus:function(a){if(a!=this.__focus){var b=this.__focus;this.__focus=a;if(null!=b){var c=new Gb("focusOut",!0,!1,this.__focus,!1,0);this.__stack=[];b.__getInteractive(this.__stack);
this.__stack.reverse();this.__fireEvent(c,this.__stack)}null!=this.__focus&&(b=new Gb("focusIn",!0,!1,b,!1,0),this.__stack=[],a.__getInteractive(this.__stack),this.__stack.reverse(),this.__fireEvent(b,this.__stack))}return this.__focus},__class__:hc,__properties__:q(oa.prototype.__properties__,{set_focus:"set_focus",get_focus:"get_focus",set_color:"set_color"})});var Wc=function(){L.call(this)};k["openfl.display.Stage3D"]=Wc;Wc.__name__=!0;Wc.__super__=L;Wc.prototype=q(L.prototype,{__class__:Wc});
var ie=function(){};k["openfl.display.Tilesheet"]=ie;ie.__name__=!0;ie.prototype={__class__:ie};var Uc=function(a){Nb.call(this,a)};k["openfl.display.Window"]=Uc;Uc.__name__=!0;Uc.__super__=Nb;Uc.prototype=q(Nb.prototype,{create:function(a){Nb.prototype.create.call(this,a);this.stage=new hc(this,Object.prototype.hasOwnProperty.call(this.config,"background")?this.config.background:16777215);a.addModule(this.stage)},__class__:Uc});var ic=function(a,b){null==b&&(b=0);null==a&&(a="");this.message=a;this.errorID=
b;this.name="Error"};k["openfl.errors.Error"]=ic;ic.__name__=!0;ic.prototype={toString:function(){return null!=this.message?this.message:"Error"},__class__:ic};var Rb=function(a){null==a&&(a="");ic.call(this,a);this.name="IOError"};k["openfl.errors.IOError"]=Rb;Rb.__name__=!0;Rb.__super__=ic;Rb.prototype=q(ic.prototype,{__class__:Rb});var jc=function(){Rb.call(this,"End of file was encountered");this.name="EOFError";this.errorID=2030};k["openfl.errors.EOFError"]=jc;jc.__name__=!0;jc.__super__=Rb;
jc.prototype=q(Rb.prototype,{__class__:jc});var t=function(a,b,c){null==c&&(c=!1);null==b&&(b=!1);this.type=a;this.bubbles=b;this.cancelable=c;this.eventPhase=2};k["openfl.events.Event"]=t;t.__name__=!0;t.prototype={stopImmediatePropagation:function(){this.__isCanceledNow=this.__isCanceled=!0},stopPropagation:function(){this.__isCanceled=!0},__class__:t};var Sb=function(a,b,c,d){null==d&&(d=!1);null==c&&(c=!1);null==b&&(b=!1);t.call(this,a,b,c);this.activating=d};k["openfl.events.ActivityEvent"]=
Sb;Sb.__name__=!0;Sb.__super__=t;Sb.prototype=q(t.prototype,{__class__:Sb});var Fb=function(a,b,c,d){null==d&&(d="");null==c&&(c=!1);null==b&&(b=!1);t.call(this,a,b,c);this.text=d};k["openfl.events.TextEvent"]=Fb;Fb.__name__=!0;Fb.__super__=t;Fb.prototype=q(t.prototype,{__class__:Fb});var jb=function(a,b,c,d,e){null==e&&(e=0);null==d&&(d="");null==c&&(c=!1);null==b&&(b=!1);Fb.call(this,a,b,c,d);this.errorID=e};k["openfl.events.ErrorEvent"]=jb;jb.__name__=!0;jb.__super__=Fb;jb.prototype=q(Fb.prototype,
{__class__:jb});var qc=function(a,b,c){this.callback=a;this.useCapture=b;this.priority=c};k["openfl.events._EventDispatcher.Listener"]=qc;qc.__name__=!0;qc.prototype={match:function(a,b){return p.compareMethods(this.callback,a)&&this.useCapture==b},__class__:qc};var Gb=function(a,b,c,d,e,f){null==f&&(f=0);null==e&&(e=!1);null==c&&(c=!1);null==b&&(b=!1);t.call(this,a,b,c);this.keyCode=f;this.shiftKey=e;this.relatedObject=d};k["openfl.events.FocusEvent"]=Gb;Gb.__name__=!0;Gb.__super__=t;Gb.prototype=
q(t.prototype,{__class__:Gb});var pc=function(a,b,c,d,e){null==e&&(e=!1);null==d&&(d=!1);null==c&&(c=!1);null==b&&(b=!1);Sb.call(this,a,b,c);this.fullScreen=d;this.interactive=e};k["openfl.events.FullScreenEvent"]=pc;pc.__name__=!0;pc.__super__=Sb;pc.prototype=q(Sb.prototype,{__class__:pc});var kc=function(a,b,c,d){null==c&&(c=!1);null==b&&(b=!0);t.call(this,a,b,c);this.device=d};k["openfl.events.GameInputEvent"]=kc;kc.__name__=!0;kc.__super__=t;kc.prototype=q(t.prototype,{__class__:kc});var Yc=function(a,
b,c,d,e){null==e&&(e=!1);null==d&&(d=0);null==c&&(c=!1);null==b&&(b=!1);this.status=d;this.redirected=e;t.call(this,a,b,c)};k["openfl.events.HTTPStatusEvent"]=Yc;Yc.__name__=!0;Yc.__super__=t;Yc.prototype=q(t.prototype,{__class__:Yc});var lc=function(a,b,c,d,e){null==e&&(e=0);null==d&&(d="");null==c&&(c=!1);null==b&&(b=!0);jb.call(this,a,b,c,d,e)};k["openfl.events.IOErrorEvent"]=lc;lc.__name__=!0;lc.__super__=jb;lc.prototype=q(jb.prototype,{__class__:lc});var Xc=function(a,b,c,d,e,f,g,h,k,l,m){null==
m&&(m=!1);null==l&&(l=!1);null==k&&(k=!1);null==h&&(h=!1);null==g&&(g=!1);null==e&&(e=0);null==d&&(d=0);null==c&&(c=!1);null==b&&(b=!1);t.call(this,a,b,c);this.charCode=d;this.keyCode=e;this.keyLocation=null!=f?f:0;this.ctrlKey=g;this.altKey=h;this.shiftKey=k;this.controlKey=l;this.commandKey=m};k["openfl.events.KeyboardEvent"]=Xc;Xc.__name__=!0;Xc.__super__=t;Xc.prototype=q(t.prototype,{__class__:Xc});var ia=function(a,b,c,d,e,f,g,h,k,l,m,p,n){null==n&&(n=0);null==p&&(p=!1);null==m&&(m=0);null==
l&&(l=!1);null==k&&(k=!1);null==h&&(h=!1);null==g&&(g=!1);null==e&&(e=0);null==d&&(d=0);null==c&&(c=!1);null==b&&(b=!0);t.call(this,a,b,c);this.shiftKey=k;this.altKey=h;this.ctrlKey=g;this.bubbles=b;this.relatedObject=f;this.delta=m;this.localX=d;this.localY=e;this.buttonDown=l;this.commandKey=p;this.clickCount=n};k["openfl.events.MouseEvent"]=ia;ia.__name__=!0;ia.__altKey=null;ia.__buttonDown=null;ia.__commandKey=null;ia.__ctrlKey=null;ia.__shiftKey=null;ia.__create=function(a,b,c,d,e,f,g){null==
g&&(g=0);switch(a){case "mouseDown":ia.__buttonDown=!0;break;case "mouseUp":ia.__buttonDown=!1}a=new ia(a,!0,!1,e.x,e.y,null,ia.__ctrlKey,ia.__altKey,ia.__shiftKey,ia.__buttonDown,g,ia.__commandKey);a.stageX=c;a.stageY=d;a.target=f;return a};ia.__super__=t;ia.prototype=q(t.prototype,{__class__:ia});var Zc=function(a,b,c,d,e){null==e&&(e=0);null==d&&(d=0);null==c&&(c=!1);null==b&&(b=!1);t.call(this,a,b,c);this.bytesLoaded=d;this.bytesTotal=e};k["openfl.events.ProgressEvent"]=Zc;Zc.__name__=!0;Zc.__super__=
t;Zc.prototype=q(t.prototype,{__class__:Zc});var $c=function(a,b,c,d,e){null==e&&(e=0);null==d&&(d="");null==c&&(c=!1);null==b&&(b=!1);jb.call(this,a,b,c,d,e)};k["openfl.events.SecurityErrorEvent"]=$c;$c.__name__=!0;$c.__super__=jb;$c.prototype=q(jb.prototype,{__class__:$c});var Hb=function(a,b,c,d,e,f,g,h,k,l,m,p,n,q,r,u,v,w,x,y){null==u&&(u=!1);null==r&&(r=!1);null==q&&(q=!1);null==n&&(n=!1);null==p&&(p=!1);null==l&&(l=0);null==k&&(k=0);null==h&&(h=0);null==g&&(g=0);null==f&&(f=0);null==e&&(e=!1);
null==d&&(d=0);null==c&&(c=!1);null==b&&(b=!0);t.call(this,a,b,c);this.touchPointID=d;this.isPrimaryTouchPoint=e;this.localX=f;this.localY=g;this.sizeX=h;this.sizeY=k;this.pressure=l;this.relatedObject=m;this.ctrlKey=p;this.altKey=n;this.shiftKey=q;this.commandKey=r;this.controlKey=u};k["openfl.events.TouchEvent"]=Hb;Hb.__name__=!0;Hb.__create=function(a,b,c,d,e,f){a=new Hb(a,!0,!1,0,!0,e.x,e.y,1,1,1);a.stageX=c;a.stageY=d;a.target=f;return a};Hb.__super__=t;Hb.prototype=q(t.prototype,{__class__:Hb});
var rc=function(){};k["openfl.filters.BitmapFilter"]=rc;rc.__name__=!0;rc.__expandBounds=function(a,b,c){var d=Z.__temp;d.setEmpty();for(var e=0;e<a.length;){var f=a[e];++e;f.__growBounds(d)}d.__transform(d,c);b.__expand(d.x,d.y,d.width,d.height)};rc.prototype={__growBounds:function(a){},__class__:rc};var je=function(){};k["openfl.geom.Matrix3D"]=je;je.__name__=!0;je.prototype={__class__:je};var cd=function(a){this.__colorTransform=new hb;this.concatenatedColorTransform=new hb;this.pixelBounds=new Z;
this.__displayObject=a;this.__hasMatrix=!0};k["openfl.geom.Transform"]=cd;cd.__name__=!0;cd.prototype={get_colorTransform:function(){return this.__colorTransform},__class__:cd,__properties__:{get_colorTransform:"get_colorTransform"}};var De=function(){};k["openfl.geom.Vector3D"]=De;De.__name__=!0;var Ee=function(){};k["openfl.media.ID3Info"]=Ee;Ee.__name__=!0;var Eb=function(a,b){L.call(this,this);this.bytesTotal=this.bytesLoaded=0;this.id3=null;this.isBuffering=!1;this.url=null;null!=a&&this.load(a,
b)};k["openfl.media.Sound"]=Eb;Eb.__name__=!0;Eb.__super__=L;Eb.prototype=q(L.prototype,{load:function(a,b){this.url=a.url;this.__soundID=Kb.withoutExtension(a.url);Eb.__registeredSounds.exists(this.__soundID)?this.dispatchEvent(new t("complete")):(Eb.__registeredSounds.set(this.__soundID,!0),createjs.Sound.addEventListener("fileload",l(this,this.SoundJS_onFileLoad)),createjs.Sound.addEventListener("fileerror",l(this,this.SoundJS_onFileError)),createjs.Sound.registerSound(this.url,this.__soundID))},
SoundJS_onFileLoad:function(a){a.id==this.__soundID&&(createjs.Sound.removeEventListener("fileload",l(this,this.SoundJS_onFileLoad)),createjs.Sound.removeEventListener("fileerror",l(this,this.SoundJS_onFileError)),this.dispatchEvent(new t("complete")))},SoundJS_onFileError:function(a){a.id==this.__soundID&&(createjs.Sound.removeEventListener("fileload",l(this,this.SoundJS_onFileLoad)),createjs.Sound.removeEventListener("fileerror",l(this,this.SoundJS_onFileError)),this.dispatchEvent(new lc("ioError")))},
__class__:Eb});var Ld=function(a){L.call(this,this);this.rightPeak=this.leftPeak=1;null!=a&&(this.__soundInstance=a,this.__soundInstance.addEventListener("complete",l(this,this.source_onComplete)),this.__isValid=!0)};k["openfl.media.SoundChannel"]=Ld;Ld.__name__=!0;Ld.__super__=L;Ld.prototype=q(L.prototype,{stop:function(){this.__isValid&&this.__soundInstance.stop()},__dispose:function(){this.__isValid&&(this.__soundInstance.stop(),this.__soundInstance=null,this.__isValid=!1)},get_position:function(){return this.__isValid?
this.__soundInstance.getPosition():0},set_position:function(a){if(!this.__isValid)return 0;this.__soundInstance.setPosition(a|0);return this.__soundInstance.getPosition()},get_soundTransform:function(){return this.__isValid?new Ob(this.__soundInstance.getVolume(),this.__soundInstance.getPan()):new Ob},set_soundTransform:function(a){if(!this.__isValid)return a;this.__soundInstance.setVolume(a.volume);this.__soundInstance.setPan(a.pan);return a},soundInstance_onComplete:function(a){this.dispatchEvent(new t("soundComplete"))},
source_onComplete:function(){this.__dispose();this.dispatchEvent(new t("soundComplete"))},__class__:Ld,__properties__:{set_soundTransform:"set_soundTransform",get_soundTransform:"get_soundTransform",set_position:"set_position",get_position:"get_position"}});var Fe=function(){};k["openfl.media.SoundLoaderContext"]=Fe;Fe.__name__=!0;var Ob=function(a,b){null==b&&(b=0);null==a&&(a=1);this.volume=a;this.pan=b;this.rightToRight=this.rightToLeft=this.leftToRight=this.leftToLeft=0};k["openfl.media.SoundTransform"]=
Ob;Ob.__name__=!0;Ob.prototype={__class__:Ob};var ad=function(a){L.call(this);this.bytesTotal=this.bytesLoaded=0;this.set_dataFormat(1);null!=a&&this.load(a)};k["openfl.net.URLLoader"]=ad;ad.__name__=!0;ad.__super__=L;ad.prototype=q(L.prototype,{getData:function(){return null},load:function(a){this.requestUrl(a.url,a.method,a.data,a.formatRequestHeaders())},registerEvents:function(a){var b=this;"undefined"!=typeof XMLHttpRequestProgressEvent&&a.addEventListener("progress",l(this,this.onProgress),
!1);a.onreadystatechange=function(){if(4==a.readyState){var c;try{c=a.status}catch(d){d instanceof qa&&(d=d.val),c=null}void 0==c&&(c=null);if(null!=c)b.onStatus(c);if(null!=c&&200<=c&&400>c)b.onData(a.response);else if(null==c)b.onError("Failed to connect or resolve host");else if(12029==c)b.onError("Failed to connect to host");else if(12007==c)b.onError("Unknown host");else if(0==c)b.onError("Unable to make request (may be blocked due to cross-domain permissions)"),b.onSecurityError("Unable to make request (may be blocked due to cross-domain permissions)");
else b.onError("Http Error #"+a.status)}}},requestUrl:function(a,b,c,d){var e=new XMLHttpRequest;this.registerEvents(e);var f="";if(r.__instanceof(c,Qa))switch(this.dataFormat){case 0:f=r.__cast(c,hd);break;default:f=c.readUTFBytes(c.length)}else if(r.__instanceof(c,re))for(var g=0,h=p.fields(c);g<h.length;){var k=h[g];++g;0!=f.length&&(f+="&");f+=encodeURIComponent(k)+"="+T.urlEncode(p.field(c,k))}else null!=c&&(f=c.toString());try{if("GET"==b&&null!=f&&""!=f){var l=1>=a.split("?").length;e.open(b,
a+(l?"?":"&")+za.string(f),!0);f=""}else e.open(b,a,!0)}catch(m){m instanceof qa&&(m=m.val);this.onError(m.toString());return}switch(this.dataFormat){case 0:e.responseType="arraybuffer"}for(a=0;a<d.length;)b=d[a],++a,e.setRequestHeader(b.name,b.value);e.send(f);this.onOpen();this.getData=function(){return null!=e.response?e.response:e.responseText}},onData:function(a){a=this.getData();switch(this.dataFormat){case 0:this.data=Db.fromArrayBuffer(a);break;default:this.data=za.string(a)}a=new t("complete");
a.currentTarget=this;this.dispatchEvent(a)},onError:function(a){var b=new lc("ioError");b.text=a;b.currentTarget=this;this.dispatchEvent(b)},onOpen:function(){var a=new t("open");a.currentTarget=this;this.dispatchEvent(a)},onProgress:function(a){var b=new Zc("progress");b.currentTarget=this;b.bytesLoaded=a.loaded;b.bytesTotal=a.total;this.dispatchEvent(b)},onSecurityError:function(a){var b=new $c("securityError");b.text=a;b.currentTarget=this;this.dispatchEvent(b)},onStatus:function(a){a=new Yc("httpStatus",
!1,!1,a);a.currentTarget=this;this.dispatchEvent(a)},set_dataFormat:function(a){0!=a||p.hasField(window,"ArrayBuffer")?this.dataFormat=a:this.dataFormat=1;return this.dataFormat},__class__:ad,__properties__:{set_dataFormat:"set_dataFormat"}});var Vc=function(a){null!=a&&(this.url=a);this.requestHeaders=[];this.method=bd.toString(1);this.contentType=null};k["openfl.net.URLRequest"]=Vc;Vc.__name__=!0;Vc.prototype={formatRequestHeaders:function(){var a=this.requestHeaders;null==a&&(a=[]);if(1==bd.fromString(this.method)||
null==this.data)return a;if("string"==typeof this.data||r.__instanceof(this.data,Qa))a=a.slice(),a.push(new Md("Content-Type",null!=this.contentType?this.contentType:"application/x-www-form-urlencoded"));return a},__class__:Vc};var Md=function(a,b){null==b&&(b="");null==a&&(a="");this.name=a;this.value=b};k["openfl.net.URLRequestHeader"]=Md;Md.__name__=!0;Md.prototype={__class__:Md};var bd={};k["openfl.net._URLRequestMethod.URLRequestMethod_Impl_"]=bd;bd.__name__=!0;bd.fromString=function(a){switch(a){case "DELETE":return 0;
case "GET":return 1;case "HEAD":return 2;case "OPTIONS":return 3;case "POST":return 4;case "PUT":return 5;default:return null}};bd.toString=function(a){switch(a){case 0:return"DELETE";case 1:return"GET";case 2:return"HEAD";case 3:return"OPTIONS";case 4:return"POST";case 5:return"PUT";default:return null}};var re=function(){};k["openfl.net.URLVariables"]=re;re.__name__=!0;var wa=function(){ta.call(this);this.__caretIndex=-1;this.__graphics=new Ib;this.__textEngine=new sa(this);this.__tabEnabled=this.__layoutDirty=
!0;null==wa.__defaultTextFormat&&(wa.__defaultTextFormat=new Ma("Times New Roman",12,0,!1,!1,!1,"","",3,0,0,0,0),wa.__defaultTextFormat.blockIndent=0,wa.__defaultTextFormat.bullet=!1,wa.__defaultTextFormat.letterSpacing=0,wa.__defaultTextFormat.kerning=!1);this.__textFormat=wa.__defaultTextFormat.clone();this.__textEngine.textFormatRanges.push(new Hd(this.__textFormat,0,0));this.addEventListener("mouseDown",l(this,this.this_onMouseDown))};k["openfl.text.TextField"]=wa;wa.__name__=!0;wa.__defaultTextFormat=
null;wa.__super__=ta;wa.prototype=q(ta.prototype,{getCharBoundaries:function(a){if(0>a||a>this.__textEngine.text.length-1)return null;this.__updateLayout();for(var b=0,c=this.__textEngine.layoutGroups;b<c.length;){var d=c[b];++b;if(a>=d.startIndex&&a<=d.endIndex){for(var b=d.offsetX,c=0,e=a-d.startIndex;c<e;)var f=c++,b=b+d.advances[f];return new Z(b,d.offsetY,d.advances[a-d.startIndex],d.ascent+d.descent)}}return null},replaceSelectedText:function(a){if(""!=a||this.__selectionIndex!=this.__caretIndex){var b;
b=this.__caretIndex<this.__selectionIndex?this.__caretIndex:this.__selectionIndex;this.replaceText(b,this.__caretIndex>this.__selectionIndex?this.__caretIndex:this.__selectionIndex,a);this.__selectionIndex=this.__caretIndex=b+a.length}},replaceText:function(a,b,c){if(!(b<a||0>a||b>this.__textEngine.text.length||null==c)){this.__textEngine.text=this.__textEngine.text.substring(0,a)+c+this.__textEngine.text.substring(b);c=c.length-(b-a);for(var d=0,e;d<this.__textEngine.textFormatRanges.length;)e=this.__textEngine.textFormatRanges[d],
e.start<=a&&e.end>=b?(e.end+=c,d++):e.start>=a&&e.end<=b?(this.__textEngine.textFormatRanges.splice(d,1),c-=e.end-e.start):(e.start>a&&e.start<=b&&(e.start+=c),d++);this.__layoutDirty=this.__dirty=!0}},__getBounds:function(a,b){this.__updateLayout();var c=Z.__temp;this.__textEngine.bounds.__transform(c,b);a.__expand(c.x,c.y,c.width,c.height)},__getCursor:function(){return this.__textEngine.selectable?v.TEXT:null},__getPosition:function(a,b){this.__updateLayout();a+=this.get_scrollH();for(var c=0,
d=this.get_scrollV()-1;c<d;){var e=c++;b+=this.__textEngine.lineHeights[e]}b>this.__textEngine.textHeight&&(b=this.__textEngine.textHeight);for(var d=!0,f,e=0,g=this.__textEngine.layoutGroups.length;e<g;)if(f=e++,c=this.__textEngine.layoutGroups[f],f=f<this.__textEngine.layoutGroups.length-1?this.__textEngine.layoutGroups[f+1]:null,d&&(b<c.offsetY&&(b=c.offsetY),a<c.offsetX&&(a=c.offsetX),d=!1),b>=c.offsetY&&b<=c.offsetY+c.height||null==f)if(a>=c.offsetX&&a<=c.offsetX+c.width||null==f||f.lineIndex!=
c.lineIndex){e=d=0;for(g=c.advances.length;e<g;)if(f=e++,d+=c.advances[f],a<=c.offsetX+d){if(a<=c.offsetX+(d-c.advances[f])+c.advances[f]/2)return c.startIndex+f;if(c.startIndex+f<c.endIndex)return c.startIndex+f+1;break}return c.endIndex}return this.__textEngine.text.length},__hitTest:function(a,b,c,d,e,f){if(!f.get_visible()||this.__isMask||e&&!this.mouseEnabled||null!=this.get_mask()&&!this.get_mask().__hitTestMask(a,b))return!1;this.__getWorldTransform();this.__updateLayout();c=this.__worldTransform.__transformInverseX(a,
b);a=this.__worldTransform.__transformInverseY(a,b);return this.__textEngine.bounds.contains(c,a)?(null!=d&&d.push(f),!0):!1},__hitTestMask:function(a,b){this.__getWorldTransform();this.__updateLayout();var c=this.__worldTransform.__transformInverseX(a,b),d=this.__worldTransform.__transformInverseY(a,b);return this.__textEngine.bounds.contains(c,d)?!0:!1},__renderCairo:function(a){de.render(this,a);ta.prototype.__renderCairo.call(this,a)},__renderCanvas:function(a){na.render(this,a);if(0==this.__textEngine.antiAliasType&&
1==this.__textEngine.gridFitType){var b=a.context.imageSmoothingEnabled;b&&(a.context.mozImageSmoothingEnabled=!1,a.context.msImageSmoothingEnabled=!1,a.context.imageSmoothingEnabled=!1);ta.prototype.__renderCanvas.call(this,a);b&&(a.context.mozImageSmoothingEnabled=!0,a.context.msImageSmoothingEnabled=!0,a.context.imageSmoothingEnabled=!0)}else ta.prototype.__renderCanvas.call(this,a)},__startCursorTimer:function(){this.__cursorTimer=Jb.delay(l(this,this.__startCursorTimer),600);this.__showCursor=
!this.__showCursor;this.__dirty=!0},__startTextInput:function(){0>this.__caretIndex&&(this.__selectionIndex=this.__caretIndex=this.__textEngine.text.length);null!=this.stage&&(this.stage.window.backend.setEnableTextEvents(!0),this.__inputEnabled||(this.stage.window.backend.setEnableTextEvents(!0),this.stage.window.onTextInput.has(l(this,this.window_onTextInput))||(this.stage.window.onTextInput.add(l(this,this.window_onTextInput)),this.stage.window.onKeyDown.add(l(this,this.window_onKeyDown))),this.__inputEnabled=
!0,this.__startCursorTimer()))},__stopCursorTimer:function(){null!=this.__cursorTimer&&(this.__cursorTimer.stop(),this.__cursorTimer=null);this.__showCursor&&(this.__showCursor=!1,this.__dirty=!0)},__stopTextInput:function(){this.__inputEnabled&&null!=this.stage&&(this.stage.window.backend.setEnableTextEvents(!1),this.stage.window.onTextInput.remove(l(this,this.window_onTextInput)),this.stage.window.onKeyDown.remove(l(this,this.window_onKeyDown)),this.__inputEnabled=!1,this.__stopCursorTimer())},
__updateLayout:function(){if(this.__layoutDirty){this.__textEngine.update();if(2!=this.__textEngine.autoSize){var a=this.__textEngine.width;switch(this.__textEngine.autoSize){case 1:case 3:case 0:this.__textEngine.wordWrap||(this.__textEngine.width=this.__textEngine.textWidth+4),this.__textEngine.height=this.__textEngine.textHeight+4}if(this.__textEngine.width!=a)switch(this.__textEngine.autoSize){case 3:this.set_x(this.get_x()+(a-this.__textEngine.width));break;case 0:this.set_x(this.get_x()+(a-
this.__textEngine.width)/2)}this.__textEngine.getBounds()}this.__layoutDirty=!1}},set_autoSize:function(a){a!=this.__textEngine.autoSize&&(this.__layoutDirty=this.__dirty=!0);return this.__textEngine.autoSize=a},set_defaultTextFormat:function(a){this.__textFormat.__merge(a);this.__dirty=this.__layoutDirty=!0;return a},set_embedFonts:function(a){return this.__textEngine.embedFonts=a},get_height:function(){this.__updateLayout();return this.__textEngine.height},set_height:function(a){if(1!=this.get_scaleY()||
a!=this.__textEngine.height)this.__transformDirty||(this.__transformDirty=!0,y.__worldTransformDirty++),this.__layoutDirty=this.__dirty=!0;this.set_scaleY(1);return this.__textEngine.height=a},set_maxChars:function(a){a!=this.__textEngine.maxChars&&(this.__layoutDirty=this.__dirty=!0);return this.__textEngine.maxChars=a},get_scrollH:function(){return this.__textEngine.scrollH},get_scrollV:function(){return this.__textEngine.scrollV},get_selectable:function(){return this.__textEngine.selectable},set_selectable:function(a){a!=
this.__textEngine.selectable&&1==this.get_type()&&(null!=this.stage&&this.stage.get_focus()==this?this.__startTextInput():a||this.__stopTextInput());return this.__textEngine.selectable=a},get_text:function(){return this.__textEngine.text},set_text:function(a){if(this.__isHTML||this.__textEngine.text!=a)this.__layoutDirty=this.__dirty=!0;else return a;1<this.__textEngine.textFormatRanges.length&&this.__textEngine.textFormatRanges.splice(1,this.__textEngine.textFormatRanges.length-1);var b=this.__textEngine.textFormatRanges[0];
b.format=this.__textFormat;b.start=0;b.end=a.length;this.__isHTML=!1;return this.__textEngine.text=a},get_type:function(){return this.__textEngine.type},set_type:function(a){a!=this.__textEngine.type&&(1==a?(this.addEventListener("focusIn",l(this,this.this_onFocusIn)),this.addEventListener("focusOut",l(this,this.this_onFocusOut)),this.addEventListener("addedToStage",l(this,this.this_onAddedToStage)),this.this_onFocusIn(null)):(this.removeEventListener("focusIn",l(this,this.this_onFocusIn)),this.removeEventListener("focusOut",
l(this,this.this_onFocusOut)),this.removeEventListener("addedToStage",l(this,this.this_onAddedToStage)),this.__stopTextInput()),this.__dirty=!0);return this.__textEngine.type=a},get_width:function(){this.__updateLayout();return this.__textEngine.width},set_width:function(a){if(1!=this.get_scaleX()||this.__textEngine.width!=a)this.__transformDirty||(this.__transformDirty=!0,y.__worldTransformDirty++),this.__layoutDirty=this.__dirty=!0;this.set_scaleX(1);return this.__textEngine.width=a},set_wordWrap:function(a){a!=
this.__textEngine.wordWrap&&(this.__layoutDirty=this.__dirty=!0);return this.__textEngine.wordWrap=a},stage_onMouseMove:function(a){null!=this.stage&&this.__textEngine.selectable&&0<=this.__selectionIndex&&(this.__updateLayout(),a=this.__getPosition(this.get_mouseX(),this.get_mouseY()),a!=this.__caretIndex&&(this.__caretIndex=a,this.__dirty=!0))},stage_onMouseUp:function(a){if(null!=this.stage&&(this.stage.removeEventListener("mouseMove",l(this,this.stage_onMouseMove)),this.stage.removeEventListener("mouseUp",
l(this,this.stage_onMouseUp)),this.stage.get_focus()==this)){this.__getWorldTransform();this.__updateLayout();this.__worldTransform.__transformInverseX(this.get_x(),this.get_y());this.__worldTransform.__transformInverseY(this.get_x(),this.get_y());var b=this.__getPosition(this.get_mouseX(),this.get_mouseY());a=za["int"](Math.min(this.__selectionIndex,b));b=za["int"](Math.max(this.__selectionIndex,b));this.__selectionIndex=a;this.__caretIndex=b;this.__inputEnabled&&(this.this_onFocusIn(null),this.__stopCursorTimer(),
this.__startCursorTimer())}},this_onAddedToStage:function(a){this.this_onFocusIn(null)},this_onFocusIn:function(a){this.get_selectable()&&1==this.get_type()&&null!=this.stage&&this.stage.get_focus()==this&&this.__startTextInput()},this_onFocusOut:function(a){this.__stopTextInput()},this_onMouseDown:function(a){this.get_selectable()&&(this.__updateLayout(),this.__selectionIndex=this.__caretIndex=this.__getPosition(this.get_mouseX(),this.get_mouseY()),this.__dirty=!0,this.stage.addEventListener("mouseMove",
l(this,this.stage_onMouseMove)),this.stage.addEventListener("mouseUp",l(this,this.stage_onMouseUp)))},window_onKeyDown:function(a,b){switch(a){case 8:this.__selectionIndex==this.__caretIndex&&0<this.__caretIndex&&(this.__selectionIndex=this.__caretIndex-1);this.__selectionIndex!=this.__caretIndex&&(this.replaceSelectedText(""),this.__selectionIndex=this.__caretIndex,this.dispatchEvent(new t("change",!0)));break;case 127:this.__selectionIndex==this.__caretIndex&&this.__caretIndex<this.__textEngine.text.length&&
(this.__selectionIndex=this.__caretIndex+1);this.__selectionIndex!=this.__caretIndex&&(this.replaceSelectedText(""),this.__selectionIndex=this.__caretIndex,this.dispatchEvent(new t("change",!0)));break;case 1073741904:ya.get_shiftKey(b)?0<this.__caretIndex&&this.__caretIndex--:(this.__selectionIndex==this.__caretIndex?0<this.__caretIndex&&this.__caretIndex--:this.__caretIndex=za["int"](Math.min(this.__caretIndex,this.__selectionIndex)),this.__selectionIndex=this.__caretIndex);this.__stopCursorTimer();
this.__startCursorTimer();break;case 1073741903:ya.get_shiftKey(b)?this.__caretIndex<this.__textEngine.text.length&&this.__caretIndex++:(this.__selectionIndex==this.__caretIndex?this.__caretIndex<this.__textEngine.text.length&&this.__caretIndex++:this.__caretIndex=za["int"](Math.max(this.__caretIndex,this.__selectionIndex)),this.__selectionIndex=this.__caretIndex);this.__stopCursorTimer();this.__startCursorTimer();break;case 99:64!=b&&128!=b||Mb.set_text(this.__textEngine.text.substring(this.__caretIndex,
this.__selectionIndex));break;case 120:if(64==b||128==b)Mb.set_text(this.__textEngine.text.substring(this.__caretIndex,this.__selectionIndex)),this.__caretIndex!=this.__selectionIndex&&(this.replaceSelectedText(""),this.dispatchEvent(new t("change",!0)));break;case 118:if(64==b||128==b){var c=Mb.get_text();null!=c?this.replaceSelectedText(c):this.replaceSelectedText("");this.dispatchEvent(new t("change",!0))}else this.__textEngine.textFormatRanges[this.__textEngine.textFormatRanges.length-1].end=
this.__textEngine.text.length}},window_onTextInput:function(a){this.replaceSelectedText(a);this.dispatchEvent(new t("change",!0))},__class__:wa,__properties__:q(ta.prototype.__properties__,{set_wordWrap:"set_wordWrap",set_type:"set_type",get_type:"get_type",set_text:"set_text",get_text:"get_text",set_selectable:"set_selectable",get_selectable:"get_selectable",get_scrollV:"get_scrollV",get_scrollH:"get_scrollH",set_maxChars:"set_maxChars",set_embedFonts:"set_embedFonts",set_defaultTextFormat:"set_defaultTextFormat",
set_autoSize:"set_autoSize"})});var Ma=function(a,b,c,d,e,f,g,h,k,l,m,p,n){this.font=a;this.size=b;this.color=c;this.bold=d;this.italic=e;this.underline=f;this.url=g;this.target=h;this.align=k;this.leftMargin=l;this.rightMargin=m;this.indent=p;this.leading=n};k["openfl.text.TextFormat"]=Ma;Ma.__name__=!0;Ma.prototype={clone:function(){var a=new Ma(this.font,this.size,this.color,this.bold,this.italic,this.underline,this.url,this.target);a.align=this.align;a.leftMargin=this.leftMargin;a.rightMargin=
this.rightMargin;a.indent=this.indent;a.leading=this.leading;a.blockIndent=this.blockIndent;a.bullet=this.bullet;a.kerning=this.kerning;a.letterSpacing=this.letterSpacing;a.tabStops=this.tabStops;return a},__merge:function(a){null!=a.font&&(this.font=a.font);null!=a.size&&(this.size=a.size);null!=a.color&&(this.color=a.color);null!=a.bold&&(this.bold=a.bold);null!=a.italic&&(this.italic=a.italic);null!=a.underline&&(this.underline=a.underline);null!=a.url&&(this.url=a.url);null!=a.target&&(this.target=
a.target);null!=a.align&&(this.align=a.align);null!=a.leftMargin&&(this.leftMargin=a.leftMargin);null!=a.rightMargin&&(this.rightMargin=a.rightMargin);null!=a.indent&&(this.indent=a.indent);null!=a.leading&&(this.leading=a.leading);null!=a.blockIndent&&(this.blockIndent=a.blockIndent);null!=a.bullet&&(this.bullet=a.bullet);null!=a.kerning&&(this.kerning=a.kerning);null!=a.letterSpacing&&(this.letterSpacing=a.letterSpacing);null!=a.tabStops&&(this.tabStops=a.tabStops)},__class__:Ma};var H=function(){};
k["openfl.ui.GameInput"]=H;H.__name__=!0;H.__getDevice=function(a){if(null==a)return null;if(null==H.__devices.h.__keys__[a.__id__]){var b=new Nd(a.get_guid(),a.get_name());H.__deviceList.push(b);H.__devices.set(a,b);H.numDevices=H.__deviceList.length}return H.__devices.h[a.__id__]};H.__onGamepadAxisMove=function(a,b,c){a=H.__getDevice(a);if(null!=a&&a.enabled){if(!a.__axis.h.hasOwnProperty(b)){var d;switch(b){case 0:d="LEFT_X";break;case 1:d="LEFT_Y";break;case 2:d="RIGHT_X";break;case 3:d="RIGHT_Y";
break;case 4:d="TRIGGER_LEFT";break;case 5:d="TRIGGER_RIGHT";break;default:d="UNKNOWN ("+b+")"}d=new qb(a,"AXIS_"+d,-1,1);a.__axis.h[b]=d;a.__controls.push(d)}b=a.__axis.h[b];b.value=c;b.dispatchEvent(new t("change"))}};H.__onGamepadButtonDown=function(a,b){var c=H.__getDevice(a);if(null!=c&&c.enabled){if(!c.__button.h.hasOwnProperty(b)){var d;switch(b){case 0:d="A";break;case 1:d="B";break;case 2:d="X";break;case 3:d="Y";break;case 4:d="BACK";break;case 5:d="GUIDE";break;case 6:d="START";break;case 7:d=
"LEFT_STICK";break;case 8:d="RIGHT_STICK";break;case 9:d="LEFT_SHOULDER";break;case 10:d="RIGHT_SHOULDER";break;case 11:d="DPAD_UP";break;case 12:d="DPAD_DOWN";break;case 13:d="DPAD_LEFT";break;case 14:d="DPAD_RIGHT";break;default:d="UNKNOWN ("+b+")"}d=new qb(c,"BUTTON_"+d,0,1);c.__button.h[b]=d;c.__controls.push(d)}c=c.__button.h[b];c.value=1;c.dispatchEvent(new t("change"))}};H.__onGamepadButtonUp=function(a,b){var c=H.__getDevice(a);if(null!=c&&c.enabled){if(!c.__button.h.hasOwnProperty(b)){var d;
switch(b){case 0:d="A";break;case 1:d="B";break;case 2:d="X";break;case 3:d="Y";break;case 4:d="BACK";break;case 5:d="GUIDE";break;case 6:d="START";break;case 7:d="LEFT_STICK";break;case 8:d="RIGHT_STICK";break;case 9:d="LEFT_SHOULDER";break;case 10:d="RIGHT_SHOULDER";break;case 11:d="DPAD_UP";break;case 12:d="DPAD_DOWN";break;case 13:d="DPAD_LEFT";break;case 14:d="DPAD_RIGHT";break;default:d="UNKNOWN ("+b+")"}d=new qb(c,"BUTTON_"+d,0,1);c.__button.h[b]=d;c.__controls.push(d)}c=c.__button.h[b];c.value=
0;c.dispatchEvent(new t("change"))}};H.__onGamepadConnect=function(a){a=H.__getDevice(a);if(null!=a)for(var b=0,c=H.__instances;b<c.length;){var d=c[b];++b;d.dispatchEvent(new kc("deviceAdded",null,null,a))}};H.__onGamepadDisconnect=function(a){var b=H.__devices.h[a.__id__];if(null!=b){null!=H.__devices.h.__keys__[a.__id__]&&(F.remove(H.__deviceList,H.__devices.h[a.__id__]),H.__devices.remove(a));H.numDevices=H.__deviceList.length;a=0;for(var c=H.__instances;a<c.length;){var d=c[a];++a;d.dispatchEvent(new kc("deviceRemoved",
null,null,b))}}};H.__super__=L;H.prototype=q(L.prototype,{__class__:H});var qb=function(a,b,c,d,e){null==e&&(e=0);L.call(this);this.device=a;this.id=b;this.minValue=c;this.maxValue=d;this.value=e};k["openfl.ui.GameInputControl"]=qb;qb.__name__=!0;qb.__super__=L;qb.prototype=q(L.prototype,{__class__:qb});var Nd=function(a,b){this.__controls=[];this.__button=new Na;this.__axis=new Na;this.id=a;this.name=b;for(var c,d=0;6>d;){var e=d++;c=new qb(this,"AXIS_"+e,-1,1);this.__axis.h[e]=c;this.__controls.push(c)}for(d=
0;15>d;)e=d++,c=new qb(this,"BUTTON_"+e,0,1),this.__button.h[e]=c,this.__controls.push(c)};k["openfl.ui.GameInputDevice"]=Nd;Nd.__name__=!0;Nd.prototype={__class__:Nd};var he=function(){};k["openfl.ui.Keyboard"]=he;he.__name__=!0;he.__getCharCode=function(a,b){null==b&&(b=!1);if(b){switch(a){case 48:return 41;case 49:return 33;case 50:return 64;case 51:return 35;case 52:return 36;case 53:return 37;case 54:return 94;case 55:return 38;case 56:return 42;case 57:return 40;case 186:return 58;case 187:return 43;
case 188:return 60;case 189:return 95;case 190:return 62;case 191:return 63;case 192:return 126;case 219:return 123;case 220:return 124;case 221:return 125;case 222:return 34}if(65<=a&&90>=a)return a-65+65}else{switch(a){case 8:return 8;case 9:return 9;case 13:return 13;case 27:return 27;case 32:return 32;case 186:return 59;case 187:return 61;case 188:return 44;case 189:return 45;case 190:return 46;case 191:return 47;case 192:return 96;case 219:return 91;case 220:return 92;case 221:return 93;case 222:return 39}if(48<=
a&&57>=a)return a-48+48;if(65<=a&&90>=a)return a-65+97}if(96<=a&&105>=a)return a-96+48;switch(a){case 106:return 42;case 107:return 43;case 108:return 44;case 110:return 45;case 111:return 46;case 46:return 127;case 13:return 13;case 8:return 8}return 0};var Db={};k["openfl.utils._ByteArray.ByteArray_Impl_"]=Db;Db.__name__=!0;Db.__properties__={get_length:"get_length"};Db.fromArrayBuffer=function(a){return Qa.fromBytes(ca.ofData(a))};Db.toBytes=function(a){return a};Db.get_length=function(a){return a.__length};
var Od=function(){};k["openfl.utils.IDataOutput"]=Od;Od.__name__=!0;Od.prototype={__class__:Od};var Pd=function(){};k["openfl.utils.IDataInput"]=Pd;Pd.__name__=!0;Pd.prototype={__class__:Pd};var Qa=function(a){null==a&&(a=0);var b=ca.alloc(a);ca.call(this,b.b.buffer);this.__length=a;this.position=this.__endian=0};k["openfl.utils.ByteArrayData"]=Qa;Qa.__name__=!0;Qa.__interfaces__=[Od,Pd];Qa.fromBytes=function(a){var b=new Qa;b.__fromBytes(a);return b};Qa.__super__=ca;Qa.prototype=q(ca.prototype,{readUnsignedByte:function(){if(this.position<
this.__length)return this.get(this.position++);throw new qa(new jc);},readUTFBytes:function(a){if(this.position+a>this.__length)throw new qa(new jc);this.position+=a;return this.getString(this.position-a,a)},__fromBytes:function(a){this.b=a.b;this.length=a.length;this.data=a.data;this.__length=a.length},__class__:Qa});var ke=function(){};k["haxe.lang.Iterator"]=ke;ke.__name__=!0;ke.prototype={__class__:ke};var le=function(){};k["haxe.lang.Iterable"]=le;le.__name__=!0;le.prototype={__class__:le};var uc=
function(a){this.offY=0;D.call(this);this.items=[];this.grid=a;this.body=new D;this.addChild(this.body);this.scrollH=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;this.scrollH-=150;this.set_scrollRect(new Z(0,0,h.RIGHTCOL_WIDTH,this.scrollH))};k["ru.octasoft.oem.designer.Equipment"]=uc;uc.__name__=!0;uc.__super__=D;uc.prototype=q(D.prototype,{addObject:function(a,b){var c=this;me.loadBitmap(a.imagePath,null,function(d){d=new vb(a.title,a.quantity,new ab(a.w,
a.h,Fa.createEnum(aa,a.type),a.id,d,c.grid));d.set_y(c.offY);c.body.addChild(d);c.offY+=d.get_height();c.offY+=15;c.items.push(d);b()})},scroll:function(a){this.body.get_height()<this.scrollH||this.body.set_y((this.scrollH-this.body.get_height())*a)},findItemById:function(a){for(var b=0,c=this.items;b<c.length;){var d=c[b];++b;if(d.figure.id==a)return d}return null},__class__:uc});var tc=function(){this.scale=1;D.call(this)};k["ru.octasoft.oem.designer.Grid"]=tc;tc.__name__=!0;tc.__super__=D;tc.prototype=
q(D.prototype,{init:function(a,b,c,d){this.w=a;this.h=b;d=Va.unitsToPixels(1);this.wPix=Math.round(a*d);this.hPix=Math.round(b*d);this.set_name("grid");this.gridType=c;this.useHandCursor=this.buttonMode=!0;this.draw();this.setScale(500/(a>b?this.wPix:this.hPix))},draw:function(){this.scaledW=Math.round(this.wPix*this.scale);this.scaledH=Math.round(this.hPix*this.scale);this.get_graphics().clear();this.get_graphics().beginFill(0,0);this.get_graphics().drawRect(0,0,this.scaledW,this.scaledH);this.get_graphics().endFill();
this.get_graphics().moveTo(-6,-3);switch(this.gridType[1]){case 0:this.get_graphics().lineStyle(6,8355711,null,null,1,0,1);break;case 1:this.get_graphics().lineStyle(6,8355711,null,null,1,0,1);break;case 2:this.get_graphics().lineStyle(6,8355711,null,null,1,0,1);break;case 3:this.get_graphics().lineStyle(6,13421772,null,null,1,0,1)}this.get_graphics().lineTo(this.scaledW+6,-3);switch(this.gridType[1]){case 0:this.get_graphics().lineStyle(6,8355711,null,null,1,0,1);break;case 1:this.get_graphics().lineStyle(6,
8355711,null,null,1,0,1);break;case 2:this.get_graphics().lineStyle(6,13421772,null,null,1,0,1);break;case 3:this.get_graphics().lineStyle(6,13421772,null,null,1,0,1)}this.get_graphics().moveTo(this.scaledW+3,-3);this.get_graphics().lineTo(this.scaledW+3,this.scaledH+6);this.get_graphics().lineStyle(6,13421772,null,null,1,0,1);this.get_graphics().moveTo(this.scaledW,this.scaledH+3);this.get_graphics().lineTo(0,this.scaledH+3);switch(this.gridType[1]){case 0:this.get_graphics().lineStyle(6,8355711,
null,null,1,0,1);break;case 1:this.get_graphics().lineStyle(6,13421772,null,null,1,0,1);break;case 2:this.get_graphics().lineStyle(6,13421772,null,null,1,0,1);break;case 3:this.get_graphics().lineStyle(6,13421772,null,null,1,0,1)}this.get_graphics().moveTo(-3,this.scaledH+6);this.get_graphics().lineTo(-3,-3);var a=this.wPix/this.w*this.scale,b=0;this.get_graphics().lineStyle(1,8355711,null,null,1,0,1);for(var c=0,d=this.h+1;c<d;){var e=c++,f=Math.round(b);e!=this.h&&0!=e&&(this.get_graphics().moveTo(0,
f+.5),this.get_graphics().lineTo(this.scaledW,f+.5));b+=a}c=b=0;for(d=this.w+1;c<d;)e=c++,f=Math.round(b),e!=this.w&&0!=e&&(this.get_graphics().moveTo(f+.5,0),this.get_graphics().lineTo(f+.5,this.scaledH)),b+=a},setScale:function(a){for(var b=0,c=this.get_numChildren();b<c;){var d=b++,e=d=this.getChildAt(d);e.set_x(e.get_x()/this.scale);d.set_y(d.get_y()/this.scale)}this.scale=a;a=0;for(b=this.get_numChildren();a<b;)c=a++,d=c=this.getChildAt(c),d.set_x(d.get_x()*this.scale),d=c,d.set_y(d.get_y()*
this.scale),c.setScale(this.scale);this.draw()},drop:function(a){var b=this.globalToLocal(new x(a.get_x(),a.get_y()));b.x=Math.round(b.x);b.y=Math.round(b.y);a.setScale(this.scale);this.dispatchEvent(new Ta(a,b,ea.DIRECT))},add:function(a,b,c,d,e){null==e&&(e=0);if(a.usedQty!=a.qty){var f=a.figure.copy();a.attach(f);a=new x(Va.unitsToPixels(b)*this.scale,Va.unitsToPixels(c)*this.scale);f.setScale(this.scale);f.set_rotation(d);"shelf"==f.id&&f.set_lift(e);this.dispatchEvent(new Ta(f,a,ea.DIRECT,!0))}},
zoomIn:function(){this.setScale(this.scale+.1)},zoomOut:function(){this.setScale(this.scale-.1)},__class__:tc});var Aa=k["ru.octasoft.oem.designer.GridType"]={__ename__:!0,__constructs__:["row","corner","head","island"]};Aa.row=["row",0];Aa.row.toString=u;Aa.row.__enum__=Aa;Aa.corner=["corner",1];Aa.corner.toString=u;Aa.corner.__enum__=Aa;Aa.head=["head",2];Aa.head.toString=u;Aa.head.__enum__=Aa;Aa.island=["island",3];Aa.island.toString=u;Aa.island.__enum__=Aa;var me=function(){};k["ru.octasoft.oem.designer.HttpUtil"]=
me;me.__name__=!0;me.loadBitmap=function(a,b,c,d){var e=-1,f=new ad;a=new Vc(a);f.set_dataFormat(0);f.addEventListener("complete",function(a){a=r.__cast(f.data,Qa);eb.fromBytes(a,null,c)});f.addEventListener("httpStatus",function(a){e=a.status});f.addEventListener("ioError",function(a){null!=d&&d(a,e)});f.load(a)};var vb=function(a,b,c){this.startDragX=this.startDragY=this.dragX=this.dragY=-1;D.call(this);this.title=a;this.qty=b;this.figure=c;var d=I.getFont(h.FONT_NORMAL),d=new Ma(d.name,17,0);d.align=
3;var e=0,f=new wa;f.set_selectable(!1);f.set_defaultTextFormat(d);f.set_embedFonts(!0);f.set_autoSize(1);f.set_text(a);this.addChild(f);e+=29;this.get_graphics().lineStyle(1,8355711);this.get_graphics().beginFill(0,0);this.get_graphics().drawRect(.5,e+.5,h.RIGHTCOL_WIDTH-1,h.TOOLBAR_HEIGHT);this.get_graphics().endFill();c.set_x(80);c.set_y(e+h.TOOLBAR_HEIGHT/2);this.addChild(c);d.size=13;this.left=new wa;this.left.set_selectable(!1);this.left.set_defaultTextFormat(d);this.left.set_embedFonts(!0);
this.left.set_autoSize(1);this.left.set_y(e+h.TOOLBAR_HEIGHT/2);this.left.set_x(160);this.addChild(this.left);this.total=new wa;this.total.set_selectable(!1);this.total.set_defaultTextFormat(d);this.total.set_embedFonts(!0);this.total.set_autoSize(1);this.total.set_y(e+h.TOOLBAR_HEIGHT/2-20);this.total.set_x(160);this.total.set_text("Ordered: "+b);this.addChild(this.total);this.set_usedQty(0);this.addEventListener("mouseDown",l(this,this.mouseDown));this.useHandCursor=this.buttonMode=!0};k["ru.octasoft.oem.designer.Item"]=
vb;vb.__name__=!0;vb.__super__=D;vb.prototype=q(D.prototype,{updateQty:function(){this.left.set_text("Placed: "+this.usedQty)},attach:function(a){a.addEventListener("mouseDown",l(this,this.mouseDown2))},mouseDown:function(a){if(this.usedQty!=this.qty){var b=this.figure.copy();this.figure.localToGlobal(new x(0,0));b.set_x(a.stageX);b.set_y(a.stageY);this.stage.addChild(b);b.startDrag();b.addEventListener("mouseUp",l(this,this.mouseUp));a.stopPropagation();this.startDragX=a.stageX;this.startDragY=a.stageY;
this.dragging=b}},mouseDown2:function(a){var b=a.target;b.parent.addChild(b);a.stopPropagation();a=b.parent.localToGlobal(new x(b.get_x(),b.get_y()));this.startDragX=this.dragX=a.x;this.startDragY=this.dragY=a.y;this.stage.addEventListener("mouseUp",l(this,this.mouseUp));this.stage.addEventListener("mouseMove",l(this,this.onDrag));this.dragging=b},onDrag:function(a){var b=a.stageX-this.dragX,c=a.stageY-this.dragY,d=this.dragging;d.set_x(d.get_x()+b);b=this.dragging;b.set_y(b.get_y()+c);this.dragX=
a.stageX;this.dragY=a.stageY;this.dragging.grid.dispatchEvent(new wb(this.dragging))},mouseUp:function(a){var b=this.dragging,c=-1!=this.startDragX&&-1!=this.startDragY;if(c){var d=b.parent.localToGlobal(new x(b.get_x(),b.get_y())),d=c&&(this.startDragX!=d.x||this.startDragY!=d.y);b.parent==this.stage?(b.stopDrag(),c=new x(a.stageX,a.stageY),c=this.stage.getObjectsUnderPoint(c),0<c.length&&"grid"==c[0].get_name()?(b.grid.drop(b),b.removeEventListener("mouseDown",l(this,this.mouseDown)),b.addEventListener("mouseDown",
l(this,this.mouseDown2))):this.stage.removeChild(b)):(this.stage.removeEventListener("mouseMove",l(this,this.onDrag)),this.stage.removeEventListener("mouseUp",l(this,this.onDrag)),d?(c=b.grid.globalToLocal(new x(this.startDragX,this.startDragY)),c.x=Math.round(c.x),c.y=Math.round(c.y),b.grid.dispatchEvent(new Za(b,c,new x(b.get_x(),b.get_y()),ea.DIRECT))):c&&b.grid.dispatchEvent(new xb(b)));a.stopPropagation();this.startDragX=this.startDragY=-1}},set_usedQty:function(a){this.usedQty=a;this.updateQty();
return a},__class__:vb,__properties__:q(D.prototype.__properties__,{set_usedQty:"set_usedQty"})});var aa=k["ru.octasoft.oem.designer.ItemType"]={__ename__:!0,__constructs__:["simple","light","droppable","shelf","plug"]};aa.simple=["simple",0];aa.simple.toString=u;aa.simple.__enum__=aa;aa.light=["light",1];aa.light.toString=u;aa.light.__enum__=aa;aa.droppable=["droppable",2];aa.droppable.toString=u;aa.droppable.__enum__=aa;aa.shelf=["shelf",3];aa.shelf.toString=u;aa.shelf.__enum__=aa;aa.plug=["plug",
4];aa.plug.toString=u;aa.plug.__enum__=aa;var vc=function(){this.offX=this.offY=0;var a=this;D.call(this);this.bitmap=new Pa(I.getBitmapData("assets/images/shelf_bg1.png"));this.addChild(this.bitmap);var b=I.getFont(h.FONT_NORMAL),c=new Ma(b.name,13,0);c.align=3;var d=I.getFont(h.FONT_BOLD),e=new Ma(d.name,14,0);e.align=3;(new Ma(d.name,11,16777215)).align=3;d=new Ma(d.name,11,16777215);d.align=3;b=new Ma(b.name,13,13421772);b.align=3;this.label=new wa;this.label.set_selectable(!1);this.label.set_text("Please, set height (cm) for the shelf to be mounted. Switch shelves by pressing arrow buttons on your keyboard.");
this.label.set_defaultTextFormat(c);this.label.set_embedFonts(!0);this.label.set_wordWrap(!0);this.label.set_autoSize(1);this.label.set_width(280);this.addChild(this.label);this.num=new wa;this.num.set_selectable(!1);this.num.set_defaultTextFormat(e);this.num.set_embedFonts(!0);this.num.set_autoSize(1);this.addChild(this.num);this.save=new D;this.save.get_graphics().beginFill(8355711);this.save.get_graphics().drawRect(0,0,100,30);this.save.get_graphics().endFill();this.save.buttonMode=!0;this.save.useHandCursor=
!0;this.addChild(this.save);this.save.addEventListener("mouseOver",l(this,this.hoverIn));this.save.addEventListener("mouseOut",l(this,this.hoverOut));this.save.addEventListener("click",function(b){a.figure.set_lift(za.parseInt(a.units.get_text()));a.set_visible(!1);S.current.stage.set_focus(S.current.stage)});e=new wa;e.set_selectable(!1);e.set_text("SAVE");e.set_defaultTextFormat(d);e.set_embedFonts(!0);e.set_autoSize(1);e.set_x(50-e.get_width()/2);e.set_y(15-e.get_height()/2);this.save.addChild(e);
this.input=new D;this.input.get_graphics().lineStyle(1,11316396);this.input.get_graphics().drawRect(.5,.5,105,29);this.addChild(this.input);this.units=new wa;this.units.set_type(1);this.units.set_text("0");this.units.set_defaultTextFormat(c);this.units.set_embedFonts(!0);this.units.set_autoSize(1);this.units.set_x(7);this.units.set_y(5);this.units.set_maxChars(3);this.units.addEventListener("mouseDown",function(a){a.stopPropagation()});this.units.addEventListener("keyUp",function(b){b.stopPropagation();
13==b.charCode&&(a.figure.set_lift(za.parseInt(a.units.get_text())),a.set_visible(!1),S.current.stage.set_focus(S.current.stage))});this.units.addEventListener("change",function(b){b=new Wb("\\D","i");""==a.units.get_text()&&a.units.set_text("0");3<a.units.get_text().length&&a.units.set_text(function(b){b=a.units.get_text();return F.substr(b,0,3)}(this));b.match(a.units.get_text())&&a.units.set_text(b.replace(a.units.get_text(),""));a.cm.set_x(a.units.get_x()+a.units.get_width()+2)});this.input.addChild(this.units);
this.cm=new wa;this.cm.set_selectable(!1);this.cm.set_text("cm");this.cm.set_defaultTextFormat(b);this.cm.set_embedFonts(!0);this.cm.set_autoSize(1);this.cm.set_y(this.units.get_y());this.cm.set_x(this.units.get_x()+this.units.get_width()+2);this.input.addChild(this.cm);this.set_visible(!1)};k["ru.octasoft.oem.designer.ShelfPopup"]=vc;vc.__name__=!0;vc.__super__=D;vc.prototype=q(D.prototype,{hoverOut:function(a){this.save.get_graphics().beginFill(8355711);this.save.get_graphics().drawRect(0,0,100,
30);this.save.get_graphics().endFill()},hoverIn:function(a){this.save.get_graphics().beginFill(10066329);this.save.get_graphics().drawRect(0,0,100,30);this.save.get_graphics().endFill()},update:function(a){this.figure=a;this.num.set_text(a.number+".");this.units.set_text(a.get_lift()+"");this.cm.set_x(this.units.get_x()+this.units.get_width()+2);var b=a.parent,c=a.picture.getBounds(b),d=a.picture.getBounds(a.stage);h.compare(a.get_x(),c.width/2)?(this.bitmap.bitmapData=I.getBitmapData("assets/images/popup_left.png"),
a=this.parent.globalToLocal(new x(d.get_right()+40,d.y)),this.set_x(a.x),this.set_y(a.y-this.get_height()/2+c.height/2),this.offX=15,this.offY=0,this.label.set_x(this.offX+15),this.label.set_y(this.offY+15),this.num.set_x(this.offX+15),this.num.set_y(this.offY+85),this.input.set_x(this.offX+50),this.input.set_y(this.offY+82),this.save.set_x(this.offX+180),this.save.set_y(this.offY+82)):h.compare(a.get_y(),c.height/2)?(this.bitmap.bitmapData=I.getBitmapData("assets/images/popup_top.png"),a=this.parent.globalToLocal(new x(d.x,
d.get_bottom()+40)),this.set_x(a.x-this.get_width()/2+c.width/2),this.set_y(a.y),this.offX=0,this.offY=10,this.label.set_x(this.offX+15),this.label.set_y(this.offY+15),this.num.set_x(this.offX+15),this.num.set_y(this.offY+85),this.input.set_x(this.offX+50),this.input.set_y(this.offY+82),this.save.set_x(this.offX+180),this.save.set_y(this.offY+82)):h.compare(a.get_x(),b.scaledW-c.width/2)&&(this.bitmap.bitmapData=I.getBitmapData("assets/images/popup_right.png"),a=this.parent.globalToLocal(new x(d.x-
this.get_width()-40,d.y)),this.set_x(a.x),this.set_y(a.y-this.get_height()/2+c.height/2),this.offY=this.offX=0,this.label.set_x(this.offX+15),this.label.set_y(this.offY+15),this.num.set_x(this.offX+15),this.num.set_y(this.offY+85),this.input.set_x(this.offX+50),this.input.set_y(this.offY+82),this.save.set_x(this.offX+180),this.save.set_y(this.offY+82));15>this.get_x()&&this.set_x(15);15>this.get_y()&&this.set_y(15);this.get_x()+this.get_width()>h.clipSize-15&&this.set_x(h.clipSize-15-this.get_width());
this.get_y()+this.get_height()>h.clipSize-15&&this.set_y(h.clipSize-15-this.get_height())},__class__:vc});var Va=function(){};k["ru.octasoft.oem.designer.SizeUtil"]=Va;Va.__name__=!0;Va.unitsToPixels=function(a){return a*Va.UNIT};Va.pixelsToUnits=function(a){return Math.round(a/Va.UNIT*100)/100};var sc=function(){var a=this;D.call(this);this.get_graphics().beginFill(13421772);var b=h.clipSize+12;this.get_graphics().drawRect(0,0,b,h.TOOLBAR_HEIGHT);this.get_graphics().endFill();var b=(b-360-30)/5,
c=15,d=this.addButton("assets/images/rotate.png",function(b){a.dispatchEvent(new rb)});d.set_x(c);d.set_y(15);c+=d.get_width();c+=b;d=this.addButton("assets/images/delete.png",function(b){a.dispatchEvent(new sb)});d.set_x(c);d.set_y(15);c+=d.get_width();c+=b;d=this.addButton("assets/images/undo.png",function(b){a.dispatchEvent(new tb)});d.set_x(c);d.set_y(15);c+=d.get_width();c+=b;d=this.addButton("assets/images/redo.png",function(b){a.dispatchEvent(new ub)});d.set_x(c);d.set_y(15);c+=d.get_width();
c+=b;d=this.addButton("assets/images/zoomOut.png",function(b){a.dispatchEvent(new Ra(Ra.ZOOM_OUT))});d.set_x(c);d.set_y(15);c+=d.get_width();c+=b;d=this.addButton("assets/images/zoomIn.png",function(b){a.dispatchEvent(new Ra(Ra.ZOOM_IN))});d.set_x(c);d.set_y(15)};k["ru.octasoft.oem.designer.Toolbar"]=sc;sc.__name__=!0;sc.__super__=D;sc.prototype=q(D.prototype,{hoverOut:function(a){a.get_graphics().beginFill(8355711);a.get_graphics().drawRect(0,0,60,60);a.get_graphics().endFill()},hoverIn:function(a){a.get_graphics().beginFill(10066329);
a.get_graphics().drawRect(0,0,60,60);a.get_graphics().endFill()},addButton:function(a,b){var c=this,d=new D,e=new Pa(I.getBitmapData(a));e.set_x(30-e.get_width()/2);e.set_y(30-e.get_height()/2);d.addChild(e);d.buttonMode=d.useHandCursor=!0;d.addEventListener("click",b);d.addEventListener("mouseOver",function(a){c.hoverIn(d)});d.addEventListener("mouseOut",function(a){c.hoverOut(d)});this.hoverOut(d);this.addChild(d);return d},__class__:sc});var rb=function(){t.call(this,rb.NAME)};k["ru.octasoft.oem.designer.events.ClearEvent"]=
rb;rb.__name__=!0;rb.__super__=t;rb.prototype=q(t.prototype,{__class__:rb});var sb=function(){t.call(this,sb.NAME)};k["ru.octasoft.oem.designer.events.DeleteEvent"]=sb;sb.__name__=!0;sb.__super__=t;sb.prototype=q(t.prototype,{__class__:sb});var ea=k["ru.octasoft.oem.designer.events.EventContext"]={__ename__:!0,__constructs__:["DIRECT","UNDO","REDO"]};ea.DIRECT=["DIRECT",0];ea.DIRECT.toString=u;ea.DIRECT.__enum__=ea;ea.UNDO=["UNDO",1];ea.UNDO.toString=u;ea.UNDO.__enum__=ea;ea.REDO=["REDO",2];ea.REDO.toString=
u;ea.REDO.__enum__=ea;var Ta=function(a,b,c,d){null==d&&(d=!1);t.call(this,Ta.NAME);this.figure=a;this.to=b;this.context=c;this.shift=d};k["ru.octasoft.oem.designer.events.FigureAddedEvent"]=Ta;Ta.__name__=!0;Ta.__super__=t;Ta.prototype=q(t.prototype,{__class__:Ta});var Sa=function(a,b,c){t.call(this,Sa.NAME);this.figure=a;this.from=b;this.context=c};k["ru.octasoft.oem.designer.events.FigureDeletedEvent"]=Sa;Sa.__name__=!0;Sa.__super__=t;Sa.prototype=q(t.prototype,{__class__:Sa});var wb=function(a){t.call(this,
wb.NAME);this.figure=a};k["ru.octasoft.oem.designer.events.FigureDraggedEvent"]=wb;wb.__name__=!0;wb.__super__=t;wb.prototype=q(t.prototype,{__class__:wb});var Za=function(a,b,c,d){t.call(this,Za.NAME);this.figure=a;this.from=b;this.to=c;this.context=d};k["ru.octasoft.oem.designer.events.FigureMovedEvent"]=Za;Za.__name__=!0;Za.__super__=t;Za.prototype=q(t.prototype,{__class__:Za});var $a=function(a,b,c,d){t.call(this,$a.NAME);this.figure=a;this.from=b;this.to=c;this.context=d};k["ru.octasoft.oem.designer.events.FigureRotatedEvent"]=
$a;$a.__name__=!0;$a.__super__=t;$a.prototype=q(t.prototype,{__class__:$a});var xb=function(a){t.call(this,xb.NAME);this.figure=a};k["ru.octasoft.oem.designer.events.FigureSelectedEvent"]=xb;xb.__name__=!0;xb.__super__=t;xb.prototype=q(t.prototype,{__class__:xb});var ub=function(){t.call(this,ub.NAME)};k["ru.octasoft.oem.designer.events.RedoEvent"]=ub;ub.__name__=!0;ub.__super__=t;ub.prototype=q(t.prototype,{__class__:ub});var tb=function(){t.call(this,tb.NAME)};k["ru.octasoft.oem.designer.events.UndoEvent"]=
tb;tb.__name__=!0;tb.__super__=t;tb.prototype=q(t.prototype,{__class__:tb});var Ra=function(a){t.call(this,a)};k["ru.octasoft.oem.designer.events.ZoomEvent"]=Ra;Ra.__name__=!0;Ra.__super__=t;Ra.prototype=q(t.prototype,{__class__:Ra});var ab=function(a,b,c,d,e,f){this.liftVal=0;this.scale=1;this.shiftX=this.shiftY=0;this.rotationStart=-1;D.call(this);this.grid=f;this.w=a;this.h=b;this.type=c;this.wPix=Va.unitsToPixels(a);this.hPix=Va.unitsToPixels(b);this.id=d;this.image=e;a=I.getFont(h.FONT_NORMAL);
a=new Ma(a.name,13,0);a.align=3;this.label=new wa;this.label.set_selectable(!1);this.label.set_text("100 cm");this.label.set_defaultTextFormat(a);this.label.set_embedFonts(!0);this.label.set_wordWrap(!1);this.label.set_autoSize(1);this.label.set_visible(c==aa.shelf);this.addChild(this.label);this.set_lift(0);this.picture=new Pa(e);this.picture.smoothing=!0;120<e.width&&(this.scale=120/e.width);60<e.height&&(this.scale=60/e.height);this.addChild(this.picture);this.cover=new D;this.addChild(this.cover);
this.cover.set_visible(!1);this.cover.mouseEnabled=!1;this.h1=new D;this.h1.get_graphics().lineStyle(1,8355711);this.h1.get_graphics().beginFill(0,0);this.h1.get_graphics().drawRect(.5,.5,6,6);this.h1.get_graphics().endFill();this.cover.addChild(this.h1);this.h1.addEventListener("mouseDown",l(this,this.onDragHandle));this.h1.addEventListener("mouseUp",l(this,this.stopRotate));this.decor1=new Pa(I.getBitmapData("assets/images/decor.png"));this.cover.addChild(this.decor1);this.h2=new D;this.h2.get_graphics().lineStyle(1,
8355711);this.h2.get_graphics().beginFill(0,0);this.h2.get_graphics().drawRect(.5,.5,6,6);this.h2.get_graphics().endFill();this.cover.addChild(this.h2);this.h2.addEventListener("mouseDown",l(this,this.onDragHandle));this.h2.addEventListener("mouseUp",l(this,this.stopRotate));this.decor2=new Pa(I.getBitmapData("assets/images/decor.png"));this.decor2.smoothing=!0;this.decor2.set_rotation(90);this.cover.addChild(this.decor2);this.h3=new D;this.h3.get_graphics().lineStyle(1,8355711);this.h3.get_graphics().beginFill(0,
0);this.h3.get_graphics().drawRect(.5,.5,6,6);this.h3.get_graphics().endFill();this.cover.addChild(this.h3);this.h3.addEventListener("mouseDown",l(this,this.onDragHandle));this.h3.addEventListener("mouseUp",l(this,this.stopRotate));this.decor3=new Pa(I.getBitmapData("assets/images/decor.png"));this.decor3.smoothing=!0;this.decor3.set_rotation(180);this.cover.addChild(this.decor3);this.h4=new D;this.h4.get_graphics().lineStyle(1,8355711);this.h4.get_graphics().beginFill(0,0);this.h4.get_graphics().drawRect(.5,
.5,6,6);this.h4.get_graphics().endFill();this.cover.addChild(this.h4);this.h4.addEventListener("mouseDown",l(this,this.onDragHandle));this.h4.addEventListener("mouseUp",l(this,this.stopRotate));this.decor4=new Pa(I.getBitmapData("assets/images/decor.png"));this.decor4.smoothing=!0;this.decor4.set_rotation(270);this.cover.addChild(this.decor4);this.draw();this.useHandCursor=this.buttonMode=!0;c==aa.shelf&&(this.number=ab.seq++)};k["ru.octasoft.oem.designer.figures.Figure"]=ab;ab.__name__=!0;ab.__super__=
D;ab.prototype=q(D.prototype,{draw:function(){this.picture.set_scaleX(this.picture.set_scaleY(this.scale));this.picture.set_x(-this.picture.get_width()/2);this.picture.set_y(-this.picture.get_height()/2);var a=this.hPix*this.scale;this.shiftX=Math.round(this.wPix*this.scale/2+15);27>this.shiftX&&(this.shiftX=27);this.shiftY=Math.round(a/2+15);27>this.shiftY&&(this.shiftY=27);this.cover.get_graphics().clear();this.cover.get_graphics().lineStyle(1,8355711);this.cover.get_graphics().drawRect(-this.shiftX+
.5,-this.shiftY+.5,2*this.shiftX,2*this.shiftY);this.cover.get_graphics().endFill();this.h1.set_x(-this.shiftX-3);this.h1.set_y(-this.shiftY-3);this.decor1.set_x(-this.shiftX+5);this.decor1.set_y(-this.shiftY+5);this.h2.set_x(this.shiftX-3);this.h2.set_y(-this.shiftY-3);this.decor2.set_x(this.shiftX-5);this.decor2.set_y(-this.shiftY+5);this.h3.set_x(this.shiftX-3);this.h3.set_y(this.shiftY-3);this.decor3.set_x(this.shiftX-5);this.decor3.set_y(this.shiftY-5);this.h4.set_x(-this.shiftX-3);this.h4.set_y(this.shiftY-
3);this.decor4.set_x(-this.shiftX+5);this.decor4.set_y(this.shiftY-5);this.label.set_x(-this.label.get_width()/2);this.label.set_y(this.picture.get_height()/2)},setScale:function(a){this.scale=a;this.draw()},onDragHandle:function(a){this.activeHandle=a.target;this.stage.addEventListener("mouseMove",l(this,this.doRotate));this.stage.addEventListener("mouseUp",l(this,this.stopRotate));this.stage.addEventListener("mouseOut",l(this,this.stopRotate));a.stopImmediatePropagation();this.rotationStart=this.get_rotation()},
doRotate:function(a){var b=this.localToGlobal(new x(0,0)),c=this.activeHandle.get_x()+5,d=this.activeHandle.get_y()+5,c=180*Math.atan2(d,c)/Math.PI;a=180*Math.atan2(a.stageY-b.y,a.stageX-b.x)/Math.PI;a=Math.round(a-c);a=10*Math.round(a/10);this.set_rotation(a)},stopRotate:function(a){this.stage.removeEventListener("mouseMove",l(this,this.doRotate));this.stage.removeEventListener("mouseUp",l(this,this.stopRotate));this.stage.removeEventListener("mouseOut",l(this,this.stopRotate));a.stopImmediatePropagation();
-1!=this.rotationStart&&this.get_rotation()!=this.rotationStart&&this.grid.dispatchEvent(new $a(this,this.rotationStart,this.get_rotation(),ea.DIRECT));this.rotationStart=-1},copy:function(){return new ab(this.w,this.h,this.type,this.id,this.image,this.grid)},get_selected:function(){return this.cover.get_visible()},set_selected:function(a){this.label.set_visible(!a&&this.type==aa.shelf);return this.cover.set_visible(a)},get_lift:function(){return this.liftVal},set_lift:function(a){this.label.set_text(a+
" cm");return this.liftVal=a},__class__:ab,__properties__:q(D.prototype.__properties__,{set_lift:"set_lift",get_lift:"get_lift",set_selected:"set_selected",get_selected:"get_selected"})});var pe,Oe=0;Array.prototype.indexOf&&(F.indexOf=function(a,b,c){return Array.prototype.indexOf.call(a,b,c)});k.Math=Math;String.prototype.__class__=k.String=String;String.__name__=!0;k.Array=Array;Array.__name__=!0;Date.prototype.__class__=k.Date=Date;Date.__name__=["Date"];var Pe=k.Int={__name__:["Int"]},Qe=k.Dynamic=
{__name__:["Dynamic"]},se=k.Float=Number;se.__name__=["Float"];var te=k.Bool=Boolean;te.__ename__=["Bool"];var ue=k.Class={__name__:["Class"]},Re={},Ud={},hd=ne.ArrayBuffer||Ca;null==hd.prototype.slice&&(hd.prototype.slice=Ca.sliceImpl);var Yb=ne.Uint8Array||lb._new,Ge;Ge=new Uint32Array(256);Oa.__alpha16=Ge;for(var He=0;256>He;){var Ie=He++,Se=Math.ceil(257.00392156862745*Ie);Oa.__alpha16[Ie]=Se}var Je;Je=new Yb(510);Oa.__clamp=Je;for(var Ke=0;255>Ke;){var Le=Ke++;Oa.__clamp[Le]=Le}for(var Me=255;511>
Me;){var Te=Me++;Oa.__clamp[Te]=255}null!=window.createjs&&(createjs.Sound.alternateExtensions=["ogg","mp3","wav"]);y.__instanceCount=0;y.__worldRenderDirty=0;y.__worldTransformDirty=0;h.FONT_NORMAL="assets/fonts/gothaproreg-webfont.ttf";h.FONT_BOLD="assets/fonts/gothaprobol-webfont.ttf";h.TOOLBAR_HEIGHT=90;h.RIGHTCOL_WIDTH=300;h.DEFAULT_GRID=5;h.GRID_PADDING=36;h.draggable=!0;h.clipSize=528;h.click=new x;h.prev=0;pa.__registeredFonts=[];yb.count=0;Wa.i64tmp=new ed(0,0);r.__toStr={}.toString;lb.BYTES_PER_ELEMENT=
1;w.cache=new id;w.libraries=new va;w.onChange=new ba;w.initialized=!1;P.windowID=0;fa.images=new va;fa.loaders=new va;ja.__base64Chars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";Ba.devices=new Na;Ba.onConnect=new rd;xa.devices=new Na;xa.onConnect=new sd;Xa.onEnd=new ac;Xa.onMove=new ac;Xa.onStart=new ac;K.actuators=[];K.actuatorsLength=0;K.addedEvent=!1;da.defaultActuator=K;da.defaultEase=xd.get_easeOut();da.targetLibraries=new yb;I.cache=new Oc;kb.__rootURL=window.document.URL;
Pb.currentDomain=new Pb(null);Y.__identity=new Y;Y.__temp=new Y;S.current=new Pc;R.SIN45=.7071067811865476;R.TAN22=.41421356237309503;g.SIN45=.7071067811865476;g.TAN22=.41421356237309503;g.fillCommands=new fc;g.strokeCommands=new fc;Z.__temp=new Z;Eb.__registeredSounds=new va;H.numDevices=0;H.__deviceList=[];H.__devices=new yb;H.__instances=[];Va.UNIT=100;rb.NAME="CLEAR_ALL";sb.NAME="DELETE_FIGURE";Ta.NAME="FIGURE_ADDED";Sa.NAME="FIGURE_DELETED";wb.NAME="FIGURE_DRAGGED";Za.NAME="FIGURE_MOVED";$a.NAME=
"FIGURE_ROTATED";xb.NAME="FIGURE_SELECTED";ub.NAME="REDO";tb.NAME="UNDO";Ra.ZOOM_IN="ZOOM_IN";Ra.ZOOM_OUT="ZOOM_OUT";ab.seq=0;X.main()})("undefined"!=typeof console?console:{log:function(){}},"undefined"!=typeof window?window:exports,"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this);
