(function(hb,bb,gf){function x(a,b){function c(){}c.prototype=a;var d=new c,e;for(e in b)d[e]=b[e];b.toString!==Object.prototype.toString&&(d.toString=b.toString);return d}function hf(a){return a instanceof Array?function(){return D.iter(a)}:"function"==typeof a.iterator?r(a,a.iterator):a.iterator}function r(a,b){if(null==b)return null;null==b.__id__&&(b.__id__=Jf++);var c;null==a.hx__closures__?a.hx__closures__={}:c=a.hx__closures__[b.__id__];null==c&&(c=function(){return c.method.apply(c.scope,
arguments)},c.scope=a,c.method=b,a.hx__closures__[b.__id__]=c);return c}bb.openfl=bb.openfl||{};bb.lime=bb.lime||{};bb.ru=bb.ru||{};bb.ru.octasoft=bb.ru.octasoft||{};bb.ru.octasoft.oem=bb.ru.octasoft.oem||{};bb.ru.octasoft.oem.designer=bb.ru.octasoft.oem.designer||{};var m={},q=function(){return z.__string_rec(this,"")},ia=function(){};m.ApplicationMain=ia;ia.__name__=!0;ia.config=null;ia.preloader=null;ia.create=function(){var a=new Wc;a.create(ia.config);var b=new sb;ia.preloader=new Xc(b);a.setPreloader(ia.preloader);
ia.preloader.onComplete.add(ia.init);ia.preloader.create(ia.config);var b=[],c=[];b.push("Gotham Pro Bold");c.push("FONT");b.push("Gotham Pro Regular");c.push("FONT");b.push("assets/images/add.png");c.push("IMAGE");b.push("assets/images/add_hover.png");c.push("IMAGE");b.push("assets/images/border1.png");c.push("IMAGE");b.push("assets/images/border2.png");c.push("IMAGE");b.push("assets/images/decor.png");c.push("IMAGE");b.push("assets/images/delete.png");c.push("IMAGE");b.push("assets/images/popup_left.png");
c.push("IMAGE");b.push("assets/images/popup_right.png");c.push("IMAGE");b.push("assets/images/popup_top.png");c.push("IMAGE");b.push("assets/images/redo.png");c.push("IMAGE");b.push("assets/images/remove.png");c.push("IMAGE");b.push("assets/images/remove_hover.png");c.push("IMAGE");b.push("assets/images/rotate.png");c.push("IMAGE");b.push("assets/images/shelf_bg1.png");c.push("IMAGE");b.push("assets/images/undo.png");c.push("IMAGE");b.push("assets/images/zoomIn.png");c.push("IMAGE");b.push("assets/images/zoomOut.png");
c.push("IMAGE");if(null!=ia.config.assetsPrefix)for(var d=0,e=b.length;d<e;){var f=d++;"FONT"!=c[f]&&(b[f]=ia.config.assetsPrefix+b[f])}ia.preloader.load(b,c);a.exec()};ia.init=function(){ia.preloader=null;ia.start()};ia.main=function(){ia.config={build:"2069",company:"Octasoft",file:"designer",fps:60,name:"Editor",orientation:"",packageName:"ru.octasoft.oem.designer",version:"1.0.0",windows:[{antialiasing:0,background:16777215,borderless:!1,depthBuffer:!1,display:0,fullscreen:!1,hardware:!0,height:0,
parameters:"{}",resizable:!0,stencilBuffer:!0,title:"Editor",vsync:!1,width:0,x:null,y:null}]}};ia.start=function(){for(var a=!1,b=Fa.resolveClass("ru.octasoft.oem.designer.Main"),c=0,d=Fa.getClassFields(b);c<d.length;){var e=d[c];++c;if("main"==e){a=!0;break}}K.initialize();a?w.callMethod(b,w.field(b,"main"),[]):Fa.createInstance(Yc,[]);L.current.stage.window.__fullscreen&&L.current.stage.dispatchEvent(new lc(lc.FULL_SCREEN,!1,!1,!0,!0));L.current.stage.dispatchEvent(new u(u.RESIZE,!1,!1))};var jf=
function(){};m["openfl.events.IEventDispatcher"]=jf;jf.__name__=!0;var ja=function(a){null!=a&&(this.__targetDispatcher=a)};m["openfl.events.EventDispatcher"]=ja;ja.__name__=!0;ja.__interfaces__=[jf];ja.__sortByPriority=function(a,b){return a.priority==b.priority?0:a.priority>b.priority?-1:1};ja.prototype={addEventListener:function(a,b,c,d,e){null==d&&(d=0);null==c&&(c=!1);null==this.__eventMap&&(this.__dispatching=new sa,this.__eventMap=new sa,this.__newEventMap=new sa);if(this.__eventMap.exists(a)){1==
this.__dispatching.get(a)?this.__newEventMap.exists(a)?e=this.__newEventMap.get(a):(e=this.__eventMap.get(a).slice(),this.__newEventMap.set(a,e)):e=this.__eventMap.get(a);a=0;for(var f=e.length;a<f;){var g=a++;if(w.compareMethods(e[g].callback,b))return}e.push(new Zc(b,c,d));e.sort(ja.__sortByPriority)}else e=[],e.push(new Zc(b,c,d)),this.__eventMap.set(a,e)},dispatchEvent:function(a){a.target=null!=this.__targetDispatcher?this.__targetDispatcher:this;return this.__dispatchEvent(a)},hasEventListener:function(a){return null==
this.__eventMap?!1:1==this.__dispatching.get(a)&&this.__newEventMap.exists(a)?0<this.__newEventMap.get(a).length:this.__eventMap.exists(a)},removeEventListener:function(a,b,c){null==c&&(c=!1);if(null!=this.__eventMap){var d=this.__eventMap.get(a);if(null!=d){var e=1==this.__dispatching.get(a);e&&(this.__newEventMap.exists(a)?d=this.__newEventMap.get(a):(d=this.__eventMap.get(a).slice(),this.__newEventMap.set(a,d)));for(var f=0,g=d.length;f<g;){var p=f++;if(d[p].match(b,c)){d.splice(p,1);break}}e||
(0==d.length&&this.__eventMap.remove(a),this.__eventMap.iterator().hasNext()||(this.__newEventMap=this.__eventMap=null))}}},__dispatchEvent:function(a){if(null==this.__eventMap||null==a)return!1;var b=a.type,c;if(1==this.__dispatching.get(b)){c=this.__newEventMap.get(b);if(null==c)return!1;c=c.slice()}else{c=this.__eventMap.get(b);if(null==c)return!1;this.__dispatching.set(b,!0)}null==a.target&&(a.target=null!=this.__targetDispatcher?this.__targetDispatcher:this);a.currentTarget=this;for(var d=a.eventPhase==
na.CAPTURING_PHASE,e=0,f;e<c.length;){f=c[e];if(f.useCapture==d&&(f.callback(a),a.__isCancelledNow))break;f==c[e]&&e++}null!=this.__newEventMap&&this.__newEventMap.exists(b)&&(c=this.__newEventMap.get(b),0<c.length?this.__eventMap.set(b,c):this.__eventMap.remove(b),this.__eventMap.iterator().hasNext()?this.__newEventMap.remove(b):this.__newEventMap=this.__eventMap=null);this.__dispatching.set(a.type,!1);return!0},__class__:ja};var $c=function(){};m["openfl.display.IBitmapDrawable"]=$c;$c.__name__=
!0;$c.prototype={__class__:$c};var B=function(){this.__cacheAsBitmapSmooth=!0;this.__maskCached=this.__cacheAsBitmap=!1;ja.call(this);this.__alpha=1;this.__transform=new R;this.__visible=!0;this.__rotationSine=this.__rotation=0;this.__rotationCosine=1;this.__renderTransform=new R;this.__offset=new N;this.__worldOffset=new N;this.__worldAlpha=1;this.__worldTransform=new R;this.__worldColorTransform=new tb;this.set_name("instance"+ ++B.__instanceCount)};m["openfl.display.DisplayObject"]=B;B.__name__=
!0;B.__interfaces__=[$c];B.__super__=ja;B.prototype=x(ja.prototype,{getBounds:function(a){var b;null!=a?(b=this.__getWorldTransform().clone(),b.concat(a.__getWorldTransform().clone().invert())):(b=R.__temp,b.identity());a=new O;this.__getBounds(a,b);return a},globalToLocal:function(a){a=a.clone();this.__getWorldTransform().__transformInversePoint(a);return a},localToGlobal:function(a){return this.__getWorldTransform().transformPoint(a)},__broadcast:function(a,b){if(null!=this.__eventMap&&this.hasEventListener(a.type)){var c=
ja.prototype.__dispatchEvent.call(this,a);return a.__isCancelled?!0:c}return!1},__dispatchEvent:function(a){var b=ja.prototype.__dispatchEvent.call(this,a);if(a.__isCancelled)return!0;a.bubbles&&null!=this.parent&&this.parent!=this&&(a.eventPhase=na.BUBBLING_PHASE,null==a.target&&(a.target=this),this.parent.__dispatchEvent(a));return b},__enterFrame:function(a){},__getBounds:function(a,b){null!=this.__graphics&&this.__graphics.__getBounds(a,b)},__getRenderBounds:function(a,b){if(null==this.__scrollRect)this.__getBounds(a,
b);else{var c=O.__temp;c.copyFrom(this.__scrollRect);c.__transform(c,b);a.__expand(b.tx,b.ty,c.width,c.height)}},__getCursor:function(){return null},__getInteractive:function(a){return!1},__getWorldTransform:function(){if(this.__transformDirty||0<B.__worldTransformDirty){var a=[],b=this,c=this.__transformDirty;if(null==this.parent)c&&this.__update(!0,!1);else for(;null!=b.parent;)a.push(b),b=b.parent,b.__transformDirty&&(c=!0);if(c)for(b=a.length;0<=--b;)a[b].__update(!0,!1)}return this.__worldTransform},
__hitTest:function(a,b,c,d,e){if(null!=this.__graphics){if(!this.get_visible()||this.__isMask||null!=this.get_mask()&&!this.get_mask().__hitTestMask(a,b))return!1;if(this.__graphics.__hitTest(a,b,c,this.__getWorldTransform()))return null==d||e||d.push(this),!0}return!1},__hitTestMask:function(a,b){return null!=this.__graphics&&this.__graphics.__hitTest(a,b,!0,this.__getWorldTransform())?!0:!1},__renderCairo:function(a){null!=this.__graphics&&Qe.render(this,a)},__renderCairoMask:function(a){null!=
this.__graphics&&S.renderMask(this.__graphics,a)},__renderCanvas:function(a){null!=this.__graphics&&Re.render(this,a)},__renderCanvasMask:function(a){null!=this.__graphics&&l.renderMask(this.__graphics,a)},__renderDOM:function(a){null!=this.__graphics&&Se.render(this,a)},__renderGL:function(a){!this.__renderable||0>=this.__worldAlpha||(this.__cacheAsBitmap?this.__cacheGL(a):(null!=this.__scrollRect&&a.maskManager.pushRect(this.__scrollRect,this.__renderTransform),null!=this.__mask&&null!=this.__maskGraphics&&
0<this.__maskGraphics.__commands.get_length()&&a.maskManager.pushMask(this),null!=this.__graphics&&(this.__graphics.__hardware?y.render(this,a):(l.render(this.__graphics,a),wa.renderBitmap(this,a))),null!=this.__mask&&null!=this.__maskGraphics&&0<this.__maskGraphics.__commands.get_length()&&a.maskManager.popMask(),null!=this.__scrollRect&&a.maskManager.popRect()))},__cacheGL:function(a){var b=null!=this.__cacheAsBitmapMatrix,c=this.__cachedBitmapBounds.x,d=this.__cachedBitmapBounds.y,e=this.__cachedBitmapBounds.width,
f=this.__cachedBitmapBounds.height;null==this.__cacheGLMatrix&&(this.__cacheGLMatrix=new R);b?(b=O.__temp,this.__cachedBitmapBounds.__transform(b,this.__cacheAsBitmapMatrix),c=b.x,d=b.y,e=b.width,f=b.height,this.__cacheGLMatrix=this.__cacheAsBitmapMatrix.clone()):this.__cacheGLMatrix.identity();if(0>=e&&0>=f)throw new ba("Error creating a cached bitmap. The texture size is "+e+"x"+f);if(this.__updateCachedBitmap||this.__updateFilters)null!=this.__cachedFilterBounds&&(e+=Math.abs(this.__cachedFilterBounds.x)+
Math.abs(this.__cachedFilterBounds.width),f+=Math.abs(this.__cachedFilterBounds.y)+Math.abs(this.__cachedFilterBounds.height)),null==this.__cachedBitmap&&(this.__cachedBitmap=Oa.__asRenderTexture()),this.__cachedBitmap.__resize(Math.ceil(e),Math.ceil(f)),e=this.__cacheGLMatrix.clone(),e.translate(-c,-d),b=this.__shader,this.__shader=null,this.__cachedBitmap.__drawGL(a,this,e,null,null,null,!0,!1,!0),this.__shader=b,this.__updateCachedBitmap=!1;this.__updateFilters&&(Gb.__applyFilters(this.__filters,
a,this.__cachedBitmap,this.__cachedBitmap,null,null),this.__updateFilters=!1);this.__cacheGLMatrix.invert();this.__cacheGLMatrix.__translateTransformed(c,d);this.__cacheGLMatrix.concat(this.__renderTransform);this.__cacheGLMatrix.translate(this.__offset.x,this.__offset.y);a.spriteBatch.renderBitmapData(this.__cachedBitmap,this.__cacheAsBitmapSmooth,this.__cacheGLMatrix,this.__worldColorTransform,this.__worldAlpha,this.blendMode,this.__shader,Sa.ALWAYS)},__setStageReference:function(a){this.stage!=
a&&(null!=this.stage&&(this.stage.get_focus()==this&&this.stage.set_focus(null),this.dispatchEvent(new u(u.REMOVED_FROM_STAGE,!1,!1))),this.stage=a,null!=a&&this.dispatchEvent(new u(u.ADDED_TO_STAGE,!1,!1)))},__setRenderDirty:function(){this.__renderDirty||(this.__updateCachedBitmap=!0,this.__updateFilters=null!=this.get_filters()&&0<this.get_filters().length,this.__renderDirty=!0,B.__worldRenderDirty++)},__updateTransforms:function(a){var b=null!=a;a=b?new R(a.a,a.b,a.c,a.d,a.tx,a.ty):this.__transform;
b||null==this.parent?(this.__worldTransform.copyFrom(a),this.__worldOffset.setTo(0,0)):(b=this.parent.__worldTransform,this.__worldTransform.a=a.a*b.a+a.b*b.c,this.__worldTransform.b=a.a*b.b+a.b*b.d,this.__worldTransform.c=a.c*b.a+a.d*b.c,this.__worldTransform.d=a.c*b.b+a.d*b.d,this.__worldTransform.tx=a.tx*b.a+a.ty*b.c+b.tx,this.__worldTransform.ty=a.tx*b.b+a.ty*b.d+b.ty,this.__worldOffset.copyFrom(this.parent.__worldOffset));null!=this.__scrollRect?(this.__offset=this.__worldTransform.deltaTransformPoint(this.__scrollRect.get_topLeft()),
this.__worldOffset.offset(this.__offset.x,this.__offset.y)):this.__offset.setTo(0,0);this.__renderTransform.copyFrom(this.__worldTransform);this.__renderTransform.translate(-this.__worldOffset.x,-this.__worldOffset.y)},__update:function(a,b,c){this.__renderable=this.get_visible()&&0!=this.get_scaleX()&&0!=this.get_scaleY()&&!this.__isMask;this.__updateTransforms();null!=this.parent&&this.__isMask&&(this.__maskCached=!1);b&&this.__transformDirty&&(this.__transformDirty=!1,B.__worldTransformDirty--);
a||null==this.__mask||this.__mask.__maskCached||(null==this.__maskGraphics&&(this.__maskGraphics=new mc),this.__maskGraphics.clear(),this.__mask.__update(!0,!0,this.__maskGraphics),this.__mask.__maskCached=!0);null!=c&&this.__updateMask(c);!a&&this.__cacheAsBitmap&&(this.__updateCachedBitmap||this.__updateFilters)&&(null==this.__cachedBitmapBounds&&(this.__cachedBitmapBounds=new O),null!=this.cacheAsBitmapBounds?this.__cachedBitmapBounds.copyFrom(this.cacheAsBitmapBounds):(this.__cachedBitmapBounds.setEmpty(),
this.__getRenderBounds(this.__cachedBitmapBounds,R.__identity)),null!=this.__filters&&(null==this.__cachedFilterBounds&&(this.__cachedFilterBounds=new O),this.__cachedFilterBounds.setEmpty(),Gb.__expandBounds(this.__filters,this.__cachedFilterBounds,R.__identity),this.__cachedBitmapBounds.x+=this.__cachedFilterBounds.x,this.__cachedBitmapBounds.y+=this.__cachedFilterBounds.y));if(!a){this.__worldColorTransform.__equals(this.get_transform().get_colorTransform())||(this.__worldColorTransform=this.get_transform().get_colorTransform().__clone());
if(null!=this.parent){this.__worldAlpha=this.get_alpha()*this.parent.__worldAlpha;this.__worldColorTransform.__combine(this.parent.__worldColorTransform);if(null==this.blendMode||this.blendMode==A.NORMAL)this.__blendMode=this.parent.__blendMode;null==this.shader&&(this.__shader=this.parent.__shader)}else this.__worldAlpha=this.get_alpha();b&&this.__renderDirty&&(this.__renderDirty=!1)}},__updateChildren:function(a){if((this.__renderable=this.get_visible()&&0!=this.get_scaleX()&&0!=this.get_scaleY()&&
!this.__isMask)||this.__isMask)this.__worldAlpha=this.get_alpha(),this.__transformDirty&&(this.__transformDirty=!1,B.__worldTransformDirty--)},__updateMask:function(a){null!=this.__graphics&&(a.__commands.overrideMatrix(this.__worldTransform),a.__commands.append(this.__graphics.__commands),a.set___dirty(!0),a.__visible=!0,null==a.__bounds&&(a.__bounds=new O),this.__graphics.__getBounds(a.__bounds,R.__identity))},get_alpha:function(){return this.__alpha},set_alpha:function(a){1<a&&(a=1);a==this.__alpha||
this.__renderDirty||(this.__updateCachedBitmap=!0,this.__updateFilters=null!=this.get_filters()&&0<this.get_filters().length,this.__renderDirty=!0,B.__worldRenderDirty++);return this.__alpha=a},get_cacheAsBitmap:function(){return this.__cacheAsBitmap},get_filters:function(){return null==this.__filters?[]:this.__filters.slice()},set_filters:function(a){null!=a&&0<a.length?(this.__filters=a,this.__updateFilters=this.__cacheAsBitmap=this.__forceCacheAsBitmap=!0):(this.__filters=null,this.__updateFilters=
this.__cacheAsBitmap=this.__forceCacheAsBitmap=!1);this.__renderDirty||(this.__updateCachedBitmap=!0,this.__updateFilters=null!=this.get_filters()&&0<this.get_filters().length,this.__renderDirty=!0,B.__worldRenderDirty++);return a},get_height:function(){var a=new O;this.__getBounds(a,this.__transform);return a.height},set_height:function(a){var b=new O,c=R.__temp;c.identity();this.__getBounds(b,c);a!=b.height?this.set_scaleY(a/b.height):this.set_scaleY(1);return a},get_mask:function(){return this.__mask},
get_mouseX:function(){var a;a=null!=this.stage?this.stage.__mouseX:L.current.stage.__mouseX;var b;b=null!=this.stage?this.stage.__mouseY:L.current.stage.__mouseY;return this.__getWorldTransform().__transformInverseX(a,b)},get_mouseY:function(){var a;a=null!=this.stage?this.stage.__mouseX:L.current.stage.__mouseX;var b;b=null!=this.stage?this.stage.__mouseY:L.current.stage.__mouseY;return this.__getWorldTransform().__transformInverseY(a,b)},get_name:function(){return this.__name},set_name:function(a){return this.__name=
a},get_rotation:function(){return this.__rotation},set_rotation:function(a){if(a!=this.__rotation){this.__rotation=a;var b=Math.PI/180*this.__rotation;this.__rotationSine=Math.sin(b);this.__rotationCosine=Math.cos(b);var b=this.get_scaleX(),c=this.get_scaleY();this.__transform.a=this.__rotationCosine*b;this.__transform.b=this.__rotationSine*b;this.__transform.c=-this.__rotationSine*c;this.__transform.d=this.__rotationCosine*c;this.__transformDirty||(this.__transformDirty=!0,B.__worldTransformDirty++)}return a},
get_scaleX:function(){return 0==this.__transform.b?this.__transform.a:Math.sqrt(this.__transform.a*this.__transform.a+this.__transform.b*this.__transform.b)},set_scaleX:function(a){if(0==this.__transform.c)a==this.__transform.a||this.__transformDirty||(this.__transformDirty=!0,B.__worldTransformDirty++),this.__transform.a=a;else{var b=this.__rotationCosine*a,c=this.__rotationSine*a;this.__transform.a==b&&this.__transform.b==c||this.__transformDirty||(this.__transformDirty=!0,B.__worldTransformDirty++);
this.__transform.a=b;this.__transform.b=c}return a},get_scaleY:function(){return 0==this.__transform.c?this.__transform.d:Math.sqrt(this.__transform.c*this.__transform.c+this.__transform.d*this.__transform.d)},set_scaleY:function(a){if(0==this.__transform.c)a==this.__transform.d||this.__transformDirty||(this.__transformDirty=!0,B.__worldTransformDirty++),this.__transform.d=a;else{var b=-this.__rotationSine*a,c=this.__rotationCosine*a;this.__transform.d==c&&this.__transform.c==b||this.__transformDirty||
(this.__transformDirty=!0,B.__worldTransformDirty++);this.__transform.c=b;this.__transform.d=c}return a},get_scrollRect:function(){return null==this.__scrollRect?null:this.__scrollRect.clone()},set_scrollRect:function(a){a==this.__scrollRect||this.__transformDirty||(this.__transformDirty=!0,B.__worldTransformDirty++);return this.__scrollRect=a},get_transform:function(){null==this.__objectTransform&&(this.__objectTransform=new Zd(this));return this.__objectTransform},get_visible:function(){return this.__visible},
set_visible:function(a){a==this.__visible||this.__renderDirty||(this.__updateCachedBitmap=!0,this.__updateFilters=null!=this.get_filters()&&0<this.get_filters().length,this.__renderDirty=!0,B.__worldRenderDirty++);return this.__visible=a},get_width:function(){var a=new O;this.__getBounds(a,this.__transform);return a.width},get_x:function(){return this.__transform.tx},set_x:function(a){a==this.__transform.tx||this.__transformDirty||(this.__transformDirty=!0,B.__worldTransformDirty++);return this.__transform.tx=
a},get_y:function(){return this.__transform.ty},set_y:function(a){a==this.__transform.ty||this.__transformDirty||(this.__transformDirty=!0,B.__worldTransformDirty++);return this.__transform.ty=a},__class__:B,__properties__:{get_mouseY:"get_mouseY",get_mouseX:"get_mouseX",set_y:"set_y",get_y:"get_y",set_x:"set_x",get_x:"get_x",get_width:"get_width",set_visible:"set_visible",get_visible:"get_visible",get_transform:"get_transform",set_scrollRect:"set_scrollRect",get_scrollRect:"get_scrollRect",set_scaleY:"set_scaleY",
get_scaleY:"get_scaleY",set_scaleX:"set_scaleX",get_scaleX:"get_scaleX",set_rotation:"set_rotation",get_rotation:"get_rotation",set_name:"set_name",get_name:"get_name",get_mask:"get_mask",set_height:"set_height",get_height:"get_height",set_filters:"set_filters",get_filters:"get_filters",get_cacheAsBitmap:"get_cacheAsBitmap",set_alpha:"set_alpha",get_alpha:"get_alpha"}});var va=function(){B.call(this);this.doubleClickEnabled=!1;this.mouseEnabled=!0;this.__tabEnabled=this.needsSoftKeyboard=!1;this.tabIndex=
-1};m["openfl.display.InteractiveObject"]=va;va.__name__=!0;va.__super__=B;va.prototype=x(B.prototype,{__getInteractive:function(a){null!=a&&(a.push(this),null!=this.parent&&this.parent.__getInteractive(a));return!0},__hitTest:function(a,b,c,d,e){return!this.get_visible()||this.__isMask||e&&!this.mouseEnabled?!1:B.prototype.__hitTest.call(this,a,b,c,d,e)},get_tabEnabled:function(){return this.__tabEnabled},__class__:va,__properties__:x(B.prototype.__properties__,{get_tabEnabled:"get_tabEnabled"})});
var Ga=function(){va.call(this);this.mouseChildren=!0;this.__children=[];this.__removedChildren=[]};m["openfl.display.DisplayObjectContainer"]=Ga;Ga.__name__=!0;Ga.__super__=va;Ga.prototype=x(va.prototype,{addChild:function(a){if(null!=a){null!=a.parent&&a.parent.removeChild(a);this.__children.push(a);a.parent=this;null!=this.stage&&a.__setStageReference(this.stage);a.__transformDirty||(a.__transformDirty=!0,B.__worldTransformDirty++);a.__renderDirty||(a.__updateCachedBitmap=!0,a.__updateFilters=
null!=a.get_filters()&&0<a.get_filters().length,a.__renderDirty=!0,B.__worldRenderDirty++);this.__renderDirty||(this.__updateCachedBitmap=!0,this.__updateFilters=null!=this.get_filters()&&0<this.get_filters().length,this.__renderDirty=!0,B.__worldRenderDirty++);var b=new u(u.ADDED,!0);b.target=a;a.__dispatchEvent(b)}return a},getChildAt:function(a){return 0<=a&&a<this.__children.length?this.__children[a]:null},getObjectsUnderPoint:function(a){var b=[];this.__hitTest(a.x,a.y,!1,b,!1);b.reverse();return b},
removeChild:function(a){null!=a&&a.parent==this&&(a.__dispatchEvent(new u(u.REMOVED,!0)),null!=this.stage&&a.__setStageReference(null),a.parent=null,D.remove(this.__children,a),this.__removedChildren.push(a),a.__transformDirty||(a.__transformDirty=!0,B.__worldTransformDirty++),a.__renderDirty||(a.__updateCachedBitmap=!0,a.__updateFilters=null!=a.get_filters()&&0<a.get_filters().length,a.__renderDirty=!0,B.__worldRenderDirty++),this.__renderDirty||(this.__updateCachedBitmap=!0,this.__updateFilters=
null!=this.get_filters()&&0<this.get_filters().length,this.__renderDirty=!0,B.__worldRenderDirty++));return a},removeChildAt:function(a){return 0<=a&&a<this.__children.length?this.removeChild(this.__children[a]):null},__broadcast:function(a,b){null==a.target&&(a.target=this);var c=va.prototype.__broadcast.call(this,a,b);if(!a.__isCancelled&&b)for(var d=0,e=this.__children;d<e.length;){var f=e[d];++d;f.__broadcast(a,!0);if(a.__isCancelled)return!0}return c},__enterFrame:function(a){for(var b=0,c=this.__children;b<
c.length;){var d=c[b];++b;d.__enterFrame(a)}},__getBounds:function(a,b){va.prototype.__getBounds.call(this,a,b);if(0!=this.__children.length){null!=b&&(this.__updateTransforms(b),this.__updateChildren(!0));for(var c=0,d=this.__children;c<d.length;){var e=d[c];++c;0==e.get_scaleX()||0==e.get_scaleY()||e.__isMask||e.__getBounds(a,e.__worldTransform)}null!=b&&(this.__updateTransforms(),this.__updateChildren(!0))}},__getRenderBounds:function(a,b){if(null!=this.__scrollRect)va.prototype.__getRenderBounds.call(this,
a,b);else if(va.prototype.__getBounds.call(this,a,b),0!=this.__children.length){null!=b&&(this.__updateTransforms(b),this.__updateChildren(!0));for(var c=0,d=this.__children;c<d.length;){var e=d[c];++c;0==e.get_scaleX()||0==e.get_scaleY()||e.__isMask||e.__getRenderBounds(a,e.__worldTransform)}null!=b&&(this.__updateTransforms(),this.__updateChildren(!0))}},__hitTest:function(a,b,c,d,e){if(!this.get_visible()||this.__isMask||e&&!this.mouseEnabled&&!this.mouseChildren||null!=this.get_mask()&&!this.get_mask().__hitTestMask(a,
b)||null!=this.get_scrollRect()&&!this.get_scrollRect().containsPoint(this.globalToLocal(new N(a,b))))return!1;var f=this.__children.length;if(e)if(null==d||!this.mouseChildren)for(;0<=--f;){if(this.__children[f].__hitTest(a,b,c,null,!0))return null!=d&&d.push(this),!0}else{if(null!=d){e=d.length;for(var g=!1,p=!1;0<=--f&&!(((g=this.__children[f].__getInteractive(null))||this.mouseEnabled&&!p)&&this.__children[f].__hitTest(a,b,c,d,!0)&&(p=!0,g)););if(p)return d.splice(e,0,this),!0}}else for(;0<=--f;)this.__children[f].__hitTest(a,
b,c,d,!1);return!1},__hitTestMask:function(a,b){for(var c=this.__children.length;0<=--c;)if(this.__children[c].__hitTestMask(a,b))return!0;return!1},__renderCairo:function(a){if(this.__renderable&&!(0>=this.__worldAlpha)){va.prototype.__renderCairo.call(this,a);null!=this.get_scrollRect()&&a.maskManager.pushRect(this.get_scrollRect(),this.__worldTransform);null!=this.__mask&&a.maskManager.pushMask(this.__mask);for(var b=0,c=this.__children;b<c.length;){var d=c[b];++b;d.__renderCairo(a)}0<this.__removedChildren.length&&
this.__removedChildren.splice(0,this.__removedChildren.length);null!=this.__mask&&a.maskManager.popMask();null!=this.get_scrollRect()&&a.maskManager.popRect()}},__renderCairoMask:function(a){null!=this.__graphics&&S.renderMask(this.__graphics,a);for(var b=0,c=this.__children;b<c.length;){var d=c[b];++b;d.__renderCairoMask(a)}},__renderCanvas:function(a){if(this.__renderable&&!(0>=this.__worldAlpha)){va.prototype.__renderCanvas.call(this,a);null!=this.get_scrollRect()&&a.maskManager.pushRect(this.get_scrollRect(),
this.__worldTransform);null!=this.__mask&&a.maskManager.pushMask(this.__mask);for(var b=0,c=this.__children;b<c.length;){var d=c[b];++b;d.__renderCanvas(a)}0<this.__removedChildren.length&&this.__removedChildren.splice(0,this.__removedChildren.length);null!=this.__mask&&a.maskManager.popMask();null!=this.get_scrollRect()&&a.maskManager.popRect()}},__renderCanvasMask:function(a){null!=this.__graphics&&l.renderMask(this.__graphics,a);var b=new O;this.__getBounds(b,this.__transform);a.context.rect(0,
0,b.width,b.height)},__renderDOM:function(a){va.prototype.__renderDOM.call(this,a);null!=this.__mask&&a.maskManager.pushMask(this.__mask);for(var b=0,c=this.__children;b<c.length;){var d=c[b];++b;d.__renderDOM(a)}b=0;for(c=this.__removedChildren;b<c.length;)d=c[b],++b,null==d.stage&&d.__renderDOM(a);0<this.__removedChildren.length&&this.__removedChildren.splice(0,this.__removedChildren.length);null!=this.__mask&&a.maskManager.popMask()},__renderGL:function(a){if(this.__renderable&&!(0>=this.__worldAlpha))if(this.__cacheAsBitmap)this.__cacheGL(a);
else{null!=this.__scrollRect&&a.maskManager.pushRect(this.__scrollRect,this.__renderTransform);null!=this.__mask&&null!=this.__maskGraphics&&0<this.__maskGraphics.__commands.get_length()&&a.maskManager.pushMask(this);null!=this.__graphics&&(this.__graphics.__hardware?y.render(this,a):(l.render(this.__graphics,a),wa.renderBitmap(this,a)));for(var b=0,c=this.__children;b<c.length;){var d=c[b];++b;d.__renderGL(a)}null!=this.__mask&&null!=this.__maskGraphics&&0<this.__maskGraphics.__commands.get_length()&&
a.maskManager.popMask();null!=this.__scrollRect&&a.maskManager.popRect();0<this.__removedChildren.length&&this.__removedChildren.splice(0,this.__removedChildren.length)}},__setStageReference:function(a){if(this.stage!=a&&(null!=this.stage&&this.__dispatchEvent(new u(u.REMOVED_FROM_STAGE,!1,!1)),this.stage=a,null!=a&&this.__dispatchEvent(new u(u.ADDED_TO_STAGE,!1,!1)),null!=this.__children))for(var b=0,c=this.__children;b<c.length;){var d=c[b];++b;d.__setStageReference(a)}},__update:function(a,b,c){va.prototype.__update.call(this,
a,b,c);if((this.__renderable||this.__isMask)&&b){b=0;for(var d=this.__children;b<d.length;){var e=d[b];++b;e.__update(a,!0,c)}}},__updateChildren:function(a){va.prototype.__updateChildren.call(this,a);for(var b=0,c=this.__children;b<c.length;){var d=c[b];++b;d.__update(a,!0)}},get_numChildren:function(){return this.__children.length},__class__:Ga,__properties__:x(va.prototype.__properties__,{get_numChildren:"get_numChildren"})});var F=function(){Ga.call(this);this.buttonMode=!1;this.useHandCursor=
!0;this.loaderInfo=Ob.create(null)};m["openfl.display.Sprite"]=F;F.__name__=!0;F.__super__=Ga;F.prototype=x(Ga.prototype,{startDrag:function(a,b){null==a&&(a=!1);null!=this.stage&&this.stage.__startDrag(this,a,b)},stopDrag:function(){null!=this.stage&&this.stage.__stopDrag(this)},__getCursor:function(){return this.buttonMode&&this.useHandCursor?C.POINTER:null},__hitTest:function(a,b,c,d,e){return!this.get_visible()||this.__isMask||e&&!this.mouseEnabled&&!this.mouseChildren||null!=this.get_mask()&&
!this.get_mask().__hitTestMask(a,b)?!1:Ga.prototype.__hitTest.call(this,a,b,c,d,e)?e:e&&!this.mouseEnabled||null==this.__graphics||!this.__graphics.__hitTest(a,b,c,this.__getWorldTransform())?!1:(null!=d&&d.push(this),!0)},__hitTestMask:function(a,b){return Ga.prototype.__hitTestMask.call(this,a,b)||null!=this.__graphics&&this.__graphics.__hitTest(a,b,!0,this.__getWorldTransform())?!0:!1},get_graphics:function(){null==this.__graphics&&(this.__graphics=new mc,this.__graphics.__owner=this);return this.__graphics},
get_tabEnabled:function(){return this.__tabEnabled||this.buttonMode},__class__:F,__properties__:x(Ga.prototype.__properties__,{get_graphics:"get_graphics"})});var N=function(a,b){null==b&&(b=0);null==a&&(a=0);this.x=a;this.y=b};m["openfl.geom.Point"]=N;N.__name__=!0;N.prototype={clone:function(){return new N(this.x,this.y)},copyFrom:function(a){this.x=a.x;this.y=a.y},offset:function(a,b){this.x+=a;this.y+=b},setTo:function(a,b){this.x=a;this.y=b},toString:function(){return"(x="+this.x+", y="+this.y+
")"},__class__:N};var h=bb.ru.octasoft.oem.designer.Main=function(){var a=this;F.call(this);h.messages=new ad(null);h.view=this;h.undo=new nc;h.redo=new nc;h.toolbar=new bd;this.addChild(h.toolbar);this.set_name("main");h.cont=new F;h.cont.set_name("cont");h.cont.set_x(6);h.cont.set_y(h.toolbar.get_height()+h.GRID_PADDING);h.cont.set_scrollRect(new O(-6,-6,h.clipSize+12,h.clipSize+12));this.addChild(h.cont);h.grid=new cd;h.gridScale=h.grid.scale;h.cont.addChild(h.grid);h.cont.addEventListener(v.MOUSE_DOWN,
function(a){h.click.x=a.stageX;h.click.y=a.stageY;h.draggable&&(V.stop(h.grid),h.grid.startDrag())});h.cont.addEventListener(v.MOUSE_MOVE,function(a){h.gridDown&&!h.dragged&&(h.dragged=!0)});h.cont.addEventListener(v.MOUSE_UP,function(b){h.click.x==b.stageX&&h.click.y==b.stageY&&(b=new N(b.stageX,b.stageY),1==a.stage.getObjectsUnderPoint(b).length&&null!=h.selected&&h.selected.get_selected()&&(h.selected.set_selected(!1),h.selected=null,a.showPopup(h.selected,!1)));h.dragged=!1;h.grid.stopDrag();
h.validateEditor();h.gridDown=!1});h.cont.addEventListener(v.MOUSE_OUT,function(a){h.stopDragging()});h.toolbar.addEventListener(ob.ZOOM_IN,function(a){h.shelfPopup.set_visible(!1);h.grid.zoomIn();h.validateEditor()});h.toolbar.addEventListener(ob.ZOOM_OUT,function(a){h.shelfPopup.set_visible(!1);h.grid.zoomOut();h.validateEditor()});h.toolbar.addEventListener(Ub.NAME,function(a){h.reset(!1)});h.toolbar.addEventListener(Vb.NAME,function(a){null!=h.selected&&(h.grid.dispatchEvent(new cb(h.selected,
new N(h.selected.get_x(),h.selected.get_y()),W.DIRECT)),h.selected=null)});h.toolbar.addEventListener(Wb.NAME,r(this,this.onUndo));h.toolbar.addEventListener(Xb.NAME,r(this,this.onRedo));var b=this.stage.stageWidth-h.RIGHTCOL_WIDTH,c=h.RIGHTCOL_WIDTH;h.rightTitle=new F;h.rightTitle.set_x(b);this.addChild(h.rightTitle);h.rightTitle.get_graphics().beginBitmapFill(aa.getBitmapData("assets/images/border2.png"));h.rightTitle.get_graphics().drawRect(0,0,c,h.TOOLBAR_HEIGHT);h.rightTitle.get_graphics().endFill();
var d=aa.getFont(h.FONT_BOLD),d=new ib(d.name,21,0);d.align=ta.LEFT;h.label=new ya;h.label.set_defaultTextFormat(d);h.label.set_embedFonts(!0);h.label.set_autoSize(X.CENTER);h.label.set_text(h.messages.rightColumnLabel);h.label.set_x(b+c/2-h.label.get_width()/2);h.label.set_y(h.TOOLBAR_HEIGHT/2-h.label.get_height()/2);this.addChild(h.label);h.eq=new dd(h.grid);h.eq.set_x(b);h.eq.set_y(h.TOOLBAR_HEIGHT+30);this.addChild(h.eq);h.eq.addEventListener(Yb.NAME,function(a){if(null!=h.onCartAdd)h.onCartAdd(a.item)});
h.eq.addEventListener(Zb.NAME,function(a){if(null!=h.onCartRemove)h.onCartRemove(a.item)});h.grid.addEventListener(cb.NAME,function(a){h.shelfPopup.set_visible(!1);var b=a.figure,c=a.from;h.grid.removeChild(b);b.set_selected(!1);for(var d=0,Ha=h.eq.body.get_numChildren();d<Ha;){var l=d++,l=z.__cast(h.eq.body.getChildAt(l),jb);if(l.figure.id==a.figure.id){var k=l,m=k.usedQty;k.set_usedQty(m-1);m;for(k=new $d(l.used.h);k.hasNext();)if(m=z.__cast(k.next(),cb),m.figure==a.figure){l.used.remove(m);break}}}switch(a.context[1]){case 1:h.redo.push(new pb(b,
c,W.REDO));break;case 2:h.undo.push(new pb(b,c,W.UNDO));break;default:h.redo.clear(),h.undo.push(new pb(b,c,W.UNDO))}});h.grid.addEventListener(pb.NAME,function(b){var c=b.figure,d=b.to;c.set_x(d.x);c.set_y(d.y);h.grid.addChild(c);if(b.shift){var p=c.picture.getBounds(a);c.set_x(c.get_x()+p.width/2);c.set_y(c.get_y()+p.height/2)}if(a.validateDrop(c)){a.validatePosition(c);a.validateBounds(c);for(var p=0,Ha=h.eq.body.get_numChildren();p<Ha;){var l=p++,l=z.__cast(h.eq.body.getChildAt(l),jb);if(l.figure.id==
b.figure.id){var k=l,m=k.usedQty;k.set_usedQty(m+1);m;l.used.push(new cb(c,d,W.DIRECT))}}switch(b.context[1]){case 1:h.redo.push(new cb(c,d,W.REDO));break;case 2:h.undo.push(new cb(c,d,W.UNDO));break;default:h.redo.clear(),h.undo.push(new cb(c,d,W.UNDO))}a.showPopup(c,!0)}else h.grid.removeChild(c)});h.grid.addEventListener(ub.NAME,function(b){hb.log("FigureMovedEvent"+Y.string(b.from)+" -> "+Y.string(b.to));var c=b.figure,d=b.to;c.set_x(d.x);c.set_y(d.y);if(a.validateDrop(c))switch(a.validatePosition(c),
a.validateBounds(c),h.grid.addChild(c),b.context[1]){case 1:h.redo.push(new ub(c,b.to,b.from,W.REDO));break;case 2:h.undo.push(new ub(c,b.to,b.from,W.UNDO));break;default:h.redo.clear(),h.undo.push(new ub(c,b.to,b.from,W.UNDO))}else c.set_x(b.from.x),c.set_y(b.from.y)});h.grid.addEventListener(vb.NAME,function(a){hb.log("FigureRotateEvent "+a.from+" "+a.to);var b=a.figure;b.set_rotation(a.to);switch(a.context[1]){case 1:h.redo.push(new vb(b,a.to,a.from,W.REDO));break;case 2:h.undo.push(new vb(b,a.to,
a.from,W.UNDO));break;default:h.redo.clear(),h.undo.push(new vb(b,a.to,a.from,W.UNDO))}});h.grid.addEventListener($b.NAME,function(b){a.validateBounds(b.figure)});h.grid.addEventListener(ac.NAME,r(this,this.onSelect));this.stage.addEventListener(wb.KEY_UP,function(b){switch(b.keyCode){case 37:a.keyboardNav(!1);break;case 39:a.keyboardNav(!0)}});h.shelfPopup=new ed;h.cont.addChild(h.shelfPopup);window.onEditorReady()};m["ru.octasoft.oem.designer.Main"]=h;h.__name__=!0;h.messages=null;h.onCartAdd=null;
h.onCartRemove=null;h.view=null;h.rightTitle=null;h.label=null;h.toolbar=null;h.cont=null;h.grid=null;h.eq=null;h.dragged=null;h.gridDown=null;h.shelfPopup=null;h.selected=null;h.undo=null;h.redo=null;h.gridScale=null;h.compare2=function(a,b,c){return Math.abs(a-b)<=c};h.compare=function(a,b){return h.compare2(a,b,.5)};h.validateEditor=function(){0<h.grid.get_x()&&V.tween(h.grid,1,{x:0});h.grid.get_x()+h.grid.scaledW<=h.clipSize&&h.grid.scaledW>=h.clipSize&&V.tween(h.grid,1,{x:h.clipSize-h.grid.scaledW});
0<h.grid.get_y()&&V.tween(h.grid,1,{y:0})};h.stopDragging=function(){h.dragged&&(h.dragged=!1,h.grid.stopDrag(),h.validateEditor())};h.updateLanguage=function(){h.label.set_text(h.messages.rightColumnLabel);h.shelfPopup.updateLanguage()};h.init=function(a){h.reset();a.invalidColor&&(h.invalidColor=a.invalidColor);a.hideControls&&(h.eq.set_visible(h.toolbar.set_visible(h.label.set_visible(h.rightTitle.set_visible(!1)))),h.cont.set_scrollRect(null),h.cont.set_y(6),h.draggable=!1);a.useQuantity&&(h.useQuantity=
!0);a.onCartAdd&&(h.onCartAdd=a.onCartAdd);a.onCartRemove&&(h.onCartRemove=a.onCartRemove);a.language&&(h.messages=new ad(a.language),h.updateLanguage());h.grid.init(a.w,a.h,Fa.createEnum(Ma,a.type),h.clipSize);var b=Hc.array(a.items);h.load(b,function(){if(null!=a.placedItems)for(var b=a.placedItems,d=0;d<b.length;){var e=b[d];++d;var f=h.eq.findItemById(e.id);null!=f&&h.grid.add(f,e.x,e.y,e.rotation,e.lift)}})};h.load=function(a,b){if(0==a.length)b();else{var c=a.shift();h.eq.addObject(c,function(){h.load(a,
b)})}};h.scroll=function(a,b,c){0==h.prev&&(h.prev=a);if(a!=b){var d=h.prev-c;c<a&&0<d&&(c=a);c>b&&0>d&&(c=b);d=(c-a)/(b-a);h.view.set_y((b-a)*d);h.eq.scroll(d);h.prev=c}};h.reset=function(a){for(null==a&&(a=!0);0<h.grid.get_numChildren();)h.grid.removeChildAt(0);if(a){for(;0<h.eq.body.get_numChildren();)h.eq.body.removeChildAt(0);h.eq.items=[];h.eq.offY=0;h.eq.body.set_y(0);h.eq.body.set_height(0)}a=0;for(var b=h.eq.body.get_numChildren();a<b;){var c=a++;z.__cast(h.eq.body.getChildAt(c),jb).set_usedQty(0)}h.clearHistory()};
h.clearHistory=function(){h.undo.clear();h.redo.clear()};h.placeItem=function(a){var b=h.eq.findItemById(a.id);null!=b&&h.grid.add(b,a.x,a.y,a.rotation,a.lift)};h.saveJPG=function(){var a=h.shelfPopup.get_visible();h.shelfPopup.set_visible(!1);null!=h.selected&&h.selected.set_selected(!1);var b=h.grid.scale;h.grid.setScale(h.gridScale);var c=new Oa(Y["int"](h.grid.get_width())-6,Y["int"](h.grid.get_height())-6,!1,16777215);c.draw(h.grid,new R(1,0,0,1,6,6));for(var d=c.getPixels(new O(0,0,c.width+
6,c.height+6)),e=Ta.alloc(d.length),f=0,g=d.length;f<g;){var p=f++;e.set(p,d.readByte())}d=new fd;c={width:c.width,height:c.height,quality:100,pixels:e};(new ae(d)).write(c);h.grid.setScale(b);h.shelfPopup.set_visible(a);null!=h.selected&&h.selected.set_selected(!0);return oc.encode(d.getBytes())};h.getScene=function(){for(var a={objects:[]},b=0,c=h.grid.get_numChildren();b<c;){var d=b++,d=h.grid.getChildAt(d);if(z.__instanceof(d,db)){var e=d.picture.getBounds(h.grid),f=d.get_x()-e.width/2,e=d.get_y()-
e.height/2,f={id:d.id,x:Math.max(0,kb.pixelsToUnits(f/h.grid.scale)),y:Math.max(0,kb.pixelsToUnits(e/h.grid.scale)),rotation:d.get_rotation()};a.objects.push(f);d.type==M.shelf&&w.setField(f,"lift",d.get_lift())}}return a};h.validate=function(){for(var a=!0,b=0,c=h.eq.body.get_numChildren();b<c;)var d=b++,a=z.__cast(h.eq.body.getChildAt(d),jb).validate()&&a;return a};h.__super__=F;h.prototype=x(F.prototype,{keyboardNav:function(a){if(null!=h.selected&&h.selected.type==M.shelf){for(var b=[],c=0,d=
h.grid.get_numChildren();c<d;){var e=c++,e=h.grid.getChildAt(e);z.__instanceof(e,db)&&e.type==h.selected.type&&b.push(e)}1>=b.length||(b.sort(function(a,b){return a.number-b.number}),c=D.indexOf(b,h.selected,0),a?(c++,c==b.length&&(c=0)):(c--,-1==c&&(c=b.length-1)),h.selected.set_selected(!1),h.selected=b[c],h.selected.set_selected(!0),h.selected.parent.addChild(h.selected),this.showPopup(h.selected,!0))}},showPopup:function(a,b){b?a.type==M.shelf?(h.shelfPopup.set_visible(!0),h.shelfPopup.update(a)):
h.shelfPopup.set_visible(!1):h.shelfPopup.set_visible(!1)},nearWall:function(a){var b=a.picture.getBounds(h.grid);return h.compare(a.get_x(),b.width/2)||h.compare(a.get_y(),b.height/2)||h.compare(a.get_x(),h.grid.scaledW-b.width/2)||h.compare(a.get_y(),h.grid.scaledH-b.height/2)},validateBounds:function(a){var b=a.picture.getBounds(h.grid);0>b.x&&a.set_x(b.width/2);0>b.y&&a.set_y(b.height/2);b.get_right()>h.grid.scaledW&&a.set_x(h.grid.scaledW-b.width/2);b.get_bottom()>h.grid.scaledH&&a.set_y(h.grid.scaledH-
b.height/2);a.set_x(Math.round(a.get_x()));a.set_y(Math.round(a.get_y()))},validatePosition:function(a){var b=a.picture.getBounds(h.grid);0>b.x&&a.set_x(b.width/2);0>b.y&&a.set_y(b.height/2);b.get_right()>h.grid.scaledW&&a.set_x(h.grid.scaledW-b.width/2);b.get_bottom()>h.grid.scaledH&&a.set_y(h.grid.scaledH-b.height/2);switch(a.type[1]){case 1:var c=a.get_x(),d=a.get_y(),e=h.grid.scaledW-a.get_x(),f=h.grid.scaledH-a.get_y(),g=Math.min(c,Math.min(d,Math.min(e,f)));g==c&&a.set_x(b.width/2);g==d&&a.set_y(b.height/
2);g==e&&a.set_x(h.grid.scaledW-b.width/2);g==f&&a.set_y(h.grid.scaledH-b.height/2);break;case 3:c=a.get_x();d=a.get_y();e=h.grid.scaledW-a.get_x();f=0;switch(h.grid.gridType[1]){case 0:f=Math.min(c,Math.min(d,e));break;case 1:f=Math.min(d,e);break;case 2:f=d}f==c&&a.set_x(b.width/2);f==d&&a.set_y(b.height/2);f==e&&a.set_x(h.grid.scaledW-b.width/2)}a.set_x(Math.round(a.get_x()));a.set_y(Math.round(a.get_y()))},validateDrop:function(a){if((a.type==M.light||a.type==M.shelf)&&h.grid.gridType==Ma.island)return!1;
for(var b=0,c=h.grid.get_numChildren();b<c;){var d=b++,d=h.grid.getChildAt(h.grid.get_numChildren()-d-1);if(z.__instanceof(d,db)&&a!=d){var e=a.picture.getBounds(h.grid),f=d.picture.getBounds(h.grid);if(e.intersects(f)&&a.type!=M.plug&&a.type!=M.shelf&&(a.type!=M.light||!this.nearWall(d)))return!1}}return!0},onUndo:function(a){0!=h.undo.length&&(a=h.undo.pop(),h.grid.dispatchEvent(a))},onRedo:function(a){0!=h.redo.length&&(a=h.redo.pop(),h.grid.dispatchEvent(a))},onSelect:function(a){a.figure==h.selected?
(h.selected=null,a.figure.set_selected(!1),this.showPopup(h.selected,!1)):(null!=h.selected&&h.selected.set_selected(!1),h.selected=a.figure,h.selected.set_selected(!0),this.showPopup(h.selected,!0))},listObjectsUnderMouse:function(a){var b=new N(a.stageX,a.stageY),b=this.stage.getObjectsUnderPoint(b);0<b.length&&b[0]!=a.target&&(a=z.__cast(b[0],F),a.get_graphics().beginFill(16711680),a.get_graphics().drawRect(0,0,100,100))},__class__:h});var Yc=function(){L.current.addChild(this);h.call(this);this.dispatchEvent(new u(u.ADDED_TO_STAGE,
!1,!1))};m.DocumentClass=Yc;Yc.__name__=!0;Yc.__super__=h;Yc.prototype=x(h.prototype,{__class__:Yc});var gd=function(){this.onChange=new xa};m["lime.AssetLibrary"]=gd;gd.__name__=!0;gd.prototype={exists:function(a,b){return!1},getFont:function(a){return null},getImage:function(a){return null},isLocal:function(a,b){return!0},unload:function(){},__class__:gd};var jd=function(){this.type=new sa;this.path=new sa;this.className=new sa;this.onChange=new xa;Ia.registerFont(hd);Ia.registerFont(id);var a;
a="assets/fonts/gothaprobol-webfont.ttf";this.className.set(a,Ic);this.type.set(a,"FONT");a="assets/fonts/gothaproreg-webfont.ttf";this.className.set(a,Jc);this.type.set(a,"FONT");a="assets/images/add.png";this.path.set(a,a);this.type.set(a,"IMAGE");a="assets/images/add_hover.png";this.path.set(a,a);this.type.set(a,"IMAGE");a="assets/images/border1.png";this.path.set(a,a);this.type.set(a,"IMAGE");a="assets/images/border2.png";this.path.set(a,a);this.type.set(a,"IMAGE");a="assets/images/decor.png";
this.path.set(a,a);this.type.set(a,"IMAGE");a="assets/images/delete.png";this.path.set(a,a);this.type.set(a,"IMAGE");a="assets/images/popup_left.png";this.path.set(a,a);this.type.set(a,"IMAGE");a="assets/images/popup_right.png";this.path.set(a,a);this.type.set(a,"IMAGE");a="assets/images/popup_top.png";this.path.set(a,a);this.type.set(a,"IMAGE");a="assets/images/redo.png";this.path.set(a,a);this.type.set(a,"IMAGE");a="assets/images/remove.png";this.path.set(a,a);this.type.set(a,"IMAGE");a="assets/images/remove_hover.png";
this.path.set(a,a);this.type.set(a,"IMAGE");a="assets/images/rotate.png";this.path.set(a,a);this.type.set(a,"IMAGE");a="assets/images/shelf_bg1.png";this.path.set(a,a);this.type.set(a,"IMAGE");a="assets/images/undo.png";this.path.set(a,a);this.type.set(a,"IMAGE");a="assets/images/zoomIn.png";this.path.set(a,a);this.type.set(a,"IMAGE");a="assets/images/zoomOut.png";this.path.set(a,a);this.type.set(a,"IMAGE");a=null;null!=ia.config&&Object.prototype.hasOwnProperty.call(ia.config,"assetsPrefix")&&(a=
ia.config.assetsPrefix);if(null!=a)for(var b=this.path.keys();b.hasNext();){var c=b.next(),d=a+this.path.get(c);this.path.set(c,d)}};m.DefaultAssetLibrary=jd;jd.__name__=!0;jd.__super__=gd;jd.prototype=x(gd.prototype,{exists:function(a,b){var c;c=null!=b?z.__cast(b,String):null;var d=this.type.get(a);return null==d||d!=c&&("SOUND"!=c&&"MUSIC"!=c||"MUSIC"!=d&&"SOUND"!=d)&&"BINARY"!=c&&null!=c&&("BINARY"!=d||"TEXT"!=c)?!1:!0},getFont:function(a){return z.__cast(Fa.createInstance(this.className.get(a),
[]),Ua)},getImage:function(a){return Z.fromImageElement(function(b){b=b.path.get(a);return Da.images.get(b)}(this))},isLocal:function(a,b){null!=b&&z.__cast(b,String);return!0},__class__:jd});var Ua=function(a){null!=a&&(this.name=a);null!=this.__fontPath&&this.__fromFile(this.__fontPath)};m["lime.text.Font"]=Ua;Ua.__name__=!0;Ua.prototype={__fromFile:function(a){this.__fontPath=a},__class__:Ua};var Ic=function(){Ua.call(this);this.name="Gotham Pro Bold"};m.__ASSET__assets_fonts_gothaprobol_webfont_ttf=
Ic;Ic.__name__=!0;Ic.__super__=Ua;Ic.prototype=x(Ua.prototype,{__class__:Ic});var Jc=function(){Ua.call(this);this.name="Gotham Pro Regular"};m.__ASSET__assets_fonts_gothaproreg_webfont_ttf=Jc;Jc.__name__=!0;Jc.__super__=Ua;Jc.prototype=x(Ua.prototype,{__class__:Jc});var Ia=function(a){Ua.call(this,a)};m["openfl.text.Font"]=Ia;Ia.__name__=!0;Ia.registerFont=function(a){a=z.__cast(Fa.createInstance(a,[]),Ia);null!=a&&Ia.__registeredFonts.push(a)};Ia.__fromLimeFont=function(a){var b=new Ia;b.name=a.name;
b.src=a.src;return b};Ia.__super__=Ua;Ia.prototype=x(Ua.prototype,{__class__:Ia});var hd=function(){var a=new Ic;this.src=a.src;this.name=a.name;Ua.call(this,void 0)};m.__ASSET__OPENFL__assets_fonts_gothaprobol_webfont_ttf=hd;hd.__name__=!0;hd.__super__=Ia;hd.prototype=x(Ia.prototype,{__class__:hd});var id=function(){var a=new Jc;this.src=a.src;this.name=a.name;Ua.call(this,void 0)};m.__ASSET__OPENFL__assets_fonts_gothaproreg_webfont_ttf=id;id.__name__=!0;id.__super__=Ia;id.prototype=x(Ia.prototype,
{__class__:id});var Hb=function(a,b){b=b.split("u").join("");this.r=new RegExp(a,b)};m.EReg=Hb;Hb.__name__=!0;Hb.prototype={match:function(a){this.r.global&&(this.r.lastIndex=0);this.r.m=this.r.exec(a);this.r.s=a;return null!=this.r.m},replace:function(a,b){return a.replace(this.r,b)},__class__:Hb};var D=function(){};m.HxOverrides=D;D.__name__=!0;D.cca=function(a,b){var c=a.charCodeAt(b);return c!=c?void 0:c};D.substr=function(a,b,c){if(null!=b&&0!=b&&null!=c&&0>c)return"";null==c&&(c=a.length);0>
b?(b=a.length+b,0>b&&(b=0)):0>c&&(c=a.length+c-b);return a.substr(b,c)};D.indexOf=function(a,b,c){var d=a.length;0>c&&(c+=d,0>c&&(c=0));for(;c<d;){if(a[c]===b)return c;c++}return-1};D.remove=function(a,b){var c=D.indexOf(a,b,0);if(-1==c)return!1;a.splice(c,1);return!0};D.iter=function(a){return{cur:0,arr:a,hasNext:function(){return this.cur<this.arr.length},next:function(){return this.arr[this.cur++]}}};var Hc=function(){};m.Lambda=Hc;Hc.__name__=!0;Hc.array=function(a){var b=[];for(a=hf(a)();a.hasNext();){var c=
a.next();b.push(c)}return b};Hc.count=function(a,b){var c=0;if(null==b)for(var d=hf(a)();d.hasNext();)d.next(),c++;else for(d=hf(a)();d.hasNext();){var e=d.next();b(e)&&c++}return c};var nc=function(){this.length=0};m.List=nc;nc.__name__=!0;nc.prototype={add:function(a){a=[a];null==this.h?this.h=a:this.q[1]=a;this.q=a;this.length++},push:function(a){this.h=a=[a,this.h];null==this.q&&(this.q=a);this.length++},pop:function(){if(null==this.h)return null;var a=this.h[0];this.h=this.h[1];null==this.h&&
(this.q=null);this.length--;return a},clear:function(){this.q=this.h=null;this.length=0},remove:function(a){for(var b=null,c=this.h;null!=c;){if(c[0]==a)return null==b?this.h=c[1]:b[1]=c[1],this.q==c&&(this.q=b),this.length--,!0;b=c;c=c[1]}return!1},__class__:nc};var $d=function(a){this.head=a;this.val=null};m["_List.ListIterator"]=$d;$d.__name__=!0;$d.prototype={hasNext:function(){return null!=this.head},next:function(){this.val=this.head[0];this.head=this.head[1];return this.val},__class__:$d};
Math.__name__=!0;var sb=function(){F.call(this);var a=this.getBackgroundColor(),b=0;70>.299*(a>>16&255)+.587*(a>>8&255)+.114*(a&255)&&(b=16777215);var a=this.getHeight()/2-3.5,c=this.getWidth()-60;this.outline=new F;this.outline.get_graphics().beginFill(b,.07);this.outline.get_graphics().drawRect(0,0,c,7);this.outline.set_x(30);this.outline.set_y(a);this.addChild(this.outline);this.progress=new F;this.progress.get_graphics().beginFill(b,.35);this.progress.get_graphics().drawRect(0,0,c-4,3);this.progress.set_x(32);
this.progress.set_y(a+2);this.progress.set_scaleX(0);this.addChild(this.progress)};m.NMEPreloader=sb;sb.__name__=!0;sb.__super__=F;sb.prototype=x(F.prototype,{getBackgroundColor:function(){return 16777215},getHeight:function(){return L.current.stage.stageHeight},getWidth:function(){return L.current.stage.stageWidth},onInit:function(){},onLoaded:function(){this.dispatchEvent(new u(u.COMPLETE))},onUpdate:function(a,b){var c=a/b;1<c&&(c=1);this.progress.set_scaleX(c)},__class__:sb});var w=function(){};
m.Reflect=w;w.__name__=!0;w.hasField=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)};w.field=function(a,b){try{return a[b]}catch(c){return c instanceof ba&&(c=c.val),null}};w.setField=function(a,b,c){a[b]=c};w.getProperty=function(a,b){var c;return null==a?null:a.__properties__&&(c=a.__properties__["get_"+b])?a[c]():a[b]};w.setProperty=function(a,b,c){var d;if(a.__properties__&&(d=a.__properties__["set_"+b]))a[d](c);else a[b]=c};w.callMethod=function(a,b,c){return b.apply(a,c)};w.fields=
function(a){var b=[];if(null!=a){var c=Object.prototype.hasOwnProperty,d;for(d in a)"__id__"!=d&&"hx__closures__"!=d&&c.call(a,d)&&b.push(d)}return b};w.isFunction=function(a){return"function"==typeof a&&!(a.__name__||a.__ename__)};w.compareMethods=function(a,b){return a==b?!0:w.isFunction(a)&&w.isFunction(b)?a.scope==b.scope&&a.method==b.method&&null!=a.method:!1};var Y=function(){};m.Std=Y;Y.__name__=!0;Y.string=function(a){return z.__string_rec(a,"")};Y["int"]=function(a){return a|0};Y.parseInt=
function(a){var b=parseInt(a,10);0!=b||120!=D.cca(a,1)&&88!=D.cca(a,1)||(b=parseInt(a));return isNaN(b)?null:b};var ea=function(){};m.StringTools=ea;ea.__name__=!0;ea.urlEncode=function(a){return encodeURIComponent(a)};ea.startsWith=function(a,b){return a.length>=b.length&&D.substr(a,0,b.length)==b};ea.isSpace=function(a,b){var c=D.cca(a,b);return 8<c&&14>c||32==c};ea.ltrim=function(a){for(var b=a.length,c=0;c<b&&ea.isSpace(a,c);)c++;return 0<c?D.substr(a,c,b-c):a};ea.rtrim=function(a){for(var b=
a.length,c=0;c<b&&ea.isSpace(a,b-c-1);)c++;return 0<c?D.substr(a,0,b-c):a};ea.trim=function(a){return ea.ltrim(ea.rtrim(a))};ea.replace=function(a,b,c){return a.split(b).join(c)};ea.hex=function(a,b){var c="";do c="0123456789ABCDEF".charAt(a&15)+c,a>>>=4;while(0<a);if(null!=b)for(;c.length<b;)c="0"+c;return c};ea.fastCodeAt=function(a,b){return a.charCodeAt(b)};var Fa=function(){};m.Type=Fa;Fa.__name__=!0;Fa.resolveClass=function(a){a=m[a];return null!=a&&a.__name__?a:null};Fa.resolveEnum=function(a){a=
m[a];return null!=a&&a.__ename__?a:null};Fa.createInstance=function(a,b){switch(b.length){case 0:return new a;case 1:return new a(b[0]);case 2:return new a(b[0],b[1]);case 3:return new a(b[0],b[1],b[2]);case 4:return new a(b[0],b[1],b[2],b[3]);case 5:return new a(b[0],b[1],b[2],b[3],b[4]);case 6:return new a(b[0],b[1],b[2],b[3],b[4],b[5]);case 7:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6]);case 8:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6],b[7]);default:throw new ba("Too many arguments");
}};Fa.createEnum=function(a,b,c){var d=w.field(a,b);if(null==d)throw new ba("No such constructor "+b);if(w.isFunction(d)){if(null==c)throw new ba("Constructor "+b+" need parameters");return w.callMethod(a,d,c)}if(null!=c&&0!=c.length)throw new ba("Constructor "+b+" does not need parameters");return d};Fa.getClassFields=function(a){a=w.fields(a);D.remove(a,"__name__");D.remove(a,"__interfaces__");D.remove(a,"__properties__");D.remove(a,"__super__");D.remove(a,"__meta__");D.remove(a,"prototype");return a};
var eb={};m["_UInt.UInt_Impl_"]=eb;eb.__name__=!0;eb.toFloat=function(a){return 0>a?4294967296+a:a+0};var be=function(){};m["haxe.IMap"]=be;be.__name__=!0;var ce=function(a,b){this.high=a;this.low=b};m["haxe._Int64.___Int64"]=ce;ce.__name__=!0;ce.prototype={__class__:ce};var pc=function(a){var b=this;this.id=setInterval(function(){b.run()},a)};m["haxe.Timer"]=pc;pc.__name__=!0;pc.delay=function(a,b){var c=new pc(b);c.run=function(){c.stop();a()};return c};pc.prototype={stop:function(){null!=this.id&&
(clearInterval(this.id),this.id=null)},run:function(){},__class__:pc};var Ta=function(a){this.length=a.byteLength;this.b=new Ja(a);this.b.bufferValue=a;a.hxBytes=this;a.bytes=this.b};m["haxe.io.Bytes"]=Ta;Ta.__name__=!0;Ta.alloc=function(a){return new Ta(new de(a))};Ta.ofString=function(a){for(var b=[],c=0;c<a.length;){var d=ea.fastCodeAt(a,c++);55296<=d&&56319>=d&&(d=d-55232<<10|ea.fastCodeAt(a,c++)&1023);127>=d?b.push(d):(2047>=d?b.push(192|d>>6):(65535>=d?b.push(224|d>>12):(b.push(240|d>>18),b.push(128|
d>>12&63)),b.push(128|d>>6&63)),b.push(128|d&63))}return new Ta((new Ja(b)).buffer)};Ta.ofData=function(a){var b=a.hxBytes;return null!=b?b:new Ta(a)};Ta.prototype={get:function(a){return this.b[a]},set:function(a,b){this.b[a]=b&255},getString:function(a,b){if(0>a||0>b||a+b>this.length)throw new ba(fa.OutsideBounds);for(var c="",d=this.b,e=String.fromCharCode,f=a,g=a+b;f<g;){var p=d[f++];if(128>p){if(0==p)break;c+=e(p)}else if(224>p)c+=e((p&63)<<6|d[f++]&127);else if(240>p)var Ha=d[f++],c=c+e((p&
31)<<12|(Ha&127)<<6|d[f++]&127);else var Ha=d[f++],h=d[f++],p=(p&15)<<18|(Ha&127)<<12|(h&127)<<6|d[f++]&127,c=c+e((p>>10)+55232),c=c+e(p&1023|56320)}return c},toString:function(){return this.getString(0,this.length)},__class__:Ta};var oc=function(){};m["haxe.crypto.Base64"]=oc;oc.__name__=!0;oc.encode=function(a,b){null==b&&(b=!0);var c=(new kd(oc.BYTES)).encodeBytes(a).toString();if(b)switch(a.length%3){case 1:c+="==";break;case 2:c+="="}return c};var kd=function(a){for(var b=a.length,c=1;b>1<<c;)c++;
if(8<c||b!=1<<c)throw new ba("BaseCode : base length must be a power of two.");this.base=a;this.nbits=c};m["haxe.crypto.BaseCode"]=kd;kd.__name__=!0;kd.prototype={encodeBytes:function(a){for(var b=this.nbits,c=this.base,d=8*a.length/b|0,e=Ta.alloc(d+(0==8*a.length%b?0:1)),f=0,g=0,p=(1<<b)-1,Ha=0,h=0;h<d;){for(;g<b;)g+=8,f<<=8,f|=a.get(Ha++);g-=b;e.set(h++,c.b[f>>g&p])}0<g&&e.set(h++,c.b[f<<b-g&p]);return e},__class__:kd};var bc=function(){};m["haxe.crypto.Md5"]=bc;bc.__name__=!0;bc.encode=function(a){var b=
new bc;a=b.doEncode(bc.str2blks(a));return b.hex(a)};bc.str2blks=function(a){for(var b=(a.length+8>>6)+1,c=[],d=16*b,e=0;e<d;){var f=e++;c[f]=0}for(d=0;d<a.length;)c[d>>2]|=D.cca(a,d)<<(8*a.length+d)%4*8,d++;c[d>>2]|=128<<(8*a.length+d)%4*8;a=8*a.length;b=16*b-2;c[b]=a&255;c[b]|=(a>>>8&255)<<8;c[b]|=(a>>>16&255)<<16;c[b]|=(a>>>24&255)<<24;return c};bc.prototype={bitOR:function(a,b){return(a>>>1|b>>>1)<<1|a&1|b&1},bitXOR:function(a,b){return(a>>>1^b>>>1)<<1|a&1^b&1},bitAND:function(a,b){return(a>>>
1&b>>>1)<<1|a&1&b&1},addme:function(a,b){var c=(a&65535)+(b&65535);return(a>>16)+(b>>16)+(c>>16)<<16|c&65535},hex:function(a){for(var b="",c=0;c<a.length;){var d=a[c];++c;for(var e=0;4>e;)var f=e++,b=b+("0123456789abcdef".charAt(d>>8*f+4&15)+"0123456789abcdef".charAt(d>>8*f&15))}return b},rol:function(a,b){return a<<b|a>>>32-b},cmn:function(a,b,c,d,e,f){return this.addme(this.rol(this.addme(this.addme(b,a),this.addme(d,f)),e),c)},ff:function(a,b,c,d,e,f,g){return this.cmn(this.bitOR(this.bitAND(b,
c),this.bitAND(~b,d)),a,b,e,f,g)},gg:function(a,b,c,d,e,f,g){return this.cmn(this.bitOR(this.bitAND(b,d),this.bitAND(c,~d)),a,b,e,f,g)},hh:function(a,b,c,d,e,f,g){return this.cmn(this.bitXOR(this.bitXOR(b,c),d),a,b,e,f,g)},ii:function(a,b,c,d,e,f,g){return this.cmn(this.bitXOR(c,this.bitOR(b,~d)),a,b,e,f,g)},doEncode:function(a){for(var b=1732584193,c=-271733879,d=-1732584194,e=271733878,f=0;f<a.length;)var g=b,p=c,Ha=d,h=e,b=this.ff(b,c,d,e,a[f],7,-680876936),e=this.ff(e,b,c,d,a[f+1],12,-389564586),
d=this.ff(d,e,b,c,a[f+2],17,606105819),c=this.ff(c,d,e,b,a[f+3],22,-1044525330),b=this.ff(b,c,d,e,a[f+4],7,-176418897),e=this.ff(e,b,c,d,a[f+5],12,1200080426),d=this.ff(d,e,b,c,a[f+6],17,-1473231341),c=this.ff(c,d,e,b,a[f+7],22,-45705983),b=this.ff(b,c,d,e,a[f+8],7,1770035416),e=this.ff(e,b,c,d,a[f+9],12,-1958414417),d=this.ff(d,e,b,c,a[f+10],17,-42063),c=this.ff(c,d,e,b,a[f+11],22,-1990404162),b=this.ff(b,c,d,e,a[f+12],7,1804603682),e=this.ff(e,b,c,d,a[f+13],12,-40341101),d=this.ff(d,e,b,c,a[f+14],
17,-1502002290),c=this.ff(c,d,e,b,a[f+15],22,1236535329),b=this.gg(b,c,d,e,a[f+1],5,-165796510),e=this.gg(e,b,c,d,a[f+6],9,-1069501632),d=this.gg(d,e,b,c,a[f+11],14,643717713),c=this.gg(c,d,e,b,a[f],20,-373897302),b=this.gg(b,c,d,e,a[f+5],5,-701558691),e=this.gg(e,b,c,d,a[f+10],9,38016083),d=this.gg(d,e,b,c,a[f+15],14,-660478335),c=this.gg(c,d,e,b,a[f+4],20,-405537848),b=this.gg(b,c,d,e,a[f+9],5,568446438),e=this.gg(e,b,c,d,a[f+14],9,-1019803690),d=this.gg(d,e,b,c,a[f+3],14,-187363961),c=this.gg(c,
d,e,b,a[f+8],20,1163531501),b=this.gg(b,c,d,e,a[f+13],5,-1444681467),e=this.gg(e,b,c,d,a[f+2],9,-51403784),d=this.gg(d,e,b,c,a[f+7],14,1735328473),c=this.gg(c,d,e,b,a[f+12],20,-1926607734),b=this.hh(b,c,d,e,a[f+5],4,-378558),e=this.hh(e,b,c,d,a[f+8],11,-2022574463),d=this.hh(d,e,b,c,a[f+11],16,1839030562),c=this.hh(c,d,e,b,a[f+14],23,-35309556),b=this.hh(b,c,d,e,a[f+1],4,-1530992060),e=this.hh(e,b,c,d,a[f+4],11,1272893353),d=this.hh(d,e,b,c,a[f+7],16,-155497632),c=this.hh(c,d,e,b,a[f+10],23,-1094730640),
b=this.hh(b,c,d,e,a[f+13],4,681279174),e=this.hh(e,b,c,d,a[f],11,-358537222),d=this.hh(d,e,b,c,a[f+3],16,-722521979),c=this.hh(c,d,e,b,a[f+6],23,76029189),b=this.hh(b,c,d,e,a[f+9],4,-640364487),e=this.hh(e,b,c,d,a[f+12],11,-421815835),d=this.hh(d,e,b,c,a[f+15],16,530742520),c=this.hh(c,d,e,b,a[f+2],23,-995338651),b=this.ii(b,c,d,e,a[f],6,-198630844),e=this.ii(e,b,c,d,a[f+7],10,1126891415),d=this.ii(d,e,b,c,a[f+14],15,-1416354905),c=this.ii(c,d,e,b,a[f+5],21,-57434055),b=this.ii(b,c,d,e,a[f+12],6,
1700485571),e=this.ii(e,b,c,d,a[f+3],10,-1894986606),d=this.ii(d,e,b,c,a[f+10],15,-1051523),c=this.ii(c,d,e,b,a[f+1],21,-2054922799),b=this.ii(b,c,d,e,a[f+8],6,1873313359),e=this.ii(e,b,c,d,a[f+15],10,-30611744),d=this.ii(d,e,b,c,a[f+6],15,-1560198380),c=this.ii(c,d,e,b,a[f+13],21,1309151649),b=this.ii(b,c,d,e,a[f+4],6,-145523070),e=this.ii(e,b,c,d,a[f+11],10,-1120210379),d=this.ii(d,e,b,c,a[f+2],15,718787259),c=this.ii(c,d,e,b,a[f+9],21,-343485551),b=this.addme(b,g),c=this.addme(c,p),d=this.addme(d,
Ha),e=this.addme(e,h),f=f+16;return[b,c,d,e]},__class__:bc};var Va=function(){this.h={}};m["haxe.ds.IntMap"]=Va;Va.__name__=!0;Va.__interfaces__=[be];Va.prototype={remove:function(a){if(!this.h.hasOwnProperty(a))return!1;delete this.h[a];return!0},__class__:Va};var cc=function(){this.h={};this.h.__keys__={}};m["haxe.ds.ObjectMap"]=cc;cc.__name__=!0;cc.__interfaces__=[be];cc.prototype={set:function(a,b){var c=a.__id__||(a.__id__=++cc.count);this.h[c]=b;this.h.__keys__[c]=a},remove:function(a){a=a.__id__;
if(null==this.h.__keys__[a])return!1;delete this.h[a];delete this.h.__keys__[a];return!0},keys:function(){var a=[],b;for(b in this.h.__keys__)this.h.hasOwnProperty(b)&&a.push(this.h.__keys__[b]);return D.iter(a)},iterator:function(){return{ref:this.h,it:this.keys(),hasNext:function(){return this.it.hasNext()},next:function(){var a=this.it.next();return this.ref[a.__id__]}}},__class__:cc};var ee=function(a,b){this.map=a;this.keys=b;this.index=0;this.count=b.length};m["haxe.ds._StringMap.StringMapIterator"]=
ee;ee.__name__=!0;ee.prototype={hasNext:function(){return this.index<this.count},next:function(){return this.map.get(this.keys[this.index++])},__class__:ee};var sa=function(){this.h={}};m["haxe.ds.StringMap"]=sa;sa.__name__=!0;sa.__interfaces__=[be];sa.prototype={set:function(a,b){null!=qc[a]?this.setReserved(a,b):this.h[a]=b},get:function(a){return null!=qc[a]?this.getReserved(a):this.h[a]},exists:function(a){return null!=qc[a]?this.existsReserved(a):this.h.hasOwnProperty(a)},setReserved:function(a,
b){null==this.rh&&(this.rh={});this.rh["$"+a]=b},getReserved:function(a){return null==this.rh?null:this.rh["$"+a]},existsReserved:function(a){return null==this.rh?!1:this.rh.hasOwnProperty("$"+a)},remove:function(a){if(null!=qc[a]){a="$"+a;if(null==this.rh||!this.rh.hasOwnProperty(a))return!1;delete this.rh[a]}else{if(!this.h.hasOwnProperty(a))return!1;delete this.h[a]}return!0},keys:function(){var a=this.arrayKeys();return D.iter(a)},arrayKeys:function(){var a=[],b;for(b in this.h)this.h.hasOwnProperty(b)&&
a.push(b);if(null!=this.rh)for(b in this.rh)36==b.charCodeAt(0)&&a.push(b.substr(1));return a},iterator:function(){return new ee(this,this.arrayKeys())},__class__:sa};var dc={};m["haxe.ds._Vector.Vector_Impl_"]=dc;dc.__name__=!0;dc.blit=function(a,b,c,d,e){for(var f=0;f<e;){var g=f++;c[d+g]=a[b+g]}};var ld=function(){this.b=[]};m["haxe.io.BytesBuffer"]=ld;ld.__name__=!0;ld.prototype={addBytes:function(a,b,c){if(0>b||0>c||b+c>a.length)throw new ba(fa.OutsideBounds);a=a.b;var d=b;for(b+=c;d<b;)c=d++,
this.b.push(a[c])},getBytes:function(){var a=new Ta((new Ja(this.b)).buffer);this.b=null;return a},__class__:ld};var md=function(){};m["haxe.io.Output"]=md;md.__name__=!0;md.prototype={writeByte:function(a){throw new ba("Not implemented");},writeBytes:function(a,b,c){var d=c,e=a.b.bufferValue;if(0>b||0>c||b+c>a.length)throw new ba(fa.OutsideBounds);for(;0<d;)this.writeByte(e[b]),b++,d--;return c},write:function(a){for(var b=a.length,c=0;0<b;){var d=this.writeBytes(a,c,b);if(0==d)throw new ba(fa.Blocked);
c+=d;b-=d}},__class__:md};var fd=function(){this.b=new ld};m["haxe.io.BytesOutput"]=fd;fd.__name__=!0;fd.__super__=md;fd.prototype=x(md.prototype,{writeByte:function(a){this.b.b.push(a)},writeBytes:function(a,b,c){this.b.addBytes(a,b,c);return c},getBytes:function(){return this.b.getBytes()},__class__:fd});var Te=function(){};m["haxe.io.Eof"]=Te;Te.__name__=!0;Te.prototype={toString:function(){return"Eof"},__class__:Te};var fa=m["haxe.io.Error"]={__ename__:!0,__constructs__:["Blocked","Overflow",
"OutsideBounds","Custom"]};fa.Blocked=["Blocked",0];fa.Blocked.toString=q;fa.Blocked.__enum__=fa;fa.Overflow=["Overflow",1];fa.Overflow.toString=q;fa.Overflow.__enum__=fa;fa.OutsideBounds=["OutsideBounds",2];fa.OutsideBounds.toString=q;fa.OutsideBounds.__enum__=fa;fa.Custom=function(a){a=["Custom",3,a];a.__enum__=fa;a.toString=q;return a};var xb=function(){};m["haxe.io.FPHelper"]=xb;xb.__name__=!0;xb.i32ToFloat=function(a){var b=a>>>23&255,c=a&8388607;return 0==c&&0==b?0:(1-(a>>>31<<1))*(1+Math.pow(2,
-23)*c)*Math.pow(2,b-127)};xb.floatToI32=function(a){if(0==a)return 0;var b;b=0>a?-a:a;var c=Math.floor(Math.log(b)/.6931471805599453);-127>c?c=-127:128<c&&(c=128);b=Math.round(8388608*(b/Math.pow(2,c)-1))&8388607;return(0>a?-2147483648:0)|c+127<<23|b};xb.i64ToDouble=function(a,b){var c=(b>>20&2047)-1023,d=4294967296*(b&1048575)+2147483648*(a>>>31)+(a&2147483647);return 0==d&&-1023==c?0:(1-(b>>>31<<1))*(1+Math.pow(2,-52)*d)*Math.pow(2,c)};xb.doubleToI64=function(a){var b=xb.i64tmp;if(0==a)b.low=0,
b.high=0;else{var c;c=0>a?-a:a;var d=Math.floor(Math.log(c)/.6931471805599453);c=4503599627370496*(c/Math.pow(2,d)-1);c=Math.round(c);b.low=c|0;b.high=(0>a?-2147483648:0)|d+1023<<20|c/4294967296|0}return b};var rc=function(a){switch(a){case ".":case "..":this.dir=a;this.file="";return}var b=a.lastIndexOf("/"),c=a.lastIndexOf("\\");b<c?(this.dir=D.substr(a,0,c),a=D.substr(a,c+1,null),this.backslash=!0):c<b?(this.dir=D.substr(a,0,b),a=D.substr(a,b+1,null)):this.dir=null;b=a.lastIndexOf(".");-1!=b?(this.ext=
D.substr(a,b+1,null),this.file=D.substr(a,0,b)):(this.ext=null,this.file=a)};m["haxe.io.Path"]=rc;rc.__name__=!0;rc.withoutExtension=function(a){a=new rc(a);a.ext=null;return a.toString()};rc.prototype={toString:function(){return(null==this.dir?"":this.dir+(this.backslash?"\\":"/"))+this.file+(null==this.ext?"":"."+this.ext)},__class__:rc};var ba=function(a){Error.call(this);this.val=a;Object.prototype.hasOwnProperty.call(a,"name")?this.name=w.field(a,"name"):this.name="Error";Object.prototype.hasOwnProperty.call(a,
"message")?this.message=w.field(a,"message"):this.message=Y.string(a);Error.captureStackTrace&&Error.captureStackTrace(this,ba)};m["js._Boot.HaxeError"]=ba;ba.__name__=!0;ba.__super__=Error;ba.prototype=x(Error.prototype,{__class__:ba});var z=function(){};m["js.Boot"]=z;z.__name__=!0;z.getClass=function(a){if(a instanceof Array&&null==a.__enum__)return Array;var b=a.__class__;if(null!=b)return b;a=z.__nativeClassName(a);return null!=a?z.__resolveNativeClass(a):null};z.__string_rec=function(a,b){if(null==
a)return"null";if(5<=b.length)return"<...>";var c=typeof a;"function"==c&&(a.__name__||a.__ename__)&&(c="object");switch(c){case "object":if(a instanceof Array){if(a.__enum__){if(2==a.length)return a[0];c=a[0]+"(";b+="\t";for(var d=2,e=a.length;d<e;)var f=d++,c=2!=f?c+(","+z.__string_rec(a[f],b)):c+z.__string_rec(a[f],b);return c+")"}c=a.length;d="[";b+="\t";for(e=0;e<c;)f=e++,d+=(0<f?",":"")+z.__string_rec(a[f],b);return d+"]"}try{d=a.toString}catch(g){return g instanceof ba&&(g=g.val),"???"}if(null!=
d&&d!=Object.toString&&"function"==typeof d&&(c=a.toString(),"[object Object]"!=c))return c;c=null;d="{\n";b+="\t";e=null!=a.hasOwnProperty;for(c in a)e&&!a.hasOwnProperty(c)||"prototype"==c||"__class__"==c||"__super__"==c||"__interfaces__"==c||"__properties__"==c||(2!=d.length&&(d+=", \n"),d+=b+c+" : "+z.__string_rec(a[c],b));b=b.substring(1);return d+("\n"+b+"}");case "function":return"<function>";case "string":return a;default:return String(a)}};z.__interfLoop=function(a,b){if(null==a)return!1;
if(a==b)return!0;var c=a.__interfaces__;if(null!=c)for(var d=0,e=c.length;d<e;){var f=d++,f=c[f];if(f==b||z.__interfLoop(f,b))return!0}return z.__interfLoop(a.__super__,b)};z.__instanceof=function(a,b){if(null==b)return!1;switch(b){case Kf:return(a|0)===a;case of:return"number"==typeof a;case pf:return"boolean"==typeof a;case String:return"string"==typeof a;case Array:return a instanceof Array&&null==a.__enum__;case Lf:return!0;default:if(null!=a)if("function"==typeof b){if(a instanceof b||z.__interfLoop(z.getClass(a),
b))return!0}else{if("object"==typeof b&&z.__isNativeObj(b)&&a instanceof b)return!0}else return!1;return b==qf&&null!=a.__name__||b==Mf&&null!=a.__ename__?!0:a.__enum__==b}};z.__cast=function(a,b){if(z.__instanceof(a,b))return a;throw new ba("Cannot cast "+Y.string(a)+" to "+Y.string(b));};z.__nativeClassName=function(a){a=z.__toStr.call(a).slice(8,-1);return"Object"==a||"Function"==a||"Math"==a||"JSON"==a?null:a};z.__isNativeObj=function(a){return null!=z.__nativeClassName(a)};z.__resolveNativeClass=
function(a){return Function("return typeof "+a+' != "undefined" ? '+a+" : null")()};var yb=function(a){if(a instanceof Array&&null==a.__enum__)this.a=a,this.byteLength=a.length;else{this.a=[];for(var b=0;b<a;){var c=b++;this.a[c]=0}this.byteLength=a}};m["js.html.compat.ArrayBuffer"]=yb;yb.__name__=!0;yb.sliceImpl=function(a,b){var c=new Ja(this,a,null==b?null:b-a),d=new de(c.byteLength);(new Ja(d)).set(c);return d};yb.prototype={slice:function(a,b){return new yb(this.a.slice(a,b))},__class__:yb};
var fe=function(a,b,c){this.buf=a;this.offset=null==b?0:b;this.length=null==c?a.byteLength-this.offset:c;if(0>this.offset||0>this.length||this.offset+this.length>a.byteLength)throw new ba(fa.OutsideBounds);};m["js.html.compat.DataView"]=fe;fe.__name__=!0;fe.prototype={getInt8:function(a){a=this.buf.a[this.offset+a];return 128<=a?a-256:a},getUint8:function(a){return this.buf.a[this.offset+a]},getInt16:function(a,b){var c=this.getUint16(a,b);return 32768<=c?c-65536:c},getUint16:function(a,b){return b?
this.buf.a[this.offset+a]|this.buf.a[this.offset+a+1]<<8:this.buf.a[this.offset+a]<<8|this.buf.a[this.offset+a+1]},getInt32:function(a,b){var c=this.offset+a,d=this.buf.a[c++],e=this.buf.a[c++],f=this.buf.a[c++],c=this.buf.a[c++];return b?d|e<<8|f<<16|c<<24:c|f<<8|e<<16|d<<24},getUint32:function(a,b){var c=this.getInt32(a,b);return 0>c?c+4294967296:c},getFloat32:function(a,b){return xb.i32ToFloat(this.getInt32(a,b))},getFloat64:function(a,b){var c=this.getInt32(a,b),d=this.getInt32(a+4,b);return xb.i64ToDouble(b?
c:d,b?d:c)},setInt8:function(a,b){this.buf.a[a+this.offset]=0>b?b+128&255:b&255},setUint8:function(a,b){this.buf.a[a+this.offset]=b&255},setInt16:function(a,b,c){this.setUint16(a,0>b?b+65536:b,c)},setUint16:function(a,b,c){a+=this.offset;c?(this.buf.a[a]=b&255,this.buf.a[a++]=b>>8&255):(this.buf.a[a++]=b>>8&255,this.buf.a[a]=b&255)},setInt32:function(a,b,c){this.setUint32(a,b,c)},setUint32:function(a,b,c){a+=this.offset;c?(this.buf.a[a++]=b&255,this.buf.a[a++]=b>>8&255,this.buf.a[a++]=b>>16&255,this.buf.a[a++]=
b>>>24):(this.buf.a[a++]=b>>>24,this.buf.a[a++]=b>>16&255,this.buf.a[a++]=b>>8&255,this.buf.a[a++]=b&255)},setFloat32:function(a,b,c){this.setUint32(a,xb.floatToI32(b),c)},setFloat64:function(a,b,c){b=xb.doubleToI64(b);c?(this.setUint32(a,b.low),this.setUint32(a,b.high)):(this.setUint32(a,b.high),this.setUint32(a,b.low))},__class__:fe};var Pb=function(){};m["js.html.compat.Uint8Array"]=Pb;Pb.__name__=!0;Pb._new=function(a,b,c){if("number"==typeof a){c=[];for(b=0;b<a;){var d=b++;c[d]=0}c.byteLength=
c.length;c.byteOffset=0;c.buffer=new yb(c)}else if(z.__instanceof(a,yb))null==b&&(b=0),null==c&&(c=a.byteLength-b),c=0==b?a.a:a.a.slice(b,b+c),c.byteLength=c.length,c.byteOffset=b,c.buffer=a;else if(a instanceof Array&&null==a.__enum__)c=a.slice(),c.byteLength=c.length,c.byteOffset=0,c.buffer=new yb(c);else throw new ba("TODO "+Y.string(a));c.subarray=Pb._subarray;c.set=Pb._set;return c};Pb._set=function(a,b){if(z.__instanceof(a.buffer,yb)){if(a.byteLength+b>this.byteLength)throw new ba("set() outside of range");
for(var c=0,d=a.byteLength;c<d;){var e=c++;this[e+b]=a[e]}}else if(a instanceof Array&&null==a.__enum__){if(a.length+b>this.byteLength)throw new ba("set() outside of range");c=0;for(d=a.length;c<d;)e=c++,this[e+b]=a[e]}else throw new ba("TODO");};Pb._subarray=function(a,b){var c=Pb._new(this.slice(a,b));c.byteOffset=a;return c};var ge=function(){this.enabled=!0;this.audio=new sa;this.font=new sa;this.image=new sa};m["lime.AssetCache"]=ge;ge.__name__=!0;ge.prototype={clear:function(a){if(null==a)this.audio=
new sa,this.font=new sa,this.image=new sa;else{for(var b=this.audio.keys();b.hasNext();){var c=b.next();ea.startsWith(c,a)&&this.audio.remove(c)}for(b=this.font.keys();b.hasNext();)c=b.next(),ea.startsWith(c,a)&&this.font.remove(c);for(b=this.image.keys();b.hasNext();)c=b.next(),ea.startsWith(c,a)&&this.image.remove(c)}},__class__:ge};var xa=function(){this.listeners=[];this.priorities=[];this.repeat=[]};m["lime.app.Event_Void_Void"]=xa;xa.__name__=!0;xa.prototype={add:function(a,b,c){null==c&&(c=
0);null==b&&(b=!1);for(var d=0,e=this.priorities.length;d<e;){var f=d++;if(c>this.priorities[f]){this.listeners.splice(f,0,a);this.priorities.splice(f,0,c);this.repeat.splice(f,0,!b);return}}this.listeners.push(a);this.priorities.push(c);this.repeat.push(!b)},remove:function(a){for(var b=this.listeners.length;0<=--b;)w.compareMethods(this.listeners[b],a)&&(this.listeners.splice(b,1),this.priorities.splice(b,1),this.repeat.splice(b,1))},dispatch:function(){for(var a=this.listeners,b=this.repeat,c=
0;c<a.length;)a[c](),b[c]?c++:this.remove(a[c])},__class__:xa};var K=function(){};m["lime.Assets"]=K;K.__name__=!0;K.getFont=function(a,b){null==b&&(b=!0);K.initialize();if(b&&K.cache.enabled&&K.cache.font.exists(a))return K.cache.font.get(a);var c=a.substring(0,a.indexOf(":")),d;d=a.indexOf(":")+1;d=D.substr(a,d,null);var e=K.getLibrary(c);if(null!=e)if(e.exists(d,"FONT")){if(e.isLocal(d,"FONT"))return c=e.getFont(d),b&&K.cache.enabled&&K.cache.font.set(a,c),c;hb.log('[Assets] Font asset "'+a+'" exists, but only asynchronously')}else hb.log('[Assets] There is no Font asset with an ID of "'+
a+'"');else hb.log('[Assets] There is no asset library named "'+c+'"');return null};K.getImage=function(a,b){null==b&&(b=!0);K.initialize();if(b&&K.cache.enabled&&K.cache.image.exists(a)){var c=K.cache.image.get(a);if(K.isValidImage(c))return c}var c=a.substring(0,a.indexOf(":")),d;d=a.indexOf(":")+1;d=D.substr(a,d,null);var e=K.getLibrary(c);if(null!=e)if(e.exists(d,"IMAGE")){if(e.isLocal(d,"IMAGE"))return c=e.getImage(d),b&&K.cache.enabled&&K.cache.image.set(a,c),c;hb.log('[Assets] Image asset "'+
a+'" exists, but only asynchronously')}else hb.log('[Assets] There is no Image asset with an ID of "'+a+'"');else hb.log('[Assets] There is no asset library named "'+c+'"');return null};K.getLibrary=function(a){if(null==a||""==a)a="default";return K.libraries.get(a)};K.initialize=function(){K.initialized||(K.registerLibrary("default",new jd),K.initialized=!0)};K.isValidImage=function(a){return!0};K.registerLibrary=function(a,b){if(K.libraries.exists(a)){if(K.libraries.get(a)==b)return;K.unloadLibrary(a)}null!=
b&&b.onChange.add(K.library_onChange);K.libraries.set(a,b)};K.unloadLibrary=function(a){K.initialize();var b=K.libraries.get(a);null!=b&&(K.cache.clear(a+":"),b.onChange.remove(K.library_onChange),b.unload());K.libraries.remove(a)};K.library_onChange=function(){K.cache.clear();K.onChange.dispatch()};var he=function(a){this.parent=a;this.nextUpdate=this.lastUpdate=this.currentUpdate=0;this.framePeriod=-1;ec.init()};m["lime._backend.html5.HTML5Application"]=he;he.__name__=!0;he.prototype={convertKeyCode:function(a){if(65<=
a&&90>=a)return a+32;switch(a){case 16:return 1073742049;case 17:return 1073742048;case 18:return 1073742050;case 20:return 1073741881;case 144:return 1073741907;case 37:return 1073741904;case 38:return 1073741906;case 39:return 1073741903;case 40:return 1073741905;case 45:return 1073741897;case 46:return 127;case 36:return 1073741898;case 35:return 1073741901;case 33:return 1073741899;case 34:return 1073741902;case 112:return 1073741882;case 113:return 1073741883;case 114:return 1073741884;case 115:return 1073741885;
case 116:return 1073741886;case 117:return 1073741887;case 118:return 1073741888;case 119:return 1073741889;case 120:return 1073741890;case 121:return 1073741891;case 122:return 1073741892;case 123:return 1073741893;case 124:return 1073741928;case 125:return 1073741929;case 126:return 1073741930;case 186:return 59;case 187:return 61;case 188:return 44;case 189:return 45;case 190:return 46;case 191:return 47;case 192:return 96;case 219:return 91;case 220:return 92;case 221:return 93;case 222:return 39}return a},
create:function(a){},exec:function(){window.addEventListener("keydown",r(this,this.handleKeyEvent),!1);window.addEventListener("keyup",r(this,this.handleKeyEvent),!1);window.addEventListener("focus",r(this,this.handleWindowEvent),!1);window.addEventListener("blur",r(this,this.handleWindowEvent),!1);window.addEventListener("resize",r(this,this.handleWindowEvent),!1);window.addEventListener("beforeunload",r(this,this.handleWindowEvent),!1);for(var a=0,b=["ms","moz","webkit","o"],c=0;c<b.length&&!window.requestAnimationFrame;++c)window.requestAnimationFrame=
window[b[c]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[b[c]+"CancelAnimationFrame"]||window[b[c]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(b,c){var f=(new Date).getTime(),g=Math.max(0,16-(f-a)),p=window.setTimeout(function(){b(f+g)},g);a=f+g;return p});window.cancelAnimationFrame||(window.cancelAnimationFrame=function(a){clearTimeout(a)});window.requestAnimFrame=window.requestAnimationFrame;this.lastUpdate=(new Date).getTime();
this.handleApplicationEvent();return 0},exit:function(){},handleApplicationEvent:function(a){this.currentUpdate=(new Date).getTime();this.currentUpdate>=this.nextUpdate&&(this.deltaTime=this.currentUpdate-this.lastUpdate,this.parent.onUpdate.dispatch(this.deltaTime|0),null!=this.parent.renderers[0]&&(this.parent.renderers[0].onRender.dispatch(),this.parent.renderers[0].flip()),this.nextUpdate=0>this.framePeriod?this.nextUpdate=this.currentUpdate:this.currentUpdate+this.framePeriod,this.lastUpdate=
this.currentUpdate);window.requestAnimationFrame(r(this,this.handleApplicationEvent))},handleKeyEvent:function(a){if(null!=this.parent.windows[0]){var b=this.convertKeyCode(null!=a.keyCode?a.keyCode:a.which),c;c=(a.shiftKey?3:0)|(a.ctrlKey?192:0)|(a.altKey?768:0)|(a.metaKey?3072:0);"keydown"==a.type?this.parent.windows[0].onKeyDown.dispatch(b,c):this.parent.windows[0].onKeyUp.dispatch(b,c)}},handleWindowEvent:function(a){if(null!=this.parent.windows[0])switch(a.type){case "focus":this.parent.windows[0].onFocusIn.dispatch();
this.parent.windows[0].onActivate.dispatch();break;case "blur":this.parent.windows[0].onFocusOut.dispatch();this.parent.windows[0].onDeactivate.dispatch();break;case "resize":a=this.parent.windows[0].__width;var b=this.parent.windows[0].__height;this.parent.windows[0].backend.handleResize();this.parent.windows[0].__width==a&&this.parent.windows[0].__height==b||this.parent.windows[0].onResize.dispatch(this.parent.windows[0].__width,this.parent.windows[0].__height);break;case "beforeunload":this.parent.windows[0].onClose.dispatch()}},
setFrameRate:function(a){this.framePeriod=60<=a?-1:0<a?1E3/a:1E3;return a},__class__:he};var Qb=function(){};m["lime._backend.html5.HTML5Mouse"]=Qb;Qb.__name__=!0;Qb.__cursor=null;Qb.__hidden=null;Qb.set_cursor=function(a){if(Qb.__cursor!=a){if(!Qb.__hidden)for(var b=0,c=Wa.current.windows;b<c.length;){var d=c[b];++b;switch(a[1]){case 0:d.backend.element.style.cursor="default";break;case 1:d.backend.element.style.cursor="crosshair";break;case 3:d.backend.element.style.cursor="move";break;case 4:d.backend.element.style.cursor=
"pointer";break;case 5:d.backend.element.style.cursor="nesw-resize";break;case 6:d.backend.element.style.cursor="ns-resize";break;case 7:d.backend.element.style.cursor="nwse-resize";break;case 8:d.backend.element.style.cursor="ew-resize";break;case 9:d.backend.element.style.cursor="text";break;case 10:d.backend.element.style.cursor="wait";break;case 11:d.backend.element.style.cursor="wait";break;default:d.backend.element.style.cursor="auto"}}Qb.__cursor=a}return Qb.__cursor};var ie=function(a){this.parent=
a};m["lime._backend.html5.HTML5Renderer"]=ie;ie.__name__=!0;ie.prototype={create:function(){this.createContext();switch(this.parent.context[1]){case 0:this.parent.window.backend.canvas.addEventListener("webglcontextlost",r(this,this.handleEvent),!1),this.parent.window.backend.canvas.addEventListener("webglcontextrestored",r(this,this.handleEvent),!1)}},createContext:function(){null!=this.parent.window.backend.div?(this.parent.context=Ka.DOM(this.parent.window.backend.div),this.parent.type=ga.DOM):
null!=this.parent.window.backend.canvas&&(this.parent.context=Ka.CANVAS(this.parent.window.backend.canvas.getContext("2d")),this.parent.type=ga.CANVAS)},flip:function(){},handleEvent:function(a){switch(a.type){case "webglcontextlost":a.preventDefault();this.parent.context=null;this.parent.onContextLost.dispatch();break;case "webglcontextrestored":this.createContext(),this.parent.onContextRestored.dispatch(this.parent.context)}},__class__:ie};var Q=function(a){this.unusedTouchesPool=new nc;this.currentTouches=
new Va;this.parent=a;null!=a.config&&Object.prototype.hasOwnProperty.call(a.config,"element")&&(this.element=a.config.element)};m["lime._backend.html5.HTML5Window"]=Q;Q.__name__=!0;Q.textInput=null;Q.prototype={close:function(){this.parent.application.removeWindow(this.parent)},create:function(a){this.setWidth=this.parent.__width;this.setHeight=this.parent.__height;this.parent.id=Q.windowID++;z.__instanceof(this.element,HTMLCanvasElement)?this.canvas=this.element:this.canvas=window.document.createElement("canvas");
null!=this.canvas?(a=this.canvas.style,a.setProperty("-webkit-transform","translateZ(0)",null),a.setProperty("transform","translateZ(0)",null)):null!=this.div&&(a=this.div.style,a.setProperty("-webkit-transform","translate3D(0,0,0)",null),a.setProperty("transform","translate3D(0,0,0)",null),a.position="relative",a.overflow="hidden",a.setProperty("-webkit-user-select","none",null),a.setProperty("-moz-user-select","none",null),a.setProperty("-ms-user-select","none",null),a.setProperty("-o-user-select",
"none",null));0==this.parent.__width&&0==this.parent.__height&&(null!=this.element?(this.parent.set_width(this.element.clientWidth),this.parent.set_height(this.element.clientHeight)):(this.parent.set_width(window.innerWidth),this.parent.set_height(window.innerHeight)),this.parent.set_fullscreen(!0));null!=this.canvas?(this.canvas.width=this.parent.__width,this.canvas.height=this.parent.__height):(this.div.style.width=this.parent.__width+"px",this.div.style.height=this.parent.__height+"px");this.handleResize();
if(null!=this.element){null!=this.canvas?this.element!=this.canvas&&this.element.appendChild(this.canvas):this.element.appendChild(this.div);a="mousedown mouseenter mouseleave mousemove mouseup wheel".split(" ");for(var b=0;b<a.length;){var c=a[b];++b;this.element.addEventListener(c,r(this,this.handleMouseEvent),!0)}window.document.addEventListener("dragstart",function(a){return"img"==a.target.nodeName.toLowerCase()?(a.preventDefault(),!1):!0},!1);this.element.addEventListener("touchstart",r(this,
this.handleTouchEvent),!0);this.element.addEventListener("touchmove",r(this,this.handleTouchEvent),!0);this.element.addEventListener("touchend",r(this,this.handleTouchEvent),!0)}},handleFocusEvent:function(a){this.enableTextEvents&&pc.delay(function(){Q.textInput.focus()},20)},handleInputEvent:function(a){""!=Q.textInput.value&&(this.parent.onTextInput.dispatch(Q.textInput.value),Q.textInput.value="")},handleMouseEvent:function(a){var b=0,c=0;if("wheel"!=a.type)switch(null!=this.element?null!=this.canvas?
(c=this.canvas.getBoundingClientRect(),b=this.parent.__width/c.width*(a.clientX-c.left),c=this.parent.__height/c.height*(a.clientY-c.top)):null!=this.div?(c=this.div.getBoundingClientRect(),b=a.clientX-c.left,c=a.clientY-c.top):(c=this.element.getBoundingClientRect(),b=this.parent.__width/c.width*(a.clientX-c.left),c=this.parent.__height/c.height*(a.clientY-c.top)):(b=a.clientX,c=a.clientY),a.type){case "mousedown":this.parent.onMouseDown.dispatch(b,c,a.button);break;case "mouseenter":this.parent.onEnter.dispatch();
break;case "mouseleave":this.parent.onLeave.dispatch();break;case "mouseup":this.parent.onMouseUp.dispatch(b,c,a.button);break;case "mousemove":this.parent.onMouseMove.dispatch(b,c)}else this.parent.onMouseWheel.dispatch(a.deltaX,-a.deltaY)},handleResize:function(){var a=this.parent.__fullscreen||0==this.setWidth&&0==this.setHeight;if(null!=this.element&&(null==this.div||null!=this.div&&a))if(a){if(this.parent.__width!=this.element.clientWidth||this.parent.__height!=this.element.clientHeight)this.parent.set_width(this.element.clientWidth),
this.parent.set_height(this.element.clientHeight),null!=this.canvas?this.element!=this.canvas&&(this.canvas.width=this.element.clientWidth,this.canvas.height=this.element.clientHeight):(this.div.style.width=this.element.clientWidth+"px",this.div.style.height=this.element.clientHeight+"px")}else a=Math.min(this.element.clientWidth/this.setWidth,this.element.clientHeight/this.setHeight),null!=this.canvas?this.element!=this.canvas&&(this.canvas.style.width=this.setWidth*a+"px",this.canvas.style.height=
this.setHeight*a+"px",this.canvas.style.marginLeft=(this.element.clientWidth-this.setWidth*a)/2+"px",this.canvas.style.marginTop=(this.element.clientHeight-this.setHeight*a)/2+"px"):(this.div.style.width=this.setWidth*a+"px",this.div.style.height=this.setHeight*a+"px",this.div.style.marginLeft=(this.element.clientWidth-this.setWidth*a)/2+"px",this.div.style.marginTop=(this.element.clientHeight-this.setHeight*a)/2+"px")},handleTouchEvent:function(a){a.preventDefault();var b=null;null!=this.element&&
(b=null!=this.canvas?this.canvas.getBoundingClientRect():null!=this.div?this.div.getBoundingClientRect():this.element.getBoundingClientRect());for(var c=0,d=a.changedTouches;c<d.length;){var e=d[c];++c;var f=0,g=0;null!=b?(f=this.parent.__width/b.width*(e.clientX-b.left),g=this.parent.__height/b.height*(e.clientY-b.top)):(f=e.clientX,g=e.clientY);switch(a.type){case "touchstart":var p=this.unusedTouchesPool.pop();null==p?p=new lb(f/this.setWidth,g/this.setHeight,e.identifier,0,0,e.force,this.parent.id):
(p.x=f/this.setWidth,p.y=g/this.setHeight,p.id=e.identifier,p.dx=0,p.dy=0,p.pressure=e.force,p.device=this.parent.id);this.currentTouches.h[e.identifier]=p;lb.onStart.dispatch(p);null==this.primaryTouch&&(this.primaryTouch=p);p==this.primaryTouch&&this.parent.onMouseDown.dispatch(f,g,0);break;case "touchend":p=this.currentTouches.h[e.identifier];if(null!=p){var Ha=p.x,h=p.y;p.x=f/this.setWidth;p.y=g/this.setHeight;p.dx=p.x-Ha;p.dy=p.y-h;p.pressure=e.force;lb.onEnd.dispatch(p);this.currentTouches.remove(e.identifier);
this.unusedTouchesPool.add(p);p==this.primaryTouch&&(this.parent.onMouseUp.dispatch(f,g,0),this.primaryTouch=null)}break;case "touchmove":p=this.currentTouches.h[e.identifier],null!=p&&(Ha=p.x,h=p.y,p.x=f/this.setWidth,p.y=g/this.setHeight,p.dx=p.x-Ha,p.dy=p.y-h,p.pressure=e.force,lb.onMove.dispatch(p),p==this.primaryTouch&&this.parent.onMouseMove.dispatch(f,g))}}},resize:function(a,b){},setEnableTextEvents:function(a){a?(null==Q.textInput&&(Q.textInput=window.document.createElement("input"),Q.textInput.type=
"text",Q.textInput.style.position="fixed",Q.textInput.style.opacity="0",Q.textInput.style.color="transparent",Q.textInput.value="",Q.textInput.autocapitalize="off",Q.textInput.autocorrect="off",Q.textInput.autocomplete="off",Q.textInput.style.left="0px",Q.textInput.style.top="50%",(new Hb("(iPad|iPhone|iPod).*OS 8_","gi")).match(window.navigator.userAgent)?(Q.textInput.style.fontSize="0px",Q.textInput.style.width="0px",Q.textInput.style.height="0px"):(Q.textInput.style.width="1px",Q.textInput.style.height=
"1px"),Q.textInput.style.pointerEvents="none",Q.textInput.style.zIndex="-10000000",window.document.body.appendChild(Q.textInput)),this.enableTextEvents||(Q.textInput.addEventListener("input",r(this,this.handleInputEvent),!0),Q.textInput.addEventListener("blur",r(this,this.handleFocusEvent),!0)),Q.textInput.focus()):null!=Q.textInput&&(Q.textInput.removeEventListener("input",r(this,this.handleInputEvent),!0),Q.textInput.removeEventListener("blur",r(this,this.handleFocusEvent),!0),Q.textInput.blur());
return this.enableTextEvents=a},setFullscreen:function(a){return!1},__class__:Q};var nd=function(){};m["lime.app.IModule"]=nd;nd.__name__=!0;nd.prototype={__class__:nd};var Kc=function(){this.onExit=new fc};m["lime.app.Module"]=Kc;Kc.__name__=!0;Kc.__interfaces__=[nd];Kc.prototype={onGamepadAxisMove:function(a,b,c){},onGamepadButtonDown:function(a,b){},onGamepadButtonUp:function(a,b){},onGamepadConnect:function(a){},onGamepadDisconnect:function(a){},onJoystickAxisMove:function(a,b,c){},onJoystickButtonDown:function(a,
b){},onJoystickButtonUp:function(a,b){},onJoystickConnect:function(a){},onJoystickDisconnect:function(a){},onJoystickHatMove:function(a,b,c){},onJoystickTrackballMove:function(a,b,c){},onKeyDown:function(a,b,c){},onKeyUp:function(a,b,c){},onModuleExit:function(a){},onMouseDown:function(a,b,c,d){},onMouseMove:function(a,b,c){},onMouseMoveRelative:function(a,b,c){},onMouseUp:function(a,b,c,d){},onMouseWheel:function(a,b,c){},onPreloadComplete:function(){},onPreloadProgress:function(a,b){},onRenderContextLost:function(a){},
onRenderContextRestored:function(a,b){},onTextEdit:function(a,b,c,d){},onTextInput:function(a,b){},onTouchEnd:function(a){},onTouchMove:function(a){},onTouchStart:function(a){},onWindowActivate:function(a){},onWindowClose:function(a){},onWindowCreate:function(a){},onWindowDeactivate:function(a){},onWindowEnter:function(a){},onWindowFocusIn:function(a){},onWindowFocusOut:function(a){},onWindowFullscreen:function(a){},onWindowLeave:function(a){},onWindowMove:function(a,b,c){},onWindowMinimize:function(a){},
onWindowResize:function(a,b,c){},onWindowRestore:function(a){},render:function(a){},update:function(a){},__class__:Kc};var Wa=function(){this.onUpdate=new fc;this.onExit=new fc;null==Wa.current&&(Wa.current=this);this.modules=[];this.renderers=[];this.windows=[];this.windowByID=new Va;this.backend=new he(this);this.onExit.add(r(this,this.onModuleExit));this.onUpdate.add(r(this,this.update));od.onConnect.add(r(this,this.onGamepadConnect));pd.onConnect.add(r(this,this.onJoystickConnect));lb.onStart.add(r(this,
this.onTouchStart));lb.onMove.add(r(this,this.onTouchMove));lb.onEnd.add(r(this,this.onTouchEnd))};m["lime.app.Application"]=Wa;Wa.__name__=!0;Wa.current=null;Wa.__super__=Kc;Wa.prototype=x(Kc.prototype,{addModule:function(a){this.modules.push(a);if(0<this.windows.length){for(var b=0,c=this.windows;b<c.length;){var d=c[b];++b;a.onWindowCreate(d)}if(null==this.preloader||this.preloader.complete)a.onPreloadComplete()}},addRenderer:function(a){a.onRender.add(function(a,c){return function(){a(c)}}(r(this,
this.render),a));a.onContextLost.add(function(a,c){return function(){a(c)}}(r(this,this.onRenderContextLost),a));a.onContextRestored.add(function(a,c){return function(d){a(c,d)}}(r(this,this.onRenderContextRestored),a));this.renderers.push(a)},createWindow:function(a){a.onActivate.add(function(a,b){return function(){a(b)}}(r(this,this.onWindowActivate),a));a.onClose.add(function(a,b){return function(){a(b)}}(r(this,this.onWindowClose),a));a.onCreate.add(function(a,b){return function(){a(b)}}(r(this,
this.onWindowCreate),a));a.onDeactivate.add(function(a,b){return function(){a(b)}}(r(this,this.onWindowDeactivate),a));a.onEnter.add(function(a,b){return function(){a(b)}}(r(this,this.onWindowEnter),a));a.onFocusIn.add(function(a,b){return function(){a(b)}}(r(this,this.onWindowFocusIn),a));a.onFocusOut.add(function(a,b){return function(){a(b)}}(r(this,this.onWindowFocusOut),a));a.onFullscreen.add(function(a,b){return function(){a(b)}}(r(this,this.onWindowFullscreen),a));a.onKeyDown.add(function(a,
b){return function(e,f){a(b,e,f)}}(r(this,this.onKeyDown),a));a.onKeyUp.add(function(a,b){return function(e,f){a(b,e,f)}}(r(this,this.onKeyUp),a));a.onLeave.add(function(a,b){return function(){a(b)}}(r(this,this.onWindowLeave),a));a.onMinimize.add(function(a,b){return function(){a(b)}}(r(this,this.onWindowMinimize),a));a.onMouseDown.add(function(a,b){return function(e,f,g){a(b,e,f,g)}}(r(this,this.onMouseDown),a));a.onMouseMove.add(function(a,b){return function(e,f){a(b,e,f)}}(r(this,this.onMouseMove),
a));a.onMouseMoveRelative.add(function(a,b){return function(e,f){a(b,e,f)}}(r(this,this.onMouseMoveRelative),a));a.onMouseUp.add(function(a,b){return function(e,f,g){a(b,e,f,g)}}(r(this,this.onMouseUp),a));a.onMouseWheel.add(function(a,b){return function(e,f){a(b,e,f)}}(r(this,this.onMouseWheel),a));a.onMove.add(function(a,b){return function(e,f){a(b,e,f)}}(r(this,this.onWindowMove),a));a.onResize.add(function(a,b){return function(e,f){a(b,e,f)}}(r(this,this.onWindowResize),a));a.onRestore.add(function(a,
b){return function(){a(b)}}(r(this,this.onWindowRestore),a));a.onTextEdit.add(function(a,b){return function(e,f,g){a(b,e,f,g)}}(r(this,this.onTextEdit),a));a.onTextInput.add(function(a,b){return function(e){a(b,e)}}(r(this,this.onTextInput),a));if(null==a.renderer){var b=new je(a);this.addRenderer(b)}a.create(this);this.windows.push(a);this.windowByID.h[a.id]=a;a.onCreate.dispatch()},exec:function(){Wa.current=this;return this.backend.exec()},onGamepadAxisMove:function(a,b,c){for(var d=0,e=this.modules;d<
e.length;){var f=e[d];++d;f.onGamepadAxisMove(a,b,c)}},onGamepadButtonDown:function(a,b){for(var c=0,d=this.modules;c<d.length;){var e=d[c];++c;e.onGamepadButtonDown(a,b)}},onGamepadButtonUp:function(a,b){for(var c=0,d=this.modules;c<d.length;){var e=d[c];++c;e.onGamepadButtonUp(a,b)}},onGamepadConnect:function(a){for(var b=0,c=this.modules;b<c.length;){var d=c[b];++b;d.onGamepadConnect(a)}a.onAxisMove.add(function(a,b){return function(c,d){a(b,c,d)}}(r(this,this.onGamepadAxisMove),a));a.onButtonDown.add(function(a,
b){return function(c){a(b,c)}}(r(this,this.onGamepadButtonDown),a));a.onButtonUp.add(function(a,b){return function(c){a(b,c)}}(r(this,this.onGamepadButtonUp),a));a.onDisconnect.add(function(a,b){return function(){a(b)}}(r(this,this.onGamepadDisconnect),a))},onGamepadDisconnect:function(a){for(var b=0,c=this.modules;b<c.length;){var d=c[b];++b;d.onGamepadDisconnect(a)}},onJoystickAxisMove:function(a,b,c){for(var d=0,e=this.modules;d<e.length;){var f=e[d];++d;f.onJoystickAxisMove(a,b,c)}},onJoystickButtonDown:function(a,
b){for(var c=0,d=this.modules;c<d.length;){var e=d[c];++c;e.onJoystickButtonDown(a,b)}},onJoystickButtonUp:function(a,b){for(var c=0,d=this.modules;c<d.length;){var e=d[c];++c;e.onJoystickButtonUp(a,b)}},onJoystickConnect:function(a){for(var b=0,c=this.modules;b<c.length;){var d=c[b];++b;d.onJoystickConnect(a)}a.onAxisMove.add(function(a,b){return function(c,d){a(b,c,d)}}(r(this,this.onJoystickAxisMove),a));a.onButtonDown.add(function(a,b){return function(c){a(b,c)}}(r(this,this.onJoystickButtonDown),
a));a.onButtonUp.add(function(a,b){return function(c){a(b,c)}}(r(this,this.onJoystickButtonUp),a));a.onDisconnect.add(function(a,b){return function(){a(b)}}(r(this,this.onJoystickDisconnect),a));a.onHatMove.add(function(a,b){return function(c,d){a(b,c,d)}}(r(this,this.onJoystickHatMove),a));a.onTrackballMove.add(function(a,b){return function(c,d){a(b,c,d)}}(r(this,this.onJoystickTrackballMove),a))},onJoystickDisconnect:function(a){for(var b=0,c=this.modules;b<c.length;){var d=c[b];++b;d.onJoystickDisconnect(a)}},
onJoystickHatMove:function(a,b,c){for(var d=0,e=this.modules;d<e.length;){var f=e[d];++d;f.onJoystickHatMove(a,b,c)}},onJoystickTrackballMove:function(a,b,c){for(var d=0,e=this.modules;d<e.length;){var f=e[d];++d;f.onJoystickTrackballMove(a,b,c)}},onKeyDown:function(a,b,c){for(var d=0,e=this.modules;d<e.length;){var f=e[d];++d;f.onKeyDown(a,b,c)}},onKeyUp:function(a,b,c){for(var d=0,e=this.modules;d<e.length;){var f=e[d];++d;f.onKeyUp(a,b,c)}},onModuleExit:function(a){for(var b=0,c=this.modules;b<
c.length;){var d=c[b];++b;d.onModuleExit(a)}this.backend.exit()},onMouseDown:function(a,b,c,d){for(var e=0,f=this.modules;e<f.length;){var g=f[e];++e;g.onMouseDown(a,b,c,d)}},onMouseMove:function(a,b,c){for(var d=0,e=this.modules;d<e.length;){var f=e[d];++d;f.onMouseMove(a,b,c)}},onMouseMoveRelative:function(a,b,c){for(var d=0,e=this.modules;d<e.length;){var f=e[d];++d;f.onMouseMoveRelative(a,b,c)}},onMouseUp:function(a,b,c,d){for(var e=0,f=this.modules;e<f.length;){var g=f[e];++e;g.onMouseUp(a,b,
c,d)}},onMouseWheel:function(a,b,c){for(var d=0,e=this.modules;d<e.length;){var f=e[d];++d;f.onMouseWheel(a,b,c)}},onPreloadComplete:function(){for(var a=0,b=this.modules;a<b.length;){var c=b[a];++a;c.onPreloadComplete()}},onPreloadProgress:function(a,b){for(var c=0,d=this.modules;c<d.length;){var e=d[c];++c;e.onPreloadProgress(a,b)}},onRenderContextLost:function(a){for(var b=0,c=this.modules;b<c.length;){var d=c[b];++b;d.onRenderContextLost(a)}},onRenderContextRestored:function(a,b){for(var c=0,
d=this.modules;c<d.length;){var e=d[c];++c;e.onRenderContextRestored(a,b)}},onTextEdit:function(a,b,c,d){for(var e=0,f=this.modules;e<f.length;){var g=f[e];++e;g.onTextEdit(a,b,c,d)}},onTextInput:function(a,b){for(var c=0,d=this.modules;c<d.length;){var e=d[c];++c;e.onTextInput(a,b)}},onTouchEnd:function(a){for(var b=0,c=this.modules;b<c.length;){var d=c[b];++b;d.onTouchEnd(a)}},onTouchMove:function(a){for(var b=0,c=this.modules;b<c.length;){var d=c[b];++b;d.onTouchMove(a)}},onTouchStart:function(a){for(var b=
0,c=this.modules;b<c.length;){var d=c[b];++b;d.onTouchStart(a)}},onWindowActivate:function(a){for(var b=0,c=this.modules;b<c.length;){var d=c[b];++b;d.onWindowActivate(a)}},onWindowClose:function(a){for(var b=0,c=this.modules;b<c.length;){var d=c[b];++b;d.onWindowClose(a)}this.removeWindow(a)},onWindowCreate:function(a){for(var b=0,c=this.modules;b<c.length;){var d=c[b];++b;d.onWindowCreate(a)}},onWindowDeactivate:function(a){for(var b=0,c=this.modules;b<c.length;){var d=c[b];++b;d.onWindowDeactivate(a)}},
onWindowEnter:function(a){for(var b=0,c=this.modules;b<c.length;){var d=c[b];++b;d.onWindowEnter(a)}},onWindowFocusIn:function(a){for(var b=0,c=this.modules;b<c.length;){var d=c[b];++b;d.onWindowFocusIn(a)}},onWindowFocusOut:function(a){for(var b=0,c=this.modules;b<c.length;){var d=c[b];++b;d.onWindowFocusOut(a)}},onWindowFullscreen:function(a){for(var b=0,c=this.modules;b<c.length;){var d=c[b];++b;d.onWindowFullscreen(a)}},onWindowLeave:function(a){for(var b=0,c=this.modules;b<c.length;){var d=c[b];
++b;d.onWindowLeave(a)}},onWindowMinimize:function(a){for(var b=0,c=this.modules;b<c.length;){var d=c[b];++b;d.onWindowMinimize(a)}},onWindowMove:function(a,b,c){for(var d=0,e=this.modules;d<e.length;){var f=e[d];++d;f.onWindowMove(a,b,c)}},onWindowResize:function(a,b,c){for(var d=0,e=this.modules;d<e.length;){var f=e[d];++d;f.onWindowResize(a,b,c)}},onWindowRestore:function(a){for(var b=0,c=this.modules;b<c.length;){var d=c[b];++b;d.onWindowRestore(a)}},removeWindow:function(a){null!=a&&this.windowByID.h.hasOwnProperty(a.id)&&
(D.remove(this.windows,a),this.windowByID.remove(a.id),a.close(),this.windows[0]==a&&(this.window=null))},render:function(a){for(var b=0,c=this.modules;b<c.length;){var d=c[b];++b;d.render(a)}},setPreloader:function(a){null!=this.preloader&&(this.preloader.onProgress.remove(r(this,this.onPreloadProgress)),this.preloader.onComplete.remove(r(this,this.onPreloadComplete)));this.preloader=a;if(a.complete)this.onPreloadComplete();else a.onProgress.add(r(this,this.onPreloadProgress)),a.onComplete.add(r(this,
this.onPreloadComplete))},update:function(a){for(var b=0,c=this.modules;b<c.length;){var d=c[b];++b;d.update(a)}},__class__:Wa});var qd=function(){this.listeners=[];this.priorities=[];this.repeat=[]};m["lime.app.Event_Float_Float_Int_Void"]=qd;qd.__name__=!0;qd.prototype={add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=0,e=this.priorities.length;d<e;){var f=d++;if(c>this.priorities[f]){this.listeners.splice(f,0,a);this.priorities.splice(f,0,c);this.repeat.splice(f,0,!b);return}}this.listeners.push(a);
this.priorities.push(c);this.repeat.push(!b)},remove:function(a){for(var b=this.listeners.length;0<=--b;)w.compareMethods(this.listeners[b],a)&&(this.listeners.splice(b,1),this.priorities.splice(b,1),this.repeat.splice(b,1))},dispatch:function(a,b,c){for(var d=this.listeners,e=this.repeat,f=0;f<d.length;)d[f](a,b,c),e[f]?f++:this.remove(d[f])},__class__:qd};var sc=function(){this.listeners=[];this.priorities=[];this.repeat=[]};m["lime.app.Event_Float_Float_Void"]=sc;sc.__name__=!0;sc.prototype={add:function(a,
b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=0,e=this.priorities.length;d<e;){var f=d++;if(c>this.priorities[f]){this.listeners.splice(f,0,a);this.priorities.splice(f,0,c);this.repeat.splice(f,0,!b);return}}this.listeners.push(a);this.priorities.push(c);this.repeat.push(!b)},remove:function(a){for(var b=this.listeners.length;0<=--b;)w.compareMethods(this.listeners[b],a)&&(this.listeners.splice(b,1),this.priorities.splice(b,1),this.repeat.splice(b,1))},dispatch:function(a,b){for(var c=this.listeners,
d=this.repeat,e=0;e<c.length;)c[e](a,b),d[e]?e++:this.remove(c[e])},__class__:sc};var rd=function(){this.listeners=[];this.priorities=[];this.repeat=[]};m["lime.app.Event_Int_Float_Void"]=rd;rd.__name__=!0;rd.prototype={add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=0,e=this.priorities.length;d<e;){var f=d++;if(c>this.priorities[f]){this.listeners.splice(f,0,a);this.priorities.splice(f,0,c);this.repeat.splice(f,0,!b);return}}this.listeners.push(a);this.priorities.push(c);this.repeat.push(!b)},
__class__:rd};var sd=function(){this.listeners=[];this.priorities=[];this.repeat=[]};m["lime.app.Event_Int_Int_Void"]=sd;sd.__name__=!0;sd.prototype={add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=0,e=this.priorities.length;d<e;){var f=d++;if(c>this.priorities[f]){this.listeners.splice(f,0,a);this.priorities.splice(f,0,c);this.repeat.splice(f,0,!b);return}}this.listeners.push(a);this.priorities.push(c);this.repeat.push(!b)},remove:function(a){for(var b=this.listeners.length;0<=--b;)w.compareMethods(this.listeners[b],
a)&&(this.listeners.splice(b,1),this.priorities.splice(b,1),this.repeat.splice(b,1))},dispatch:function(a,b){for(var c=this.listeners,d=this.repeat,e=0;e<c.length;)c[e](a,b),d[e]?e++:this.remove(c[e])},__class__:sd};var fc=function(){this.listeners=[];this.priorities=[];this.repeat=[]};m["lime.app.Event_Int_Void"]=fc;fc.__name__=!0;fc.prototype={add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=0,e=this.priorities.length;d<e;){var f=d++;if(c>this.priorities[f]){this.listeners.splice(f,
0,a);this.priorities.splice(f,0,c);this.repeat.splice(f,0,!b);return}}this.listeners.push(a);this.priorities.push(c);this.repeat.push(!b)},remove:function(a){for(var b=this.listeners.length;0<=--b;)w.compareMethods(this.listeners[b],a)&&(this.listeners.splice(b,1),this.priorities.splice(b,1),this.repeat.splice(b,1))},dispatch:function(a){for(var b=this.listeners,c=this.repeat,d=0;d<b.length;)b[d](a),c[d]?d++:this.remove(b[d])},__class__:fc};var ke=function(){this.listeners=[];this.priorities=[];this.repeat=
[]};m["lime.app.Event_Int_lime_ui_JoystickHatPosition_Void"]=ke;ke.__name__=!0;ke.prototype={add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=0,e=this.priorities.length;d<e;){var f=d++;if(c>this.priorities[f]){this.listeners.splice(f,0,a);this.priorities.splice(f,0,c);this.repeat.splice(f,0,!b);return}}this.listeners.push(a);this.priorities.push(c);this.repeat.push(!b)},__class__:ke};var le=function(){this.listeners=[];this.priorities=[];this.repeat=[]};m["lime.app.Event_String_Int_Int_Void"]=
le;le.__name__=!0;le.prototype={add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=0,e=this.priorities.length;d<e;){var f=d++;if(c>this.priorities[f]){this.listeners.splice(f,0,a);this.priorities.splice(f,0,c);this.repeat.splice(f,0,!b);return}}this.listeners.push(a);this.priorities.push(c);this.repeat.push(!b)},__class__:le};var me=function(){this.listeners=[];this.priorities=[];this.repeat=[]};m["lime.app.Event_String_Void"]=me;me.__name__=!0;me.prototype={add:function(a,b,c){null==c&&
(c=0);null==b&&(b=!1);for(var d=0,e=this.priorities.length;d<e;){var f=d++;if(c>this.priorities[f]){this.listeners.splice(f,0,a);this.priorities.splice(f,0,c);this.repeat.splice(f,0,!b);return}}this.listeners.push(a);this.priorities.push(c);this.repeat.push(!b)},has:function(a){for(var b=0,c=this.listeners;b<c.length;){var d=c[b];++b;if(w.compareMethods(d,a))return!0}return!1},remove:function(a){for(var b=this.listeners.length;0<=--b;)w.compareMethods(this.listeners[b],a)&&(this.listeners.splice(b,
1),this.priorities.splice(b,1),this.repeat.splice(b,1))},dispatch:function(a){for(var b=this.listeners,c=this.repeat,d=0;d<b.length;)b[d](a),c[d]?d++:this.remove(b[d])},__class__:me};var ne=function(){this.listeners=[];this.priorities=[];this.repeat=[]};m["lime.app.Event_lime_graphics_RenderContext_Void"]=ne;ne.__name__=!0;ne.prototype={add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=0,e=this.priorities.length;d<e;){var f=d++;if(c>this.priorities[f]){this.listeners.splice(f,0,a);this.priorities.splice(f,
0,c);this.repeat.splice(f,0,!b);return}}this.listeners.push(a);this.priorities.push(c);this.repeat.push(!b)},remove:function(a){for(var b=this.listeners.length;0<=--b;)w.compareMethods(this.listeners[b],a)&&(this.listeners.splice(b,1),this.priorities.splice(b,1),this.repeat.splice(b,1))},dispatch:function(a){for(var b=this.listeners,c=this.repeat,d=0;d<b.length;)b[d](a),c[d]?d++:this.remove(b[d])},__class__:ne};var oe=function(){this.listeners=[];this.priorities=[];this.repeat=[]};m["lime.app.Event_lime_net_URLLoader_Int_Int_Void"]=
oe;oe.__name__=!0;oe.prototype={remove:function(a){for(var b=this.listeners.length;0<=--b;)w.compareMethods(this.listeners[b],a)&&(this.listeners.splice(b,1),this.priorities.splice(b,1),this.repeat.splice(b,1))},dispatch:function(a,b,c){for(var d=this.listeners,e=this.repeat,f=0;f<d.length;)d[f](a,b,c),e[f]?f++:this.remove(d[f])},__class__:oe};var pe=function(){this.listeners=[];this.priorities=[];this.repeat=[]};m["lime.app.Event_lime_net_URLLoader_Int_Void"]=pe;pe.__name__=!0;pe.prototype={remove:function(a){for(var b=
this.listeners.length;0<=--b;)w.compareMethods(this.listeners[b],a)&&(this.listeners.splice(b,1),this.priorities.splice(b,1),this.repeat.splice(b,1))},dispatch:function(a,b){for(var c=this.listeners,d=this.repeat,e=0;e<c.length;)c[e](a,b),d[e]?e++:this.remove(c[e])},__class__:pe};var td=function(){this.listeners=[];this.priorities=[];this.repeat=[]};m["lime.app.Event_lime_net_URLLoader_String_Void"]=td;td.__name__=!0;td.prototype={remove:function(a){for(var b=this.listeners.length;0<=--b;)w.compareMethods(this.listeners[b],
a)&&(this.listeners.splice(b,1),this.priorities.splice(b,1),this.repeat.splice(b,1))},dispatch:function(a,b){for(var c=this.listeners,d=this.repeat,e=0;e<c.length;)c[e](a,b),d[e]?e++:this.remove(c[e])},__class__:td};var ud=function(){this.listeners=[];this.priorities=[];this.repeat=[]};m["lime.app.Event_lime_net_URLLoader_Void"]=ud;ud.__name__=!0;ud.prototype={add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=0,e=this.priorities.length;d<e;){var f=d++;if(c>this.priorities[f]){this.listeners.splice(f,
0,a);this.priorities.splice(f,0,c);this.repeat.splice(f,0,!b);return}}this.listeners.push(a);this.priorities.push(c);this.repeat.push(!b)},remove:function(a){for(var b=this.listeners.length;0<=--b;)w.compareMethods(this.listeners[b],a)&&(this.listeners.splice(b,1),this.priorities.splice(b,1),this.repeat.splice(b,1))},dispatch:function(a){for(var b=this.listeners,c=this.repeat,d=0;d<b.length;)b[d](a),c[d]?d++:this.remove(b[d])},__class__:ud};var qe=function(){this.listeners=[];this.priorities=[];this.repeat=
[]};m["lime.app.Event_lime_ui_GamepadAxis_Float_Void"]=qe;qe.__name__=!0;qe.prototype={add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=0,e=this.priorities.length;d<e;){var f=d++;if(c>this.priorities[f]){this.listeners.splice(f,0,a);this.priorities.splice(f,0,c);this.repeat.splice(f,0,!b);return}}this.listeners.push(a);this.priorities.push(c);this.repeat.push(!b)},__class__:qe};var vd=function(){this.listeners=[];this.priorities=[];this.repeat=[]};m["lime.app.Event_lime_ui_GamepadButton_Void"]=
vd;vd.__name__=!0;vd.prototype={add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=0,e=this.priorities.length;d<e;){var f=d++;if(c>this.priorities[f]){this.listeners.splice(f,0,a);this.priorities.splice(f,0,c);this.repeat.splice(f,0,!b);return}}this.listeners.push(a);this.priorities.push(c);this.repeat.push(!b)},__class__:vd};var re=function(){this.listeners=[];this.priorities=[];this.repeat=[]};m["lime.app.Event_lime_ui_Gamepad_Void"]=re;re.__name__=!0;re.prototype={add:function(a,b,c){null==
c&&(c=0);null==b&&(b=!1);for(var d=0,e=this.priorities.length;d<e;){var f=d++;if(c>this.priorities[f]){this.listeners.splice(f,0,a);this.priorities.splice(f,0,c);this.repeat.splice(f,0,!b);return}}this.listeners.push(a);this.priorities.push(c);this.repeat.push(!b)},__class__:re};var se=function(){this.listeners=[];this.priorities=[];this.repeat=[]};m["lime.app.Event_lime_ui_Joystick_Void"]=se;se.__name__=!0;se.prototype={add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=0,e=this.priorities.length;d<
e;){var f=d++;if(c>this.priorities[f]){this.listeners.splice(f,0,a);this.priorities.splice(f,0,c);this.repeat.splice(f,0,!b);return}}this.listeners.push(a);this.priorities.push(c);this.repeat.push(!b)},__class__:se};var wd=function(){this.listeners=[];this.priorities=[];this.repeat=[]};m["lime.app.Event_lime_ui_KeyCode_lime_ui_KeyModifier_Void"]=wd;wd.__name__=!0;wd.prototype={add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=0,e=this.priorities.length;d<e;){var f=d++;if(c>this.priorities[f]){this.listeners.splice(f,
0,a);this.priorities.splice(f,0,c);this.repeat.splice(f,0,!b);return}}this.listeners.push(a);this.priorities.push(c);this.repeat.push(!b)},remove:function(a){for(var b=this.listeners.length;0<=--b;)w.compareMethods(this.listeners[b],a)&&(this.listeners.splice(b,1),this.priorities.splice(b,1),this.repeat.splice(b,1))},dispatch:function(a,b){for(var c=this.listeners,d=this.repeat,e=0;e<c.length;)c[e](a,b),d[e]?e++:this.remove(c[e])},__class__:wd};var Lc=function(){this.listeners=[];this.priorities=
[];this.repeat=[]};m["lime.app.Event_lime_ui_Touch_Void"]=Lc;Lc.__name__=!0;Lc.prototype={add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=0,e=this.priorities.length;d<e;){var f=d++;if(c>this.priorities[f]){this.listeners.splice(f,0,a);this.priorities.splice(f,0,c);this.repeat.splice(f,0,!b);return}}this.listeners.push(a);this.priorities.push(c);this.repeat.push(!b)},remove:function(a){for(var b=this.listeners.length;0<=--b;)w.compareMethods(this.listeners[b],a)&&(this.listeners.splice(b,
1),this.priorities.splice(b,1),this.repeat.splice(b,1))},dispatch:function(a){for(var b=this.listeners,c=this.repeat,d=0;d<b.length;)b[d](a),c[d]?d++:this.remove(b[d])},__class__:Lc};var Da=function(){this.loaded=this.total=0;this.onProgress=new sd;this.onComplete=new xa;this.onProgress.add(r(this,this.update))};m["lime.app.Preloader"]=Da;Da.__name__=!0;Da.prototype={create:function(a){},load:function(a,b){for(var c=null,d=0,e=a.length;d<e;){var f=d++,c=a[f];switch(b[f]){case "IMAGE":Da.images.exists(c)||
(f=new Image,Da.images.set(c,f),f.onload=r(this,this.image_onLoad),f.src=c,this.total++);break;case "BINARY":Da.loaders.exists(c)||(f=new xd,f.set_dataFormat(Xa.BINARY),Da.loaders.set(c,f),this.total++);break;case "TEXT":Da.loaders.exists(c)||(f=new xd,Da.loaders.set(c,f),this.total++);break;case "FONT":this.total++,this.loadFont(c)}}for(c=Da.loaders.keys();c.hasNext();)d=c.next(),e=Da.loaders.get(d),e.onComplete.add(r(this,this.loader_onComplete)),e.load(new te(d));0==this.total&&this.start()},loadFont:function(a){var b=
this;if(window.document.fonts&&(kf=window.document.fonts,r(kf,kf.load)))window.document.fonts.load("1em '"+a+"'").then(function(a){b.loaded++;b.onProgress.dispatch(b.loaded,b.total);b.loaded==b.total&&b.start()});else{var c=window.document.createElement("span");c.innerHTML="giItT1WQy@!-/#";var d=c.style;d.position="absolute";d.left="-10000px";d.top="-10000px";d.fontSize="300px";d.fontFamily="sans-serif";d.fontVariant="normal";d.fontStyle="normal";d.fontWeight="normal";d.letterSpacing="0";window.document.body.appendChild(c);
var e=c.offsetWidth;d.fontFamily="'"+a+"', sans-serif";var f=null,g=!1;a=function(){if(c.offsetWidth!=e){if(!g)return g=!0,!1;b.loaded++;null!=f&&window.clearInterval(f);c.parentNode.removeChild(c);c=null;b.onProgress.dispatch(b.loaded,b.total);b.loaded==b.total&&b.start();return!0}return!1};a()||(f=window.setInterval(a,50))}},start:function(){this.complete=!0;this.onComplete.dispatch()},update:function(a,b){},image_onLoad:function(a){this.loaded++;this.onProgress.dispatch(this.loaded,this.total);
this.loaded==this.total&&this.start()},loader_onComplete:function(a){this.loaded++;this.onProgress.dispatch(this.loaded,this.total);this.loaded==this.total&&this.start()},__class__:Da};var rf=function(){};m["lime.audio.ALAudioContext"]=rf;rf.__name__=!0;var sf=function(){};m["lime.audio.ALCAudioContext"]=sf;sf.__name__=!0;var tf=function(){};m["lime.audio.AudioBuffer"]=tf;tf.__name__=!0;var zb=m["lime.audio.AudioContext"]={__ename__:!0,__constructs__:["OPENAL","HTML5","WEB","FLASH","CUSTOM"]};zb.OPENAL=
function(a,b){var c=["OPENAL",0,a,b];c.__enum__=zb;c.toString=q;return c};zb.HTML5=function(a){a=["HTML5",1,a];a.__enum__=zb;a.toString=q;return a};zb.WEB=function(a){a=["WEB",2,a];a.__enum__=zb;a.toString=q;return a};zb.FLASH=function(a){a=["FLASH",3,a];a.__enum__=zb;a.toString=q;return a};zb.CUSTOM=function(a){a=["CUSTOM",4,a];a.__enum__=zb;a.toString=q;return a};var ec=function(){};m["lime.audio.AudioManager"]=ec;ec.__name__=!0;ec.context=null;ec.init=function(a){if(null==ec.context)if(null==a)try{window.AudioContext=
window.AudioContext||window.webkitAudioContext,ec.context=zb.WEB(new AudioContext)}catch(b){b instanceof ba&&(b=b.val),ec.context=zb.HTML5(new ue)}else ec.context=a};var uf=function(){};m["lime.audio.FlashAudioContext"]=uf;uf.__name__=!0;var ue=function(){};m["lime.audio.HTML5AudioContext"]=ue;ue.__name__=!0;ue.prototype={__class__:ue};var Ue=function(){};m["lime.graphics.ConsoleRenderContext"]=Ue;Ue.__name__=!0;Ue.prototype={__class__:Ue};var vf=function(){};m["lime.graphics.FlashRenderContext"]=
vf;vf.__name__=!0;var Z=function(a,b,c,d,e,f,g){null==e&&(e=-1);null==d&&(d=-1);null==c&&(c=0);null==b&&(b=0);this.offsetX=b;this.offsetY=c;this.width=d;this.height=e;if(null==g)if(null!=Wa.current&&null!=Wa.current.renderers[0])switch(Wa.current.renderers[0].context[1]){case 2:case 1:this.type=za.CANVAS;break;case 3:this.type=za.FLASH;break;default:this.type=za.DATA}else this.type=za.DATA;else this.type=g;if(null==a){if(0<d&&0<e)switch(this.type[1]){case 0:this.buffer=new Ib(null,d,e);G.createCanvas(this,
d,e);null!=f&&this.fillRect(new tc(0,0,d,e),f);break;case 1:a=d*e*4,a=null!=a?new Ja(a):null,this.buffer=new Ib(a,d,e),null!=f&&this.fillRect(new tc(0,0,d,e),f)}}else this.__fromImageBuffer(a)};m["lime.graphics.Image"]=Z;Z.__name__=!0;Z.__base64Encoder=null;Z.fromBytes=function(a,b){if(null==a)return null;var c=new Z;c.__fromBytes(a,b);return c};Z.fromCanvas=function(a){if(null==a)return null;var b=new Ib(null,a.width,a.height);b.set_src(a);return new Z(b)};Z.fromImageElement=function(a){if(null==
a)return null;var b=new Ib(null,a.width,a.height);b.set_src(a);return new Z(b)};Z.__base64Encode=function(a){var b;switch(a.length%3){case 1:b="==";break;case 2:b="=";break;default:b=""}null==Z.__base64Encoder&&(Z.__base64Encoder=new kd(Ta.ofString(Z.__base64Chars)));return Z.__base64Encoder.encodeBytes(Ta.ofData(a.byteView)).toString()+b};Z.__isJPG=function(a){a.position=0;return 255==a.readUnsignedByte()&&216==a.readUnsignedByte()};Z.__isPNG=function(a){a.position=0;return 137==a.readUnsignedByte()&&
80==a.readUnsignedByte()&&78==a.readUnsignedByte()&&71==a.readUnsignedByte()&&13==a.readUnsignedByte()&&10==a.readUnsignedByte()&&26==a.readUnsignedByte()&&10==a.readUnsignedByte()};Z.__isGIF=function(a){a.position=0;if(71==a.readUnsignedByte()&&73==a.readUnsignedByte()&&70==a.readUnsignedByte()&&56==a.readUnsignedByte()){var b=a.readUnsignedByte();return(55==b||57==b)&&97==a.readUnsignedByte()}return!1};Z.prototype={clone:function(){if(null!=this.buffer){this.type==za.CANVAS&&null==this.buffer.__srcImage&&
(G.convertToCanvas(this),G.sync(this,!0));var a=new Z(this.buffer.clone(),this.offsetX,this.offsetY,this.width,this.height,null,this.type);a.dirty=this.dirty;return a}return new Z(null,this.offsetX,this.offsetY,this.width,this.height,null,this.type)},colorTransform:function(a,b){a=this.__clipRect(a);if(null!=this.buffer&&null!=a)switch(this.type[1]){case 0:G.colorTransform(this,a,b);break;case 1:G.convertToData(this);Na.colorTransform(this,a,b);break;case 2:a.offset(this.offsetX,this.offsetY),this.buffer.__srcBitmapData.colorTransform(a.__toFlashRectangle(),
Ab.__toFlashColorTransform(b))}},fillRect:function(a,b,c){a=this.__clipRect(a);if(null!=this.buffer&&null!=a)switch(this.type[1]){case 0:G.fillRect(this,a,b,c);break;case 1:G.convertToData(this);if(0==this.buffer.data.length)break;Na.fillRect(this,a,b,c);break;case 2:a.offset(this.offsetX,this.offsetY);if(null!=c)switch(c){case 1:break;case 2:b=(b&255)<<24|(b>>8&255)<<16|(b>>16&255)<<8|b>>24&255;break;default:b=(b&255)<<24|(b>>24&255)<<16|(b>>16&255)<<8|b>>8&255}else b=(b&255)<<24|(b>>24&255)<<16|
(b>>16&255)<<8|b>>8&255;this.buffer.__srcBitmapData.fillRect(a.__toFlashRectangle(),b)}},getPixels:function(a,b){if(null==this.buffer)return null;switch(this.type[1]){case 0:return G.getPixels(this,a,b);case 1:return G.convertToData(this),Na.getPixels(this,a,b);case 2:a.offset(this.offsetX,this.offsetY);var c=this.buffer.__srcBitmapData.getPixels(a.__toFlashRectangle());if(null!=b)switch(b){case 1:break;case 2:for(var d,e=c.length/4|0,f=0;f<e;){f++;d=c.readUnsignedInt();var g=0;d=g=(d&255)<<24|(d>>
8&255)<<16|(d>>16&255)<<8|d>>24&255;c.position-=4;c.writeUnsignedInt(d)}c.position=0;break;default:for(var p,e=c.length/4|0,f=0;f<e;)f++,d=c.readUnsignedInt(),g=0,p=g=(d>>16&255)<<24|(d>>8&255)<<16|(d&255)<<8|d>>24&255,c.position-=4,c.writeUnsignedInt(function(a){a=0;return a=(p>>8&255)<<24|(p>>16&255)<<16|(p>>24&255)<<8|p&255}(this));c.position=0}else{for(var Ha,e=c.length/4|0,f=0;f<e;)f++,d=c.readUnsignedInt(),g=0,Ha=g=(d>>16&255)<<24|(d>>8&255)<<16|(d&255)<<8|d>>24&255,c.position-=4,c.writeUnsignedInt(function(a){a=
0;return a=(Ha>>8&255)<<24|(Ha>>16&255)<<16|(Ha>>24&255)<<8|Ha&255}(this));c.position=0}return c;default:return null}},resize:function(a,b){switch(this.type[1]){case 0:G.resize(this,a,b);break;case 1:Na.resize(this,a,b)}this.buffer.width=a;this.buffer.height=b;this.offsetY=this.offsetX=0;this.width=a;this.height=b},__clipRect:function(a){return null==a||0>a.x&&(a.width-=-a.x,a.x=0,0>=a.x+a.width)||0>a.y&&(a.height-=-a.y,a.y=0,0>=a.y+a.height)||a.x+a.width>=this.width&&(a.width-=a.x+a.width-this.width,
0>=a.width)||a.y+a.height>=this.height&&(a.height-=a.y+a.height-this.height,0>=a.height)?null:a},__fromBase64:function(a,b,c){var d=this,e=new Image;e.addEventListener("load",function(a){d.buffer=new Ib(null,e.width,e.height);d.buffer.__srcImage=e;d.offsetX=0;d.offsetY=0;d.width=d.buffer.width;d.height=d.buffer.height;null!=c&&c(d)},!1);e.src="data:"+b+";base64,"+a},__fromBytes:function(a,b){var c="";if(Z.__isPNG(a))c="image/png";else if(Z.__isJPG(a))c="image/jpeg";else if(Z.__isGIF(a))c="image/gif";
else throw new ba("Image tried to read a PNG/JPG ByteArray, but found an invalid header.");this.__fromBase64(Z.__base64Encode(a),c,b)},__fromImageBuffer:function(a){this.buffer=a;null!=a&&(-1==this.width&&(this.width=a.width),-1==this.height&&(this.height=a.height))},get_data:function(){null==this.buffer.data&&0<this.buffer.width&&0<this.buffer.height&&(G.convertToCanvas(this),G.sync(this,!1),G.createImageData(this));return this.buffer.data},get_format:function(){return this.buffer.format},set_format:function(a){if(this.buffer.format!=
a)switch(this.type[1]){case 1:Na.setFormat(this,a)}return this.buffer.format=a},get_powerOfTwo:function(){return 0!=this.buffer.width&&(this.buffer.width&~this.buffer.width+1)==this.buffer.width&&0!=this.buffer.height&&(this.buffer.height&~this.buffer.height+1)==this.buffer.height},get_premultiplied:function(){return this.buffer.premultiplied},set_premultiplied:function(a){if(a&&!this.buffer.premultiplied)switch(this.type[1]){case 1:G.convertToData(this),Na.multiplyAlpha(this)}else if(!a&&this.buffer.premultiplied)switch(this.type[1]){case 1:G.convertToData(this),
Na.unmultiplyAlpha(this)}return a},get_rect:function(){return new tc(0,0,this.width,this.height)},get_src:function(){null==this.buffer.__srcCanvas&&G.convertToCanvas(this);return this.buffer.get_src()},get_transparent:function(){return null==this.buffer?!1:this.buffer.transparent},set_transparent:function(a){return null==this.buffer?!1:this.buffer.transparent=a},__class__:Z,__properties__:{get_rect:"get_rect",set_transparent:"set_transparent",get_transparent:"get_transparent",get_src:"get_src",set_premultiplied:"set_premultiplied",
get_premultiplied:"get_premultiplied",get_powerOfTwo:"get_powerOfTwo",set_format:"set_format",get_format:"get_format",get_data:"get_data"}};var Ib=function(a,b,c,d,e){null==d&&(d=32);null==c&&(c=0);null==b&&(b=0);this.data=a;this.width=b;this.height=c;this.bitsPerPixel=d;this.format=null==e?0:e;this.transparent=!0};m["lime.graphics.ImageBuffer"]=Ib;Ib.__name__=!0;Ib.prototype={clone:function(){var a=new Ib(this.data,this.width,this.height,this.bitsPerPixel);if(null!=this.data){var b=this.data.byteLength,
b=null!=b?new Ja(b):null;a.data=b;b=this.data;b=null!=b?new Ja(b):null;a.data.set(b)}else null!=this.__srcImageData?(a.__srcCanvas=window.document.createElement("canvas"),a.__srcContext=a.__srcCanvas.getContext("2d"),a.__srcCanvas.width=this.__srcImageData.width,a.__srcCanvas.height=this.__srcImageData.height,a.__srcImageData=a.__srcContext.createImageData(this.__srcImageData.width,this.__srcImageData.height),b=new Uint8ClampedArray(this.__srcImageData.data),a.__srcImageData.data.set(b)):null!=this.__srcCanvas?
(a.__srcCanvas=window.document.createElement("canvas"),a.__srcContext=a.__srcCanvas.getContext("2d"),a.__srcCanvas.width=this.__srcCanvas.width,a.__srcCanvas.height=this.__srcCanvas.height,a.__srcContext.drawImage(this.__srcCanvas,0,0)):a.__srcImage=this.__srcImage;a.bitsPerPixel=this.bitsPerPixel;a.format=this.format;a.premultiplied=this.premultiplied;a.transparent=this.transparent;return a},get_src:function(){return null!=this.__srcImage?this.__srcImage:this.__srcCanvas},set_src:function(a){z.__instanceof(a,
Image)?this.__srcImage=a:z.__instanceof(a,HTMLCanvasElement)&&(this.__srcCanvas=a,this.__srcContext=this.__srcCanvas.getContext("2d"));return a},get_stride:function(){return 4*this.width},__class__:Ib,__properties__:{get_stride:"get_stride",set_src:"set_src",get_src:"get_src"}};var za=m["lime.graphics.ImageType"]={__ename__:!0,__constructs__:["CANVAS","DATA","FLASH","CUSTOM"]};za.CANVAS=["CANVAS",0];za.CANVAS.toString=q;za.CANVAS.__enum__=za;za.DATA=["DATA",1];za.DATA.toString=q;za.DATA.__enum__=
za;za.FLASH=["FLASH",2];za.FLASH.toString=q;za.FLASH.__enum__=za;za.CUSTOM=["CUSTOM",3];za.CUSTOM.toString=q;za.CUSTOM.__enum__=za;var Ka=m["lime.graphics.RenderContext"]={__ename__:!0,__constructs__:"OPENGL CANVAS DOM FLASH CAIRO CONSOLE CUSTOM NONE".split(" ")};Ka.OPENGL=function(a){a=["OPENGL",0,a];a.__enum__=Ka;a.toString=q;return a};Ka.CANVAS=function(a){a=["CANVAS",1,a];a.__enum__=Ka;a.toString=q;return a};Ka.DOM=function(a){a=["DOM",2,a];a.__enum__=Ka;a.toString=q;return a};Ka.FLASH=function(a){a=
["FLASH",3,a];a.__enum__=Ka;a.toString=q;return a};Ka.CAIRO=function(a){a=["CAIRO",4,a];a.__enum__=Ka;a.toString=q;return a};Ka.CONSOLE=function(a){a=["CONSOLE",5,a];a.__enum__=Ka;a.toString=q;return a};Ka.CUSTOM=function(a){a=["CUSTOM",6,a];a.__enum__=Ka;a.toString=q;return a};Ka.NONE=["NONE",7];Ka.NONE.toString=q;Ka.NONE.__enum__=Ka;var je=function(a){this.onRender=new xa;this.onContextRestored=new ne;this.onContextLost=new xa;this.window=a;this.backend=new ie(this);this.window.renderer=this};m["lime.graphics.Renderer"]=
je;je.__name__=!0;je.prototype={create:function(){this.backend.create()},flip:function(){this.backend.flip()},__class__:je};var ga=m["lime.graphics.RendererType"]={__ename__:!0,__constructs__:"OPENGL CANVAS DOM FLASH CAIRO CONSOLE CUSTOM".split(" ")};ga.OPENGL=["OPENGL",0];ga.OPENGL.toString=q;ga.OPENGL.__enum__=ga;ga.CANVAS=["CANVAS",1];ga.CANVAS.toString=q;ga.CANVAS.__enum__=ga;ga.DOM=["DOM",2];ga.DOM.toString=q;ga.DOM.__enum__=ga;ga.FLASH=["FLASH",3];ga.FLASH.toString=q;ga.FLASH.__enum__=ga;ga.CAIRO=
["CAIRO",4];ga.CAIRO.toString=q;ga.CAIRO.__enum__=ga;ga.CONSOLE=["CONSOLE",5];ga.CONSOLE.toString=q;ga.CONSOLE.__enum__=ga;ga.CUSTOM=["CUSTOM",6];ga.CUSTOM.toString=q;ga.CUSTOM.__enum__=ga;var Ve=function(){};m["lime.graphics.cairo.Cairo"]=Ve;Ve.__name__=!0;Ve.prototype={arc:function(a,b,c,d,e){},clip:function(){},curveTo:function(a,b,c,d,e,f){},fill:function(){},identityMatrix:function(){},lineTo:function(a,b){},moveTo:function(a,b){},newPath:function(){},paint:function(){},paintWithAlpha:function(a){},
popGroupToSource:function(){},pushGroup:function(){},rectangle:function(a,b,c,d){},restore:function(){},save:function(){},setSourceRGB:function(a,b,c){},get_currentPoint:function(){return null},get_hasCurrentPoint:function(){return!1},set_matrix:function(a){return a},set_source:function(a){return a},__class__:Ve,__properties__:{set_source:"set_source",set_matrix:"set_matrix",get_hasCurrentPoint:"get_hasCurrentPoint",get_currentPoint:"get_currentPoint"}};var We={};m["lime.graphics.cairo._CairoImageSurface.CairoImageSurface_Impl_"]=
We;We.__name__=!0;We.fromImage=function(a){return null};var Mc={};m["lime.graphics.cairo._CairoPattern.CairoPattern_Impl_"]=Mc;Mc.__name__=!0;Mc.__properties__={set_filter:"set_filter"};Mc.createForSurface=function(a){return 0};Mc.set_filter=function(a,b){return b};var Xe={};m["lime.graphics.cairo._CairoSurface.CairoSurface_Impl_"]=Xe;Xe.__name__=!0;Xe.flush=function(a){};var lf=function(){};m["lime.graphics.opengl.GL"]=lf;lf.__name__=!0;lf.context=null;var G=function(){};m["lime.graphics.utils.ImageCanvasUtil"]=
G;G.__name__=!0;G.colorTransform=function(a,b,c){G.convertToCanvas(a);G.createImageData(a);Na.colorTransform(a,b,c)};G.convertToCanvas=function(a){var b=a.buffer;null!=b.__srcImage?(null==b.__srcCanvas&&(G.createCanvas(a,b.__srcImage.width,b.__srcImage.height),b.__srcContext.drawImage(b.__srcImage,0,0)),b.__srcImage=null):null!=b.data&&null==b.__srcCanvas?(G.createCanvas(a,b.width,b.height),G.createImageData(a)):null==b.data&&null!=b.__srcImageData&&(b.data=b.__srcImageData.data)};G.convertToData=
function(a){null==a.buffer.data&&(G.convertToCanvas(a),G.sync(a,!1),G.createImageData(a),a.buffer.__srcCanvas=null,a.buffer.__srcContext=null)};G.createCanvas=function(a,b,c){var d=a.buffer;null==d.__srcCanvas&&(d.__srcCanvas=window.document.createElement("canvas"),d.__srcCanvas.width=b,d.__srcCanvas.height=c,a.get_transparent()?d.__srcContext=d.__srcCanvas.getContext("2d"):(a.get_transparent()||d.__srcCanvas.setAttribute("moz-opaque","true"),d.__srcContext=d.__srcCanvas.getContext("2d",{alpha:!1})),
d.__srcContext.mozImageSmoothingEnabled=!1,d.__srcContext.msImageSmoothingEnabled=!1,d.__srcContext.imageSmoothingEnabled=!1)};G.createImageData=function(a){a=a.buffer;if(null==a.__srcImageData){null==a.data?a.__srcImageData=a.__srcContext.getImageData(0,0,a.width,a.height):(a.__srcImageData=a.__srcContext.createImageData(a.width,a.height),a.__srcImageData.data.set(a.data));var b=a.__srcImageData.data.buffer,b=null!=b?new Ja(b):null;a.data=b}};G.fillRect=function(a,b,c,d){G.convertToCanvas(a);G.sync(a,
!0);if(0==b.x&&0==b.y&&b.width==a.width&&b.height==a.height&&a.get_transparent()&&0==(c&255))a.buffer.__srcCanvas.width=a.buffer.width;else{var e,f;1==d?(d=c>>16&255,e=c>>8&255,f=c&255,c=a.get_transparent()?c>>24&255:255):(d=c>>24&255,e=c>>16&255,f=c>>8&255,c=a.get_transparent()?c&255:255);a.buffer.__srcContext.fillStyle="rgba("+d+", "+e+", "+f+", "+c/255+")";a.buffer.__srcContext.fillRect(b.x+a.offsetX,b.y+a.offsetY,b.width+a.offsetX,b.height+a.offsetY)}};G.getPixels=function(a,b,c){G.convertToCanvas(a);
G.createImageData(a);return Na.getPixels(a,b,c)};G.resize=function(a,b,c){var d=a.buffer;if(null==d.__srcCanvas)G.createCanvas(a,b,c),d.__srcContext.drawImage(d.get_src(),0,0,b,c);else{G.sync(a,!0);var e=d.__srcCanvas;d.__srcCanvas=null;G.createCanvas(a,b,c);d.__srcContext.drawImage(e,0,0,b,c)}};G.sync=function(a,b){a.dirty&&null!=a.buffer.__srcImageData&&a.type!=za.DATA&&(a.buffer.__srcContext.putImageData(a.buffer.__srcImageData,0,0),a.buffer.data=null,a.dirty=!1);b&&(a.buffer.__srcImageData=null,
a.buffer.data=null)};var Na=function(){};m["lime.graphics.utils.ImageDataUtil"]=Na;Na.__name__=!0;Na.colorTransform=function(a,b,c){var d=a.buffer.data;if(null!=d){var e=a.buffer.format,f=a.buffer.premultiplied;b=new Nc(a,b);var g=Ab.getAlphaTable(c),p=Ab.getRedTable(c),Ha=Ab.getGreenTable(c);c=Ab.getBlueTable(c);for(var h,l,k,n=0,m=b.height;n<m;){h=n++;h=b.offset+b.stride*h;for(var t=0,q=b.width;t<q;){l=t++;l=h+4*l;switch(e){case 2:k=(d[l+2]&255)<<24|(d[l+1]&255)<<16|(d[l]&255)<<8|d[l+3]&255;break;
case 0:k=(d[l]&255)<<24|(d[l+1]&255)<<16|(d[l+2]&255)<<8|d[l+3]&255;break;case 1:k=(d[l+1]&255)<<24|(d[l+2]&255)<<16|(d[l+3]&255)<<8|d[l]&255}if(f&&0!=(k&255)&&255!=(k&255)){H.unmult=255/(k&255);var u;u=Math.round((k>>24&255)*H.unmult);u=H.__clamp[u];var r;r=Math.round((k>>16&255)*H.unmult);r=H.__clamp[r];var v=Math.round((k>>8&255)*H.unmult);k=(u&255)<<24|(r&255)<<16|(H.__clamp[v]&255)<<8|k&255}k=(p[k>>24&255]&255)<<24|(Ha[k>>16&255]&255)<<16|(c[k>>8&255]&255)<<8|g[k&255]&255;f&&(0==(k&255)?0!=k&&
(k=0):255!=(k&255)&&(H.a16=H.__alpha16[k&255],k=((k>>24&255)*H.a16>>16&255)<<24|((k>>16&255)*H.a16>>16&255)<<16|((k>>8&255)*H.a16>>16&255)<<8|k&255));switch(e){case 2:d[l]=k>>8&255;d[l+1]=k>>16&255;d[l+2]=k>>24&255;d[l+3]=k&255;break;case 0:d[l]=k>>24&255;d[l+1]=k>>16&255;d[l+2]=k>>8&255;d[l+3]=k&255;break;case 1:d[l]=k&255,d[l+1]=k>>24&255,d[l+2]=k>>16&255,d[l+3]=k>>8&255}}}a.dirty=!0}};Na.fillRect=function(a,b,c,d){switch(d){case 1:c=(c>>16&255)<<24|(c>>8&255)<<16|(c&255)<<8|c>>24&255;break;case 2:c=
(c>>8&255)<<24|(c>>16&255)<<16|(c>>24&255)<<8|c&255;break}a.get_transparent()||(c=(c>>24&255)<<24|(c>>16&255)<<16|(c>>8&255)<<8|255,255);d=a.buffer.data;if(null!=d){var e=a.buffer.format,f=a.buffer.premultiplied;b=new Nc(a,b);for(var g,p=0,k=b.height;p<k;){g=p++;g=b.offset+b.stride*g;for(var l=0,h=b.width;l<h;){var m=l++,m=g+4*m;f&&(0==(c&255)?0!=c&&(c=0):255!=(c&255)&&(H.a16=H.__alpha16[c&255],c=((c>>24&255)*H.a16>>16&255)<<24|((c>>16&255)*H.a16>>16&255)<<16|((c>>8&255)*H.a16>>16&255)<<8|c&255));
switch(e){case 2:d[m]=c>>8&255;d[m+1]=c>>16&255;d[m+2]=c>>24&255;d[m+3]=c&255;break;case 0:d[m]=c>>24&255;d[m+1]=c>>16&255;d[m+2]=c>>8&255;d[m+3]=c&255;break;case 1:d[m]=c&255,d[m+1]=c>>24&255,d[m+2]=c>>16&255,d[m+3]=c>>8&255}}}a.dirty=!0}};Na.getPixels=function(a,b,c){if(null==a.buffer.data)return null;var d=new mb(4*(b.width*b.height|0));d.position=0;var e=a.buffer.data,f=a.buffer.format,g=a.buffer.premultiplied;a=new Nc(a,b);for(var p,k,l=b=0,h=a.height;l<h;){p=l++;p=a.offset+a.stride*p;for(var m=
0,n=a.width;m<n;){m++;switch(f){case 2:k=(e[p+2]&255)<<24|(e[p+1]&255)<<16|(e[p]&255)<<8|e[p+3]&255;break;case 0:k=(e[p]&255)<<24|(e[p+1]&255)<<16|(e[p+2]&255)<<8|e[p+3]&255;break;case 1:k=(e[p+1]&255)<<24|(e[p+2]&255)<<16|(e[p+3]&255)<<8|e[p]&255}if(g&&0!=(k&255)&&255!=(k&255)){H.unmult=255/(k&255);var t;t=Math.round((k>>24&255)*H.unmult);t=H.__clamp[t];var q;q=Math.round((k>>16&255)*H.unmult);q=H.__clamp[q];var u=Math.round((k>>8&255)*H.unmult);k=(t&255)<<24|(q&255)<<16|(H.__clamp[u]&255)<<8|k&
255}switch(c){case 1:t=0;k=t=(k&255)<<24|(k>>24&255)<<16|(k>>16&255)<<8|k>>8&255;break;case 2:t=0,k=t=(k>>8&255)<<24|(k>>16&255)<<16|(k>>24&255)<<8|k&255}d.__set(b++,k>>24&255);d.__set(b++,k>>16&255);d.__set(b++,k>>8&255);d.__set(b++,k&255);p+=4}}d.position=0;return d};Na.multiplyAlpha=function(a){var b=a.buffer.data;if(null!=b&&a.buffer.transparent){for(var c=a.buffer.format,d=b.length/4|0,e,f=0;f<d;){var g=f++,p=4*g;switch(c){case 2:e=(b[p+2]&255)<<24|(b[p+1]&255)<<16|(b[p]&255)<<8|b[p+3]&255;break;
case 0:e=(b[p]&255)<<24|(b[p+1]&255)<<16|(b[p+2]&255)<<8|b[p+3]&255;break;case 1:e=(b[p+1]&255)<<24|(b[p+2]&255)<<16|(b[p+3]&255)<<8|b[p]&255}g*=4;0==(e&255)?0!=e&&(e=0):255!=(e&255)&&(H.a16=H.__alpha16[e&255],e=((e>>24&255)*H.a16>>16&255)<<24|((e>>16&255)*H.a16>>16&255)<<16|((e>>8&255)*H.a16>>16&255)<<8|e&255);switch(c){case 2:b[g]=e>>8&255;b[g+1]=e>>16&255;b[g+2]=e>>24&255;b[g+3]=e&255;break;case 0:b[g]=e>>24&255;b[g+1]=e>>16&255;b[g+2]=e>>8&255;b[g+3]=e&255;break;case 1:b[g]=e&255,b[g+1]=e>>24&
255,b[g+2]=e>>16&255,b[g+3]=e>>8&255}}a.buffer.premultiplied=!0;a.dirty=!0}};Na.resize=function(a,b,c){var d=a.buffer;if(d.width!=b||d.height!=c){var e=b*c*4,e=null!=e?new Ja(e):null,e=new Ib(e,b,c),f=a.width,g=a.height;a=a.get_data();for(var p=e.data,k,l,h,m,n,t,q,u,r,v=0;v<c;)for(var ca=v++,E=0;E<b;){n=E++;u=(n+.5)/b*f-.5;r=(ca+.5)/c*g-.5;t=u|0;q=r|0;k=4*(q*f+t);l=t<f-1?k+4:k;h=q<g-1?k+4*f:k;m=l!=k?h+4:h;n=4*(ca*b+n);t=u-t;q=r-q;r=1-t;u=1-q;var x=Y["int"]((eb.toFloat(a[k])*r+eb.toFloat(a[l])*t)*
u+(eb.toFloat(a[h])*r+eb.toFloat(a[m])*t)*q);p[n]=x;x=Y["int"]((eb.toFloat(a[k+1])*r+eb.toFloat(a[l+1])*t)*u+(eb.toFloat(a[h+1])*r+eb.toFloat(a[m+1])*t)*q);p[n+1]=x;t=Y["int"]((eb.toFloat(a[k+2])*r+eb.toFloat(a[l+2])*t)*u+(eb.toFloat(a[h+2])*r+eb.toFloat(a[m+2])*t)*q);p[n+2]=t;p[n+3]=0==a[l+3]||0==a[h+3]||0==a[m+3]?0:a[k+3]}d.data=e.data;d.width=b;d.height=c}};Na.setFormat=function(a,b){var c=a.buffer.data;if(null!=c){var d,e=c.length/4|0,f,g,p,k,l,h,m,n,t,q,u,r;switch(a.get_format()){case 0:f=0;
g=1;p=2;k=3;break;case 1:f=1;g=2;p=3;k=0;break;case 2:f=2,g=1,p=0,k=3}switch(b){case 0:l=0;h=1;m=2;n=3;break;case 1:l=1;h=2;m=3;n=0;break;case 2:l=2,h=1,m=0,n=3}for(var v=0;v<e;)d=4*v++,t=c[d+f],q=c[d+g],u=c[d+p],r=c[d+k],c[d+l]=t,c[d+h]=q,c[d+m]=u,c[d+n]=r;a.buffer.format=b;a.dirty=!0}};Na.unmultiplyAlpha=function(a){var b=a.buffer.data;if(null!=b){for(var c=a.buffer.format,d=b.length/4|0,e,f=0;f<d;){var g=f++,p=4*g;switch(c){case 2:e=(b[p+2]&255)<<24|(b[p+1]&255)<<16|(b[p]&255)<<8|b[p+3]&255;break;
case 0:e=(b[p]&255)<<24|(b[p+1]&255)<<16|(b[p+2]&255)<<8|b[p+3]&255;break;case 1:e=(b[p+1]&255)<<24|(b[p+2]&255)<<16|(b[p+3]&255)<<8|b[p]&255}if(0!=(e&255)&&255!=(e&255)){H.unmult=255/(e&255);var p=Math.round((e>>24&255)*H.unmult),p=H.__clamp[p],k;k=Math.round((e>>16&255)*H.unmult);k=H.__clamp[k];var l=Math.round((e>>8&255)*H.unmult);e=(p&255)<<24|(k&255)<<16|(H.__clamp[l]&255)<<8|e&255}g*=4;switch(c){case 2:b[g]=e>>8&255;b[g+1]=e>>16&255;b[g+2]=e>>24&255;b[g+3]=e&255;break;case 0:b[g]=e>>24&255;
b[g+1]=e>>16&255;b[g+2]=e>>8&255;b[g+3]=e&255;break;case 1:b[g]=e&255,b[g+1]=e>>24&255,b[g+2]=e>>16&255,b[g+3]=e>>8&255}}a.buffer.premultiplied=!1;a.dirty=!0}};var Nc=function(a,b){this.image=a;null==b?this.rect=a.get_rect():(0>b.x&&(b.x=0),0>b.y&&(b.y=0),b.x+b.width>a.width&&(b.width=a.width-b.x),b.y+b.height>a.height&&(b.height=a.height-b.y),0>b.width&&(b.width=0),0>b.height&&(b.height=0),this.rect=b);this.stride=a.buffer.get_stride();this.x=Math.ceil(this.rect.x);this.y=Math.ceil(this.rect.y);
this.width=Math.floor(this.rect.width);this.height=Math.floor(this.rect.height);this.offset=this.stride*(this.y+a.offsetY)+4*(this.x+a.offsetX)};m["lime.graphics.utils._ImageDataUtil.ImageDataView"]=Nc;Nc.__name__=!0;Nc.prototype={__class__:Nc};var Ab={};m["lime.math._ColorMatrix.ColorMatrix_Impl_"]=Ab;Ab.__name__=!0;Ab.getAlphaTable=function(a){var b;b=new Ja(256);var c=a[18];a=255*a[19];for(var d,e=0;256>e;){var f=e++;d=Math.floor(f*c+a);255<d&&(d=255);0>d&&(d=0);b[f]=d}return b};Ab.getBlueTable=
function(a){var b;b=new Ja(256);var c=a[12];a=255*a[14];for(var d,e=0;256>e;){var f=e++;d=Math.floor(f*c+a);255<d&&(d=255);0>d&&(d=0);b[f]=d}return b};Ab.getGreenTable=function(a){var b;b=new Ja(256);var c=a[6];a=255*a[9];for(var d,e=0;256>e;){var f=e++;d=Math.floor(f*c+a);255<d&&(d=255);0>d&&(d=0);b[f]=d}return b};Ab.getRedTable=function(a){var b;b=new Ja(256);var c=a[0];a=255*a[4];for(var d,e=0;256>e;){var f=e++;d=Math.floor(f*c+a);255<d&&(d=255);0>d&&(d=0);b[f]=d}return b};Ab.__toFlashColorTransform=
function(a){return null};var yd=function(a,b,c,d,e,f){null==f&&(f=0);null==e&&(e=0);null==d&&(d=1);null==c&&(c=0);null==b&&(b=0);null==a&&(a=1);this.a=a;this.b=b;this.c=c;this.d=d;this.tx=e;this.ty=f};m["lime.math.Matrix3"]=yd;yd.__name__=!0;yd.prototype={__class__:yd};var tc=function(a,b,c,d){null==d&&(d=0);null==c&&(c=0);null==b&&(b=0);null==a&&(a=0);this.x=a;this.y=b;this.width=c;this.height=d};m["lime.math.Rectangle"]=tc;tc.__name__=!0;tc.prototype={offset:function(a,b){this.x+=a;this.y+=b},__toFlashRectangle:function(){return null},
__class__:tc};var ve=function(a,b){null==b&&(b=0);null==a&&(a=0);this.x=a;this.y=b};m["lime.math.Vector2"]=ve;ve.__name__=!0;ve.prototype={__class__:ve};var wf=function(){};m["lime.math.Vector4"]=wf;wf.__name__=!0;var H={};m["lime.math.color._RGBA.RGBA_Impl_"]=H;H.__name__=!0;H.__alpha16=null;H.__clamp=null;H.a16=null;H.unmult=null;var xd=function(a){this.onSecurityError=new td;this.onProgress=new oe;this.onOpen=new ud;this.onIOError=new td;this.onHTTPStatus=new pe;this.onComplete=new ud;this.bytesTotal=
this.bytesLoaded=0;this.set_dataFormat(Xa.TEXT);null!=a&&this.load(a)};m["lime.net.URLLoader"]=xd;xd.__name__=!0;xd.prototype={getData:function(){return null},load:function(a){this.requestUrl(a.url,a.method,a.data,a.formatRequestHeaders())},registerEvents:function(a){var b=this,c=this;"undefined"!=typeof XMLHttpRequestProgressEvent&&a.addEventListener("progress",r(this,this.__onProgress),!1);a.onreadystatechange=function(){if(4==a.readyState){var d;try{d=a.status}catch(e){e instanceof ba&&(e=e.val),
d=null}void 0==d&&(d=null);null!=d&&c.onHTTPStatus.dispatch(b,d);null!=d&&200<=d&&400>d?c.__onData(a.response):null==d?c.onIOError.dispatch(b,"Failed to connect or resolve host"):12029==d?c.onIOError.dispatch(b,"Failed to connect to host"):12007==d?c.onIOError.dispatch(b,"Unknown host"):0==d?(c.onIOError.dispatch(b,"Unable to make request (may be blocked due to cross-domain permissions)"),c.onSecurityError.dispatch(b,"Unable to make request (may be blocked due to cross-domain permissions)")):c.onIOError.dispatch(b,
"Http Error #"+a.status)}}},requestUrl:function(a,b,c,d){var e=new XMLHttpRequest;this.registerEvents(e);var f="";if(z.__instanceof(c,mb))switch(this.dataFormat[1]){case 0:f=c.data.buffer;break;default:f=c.readUTFBytes(c.length)}else if(z.__instanceof(c,mf))for(var g=0,p=w.fields(c);g<p.length;){var k=p[g];++g;0!=f.length&&(f+="&");f+=encodeURIComponent(k)+"="+ea.urlEncode(w.field(c,k))}else null!=c&&(f=c.toString());try{if("GET"==b&&null!=f&&""!=f){var l=1>=a.split("?").length;e.open("GET",a+(l?
"?":"&")+Y.string(f),!0);f=""}else e.open(z.__cast(b,String),a,!0)}catch(h){h instanceof ba&&(h=h.val);this.onIOError.dispatch(this,h.toString());return}switch(this.dataFormat[1]){case 0:e.responseType="arraybuffer"}for(a=0;a<d.length;)b=d[a],++a,e.setRequestHeader(b.name,b.value);e.send(f);this.onOpen.dispatch(this);this.getData=function(){return null!=e.response?e.response:e.responseText}},__onData:function(a){a=this.getData();switch(this.dataFormat[1]){case 0:this.data=mb.__ofBuffer(a);break;default:this.data=
Y.string(a)}this.onComplete.dispatch(this)},__onProgress:function(a){this.bytesLoaded=a.loaded;this.bytesTotal=a.total;this.onProgress.dispatch(this,this.bytesLoaded,this.bytesTotal)},set_dataFormat:function(a){a!=Xa.BINARY||w.hasField(window,"ArrayBuffer")?this.dataFormat=a:this.dataFormat=Xa.TEXT;return this.dataFormat},__class__:xd,__properties__:{set_dataFormat:"set_dataFormat"}};var Xa=m["lime.net.URLLoaderDataFormat"]={__ename__:!0,__constructs__:["BINARY","TEXT","VARIABLES"]};Xa.BINARY=["BINARY",
0];Xa.BINARY.toString=q;Xa.BINARY.__enum__=Xa;Xa.TEXT=["TEXT",1];Xa.TEXT.toString=q;Xa.TEXT.__enum__=Xa;Xa.VARIABLES=["VARIABLES",2];Xa.VARIABLES.toString=q;Xa.VARIABLES.__enum__=Xa;var te=function(a){null!=a&&(this.url=a);this.requestHeaders=[];this.method="GET";this.contentType=null};m["lime.net.URLRequest"]=te;te.__name__=!0;te.prototype={formatRequestHeaders:function(){var a=this.requestHeaders;null==a&&(a=[]);if("GET"==this.method||null==this.data)return a;if("string"==typeof this.data||z.__instanceof(this.data,
mb))a=a.slice(),a.push(new we("Content-Type",null!=this.contentType?this.contentType:"application/x-www-form-urlencoded"));return a},__class__:te};var we=function(a,b){null==b&&(b="");null==a&&(a="");this.name=a;this.value=b};m["lime.net.URLRequestHeader"]=we;we.__name__=!0;we.prototype={__class__:we};var mf=function(){};m["lime.net.URLVariables"]=mf;mf.__name__=!0;var uc=function(){};m["lime.system.Clipboard"]=uc;uc.__name__=!0;uc.__properties__={set_text:"set_text",get_text:"get_text"};uc.get_text=
function(){return null};uc.set_text=function(a){return null};var zd=function(){};m["lime.system.System"]=zd;zd.__name__=!0;zd.embed=bb.lime.embed=function(a,b,c,d,e){var f=null,f="string"==typeof a?window.document.getElementById(z.__cast(a,String)):null==a?window.document.createElement("div"):a;a=null;null!=d&&(d=ea.replace(d,"#",""),a=-1<d.indexOf("0x")?Y.parseInt(d):Y.parseInt("0x"+d));null==b&&(b=0);null==c&&(c=0);ia.config.windows[0].background=a;ia.config.windows[0].element=f;ia.config.windows[0].width=
b;ia.config.windows[0].height=c;ia.config.assetsPrefix=e;ia.create()};zd.getTimer=function(){return(new Date).getTime()};var od=function(){this.onDisconnect=new xa;this.onButtonUp=new vd;this.onButtonDown=new vd;this.onAxisMove=new qe};m["lime.ui.Gamepad"]=od;od.__name__=!0;od.prototype={__class__:od};var pd=function(){this.onTrackballMove=new rd;this.onHatMove=new ke;this.onDisconnect=new xa;this.onButtonUp=new fc;this.onButtonDown=new fc;this.onAxisMove=new rd};m["lime.ui.Joystick"]=pd;pd.__name__=
!0;pd.prototype={__class__:pd};var Aa={};m["lime.ui._KeyModifier.KeyModifier_Impl_"]=Aa;Aa.__name__=!0;Aa.__properties__={get_shiftKey:"get_shiftKey",get_metaKey:"get_metaKey",get_ctrlKey:"get_ctrlKey",get_altKey:"get_altKey"};Aa.get_altKey=function(a){return 0<(a&256)||0<(a&512)};Aa.get_ctrlKey=function(a){return 0<(a&64)||0<(a&128)};Aa.get_metaKey=function(a){return 0<(a&1024)||0<(a&2048)};Aa.get_shiftKey=function(a){return 0<(a&1)||0<(a&2)};var Ad=function(){};m["lime.ui.Mouse"]=Ad;Ad.__name__=
!0;Ad.__properties__={set_cursor:"set_cursor"};Ad.set_cursor=function(a){return Qb.set_cursor(a)};var C=m["lime.ui.MouseCursor"]={__ename__:!0,__constructs__:"ARROW CROSSHAIR DEFAULT MOVE POINTER RESIZE_NESW RESIZE_NS RESIZE_NWSE RESIZE_WE TEXT WAIT WAIT_ARROW CUSTOM".split(" ")};C.ARROW=["ARROW",0];C.ARROW.toString=q;C.ARROW.__enum__=C;C.CROSSHAIR=["CROSSHAIR",1];C.CROSSHAIR.toString=q;C.CROSSHAIR.__enum__=C;C.DEFAULT=["DEFAULT",2];C.DEFAULT.toString=q;C.DEFAULT.__enum__=C;C.MOVE=["MOVE",3];C.MOVE.toString=
q;C.MOVE.__enum__=C;C.POINTER=["POINTER",4];C.POINTER.toString=q;C.POINTER.__enum__=C;C.RESIZE_NESW=["RESIZE_NESW",5];C.RESIZE_NESW.toString=q;C.RESIZE_NESW.__enum__=C;C.RESIZE_NS=["RESIZE_NS",6];C.RESIZE_NS.toString=q;C.RESIZE_NS.__enum__=C;C.RESIZE_NWSE=["RESIZE_NWSE",7];C.RESIZE_NWSE.toString=q;C.RESIZE_NWSE.__enum__=C;C.RESIZE_WE=["RESIZE_WE",8];C.RESIZE_WE.toString=q;C.RESIZE_WE.__enum__=C;C.TEXT=["TEXT",9];C.TEXT.toString=q;C.TEXT.__enum__=C;C.WAIT=["WAIT",10];C.WAIT.toString=q;C.WAIT.__enum__=
C;C.WAIT_ARROW=["WAIT_ARROW",11];C.WAIT_ARROW.toString=q;C.WAIT_ARROW.__enum__=C;C.CUSTOM=["CUSTOM",12];C.CUSTOM.toString=q;C.CUSTOM.__enum__=C;var lb=function(a,b,c,d,e,f,g){this.x=a;this.y=b;this.id=c;this.dx=d;this.dy=e;this.pressure=f;this.device=g};m["lime.ui.Touch"]=lb;lb.__name__=!0;lb.prototype={__class__:lb};var vc=function(a){this.onTextInput=new me;this.onTextEdit=new le;this.onRestore=new xa;this.onResize=new sd;this.onMove=new sc;this.onMouseWheel=new sc;this.onMouseUp=new qd;this.onMouseMoveRelative=
new sc;this.onMouseMove=new sc;this.onMouseDown=new qd;this.onMinimize=new xa;this.onLeave=new xa;this.onKeyUp=new wd;this.onKeyDown=new wd;this.onFullscreen=new xa;this.onFocusOut=new xa;this.onFocusIn=new xa;this.onEnter=new xa;this.onDeactivate=new xa;this.onCreate=new xa;this.onClose=new xa;this.onActivate=new xa;this.config=a;this.__height=this.__width=0;this.__fullscreen=!1;this.__scale=1;this.__y=this.__x=0;this.__title="";this.id=-1;null!=a&&(Object.prototype.hasOwnProperty.call(a,"width")&&
(this.__width=a.width),Object.prototype.hasOwnProperty.call(a,"height")&&(this.__height=a.height),Object.prototype.hasOwnProperty.call(a,"x")&&(this.__x=a.x),Object.prototype.hasOwnProperty.call(a,"y")&&(this.__y=a.y),Object.prototype.hasOwnProperty.call(a,"fullscreen")&&(this.__fullscreen=a.fullscreen),Object.prototype.hasOwnProperty.call(a,"title")&&(this.__title=a.title));this.backend=new Q(this)};m["lime.ui.Window"]=vc;vc.__name__=!0;vc.prototype={close:function(){this.backend.close()},create:function(a){this.application=
a;this.backend.create(a);null!=this.renderer&&this.renderer.create()},resize:function(a,b){this.backend.resize(a,b);this.__width=a;this.__height=b},set_fullscreen:function(a){return this.__fullscreen=this.backend.setFullscreen(a)},set_height:function(a){this.resize(this.__width,a);return this.__height},set_width:function(a){this.resize(a,this.__height);return this.__width},__class__:vc,__properties__:{set_width:"set_width",set_height:"set_height",set_fullscreen:"set_fullscreen"}};var mb=function(a){null==
a&&(a=0);this.length=this.position=this.allocated=0;0<a&&(this.allocated=a);this.___resizeBuffer(this.allocated);this.set_length(this.allocated)};m["lime.utils.ByteArray"]=mb;mb.__name__=!0;mb.__ofBuffer=function(a){var b=new mb;b.set_length(b.allocated=a.byteLength);b.data=new xf(a);b.byteView=new Ja(a);return b};mb.prototype={readByte:function(){return this.data.getInt8(this.position++)},readUnsignedByte:function(){return this.data.getUint8(this.position++)},readUTFBytes:function(a){var b="";for(a=
this.position+a;this.position<a;){var c=this.data,d=c.getUint8(this.position++);if(128>d){if(0==d)break;b+=String.fromCharCode(d)}else if(224>d)b+=String.fromCharCode((d&63)<<6|c.getUint8(this.position++)&127);else if(240>d)var e=c.getUint8(this.position++),b=b+String.fromCharCode((d&31)<<12|(e&127)<<6|c.getUint8(this.position++)&127);else var e=c.getUint8(this.position++),f=c.getUint8(this.position++),b=b+String.fromCharCode((d&15)<<18|(e&127)<<12|f<<6&127|c.getUint8(this.position++)&127)}return b},
__get:function(a){return this.data.getInt8(a)},___resizeBuffer:function(a){var b=this.byteView,c=new Ja(a);null!=b&&(b.length<=a?c.set(b):c.set(b.subarray(0,a)));this.byteView=c;this.data=new xf(c.buffer)},__set:function(a,b){this.data.setUint8(a,b)},set_length:function(a){this.allocated<a?this.___resizeBuffer(this.allocated=Y["int"](Math.max(a,2*this.allocated))):this.allocated>2*a&&this.___resizeBuffer(this.allocated=a);return this.length=a},__class__:mb,__properties__:{set_length:"set_length"}};
var Bd=function(){};m["motion.actuators.IGenericActuator"]=Bd;Bd.__name__=!0;Bd.prototype={__class__:Bd};var Rb=function(a,b,c){this._autoVisible=!0;this._delay=0;this._reflect=!1;this._repeat=0;this.special=this._snapping=this._smartRotation=this._reverse=!1;this.target=a;this.properties=c;this.duration=b;this._ease=V.defaultEase};m["motion.actuators.GenericActuator"]=Rb;Rb.__name__=!0;Rb.__interfaces__=[Bd];Rb.prototype={apply:function(){for(var a=0,b=w.fields(this.properties);a<b.length;){var c=
b[a];++a;Object.prototype.hasOwnProperty.call(this.target,c)?w.setField(this.target,c,w.field(this.properties,c)):w.setProperty(this.target,c,w.field(this.properties,c))}},autoVisible:function(a){null==a&&(a=!0);this._autoVisible=a;return this},callMethod:function(a,b){null==b&&(b=[]);return w.callMethod(a,a,b)},change:function(){null!=this._onUpdate&&this.callMethod(this._onUpdate,this._onUpdateParams)},complete:function(a){null==a&&(a=!0);a&&(this.change(),null!=this._onComplete&&this.callMethod(this._onComplete,
this._onCompleteParams));V.unload(this)},delay:function(a){this._delay=a;return this},ease:function(a){this._ease=a;return this},move:function(){},onComplete:function(a,b){this._onComplete=a;this._onCompleteParams=null==b?[]:b;0==this.duration&&this.complete();return this},onRepeat:function(a,b){this._onRepeat=a;this._onRepeatParams=null==b?[]:b;return this},onUpdate:function(a,b){this._onUpdate=a;this._onUpdateParams=null==b?[]:b;return this},onPause:function(a,b){this._onPause=a;this._onPauseParams=
null==b?[]:b;return this},onResume:function(a,b){this._onResume=a;this._onResumeParams=null==b?[]:b;return this},pause:function(){null!=this._onPause&&this.callMethod(this._onPause,this._onPauseParams)},reflect:function(a){null==a&&(a=!0);this._reflect=a;this.special=!0;return this},repeat:function(a){null==a&&(a=-1);this._repeat=a;return this},resume:function(){null!=this._onResume&&this.callMethod(this._onResume,this._onResumeParams)},reverse:function(a){null==a&&(a=!0);this._reverse=a;this.special=
!0;return this},smartRotation:function(a){null==a&&(a=!0);this._smartRotation=a;this.special=!0;return this},snapping:function(a){null==a&&(a=!0);this._snapping=a;this.special=!0;return this},stop:function(a,b,c){},__class__:Rb};var ha=function(a,b,c){this.active=!0;this.propertyDetails=[];this.toggleVisible=this.setVisible=this.initialized=this.cacheVisible=this.paused=this.sendChange=!1;this.startTime=L.getTimer()/1E3;Rb.call(this,a,b,c);ha.addedEvent||(ha.addedEvent=!0,L.current.stage.addEventListener(u.ENTER_FRAME,
ha.stage_onEnterFrame))};m["motion.actuators.SimpleActuator"]=ha;ha.__name__=!0;ha.stage_onEnterFrame=function(a){a=L.getTimer()/1E3;for(var b,c=0,d=0,e=ha.actuatorsLength;d<e;)d++,b=ha.actuators[c],null!=b&&b.active?(a>=b.timeOffset&&b.update(a),c++):(ha.actuators.splice(c,1),--ha.actuatorsLength)};ha.__super__=Rb;ha.prototype=x(Rb.prototype,{setField_openfl_geom_Transform:function(a,b,c){Object.prototype.hasOwnProperty.call(a,b)?a[b]=c:w.setProperty(a,b,c)},setField_motion_actuators_TransformActuator_T:function(a,
b,c){Object.prototype.hasOwnProperty.call(a,b)?a[b]=c:w.setProperty(a,b,c)},setField_motion_actuators_MotionPathActuator_T:function(a,b,c){Object.prototype.hasOwnProperty.call(a,b)?a[b]=c:w.setProperty(a,b,c)},setField_openfl_display_DisplayObject:function(a,b,c){Object.prototype.hasOwnProperty.call(a,b)?a[b]=c:w.setProperty(a,b,c)},setField_motion_actuators_SimpleActuator_T:function(a,b,c){Object.prototype.hasOwnProperty.call(a,b)?a[b]=c:w.setProperty(a,b,c)},autoVisible:function(a){null==a&&(a=
!0);this._autoVisible=a;a||(this.toggleVisible=!1,this.setVisible&&this.setField_motion_actuators_SimpleActuator_T(this.target,"visible",this.cacheVisible));return this},delay:function(a){this._delay=a;this.timeOffset=this.startTime+a;return this},getField:function(a,b){var c=null;return c=Object.prototype.hasOwnProperty.call(a,b)?w.field(a,b):w.getProperty(a,b)},initialize:function(){for(var a,b=0,c=w.fields(this.properties);b<c.length;){var d=c[b];++b;var e=!0;!Object.prototype.hasOwnProperty.call(this.target,
d)||this.target.__properties__&&this.target.__properties__["set_"+d]?(e=!1,a=w.getProperty(this.target,d)):a=w.field(this.target,d);if("number"==typeof a){var f=this.getField(this.properties,d);null==a&&(a=0);null==f&&(f=0);a=new qb(this.target,d,a,f-a,e);this.propertyDetails.push(a)}}this.detailsLength=this.propertyDetails.length;this.initialized=!0},move:function(){(this.toggleVisible=Object.prototype.hasOwnProperty.call(this.properties,"alpha")&&z.__instanceof(this.target,B))&&0!=this.properties.alpha&&
!this.getField(this.target,"visible")&&(this.setVisible=!0,this.cacheVisible=this.getField(this.target,"visible"),this.setField_motion_actuators_SimpleActuator_T(this.target,"visible",!0));this.timeOffset=this.startTime;ha.actuators.push(this);++ha.actuatorsLength},onUpdate:function(a,b){this._onUpdate=a;this._onUpdateParams=null==b?[]:b;this.sendChange=!0;return this},pause:function(){this.paused||(this.paused=!0,Rb.prototype.pause.call(this),this.pauseTime=L.getTimer())},resume:function(){this.paused&&
(this.paused=!1,this.timeOffset+=(L.getTimer()-this.pauseTime)/1E3,Rb.prototype.resume.call(this))},setProperty:function(a,b){a.isField?a.target[a.propertyName]=b:w.setProperty(a.target,a.propertyName,b)},stop:function(a,b,c){if(this.active)if(null==a)this.active=!1,b&&this.apply(),this.complete(c);else{var d=0;for(a=w.fields(a);d<a.length;){var e=a[d];++d;if(Object.prototype.hasOwnProperty.call(this.properties,e)){this.active=!1;b&&this.apply();this.complete(c);break}}}},update:function(a){if(!this.paused){var b,
c,d=(a-this.timeOffset)/this.duration;1<d&&(d=1);this.initialized||this.initialize();if(this.special){c=this._reverse?this._ease.calculate(1-d):this._ease.calculate(d);for(var e,f=0,g=this.detailsLength;f<g;)b=f++,b=this.propertyDetails[b],!this._smartRotation||"rotation"!=b.propertyName&&"rotationX"!=b.propertyName&&"rotationY"!=b.propertyName&&"rotationZ"!=b.propertyName?e=b.start+b.change*c:(e=b.change%360,180<e?e-=360:-180>e&&(e+=360),e=b.start+e*c),this._snapping?this.setProperty(b,Math.round(e)):
b.isField?b.target[b.propertyName]=e:w.setProperty(b.target,b.propertyName,e)}else for(c=this._ease.calculate(d),f=0,g=this.detailsLength;f<g;)b=f++,b=this.propertyDetails[b],this.setProperty(b,b.start+b.change*c);if(1==d){if(0==this._repeat){this.active=!1;this.toggleVisible&&0==this.getField(this.target,"alpha")&&this.setField_motion_actuators_SimpleActuator_T(this.target,"visible",!1);this.complete(!0);return}null!=this._onRepeat&&this.callMethod(this._onRepeat,this._onRepeatParams);this._reflect&&
(this._reverse=!this._reverse);this.startTime=a;this.timeOffset=this.startTime+this._delay;0<this._repeat&&this._repeat--}this.sendChange&&this.change()}},__class__:ha});var xe=function(){};m["motion.easing.Expo"]=xe;xe.__name__=!0;xe.__properties__={get_easeOut:"get_easeOut"};xe.get_easeOut=function(){return new Cd};var ye=function(){};m["motion.easing.IEasing"]=ye;ye.__name__=!0;ye.prototype={__class__:ye};var Cd=function(){};m["motion.easing.ExpoEaseOut"]=Cd;Cd.__name__=!0;Cd.__interfaces__=[ye];
Cd.prototype={calculate:function(a){return 1==a?1:1-Math.pow(2,-10*a)},__class__:Cd};var V=function(){};m["motion.Actuate"]=V;V.__name__=!0;V.apply=function(a,b,c){V.stop(a,b);null==c&&(c=V.defaultActuator);a=Fa.createInstance(c,[a,0,b]);a.apply();return a};V.getLibrary=function(a,b){null==b&&(b=!0);null==V.targetLibraries.h.__keys__[a.__id__]&&b&&V.targetLibraries.set(a,[]);return V.targetLibraries.h[a.__id__]};V.stop=function(a,b,c,d){null==d&&(d=!0);null==c&&(c=!1);if(null!=a)if(z.__instanceof(a,
Bd))a.stop(null,c,d);else if(a=V.getLibrary(a,!1),null!=a){if("string"==typeof b){var e={};w.setField(e,b,null);b=e}else if(b instanceof Array&&null==b.__enum__){var e={},f=0;for(b=z.__cast(b,Array);f<b.length;){var g=b[f];++f;w.setField(e,g,null)}b=e}for(e=a.length-1;0<=e;)a[e].stop(b,c,d),e--}};V.tween=function(a,b,c,d,e){null==d&&(d=!0);if(null!=a){if(0<b){null==e&&(e=V.defaultActuator);a=Fa.createInstance(e,[a,b,c]);b=V.getLibrary(a.target);if(d){for(d=b.length-1;0<=d;)b[d].stop(a.properties,
!1,!1),d--;b=V.getLibrary(a.target)}b.push(a);a.move();return a}return V.apply(a,c,e)}return null};V.unload=function(a){var b=a.target;null!=V.targetLibraries.h.__keys__[b.__id__]&&(D.remove(V.targetLibraries.h[b.__id__],a),0==V.targetLibraries.h[b.__id__].length&&V.targetLibraries.remove(b))};var Oc=function(){};m["motion.IComponentPath"]=Oc;Oc.__name__=!0;Oc.prototype={__class__:Oc,__properties__:{get_end:"get_end"}};var ze=function(a,b,c){this.filterIndex=-1;ha.call(this,a,b,c);if(z.__instanceof(c.filter,
qf))for(this.filterClass=c.filter,0==a.get_filters().length&&a.set_filters([Fa.createInstance(this.filterClass,[])]),b=0,a=a.get_filters();b<a.length;)c=a[b],++b,z.__instanceof(c,this.filterClass)&&(this.filter=c);else this.filterIndex=c.filter,this.filter=a.get_filters()[this.filterIndex]};m["motion.actuators.FilterActuator"]=ze;ze.__name__=!0;ze.__super__=ha;ze.prototype=x(ha.prototype,{apply:function(){for(var a=0,b=w.fields(this.properties);a<b.length;){var c=b[a];++a;"filter"!=c&&w.setField(this.filter,
c,w.field(this.properties,c))}a=this.getField(this.target,"filters");w.setField(a,this.properties.filter,this.filter);this.setField_openfl_display_DisplayObject(this.target,"filters",a)},initialize:function(){for(var a,b=0,c=w.fields(this.properties);b<c.length;){var d=c[b];++b;"filter"!=d&&(a=this.getField(this.filter,d),a=new qb(this.filter,d,a,w.field(this.properties,d)-a),this.propertyDetails.push(a))}this.detailsLength=this.propertyDetails.length;this.initialized=!0},update:function(a){ha.prototype.update.call(this,
a);a=this.target.get_filters();if(-1<this.filterIndex)w.setField(a,this.properties.filter,this.filter);else for(var b=0,c=a.length;b<c;){var d=b++;z.__instanceof(a[d],this.filterClass)&&(a[d]=this.filter)}this.setField_openfl_display_DisplayObject(this.target,"filters",a)},__class__:ze});var Ae=function(a,b,c){this.currentParameters=[];this.tweenProperties={};ha.call(this,a,b,c);Object.prototype.hasOwnProperty.call(c,"start")||(this.properties.start=[]);Object.prototype.hasOwnProperty.call(c,"end")||
(this.properties.end=this.properties.start);a=0;for(b=this.properties.start.length;a<b;)c=a++,this.currentParameters.push(this.properties.start[c])};m["motion.actuators.MethodActuator"]=Ae;Ae.__name__=!0;Ae.__super__=ha;Ae.prototype=x(ha.prototype,{apply:function(){this.callMethod(this.target,this.properties.end)},complete:function(a){null==a&&(a=!0);for(var b=0,c=this.properties.start.length;b<c;){var d=b++;this.currentParameters[d]=w.field(this.tweenProperties,"param"+d)}this.callMethod(this.target,
this.currentParameters);ha.prototype.complete.call(this,a)},initialize:function(){for(var a,b,c=0,d=this.properties.start.length;c<d;){var e=c++;a="param"+e;b=this.properties.start[e];this.tweenProperties[a]=b;if("number"==typeof b||(b|0)===b)a=new qb(this.tweenProperties,a,b,this.properties.end[e]-b),this.propertyDetails.push(a)}this.detailsLength=this.propertyDetails.length;this.initialized=!0},update:function(a){ha.prototype.update.call(this,a);if(this.active&&!this.paused){a=0;for(var b=this.properties.start.length;a<
b;){var c=a++;this.currentParameters[c]=w.field(this.tweenProperties,"param"+c)}this.callMethod(this.target,this.currentParameters)}},__class__:Ae});var Be=function(a,b,c){ha.call(this,a,b,c)};m["motion.actuators.MotionPathActuator"]=Be;Be.__name__=!0;Be.__super__=ha;Be.prototype=x(ha.prototype,{apply:function(){for(var a=0,b=w.fields(this.properties);a<b.length;){var c=b[a];++a;Object.prototype.hasOwnProperty.call(this.target,c)?w.setField(this.target,c,z.__cast(w.field(this.properties,c),Oc).get_end()):
w.setProperty(this.target,c,z.__cast(w.field(this.properties,c),Oc).get_end())}},initialize:function(){for(var a,b=0,c=w.fields(this.properties);b<c.length;){var d=c[b];++b;a=z.__cast(w.field(this.properties,d),Oc);if(null!=a){var e=!0;Object.prototype.hasOwnProperty.call(this.target,d)?a.start=w.field(this.target,d):(e=!1,a.start=w.getProperty(this.target,d));a=new Bb(this.target,d,a,e);this.propertyDetails.push(a)}}this.detailsLength=this.propertyDetails.length;this.initialized=!0},update:function(a){if(!this.paused){var b,
c=(a-this.timeOffset)/this.duration;1<c&&(c=1);this.initialized||this.initialize();if(this.special){b=this._reverse?this._ease.calculate(1-c):this._ease.calculate(c);for(var d=0,e=this.propertyDetails;d<e.length;){var f=e[d];++d;this._snapping?f.isField?w.setField(f.target,f.propertyName,Math.round(z.__cast(f,Bb).path.calculate(b))):w.setProperty(f.target,f.propertyName,Math.round(z.__cast(f,Bb).path.calculate(b))):f.isField?w.setField(f.target,f.propertyName,z.__cast(f,Bb).path.calculate(b)):w.setProperty(f.target,
f.propertyName,z.__cast(f,Bb).path.calculate(b))}}else for(b=this._ease.calculate(c),d=0,e=this.propertyDetails;d<e.length;)f=e[d],++d,f.isField?w.setField(f.target,f.propertyName,z.__cast(f,Bb).path.calculate(b)):w.setProperty(f.target,f.propertyName,z.__cast(f,Bb).path.calculate(b));if(1==c){if(0==this._repeat){this.active=!1;this.toggleVisible&&0==this.getField(this.target,"alpha")&&this.setField_motion_actuators_MotionPathActuator_T(this.target,"visible",!1);this.complete(!0);return}null!=this._onRepeat&&
this.callMethod(this._onRepeat,this._onRepeatParams);this._reflect&&(this._reverse=!this._reverse);this.startTime=a;this.timeOffset=this.startTime+this._delay;0<this._repeat&&this._repeat--}this.sendChange&&this.change()}},__class__:Be});var qb=function(a,b,c,d,e){null==e&&(e=!0);this.target=a;this.propertyName=b;this.start=c;this.change=d;this.isField=e};m["motion.actuators.PropertyDetails"]=qb;qb.__name__=!0;qb.prototype={__class__:qb};var Bb=function(a,b,c,d){null==d&&(d=!0);qb.call(this,a,b,0,
0,d);this.path=c};m["motion.actuators.PropertyPathDetails"]=Bb;Bb.__name__=!0;Bb.__super__=qb;Bb.prototype=x(qb.prototype,{__class__:Bb});var Ce=function(a,b,c){ha.call(this,a,b,c)};m["motion.actuators.TransformActuator"]=Ce;Ce.__name__=!0;Ce.__super__=ha;Ce.prototype=x(ha.prototype,{apply:function(){this.initialize();if(null!=this.endColorTransform){var a=this.getField(this.target,"transform");this.setField_openfl_geom_Transform(a,"colorTransform",this.endColorTransform)}null!=this.endSoundTransform&&
this.setField_motion_actuators_TransformActuator_T(this.target,"soundTransform",this.endSoundTransform)},initialize:function(){Object.prototype.hasOwnProperty.call(this.properties,"colorValue")&&z.__instanceof(this.target,B)&&this.initializeColor();(Object.prototype.hasOwnProperty.call(this.properties,"soundVolume")||Object.prototype.hasOwnProperty.call(this.properties,"soundPan"))&&this.initializeSound();this.detailsLength=this.propertyDetails.length;this.initialized=!0},initializeColor:function(){this.endColorTransform=
new tb;var a=this.properties.colorValue,b=this.properties.colorStrength;if(1>b){var c;.5>b?(c=1,b*=2):(c=1-2*(b-.5),b=1);this.endColorTransform.redMultiplier=c;this.endColorTransform.greenMultiplier=c;this.endColorTransform.blueMultiplier=c;this.endColorTransform.redOffset=b*(a>>16&255);this.endColorTransform.greenOffset=b*(a>>8&255);this.endColorTransform.blueOffset=b*(a&255)}else this.endColorTransform.redMultiplier=0,this.endColorTransform.greenMultiplier=0,this.endColorTransform.blueMultiplier=
0,this.endColorTransform.redOffset=a>>16&255,this.endColorTransform.greenOffset=a>>8&255,this.endColorTransform.blueOffset=a&255;a="redMultiplier greenMultiplier blueMultiplier redOffset greenOffset blueOffset".split(" ");Object.prototype.hasOwnProperty.call(this.properties,"colorAlpha")?(this.endColorTransform.alphaMultiplier=this.properties.colorAlpha,a.push("alphaMultiplier")):this.endColorTransform.alphaMultiplier=this.getField(this.target,"alpha");c=this.getField(this.target,"transform");c=this.getField(c,
"colorTransform");this.tweenColorTransform=new tb;for(var d,b=0;b<a.length;){var e=a[b];++b;d=this.getField(c,e);d=new qb(this.tweenColorTransform,e,d,this.getField(this.endColorTransform,e)-d);this.propertyDetails.push(d)}},initializeSound:function(){null==this.getField(this.target,"soundTransform")&&this.setField_motion_actuators_TransformActuator_T(this.target,"soundTransform",new Dd);var a=this.getField(this.target,"soundTransform");this.endSoundTransform=this.getField(this.target,"soundTransform");
this.tweenSoundTransform=new Dd;Object.prototype.hasOwnProperty.call(this.properties,"soundVolume")&&(this.endSoundTransform.volume=this.properties.soundVolume,this.propertyDetails.push(new qb(this.tweenSoundTransform,"volume",a.volume,this.endSoundTransform.volume-a.volume)));Object.prototype.hasOwnProperty.call(this.properties,"soundPan")&&(this.endSoundTransform.pan=this.properties.soundPan,this.propertyDetails.push(new qb(this.tweenSoundTransform,"pan",a.pan,this.endSoundTransform.pan-a.pan)))},
update:function(a){ha.prototype.update.call(this,a);null!=this.endColorTransform&&(a=this.getField(this.target,"transform"),this.setField_openfl_geom_Transform(a,"colorTransform",this.tweenColorTransform));null!=this.endSoundTransform&&this.setField_motion_actuators_TransformActuator_T(this.target,"soundTransform",this.tweenSoundTransform)},__class__:Ce});var De=function(){};m["openfl.IAssetCache"]=De;De.__name__=!0;De.prototype={__class__:De,__properties__:{get_enabled:"get_enabled"}};var Ed=function(){this.__enabled=
!0;this.bitmapData=new sa;this.font=new sa;this.sound=new sa};m["openfl.AssetCache"]=Ed;Ed.__name__=!0;Ed.__interfaces__=[De];Ed.prototype={getBitmapData:function(a){return this.bitmapData.get(a)},getFont:function(a){return this.font.get(a)},hasBitmapData:function(a){return this.bitmapData.exists(a)},hasFont:function(a){return this.font.exists(a)},setBitmapData:function(a,b){this.bitmapData.set(a,b)},setFont:function(a,b){this.font.set(a,b)},get_enabled:function(){return this.__enabled},__class__:Ed,
__properties__:{get_enabled:"get_enabled"}};var aa=function(){};m["openfl.Assets"]=aa;aa.__name__=!0;aa.getBitmapData=function(a,b){null==b&&(b=!0);if(b&&aa.cache.get_enabled()&&aa.cache.hasBitmapData(a)){var c=aa.cache.getBitmapData(a);if(aa.isValidBitmapData(c))return c}c=K.getImage(a,!1);return null!=c?(c=Oa.fromImage(c),b&&aa.cache.get_enabled()&&aa.cache.setBitmapData(a,c),c):null};aa.getFont=function(a,b){null==b&&(b=!0);if(b&&aa.cache.get_enabled()&&aa.cache.hasFont(a))return aa.cache.getFont(a);
var c=K.getFont(a,!1);return null!=c?(c=Ia.__fromLimeFont(c),b&&aa.cache.get_enabled()&&aa.cache.setFont(a,c),c):new Ia};aa.isValidBitmapData=function(a){return null!=a&&null!=a.image};var Fd=function(){F.call(this);this.__currentFrame=0;this.__currentLabels=[];this.__totalFrames=0;this.enabled=!0};m["openfl.display.MovieClip"]=Fd;Fd.__name__=!0;Fd.__super__=F;Fd.prototype=x(F.prototype,{__class__:Fd});var Ob=function(){ja.call(this);this.applicationDomain=wc.currentDomain;this.bytesTotal=this.bytesLoaded=
0;this.childAllowsParent=!0;this.parameters={}};m["openfl.display.LoaderInfo"]=Ob;Ob.__name__=!0;Ob.create=function(a){var b=new Ob;b.uncaughtErrorEvents=new Gd;null!=a?b.loader=a:b.url=Ob.__rootURL;return b};Ob.__super__=ja;Ob.prototype=x(ja.prototype,{__class__:Ob});var wc=function(a){this.parentDomain=null!=a?a:wc.currentDomain};m["openfl.system.ApplicationDomain"]=wc;wc.__name__=!0;wc.prototype={__class__:wc};var Gd=function(a){ja.call(this,a)};m["openfl.events.UncaughtErrorEvents"]=Gd;Gd.__name__=
!0;Gd.__super__=ja;Gd.prototype=x(ja.prototype,{__class__:Gd});var R=function(a,b,c,d,e,f){null==f&&(f=0);null==e&&(e=0);null==d&&(d=1);null==c&&(c=0);null==b&&(b=0);null==a&&(a=1);this.a=a;this.b=b;this.c=c;this.d=d;this.tx=e;this.ty=f};m["openfl.geom.Matrix"]=R;R.__name__=!0;R.prototype={clone:function(){return new R(this.a,this.b,this.c,this.d,this.tx,this.ty)},concat:function(a){var b=this.a*a.a+this.b*a.c;this.b=this.a*a.b+this.b*a.d;this.a=b;b=this.c*a.a+this.d*a.c;this.d=this.c*a.b+this.d*
a.d;this.c=b;b=this.tx*a.a+this.ty*a.c+a.tx;this.ty=this.tx*a.b+this.ty*a.d+a.ty;this.tx=b},copyFrom:function(a){this.a=a.a;this.b=a.b;this.c=a.c;this.d=a.d;this.tx=a.tx;this.ty=a.ty},deltaTransformPoint:function(a){return new N(a.x*this.a+a.y*this.c,a.x*this.b+a.y*this.d)},identity:function(){this.a=1;this.c=this.b=0;this.d=1;this.ty=this.tx=0},invert:function(){var a=this.a*this.d-this.b*this.c;if(0==a)this.a=this.b=this.c=this.d=0,this.tx=-this.tx,this.ty=-this.ty;else{var a=1/a,b=this.d*a;this.d=
this.a*a;this.a=b;this.b*=-a;this.c*=-a;a=-this.a*this.tx-this.c*this.ty;this.ty=-this.b*this.tx-this.d*this.ty;this.tx=a}return this},scale:function(a,b){this.a*=a;this.b*=b;this.c*=a;this.d*=b;this.tx*=a;this.ty*=b},to3DString:function(a){null==a&&(a=!1);return a?"matrix3d("+this.a+", "+this.b+", 0, 0, "+this.c+", "+this.d+", 0, 0, 0, 0, 1, 0, "+(this.tx|0)+", "+(this.ty|0)+", 0, 1)":"matrix3d("+this.a+", "+this.b+", 0, 0, "+this.c+", "+this.d+", 0, 0, 0, 0, 1, 0, "+this.tx+", "+this.ty+", 0, 1)"},
transformPoint:function(a){return new N(a.x*this.a+a.y*this.c+this.tx,a.x*this.b+a.y*this.d+this.ty)},translate:function(a,b){this.tx+=a;this.ty+=b},toArray:function(a){null==a&&(a=!1);null==this.__array&&(this.__array=new Float32Array(9));a?(this.__array[0]=this.a,this.__array[1]=this.b,this.__array[2]=0,this.__array[3]=this.c,this.__array[4]=this.d,this.__array[5]=0,this.__array[6]=this.tx,this.__array[7]=this.ty):(this.__array[0]=this.a,this.__array[1]=this.c,this.__array[2]=this.tx,this.__array[3]=
this.b,this.__array[4]=this.d,this.__array[5]=this.ty,this.__array[6]=0,this.__array[7]=0);this.__array[8]=1;return this.__array},__toMatrix3:function(){return new yd(this.a,this.b,this.c,this.d,this.tx,this.ty)},__transformInversePoint:function(a){var b=this.a*this.d-this.b*this.c;if(0==b)a.x=-this.tx,a.y=-this.ty;else{var c=1/b*(this.c*(this.ty-a.y)+this.d*(a.x-this.tx));a.y=1/b*(this.a*(a.y-this.ty)+this.b*(this.tx-a.x));a.x=c}},__transformInverseX:function(a,b){var c=this.a*this.d-this.b*this.c;
return 0==c?-this.tx:1/c*(this.c*(this.ty-b)+this.d*(a-this.tx))},__transformInverseY:function(a,b){var c=this.a*this.d-this.b*this.c;return 0==c?-this.ty:1/c*(this.a*(b-this.ty)+this.b*(this.tx-a))},__translateTransformed:function(a,b){this.tx=a*this.a+b*this.c+this.tx;this.ty=a*this.b+b*this.d+this.ty},__class__:R};var tb=function(a,b,c,d,e,f,g,p){null==p&&(p=0);null==g&&(g=0);null==f&&(f=0);null==e&&(e=0);null==d&&(d=1);null==c&&(c=1);null==b&&(b=1);null==a&&(a=1);this.redMultiplier=a;this.greenMultiplier=
b;this.blueMultiplier=c;this.alphaMultiplier=d;this.redOffset=e;this.greenOffset=f;this.blueOffset=g;this.alphaOffset=p};m["openfl.geom.ColorTransform"]=tb;tb.__name__=!0;tb.prototype={__clone:function(){return new tb(this.redMultiplier,this.greenMultiplier,this.blueMultiplier,this.alphaMultiplier,this.redOffset,this.greenOffset,this.blueOffset,this.alphaOffset)},__combine:function(a){this.redMultiplier*=a.redMultiplier;this.greenMultiplier*=a.greenMultiplier;this.blueMultiplier*=a.blueMultiplier;
this.alphaMultiplier*=a.alphaMultiplier;this.redOffset+=a.redOffset;this.greenOffset+=a.greenOffset;this.blueOffset+=a.blueOffset;this.alphaOffset+=a.alphaOffset},__equals:function(a,b){null==b&&(b=!1);return null!=a&&this.redMultiplier==a.redMultiplier&&this.greenMultiplier==a.greenMultiplier&&this.blueMultiplier==a.blueMultiplier&&(b||this.alphaMultiplier==a.alphaMultiplier)&&this.redOffset==a.redOffset&&this.greenOffset==a.greenOffset&&this.blueOffset==a.blueOffset&&this.alphaOffset==a.alphaOffset},
__isDefault:function(){return 1==this.redMultiplier&&1==this.greenMultiplier&&1==this.blueMultiplier&&1==this.alphaMultiplier&&0==this.redOffset&&0==this.greenOffset&&0==this.blueOffset&&0==this.alphaOffset},__toLimeColorMatrix:function(){var a=[this.redMultiplier,0,0,0,this.redOffset/255,0,this.greenMultiplier,0,0,this.greenOffset/255,0,0,this.blueMultiplier,0,this.blueOffset/255,0,0,0,this.alphaMultiplier,this.alphaOffset/255];return null!=a?new Float32Array(a):null},__class__:tb};var L=function(){};
m["openfl.Lib"]=L;L.__name__=!0;L.application=null;L.embed=bb.openfl.embed=function(a,b,c,d,e){zd.embed(a,b,c,d,e)};L.getTimer=function(){return zd.getTimer()};var xc=function(){this.length=0};m["openfl.VectorData"]=xc;xc.__name__=!0;xc.prototype={__class__:xc};var Cb=function(a){this.renderSession=a};m["openfl._internal.renderer.AbstractMaskManager"]=Cb;Cb.__name__=!0;Cb.prototype={pushMask:function(a){},pushRect:function(a,b){},popMask:function(){},popRect:function(){},saveState:function(){},restoreState:function(){},
__class__:Cb};var La=function(a,b){this.width=a;this.height=b};m["openfl._internal.renderer.AbstractRenderer"]=La;La.__name__=!0;La.prototype={render:function(a){},setViewport:function(a,b,c,d){},resize:function(a,b){},__class__:La};var Pc=function(){this.types=[];this.b=[];this.i=[];this.f=[];this.o=[];this.ff=[];this.ii=[];this.ts=[]};m["openfl._internal.renderer.DrawCommandBuffer"]=Pc;Pc.__name__=!0;Pc.prototype={append:function(a){for(var b=new Jb(a),c=0,d=a.types;c<d.length;){var e=d[c];++c;
switch(e[1]){case 0:b.advance();b.prev=t.BEGIN_BITMAP_FILL;e=b;this.beginBitmapFill(e.buffer.o[e.oPos],e.buffer.o[e.oPos+1],e.buffer.b[e.bPos],e.buffer.b[e.bPos+1]);break;case 1:b.advance();b.prev=t.BEGIN_FILL;e=b;this.beginFill(e.buffer.i[e.iPos],e.buffer.f[e.fPos]);break;case 2:b.advance();b.prev=t.BEGIN_GRADIENT_FILL;e=b;this.beginGradientFill(e.buffer.o[e.oPos],e.buffer.ii[e.iiPos],e.buffer.ff[e.ffPos],e.buffer.ii[e.iiPos+1],e.buffer.o[e.oPos+1],e.buffer.o[e.oPos+2],e.buffer.o[e.oPos+3],e.buffer.o[e.oPos+
4]);break;case 3:b.advance();b.prev=t.CUBIC_CURVE_TO;e=b;this.cubicCurveTo(e.buffer.f[e.fPos],e.buffer.f[e.fPos+1],e.buffer.f[e.fPos+3],e.buffer.f[e.fPos+4],e.buffer.f[e.fPos+5],e.buffer.f[e.fPos+6]);break;case 4:b.advance();b.prev=t.CURVE_TO;e=b;this.curveTo(e.buffer.f[e.fPos],e.buffer.f[e.fPos+1],e.buffer.f[e.fPos+2],e.buffer.f[e.fPos+3]);break;case 5:b.advance();b.prev=t.DRAW_CIRCLE;e=b;this.drawCircle(e.buffer.f[e.fPos],e.buffer.f[e.fPos+1],e.buffer.f[e.fPos+2]);break;case 6:b.advance();b.prev=
t.DRAW_ELLIPSE;e=b;this.drawEllipse(e.buffer.f[e.fPos],e.buffer.f[e.fPos+1],e.buffer.f[e.fPos+2],e.buffer.f[e.fPos+3]);break;case 7:b.advance();b.prev=t.DRAW_PATH;e=b;this.drawPath(e.buffer.o[e.oPos],e.buffer.o[e.oPos+1],e.buffer.o[e.oPos+2]);break;case 8:b.advance();b.prev=t.DRAW_RECT;e=b;this.drawRect(e.buffer.f[e.fPos],e.buffer.f[e.fPos+1],e.buffer.f[e.fPos+2],e.buffer.f[e.fPos+3]);break;case 9:b.advance();b.prev=t.DRAW_ROUND_RECT;e=b;this.drawRoundRect(e.buffer.f[e.fPos],e.buffer.f[e.fPos+1],
e.buffer.f[e.fPos+2],e.buffer.f[e.fPos+3],e.buffer.f[e.fPos+4],e.buffer.f[e.fPos+5]);break;case 10:b.advance();b.prev=t.DRAW_TILES;e=b;this.drawTiles(e.buffer.ts[e.tsPos],e.buffer.ff[e.ffPos],e.buffer.b[e.bPos],e.buffer.i[e.iPos],e.buffer.o[e.oPos],e.buffer.i[e.iPos+1]);break;case 11:b.advance();b.prev=t.DRAW_TRIANGLES;e=b;this.drawTriangles(e.buffer.o[e.oPos],e.buffer.o[e.oPos+1],e.buffer.o[e.oPos+2],e.buffer.o[e.oPos+3],e.buffer.o[e.oPos+4],e.buffer.i[e.iPos]);break;case 12:b.advance();b.prev=t.END_FILL;
this.endFill();break;case 13:b.advance();b.prev=t.LINE_BITMAP_STYLE;e=b;this.lineBitmapStyle(e.buffer.o[e.oPos],e.buffer.o[e.oPos+1],e.buffer.b[e.bPos],e.buffer.b[e.bPos+1]);break;case 14:b.advance();b.prev=t.LINE_GRADIENT_STYLE;e=b;this.lineGradientStyle(e.buffer.o[e.oPos],e.buffer.ii[e.iiPos],e.buffer.ff[e.ffPos],e.buffer.ii[e.iiPos+1],e.buffer.o[e.oPos+1],e.buffer.o[e.oPos+2],e.buffer.o[e.oPos+3],e.buffer.o[e.oPos+4]);break;case 15:b.advance();b.prev=t.LINE_STYLE;e=b;this.lineStyle(e.buffer.o[e.oPos],
e.buffer.o[e.oPos+1],e.buffer.o[e.oPos+2],e.buffer.o[e.oPos+3],e.buffer.o[e.oPos+4],e.buffer.o[e.oPos+5],e.buffer.o[e.oPos+6],e.buffer.o[e.oPos+7]);break;case 16:b.advance();b.prev=t.LINE_TO;e=b;this.lineTo(e.buffer.f[e.fPos],e.buffer.f[e.fPos+1]);break;case 17:b.advance();b.prev=t.MOVE_TO;e=b;this.moveTo(e.buffer.f[e.fPos],e.buffer.f[e.fPos+1]);break;case 18:b.advance(),b.prev=t.OVERRIDE_MATRIX,e=b,this.overrideMatrix(e.buffer.o[e.oPos])}}b.destroy();return a},beginBitmapFill:function(a,b,c,d){this.types.push(t.BEGIN_BITMAP_FILL);
this.o.push(a);this.o.push(b);this.b.push(c);this.b.push(d)},beginFill:function(a,b){this.types.push(t.BEGIN_FILL);this.i.push(a);this.f.push(b)},beginGradientFill:function(a,b,c,d,e,f,g,p){this.types.push(t.BEGIN_GRADIENT_FILL);this.o.push(a);this.ii.push(b);this.ff.push(c);this.ii.push(d);this.o.push(e);this.o.push(f);this.o.push(g);this.o.push(p)},clear:function(){this.types.splice(0,this.types.length);this.b.splice(0,this.b.length);this.i.splice(0,this.i.length);this.f.splice(0,this.f.length);
this.o.splice(0,this.o.length);this.ff.splice(0,this.ff.length);this.ii.splice(0,this.ii.length);this.ts.splice(0,this.ts.length)},cubicCurveTo:function(a,b,c,d,e,f){this.types.push(t.CUBIC_CURVE_TO);this.f.push(a);this.f.push(b);this.f.push(c);this.f.push(d);this.f.push(e);this.f.push(f)},curveTo:function(a,b,c,d){this.types.push(t.CURVE_TO);this.f.push(a);this.f.push(b);this.f.push(c);this.f.push(d)},drawCircle:function(a,b,c){this.types.push(t.DRAW_CIRCLE);this.f.push(a);this.f.push(b);this.f.push(c)},
drawEllipse:function(a,b,c,d){this.types.push(t.DRAW_ELLIPSE);this.f.push(a);this.f.push(b);this.f.push(c);this.f.push(d)},drawPath:function(a,b,c){this.types.push(t.DRAW_PATH);this.o.push(a);this.o.push(b);this.o.push(c)},drawRect:function(a,b,c,d){this.types.push(t.DRAW_RECT);this.f.push(a);this.f.push(b);this.f.push(c);this.f.push(d)},drawRoundRect:function(a,b,c,d,e,f){this.types.push(t.DRAW_ROUND_RECT);this.f.push(a);this.f.push(b);this.f.push(c);this.f.push(d);this.f.push(e);this.f.push(f)},
drawTiles:function(a,b,c,d,e,f){this.types.push(t.DRAW_TILES);this.ts.push(a);this.ff.push(b);this.b.push(c);this.i.push(d);this.o.push(e);this.i.push(f)},drawTriangles:function(a,b,c,d,e,f){this.types.push(t.DRAW_TRIANGLES);this.o.push(a);this.o.push(b);this.o.push(c);this.o.push(d);this.o.push(e);this.i.push(f)},endFill:function(){this.types.push(t.END_FILL)},lineBitmapStyle:function(a,b,c,d){this.types.push(t.LINE_BITMAP_STYLE);this.o.push(a);this.o.push(b);this.b.push(c);this.b.push(d)},lineGradientStyle:function(a,
b,c,d,e,f,g,p){this.types.push(t.LINE_GRADIENT_STYLE);this.o.push(a);this.ii.push(b);this.ff.push(c);this.ii.push(d);this.o.push(e);this.o.push(f);this.o.push(g);this.o.push(p)},lineStyle:function(a,b,c,d,e,f,g,p){this.types.push(t.LINE_STYLE);this.o.push(a);this.o.push(b);this.o.push(c);this.o.push(d);this.o.push(e);this.o.push(f);this.o.push(g);this.o.push(p)},lineTo:function(a,b){this.types.push(t.LINE_TO);this.f.push(a);this.f.push(b)},moveTo:function(a,b){this.types.push(t.MOVE_TO);this.f.push(a);
this.f.push(b)},overrideMatrix:function(a){this.types.push(t.OVERRIDE_MATRIX);this.o.push(a)},get_length:function(){return this.types.length},__class__:Pc,__properties__:{get_length:"get_length"}};var Jb=function(a){this.buffer=a;this.bPos=this.iPos=this.fPos=this.oPos=this.ffPos=this.iiPos=this.tsPos=0;this.prev=t.UNKNOWN};m["openfl._internal.renderer.DrawCommandReader"]=Jb;Jb.__name__=!0;Jb.prototype={advance:function(){switch(this.prev[1]){case 0:this.oPos+=2;this.bPos+=2;break;case 1:this.iPos+=
1;this.fPos+=1;break;case 2:this.oPos+=5;this.iiPos+=2;this.ffPos+=1;break;case 3:this.fPos+=6;break;case 4:this.fPos+=4;break;case 5:this.fPos+=3;break;case 6:this.fPos+=4;break;case 7:this.oPos+=3;break;case 8:this.fPos+=4;break;case 9:this.fPos+=6;break;case 10:this.tsPos+=1;this.ffPos+=1;this.bPos+=1;this.iPos+=2;this.oPos+=1;break;case 11:this.oPos+=5;this.iPos+=1;break;case 13:this.oPos+=2;this.bPos+=2;break;case 14:this.oPos+=5;this.iiPos+=2;this.ffPos+=1;break;case 15:this.oPos+=8;break;case 16:this.fPos+=
2;break;case 17:this.fPos+=2;break;case 18:this.oPos+=1}},destroy:function(){this.buffer=null;this.reset()},reset:function(){this.bPos=this.iPos=this.fPos=this.oPos=this.ffPos=this.iiPos=this.tsPos=0},__class__:Jb};var t=m["openfl._internal.renderer.DrawCommandType"]={__ename__:!0,__constructs__:"BEGIN_BITMAP_FILL BEGIN_FILL BEGIN_GRADIENT_FILL CUBIC_CURVE_TO CURVE_TO DRAW_CIRCLE DRAW_ELLIPSE DRAW_PATH DRAW_RECT DRAW_ROUND_RECT DRAW_TILES DRAW_TRIANGLES END_FILL LINE_BITMAP_STYLE LINE_GRADIENT_STYLE LINE_STYLE LINE_TO MOVE_TO OVERRIDE_MATRIX UNKNOWN".split(" ")};
t.BEGIN_BITMAP_FILL=["BEGIN_BITMAP_FILL",0];t.BEGIN_BITMAP_FILL.toString=q;t.BEGIN_BITMAP_FILL.__enum__=t;t.BEGIN_FILL=["BEGIN_FILL",1];t.BEGIN_FILL.toString=q;t.BEGIN_FILL.__enum__=t;t.BEGIN_GRADIENT_FILL=["BEGIN_GRADIENT_FILL",2];t.BEGIN_GRADIENT_FILL.toString=q;t.BEGIN_GRADIENT_FILL.__enum__=t;t.CUBIC_CURVE_TO=["CUBIC_CURVE_TO",3];t.CUBIC_CURVE_TO.toString=q;t.CUBIC_CURVE_TO.__enum__=t;t.CURVE_TO=["CURVE_TO",4];t.CURVE_TO.toString=q;t.CURVE_TO.__enum__=t;t.DRAW_CIRCLE=["DRAW_CIRCLE",5];t.DRAW_CIRCLE.toString=
q;t.DRAW_CIRCLE.__enum__=t;t.DRAW_ELLIPSE=["DRAW_ELLIPSE",6];t.DRAW_ELLIPSE.toString=q;t.DRAW_ELLIPSE.__enum__=t;t.DRAW_PATH=["DRAW_PATH",7];t.DRAW_PATH.toString=q;t.DRAW_PATH.__enum__=t;t.DRAW_RECT=["DRAW_RECT",8];t.DRAW_RECT.toString=q;t.DRAW_RECT.__enum__=t;t.DRAW_ROUND_RECT=["DRAW_ROUND_RECT",9];t.DRAW_ROUND_RECT.toString=q;t.DRAW_ROUND_RECT.__enum__=t;t.DRAW_TILES=["DRAW_TILES",10];t.DRAW_TILES.toString=q;t.DRAW_TILES.__enum__=t;t.DRAW_TRIANGLES=["DRAW_TRIANGLES",11];t.DRAW_TRIANGLES.toString=
q;t.DRAW_TRIANGLES.__enum__=t;t.END_FILL=["END_FILL",12];t.END_FILL.toString=q;t.END_FILL.__enum__=t;t.LINE_BITMAP_STYLE=["LINE_BITMAP_STYLE",13];t.LINE_BITMAP_STYLE.toString=q;t.LINE_BITMAP_STYLE.__enum__=t;t.LINE_GRADIENT_STYLE=["LINE_GRADIENT_STYLE",14];t.LINE_GRADIENT_STYLE.toString=q;t.LINE_GRADIENT_STYLE.__enum__=t;t.LINE_STYLE=["LINE_STYLE",15];t.LINE_STYLE.toString=q;t.LINE_STYLE.__enum__=t;t.LINE_TO=["LINE_TO",16];t.LINE_TO.toString=q;t.LINE_TO.__enum__=t;t.MOVE_TO=["MOVE_TO",17];t.MOVE_TO.toString=
q;t.MOVE_TO.__enum__=t;t.OVERRIDE_MATRIX=["OVERRIDE_MATRIX",18];t.OVERRIDE_MATRIX.toString=q;t.OVERRIDE_MATRIX.__enum__=t;t.UNKNOWN=["UNKNOWN",19];t.UNKNOWN.toString=q;t.UNKNOWN.__enum__=t;var ua=function(){};m["openfl._internal.renderer.GraphicsPaths"]=ua;ua.__name__=!0;ua.ellipse=function(a,b,c,d,e,f){var g=2*Math.PI/f,p=0;for(f+=1;p<f;){var k=p++;a.push(b+Math.sin(g*k)*d);a.push(c+Math.cos(g*k)*e)}};ua.cubicCurveTo=function(a,b,c,d,e,f,g){for(var p=0,k=0,l=0,h=0,m=0,n=a[a.length-2],t=a[a.length-
1],q=0,u=p=0,r=1;21>r;)u=r++/20,p=1-u,k=p*p,l=k*p,h=u*u,m=h*u,q=l*n+3*k*u*b+3*p*h*d+m*f,p=l*t+3*k*u*c+3*p*h*e+m*g,a.push(q),a.push(p)};ua.curveTo=function(a,b,c,d,e){for(var f=0,g=0,p=a[a.length-2],k=a[a.length-1],l=g=f=0,h=1;21>h;)l=h++/20,f=p+(b-p)*l,g=k+(c-k)*l,f+=(b+(d-b)*l-f)*l,g+=(c+(e-c)*l-g)*l,a.push(f),a.push(g)};ua.roundRectangle=function(a,b,c,d,e,f,g){d=b+d;e=c+e;var p=-f+f*ua.SIN45,k=-f+f*ua.TAN22,l=-g+g*ua.SIN45,h=-g+g*ua.TAN22;a.push(d);a.push(e-g);ua.curveTo(a,d,e+h,d+p,e+l);ua.curveTo(a,
d+k,e,d-f,e);a.push(b+f);a.push(e);ua.curveTo(a,b-k,e,b-p,e+l);ua.curveTo(a,b,e+h,b,e-g);a.push(b);a.push(c+g);ua.curveTo(a,b,c-h,b-p,c-l);ua.curveTo(a,b-k,c,b+f,c);a.push(d-f);a.push(c);ua.curveTo(a,d+k,c,d+p,c-l);ua.curveTo(a,d,c-h,d,c+g);a.push(d);a.push(e-g)};var yc=function(){};m["openfl._internal.renderer.PolyK"]=yc;yc.__name__=!0;yc.triangulate=function(a,b){var c=!0,d=b.length>>1;if(3>d)return[];var e;e=[];for(var f=0;f<d;){var g=f++;e.push(g)}for(var f=0,g=d,p=!1;3<g;){var k=e[f%g],l=e[(f+
1)%g],h=e[(f+2)%g],m=b[2*k],n=b[2*k+1],t=b[2*l],q=b[2*l+1],u=b[2*h],r=b[2*h+1],p=!1;if(yc._convex(m,n,t,q,u,r,c))for(var p=!0,v=0;v<g;){var ca=v++,ca=e[ca];if(ca!=k&&ca!=l&&ca!=h&&yc._PointInTriangle(b[2*ca],b[2*ca+1],m,n,t,q,u,r)){p=!1;break}}if(p)a.push(k),a.push(l),a.push(h),e.splice((f+1)%g,1),g--,f=0;else if(f++>3*g)if(c){a=[];c=[];for(e=0;e<d;)f=e++,c.push(f);e=c;f=0;g=d;c=!1}else return hb.log("Warning: shape too complex to fill"),[]}a.push(e[0]);a.push(e[1]);a.push(e[2]);return a};yc._PointInTriangle=
function(a,b,c,d,e,f,g,p){g=g-c|0;p=p-d|0;e=e-c|0;f=f-d|0;a=a-c|0;c=b-d|0;b=g*g+p*p;d=g*e+p*f;g=g*a+p*c;p=e*e+f*f;e=e*a+f*c;f=1/(b*p-d*d);p=(p*g-d*e)*f;g=(b*e-d*g)*f;return 0<=p&&0<=g&&1>p+g};yc._convex=function(a,b,c,d,e,f,g){return 0<=(b-d)*(e-c)+(c-a)*(f-d)==g};var gc=function(){this.activeTextures=0};m["openfl._internal.renderer.RenderSession"]=gc;gc.__name__=!0;gc.prototype={__class__:gc};var Ye=function(){};m["openfl._internal.renderer.cairo.CairoBitmap"]=Ye;Ye.__name__=!0;Ye.render=function(a,
b){if(a.__renderable&&!(0>=a.__worldAlpha)){var c=b.cairo;if(null!=a.bitmapData&&a.bitmapData.__isValid){null!=a.__mask&&b.maskManager.pushMask(a.__mask);var d=a.__worldTransform,e=a.get_scrollRect();b.roundPixels?(d=d.__toMatrix3(),d.tx=Math.round(d.tx),d.ty=Math.round(d.ty),c.set_matrix(d)):c.set_matrix(d.__toMatrix3());d=a.bitmapData.getSurface();null!=d&&(d=Mc.createForSurface(d),Mc.set_filter(d,a.smoothing?1:3),null!=e?(c.pushGroup(),c.set_source(d),c.newPath(),c.rectangle(e.x,e.y,e.width,e.height),
c.fill(),c.popGroupToSource()):c.set_source(d),1==a.__worldAlpha?c.paint():c.paintWithAlpha(a.__worldAlpha));null!=a.__mask&&b.maskManager.popMask()}}};var S=function(){};m["openfl._internal.renderer.cairo.CairoGraphics"]=S;S.__name__=!0;S.cairo=null;S.drawRoundRect=function(a,b,c,d,e,f){-1==f&&(f=e);e*=.5;f*=.5;e>c/2&&(e=c/2);f>d/2&&(f=d/2);c=a+c;d=b+d;var g=-e+e*S.SIN45,p=-e+e*S.TAN22,k=-f+f*S.SIN45,l=-f+f*S.TAN22;S.cairo.moveTo(c,d-f);S.quadraticCurveTo(c,d+l,c+g,d+k);S.quadraticCurveTo(c+p,d,
c-e,d);S.cairo.lineTo(a+e,d);S.quadraticCurveTo(a-p,d,a-g,d+k);S.quadraticCurveTo(a,d+l,a,d-f);S.cairo.lineTo(a,b+f);S.quadraticCurveTo(a,b-l,a-g,b-k);S.quadraticCurveTo(a-p,b,a+e,b);S.cairo.lineTo(c-e,b);S.quadraticCurveTo(c+p,b,c+g,b-k);S.quadraticCurveTo(c,b-l,c,b+f);S.cairo.lineTo(c,d-f)};S.quadraticCurveTo=function(a,b,c,d){var e=null;S.cairo.get_hasCurrentPoint()?e=S.cairo.get_currentPoint():(S.cairo.moveTo(a,b),e=new ve(a,b));S.cairo.curveTo(e.x+.6666666666666666*(a-e.x),e.y+.6666666666666666*
(b-e.y),c+.6666666666666666*(a-c),d+.6666666666666666*(b-d),c,d)};S.renderMask=function(a,b){if(0!=a.__commands.get_length()){for(var c=b.cairo,d=new Jb(a.__commands),e=0,f=a.__commands.types;e<f.length;){var g=f[e];++e;switch(g[1]){case 3:d.advance();d.prev=t.CUBIC_CURVE_TO;g=d;c.curveTo(g.buffer.f[g.fPos]-0,g.buffer.f[g.fPos+1]-0,g.buffer.f[g.fPos+3]-0,g.buffer.f[g.fPos+4]-0,g.buffer.f[g.fPos+5]-0,g.buffer.f[g.fPos+6]-0);break;case 4:d.advance();d.prev=t.CURVE_TO;g=d;S.quadraticCurveTo(g.buffer.f[g.fPos]-
0,g.buffer.f[g.fPos+1]-0,g.buffer.f[g.fPos+2]-0,g.buffer.f[g.fPos+3]-0);break;case 5:d.advance();d.prev=t.DRAW_CIRCLE;g=d;c.arc(g.buffer.f[g.fPos]-0,g.buffer.f[g.fPos+1]-0,g.buffer.f[g.fPos+2],0,2*Math.PI);break;case 6:var p;d.advance();d.prev=t.DRAW_ELLIPSE;p=d;var g=p.buffer.f[p.fPos],k=p.buffer.f[p.fPos+1],l=p.buffer.f[p.fPos+2],h=p.buffer.f[p.fPos+3],g=g-0,k=k-0;p=l/2*.5522848;var m=h/2*.5522848,n=g+l,q=k+h,l=g+l/2,h=k+h/2;c.moveTo(g,h);c.curveTo(g,h-m,l-p,k,l,k);c.curveTo(l+p,k,n,h-m,n,h);c.curveTo(n,
h+m,l+p,q,l,q);c.curveTo(l-p,q,g,h+m,g,h);break;case 8:d.advance();d.prev=t.DRAW_RECT;g=d;c.rectangle(g.buffer.f[g.fPos]-0,g.buffer.f[g.fPos+1]-0,g.buffer.f[g.fPos+2],g.buffer.f[g.fPos+3]);break;case 9:d.advance();d.prev=t.DRAW_ROUND_RECT;g=d;S.drawRoundRect(g.buffer.f[g.fPos]-0,g.buffer.f[g.fPos+1]-0,g.buffer.f[g.fPos+2],g.buffer.f[g.fPos+3],g.buffer.f[g.fPos+4],g.buffer.f[g.fPos+5]);break;case 16:d.advance();d.prev=t.LINE_TO;g=d;c.lineTo(g.buffer.f[g.fPos]-0,g.buffer.f[g.fPos+1]-0);break;case 17:d.advance();
d.prev=t.MOVE_TO;g=d;c.moveTo(g.buffer.f[g.fPos]-0,g.buffer.f[g.fPos+1]-0);break;default:d.advance(),d.prev=g}}d.destroy()}};var Hd=function(a){this.renderSession=a};m["openfl._internal.renderer.cairo.CairoMaskManager"]=Hd;Hd.__name__=!0;Hd.__super__=Cb;Hd.prototype=x(Cb.prototype,{pushMask:function(a){var b=this.renderSession.cairo;b.save();var c=a.__getWorldTransform();b.set_matrix(c.__toMatrix3());b.newPath();a.__renderCairoMask(this.renderSession);b.clip()},pushRect:function(a,b){var c=this.renderSession.cairo;
c.save();c.set_matrix(new yd(b.a,b.c,b.b,b.d,b.tx,b.ty));c.newPath();c.rectangle(a.x,a.y,a.width,a.height);c.clip()},popMask:function(){this.renderSession.cairo.restore()},popRect:function(){this.renderSession.context.restore()},__class__:Hd});var Qc=function(a,b,c){La.call(this,a,b);this.cairo=c;this.renderSession=new gc;this.renderSession.cairo=c;this.renderSession.roundPixels=!0;this.renderSession.renderer=this;this.renderSession.maskManager=new Hd(this.renderSession)};m["openfl._internal.renderer.cairo.CairoRenderer"]=
Qc;Qc.__name__=!0;Qc.__super__=La;Qc.prototype=x(La.prototype,{render:function(a){this.cairo.identityMatrix();a.__clearBeforeRender&&(this.cairo.setSourceRGB(a.__colorSplit[0],a.__colorSplit[1],a.__colorSplit[2]),this.cairo.paint());a.__renderCairo(this.renderSession)},__class__:Qc});var Qe=function(){};m["openfl._internal.renderer.cairo.CairoShape"]=Qe;Qe.__name__=!0;Qe.render=function(a,b){};var Ze=function(){};m["openfl._internal.renderer.cairo.CairoTextField"]=Ze;Ze.__name__=!0;Ze.render=function(a,
b){};var $e=function(){};m["openfl._internal.renderer.canvas.CanvasBitmap"]=$e;$e.__name__=!0;$e.render=function(a,b){if(a.__renderable&&!(0>=a.__worldAlpha)){var c=b.context;if(null!=a.bitmapData&&a.bitmapData.__isValid){null!=a.__mask&&b.maskManager.pushMask(a.__mask);a.bitmapData.__sync();c.globalAlpha=a.__worldAlpha;var d=a.__worldTransform,e=a.get_scrollRect();b.roundPixels?c.setTransform(d.a,d.b,d.c,d.d,d.tx|0,d.ty|0):c.setTransform(d.a,d.b,d.c,d.d,d.tx,d.ty);a.smoothing||(c.mozImageSmoothingEnabled=
!1,c.msImageSmoothingEnabled=!1,c.imageSmoothingEnabled=!1);null==e?c.drawImage(a.bitmapData.image.get_src(),0,0):c.drawImage(a.bitmapData.image.get_src(),e.x,e.y,e.width,e.height,e.x,e.y,e.width,e.height);a.smoothing||(c.mozImageSmoothingEnabled=!0,c.msImageSmoothingEnabled=!0,c.imageSmoothingEnabled=!0);null!=a.__mask&&b.maskManager.popMask()}}};var l=function(){};m["openfl._internal.renderer.canvas.CanvasGraphics"]=l;l.__name__=!0;l.bitmapFill=null;l.bitmapRepeat=null;l.bounds=null;l.graphics=
null;l.hasFill=null;l.hasStroke=null;l.hitTesting=null;l.inversePendingMatrix=null;l.pendingMatrix=null;l.context=null;l.closePath=function(){null!=l.context.strokeStyle&&(l.context.closePath(),l.context.stroke(),l.context.beginPath())};l.createBitmapFill=function(a,b){a.__sync();return l.context.createPattern(a.image.get_src(),b?"repeat":"no-repeat")};l.createGradientPattern=function(a,b,c,d,e,f,g,p){f=null;switch(a[1]){case 0:null==e&&(e=new R);f=e.transformPoint(new N(1638.4,0));f=l.context.createRadialGradient(e.tx,
e.ty,0,e.tx,e.ty,(f.x-e.tx)/2);break;case 1:e=null!=e?e:new R,f=e.transformPoint(new N(-819.2,0)),e=e.transformPoint(new N(819.2,0)),f=l.context.createLinearGradient(f.x,f.y,e.x,e.y)}e=0;for(a=b.length;e<a;){var k=e++,h=b[k];g=c[k];p=(h&16711680)>>>16;var m=(h&65280)>>>8,h=h&255,k=d[k]/255;0>k&&(k=0);1<k&&(k=1);f.addColorStop(k,"rgba("+p+", "+m+", "+h+", "+g+")")}return f};l.createTempPatternCanvas=function(a,b,c,d){var e=window.document.createElement("canvas"),f=e.getContext("2d");e.width=c;e.height=
d;f.fillStyle=f.createPattern(a.image.get_src(),b?"repeat":"no-repeat");f.beginPath();f.moveTo(0,0);f.lineTo(0,d);f.lineTo(c,d);f.lineTo(c,0);f.lineTo(0,0);f.closePath();l.hitTesting||f.fill();return e};l.drawRoundRect=function(a,b,c,d,e,f){-1==f&&(f=e);e*=.5;f*=.5;e>c/2&&(e=c/2);f>d/2&&(f=d/2);c=a+c;d=b+d;var g=-e+e*l.SIN45,p=-e+e*l.TAN22,k=-f+f*l.SIN45,h=-f+f*l.TAN22;l.context.moveTo(c,d-f);l.context.quadraticCurveTo(c,d+h,c+g,d+k);l.context.quadraticCurveTo(c+p,d,c-e,d);l.context.lineTo(a+e,d);
l.context.quadraticCurveTo(a-p,d,a-g,d+k);l.context.quadraticCurveTo(a,d+h,a,d-f);l.context.lineTo(a,b+f);l.context.quadraticCurveTo(a,b-h,a-g,b-k);l.context.quadraticCurveTo(a-p,b,a+e,b);l.context.lineTo(c-e,b);l.context.quadraticCurveTo(c+p,b,c+g,b-k);l.context.quadraticCurveTo(c,b-h,c,b+f);l.context.lineTo(c,d-f)};l.endFill=function(){l.context.beginPath();l.playCommands(l.fillCommands,!1);l.fillCommands.clear()};l.endStroke=function(){l.context.beginPath();l.playCommands(l.strokeCommands,!0);
l.context.closePath();l.strokeCommands.clear()};l.hitTest=function(a,b,c){if(!(0==a.__commands.get_length()||null==l.bounds||0>=l.bounds.width||0>=l.bounds.height)){l.hitTesting=!0;b-=l.bounds.x;c-=l.bounds.y;null==a.__canvas&&(a.__canvas=window.document.createElement("canvas"),a.__context=a.__canvas.getContext("2d"));l.context=a.__context;l.fillCommands.clear();l.strokeCommands.clear();l.hasFill=!1;l.hasStroke=!1;l.bitmapFill=null;l.bitmapRepeat=!1;l.context.beginPath();var d=new Jb(a.__commands),
e=0;for(a=a.__commands.types;e<a.length;){var f=a[e];++e;switch(f[1]){case 3:d.advance();d.prev=t.CUBIC_CURVE_TO;f=d;l.fillCommands.cubicCurveTo(f.buffer.f[f.fPos],f.buffer.f[f.fPos+1],f.buffer.f[f.fPos+3],f.buffer.f[f.fPos+4],f.buffer.f[f.fPos+5],f.buffer.f[f.fPos+6]);l.strokeCommands.cubicCurveTo(f.buffer.f[f.fPos],f.buffer.f[f.fPos+1],f.buffer.f[f.fPos+3],f.buffer.f[f.fPos+4],f.buffer.f[f.fPos+5],f.buffer.f[f.fPos+6]);break;case 4:d.advance();d.prev=t.CURVE_TO;f=d;l.fillCommands.curveTo(f.buffer.f[f.fPos],
f.buffer.f[f.fPos+1],f.buffer.f[f.fPos+2],f.buffer.f[f.fPos+3]);l.strokeCommands.curveTo(f.buffer.f[f.fPos],f.buffer.f[f.fPos+1],f.buffer.f[f.fPos+2],f.buffer.f[f.fPos+3]);break;case 16:d.advance();d.prev=t.LINE_TO;f=d;l.fillCommands.lineTo(f.buffer.f[f.fPos],f.buffer.f[f.fPos+1]);l.strokeCommands.lineTo(f.buffer.f[f.fPos],f.buffer.f[f.fPos+1]);break;case 17:d.advance();d.prev=t.MOVE_TO;f=d;l.fillCommands.moveTo(f.buffer.f[f.fPos],f.buffer.f[f.fPos+1]);l.strokeCommands.moveTo(f.buffer.f[f.fPos],f.buffer.f[f.fPos+
1]);break;case 14:d.advance();d.prev=t.LINE_GRADIENT_STYLE;f=d;l.strokeCommands.lineGradientStyle(f.buffer.o[f.oPos],f.buffer.ii[f.iiPos],f.buffer.ff[f.ffPos],f.buffer.ii[f.iiPos+1],f.buffer.o[f.oPos+1],f.buffer.o[f.oPos+2],f.buffer.o[f.oPos+3],f.buffer.o[f.oPos+4]);break;case 13:d.advance();d.prev=t.LINE_BITMAP_STYLE;f=d;l.strokeCommands.lineBitmapStyle(f.buffer.o[f.oPos],f.buffer.o[f.oPos+1],f.buffer.b[f.bPos],f.buffer.b[f.bPos+1]);break;case 15:d.advance();d.prev=t.LINE_STYLE;f=d;l.strokeCommands.lineStyle(f.buffer.o[f.oPos],
f.buffer.o[f.oPos+1],1,f.buffer.o[f.oPos+3],f.buffer.o[f.oPos+4],f.buffer.o[f.oPos+5],f.buffer.o[f.oPos+6],f.buffer.o[f.oPos+7]);break;case 12:d.advance();d.prev=t.END_FILL;d;l.endFill();l.endStroke();if(l.hasFill&&l.context.isPointInPath(b,c)||l.hasStroke&&l.context.isPointInStroke(b,c))return d.destroy(),!0;l.hasFill=!1;l.bitmapFill=null;break;case 0:case 1:case 2:l.endFill();l.endStroke();if(l.hasFill&&l.context.isPointInPath(b,c)||l.hasStroke&&l.context.isPointInStroke(b,c))return d.destroy(),
!0;f==t.BEGIN_BITMAP_FILL?(d.advance(),d.prev=t.BEGIN_BITMAP_FILL,f=d,l.fillCommands.beginBitmapFill(f.buffer.o[f.oPos],f.buffer.o[f.oPos+1],f.buffer.b[f.bPos],f.buffer.b[f.bPos+1]),l.strokeCommands.beginBitmapFill(f.buffer.o[f.oPos],f.buffer.o[f.oPos+1],f.buffer.b[f.bPos],f.buffer.b[f.bPos+1])):f==t.BEGIN_GRADIENT_FILL?(d.advance(),d.prev=t.BEGIN_GRADIENT_FILL,f=d,l.fillCommands.beginGradientFill(f.buffer.o[f.oPos],f.buffer.ii[f.iiPos],f.buffer.ff[f.ffPos],f.buffer.ii[f.iiPos+1],f.buffer.o[f.oPos+
1],f.buffer.o[f.oPos+2],f.buffer.o[f.oPos+3],f.buffer.o[f.oPos+4]),l.strokeCommands.beginGradientFill(f.buffer.o[f.oPos],f.buffer.ii[f.iiPos],f.buffer.ff[f.ffPos],f.buffer.ii[f.iiPos+1],f.buffer.o[f.oPos+1],f.buffer.o[f.oPos+2],f.buffer.o[f.oPos+3],f.buffer.o[f.oPos+4])):(d.advance(),d.prev=t.BEGIN_FILL,f=d,l.fillCommands.beginFill(f.buffer.i[f.iPos],1),l.strokeCommands.beginFill(f.buffer.i[f.iPos],1));break;case 5:d.advance();d.prev=t.DRAW_CIRCLE;f=d;l.fillCommands.drawCircle(f.buffer.f[f.fPos],
f.buffer.f[f.fPos+1],f.buffer.f[f.fPos+2]);l.strokeCommands.drawCircle(f.buffer.f[f.fPos],f.buffer.f[f.fPos+1],f.buffer.f[f.fPos+2]);break;case 6:d.advance();d.prev=t.DRAW_ELLIPSE;f=d;l.fillCommands.drawEllipse(f.buffer.f[f.fPos],f.buffer.f[f.fPos+1],f.buffer.f[f.fPos+2],f.buffer.f[f.fPos+3]);l.strokeCommands.drawEllipse(f.buffer.f[f.fPos],f.buffer.f[f.fPos+1],f.buffer.f[f.fPos+2],f.buffer.f[f.fPos+3]);break;case 8:d.advance();d.prev=t.DRAW_RECT;f=d;l.fillCommands.drawRect(f.buffer.f[f.fPos],f.buffer.f[f.fPos+
1],f.buffer.f[f.fPos+2],f.buffer.f[f.fPos+3]);l.strokeCommands.drawRect(f.buffer.f[f.fPos],f.buffer.f[f.fPos+1],f.buffer.f[f.fPos+2],f.buffer.f[f.fPos+3]);break;case 9:d.advance();d.prev=t.DRAW_ROUND_RECT;f=d;l.fillCommands.drawRoundRect(f.buffer.f[f.fPos],f.buffer.f[f.fPos+1],f.buffer.f[f.fPos+2],f.buffer.f[f.fPos+3],f.buffer.f[f.fPos+4],f.buffer.f[f.fPos+5]);l.strokeCommands.drawRoundRect(f.buffer.f[f.fPos],f.buffer.f[f.fPos+1],f.buffer.f[f.fPos+2],f.buffer.f[f.fPos+3],f.buffer.f[f.fPos+4],f.buffer.f[f.fPos+
5]);break;default:d.advance(),d.prev=f}}0<l.fillCommands.get_length()&&l.endFill();0<l.strokeCommands.get_length()&&l.endStroke();d.destroy();if(l.hasFill&&l.context.isPointInPath(b,c)||l.hasStroke&&l.context.isPointInStroke(b,c))return!0}return!1};l.normalizeUVT=function(a,b){null==b&&(b=!1);for(var c=-Infinity,d=-Infinity,e=a.length,f=1,g=e+1;f<g;)d=f++,b&&0==d%3||(d=a.data[d-1],c<d&&(c=d));f=new xc;f.data=[];f.length=0;f.fixed=!1;g=1;for(e+=1;g<e;)if(d=g++,!b||0!=d%3){if(!f.fixed){f.length++;if(f.data.length<
f.length){var p;p=Array(f.data.length+10);dc.blit(f.data,0,p,0,f.data.length);f.data=p}f.data[f.length-1]=a.data[d-1]/c}f.length}return{max:c,uvt:f}};l.playCommands=function(a,b){null==b&&(b=!1);l.bounds=l.graphics.__bounds;for(var c=l.bounds.x,d=l.bounds.y,e=0,f=0,g=!1,p=0,k=0,h=new Jb(a),m=0,q=a.types;m<q.length;){var n=q[m];++m;switch(n[1]){case 3:h.advance();h.prev=t.CUBIC_CURVE_TO;n=h;l.context.bezierCurveTo(n.buffer.f[n.fPos]-c,n.buffer.f[n.fPos+1]-d,n.buffer.f[n.fPos+3]-c,n.buffer.f[n.fPos+
4]-d,n.buffer.f[n.fPos+5]-c,n.buffer.f[n.fPos+6]-d);break;case 4:h.advance();h.prev=t.CURVE_TO;n=h;l.context.quadraticCurveTo(n.buffer.f[n.fPos]-c,n.buffer.f[n.fPos+1]-d,n.buffer.f[n.fPos+2]-c,n.buffer.f[n.fPos+3]-d);break;case 5:h.advance();h.prev=t.DRAW_CIRCLE;n=h;l.context.moveTo(n.buffer.f[n.fPos]-c+n.buffer.f[n.fPos+2],n.buffer.f[n.fPos+1]-d);l.context.arc(n.buffer.f[n.fPos]-c,n.buffer.f[n.fPos+1]-d,n.buffer.f[n.fPos+2],0,2*Math.PI,!0);break;case 6:var u;h.advance();h.prev=t.DRAW_ELLIPSE;u=h;
var n=u.buffer.f[u.fPos],r=u.buffer.f[u.fPos+1],Qa=u.buffer.f[u.fPos+2],v=u.buffer.f[u.fPos+3],n=n-c,r=r-d;u=Qa/2*.5522848;var x=v/2*.5522848,ca=n+Qa,E=r+v,Qa=n+Qa/2,v=r+v/2;l.context.moveTo(n,v);l.context.bezierCurveTo(n,v-x,Qa-u,r,Qa,r);l.context.bezierCurveTo(Qa+u,r,ca,v-x,ca,v);l.context.bezierCurveTo(ca,v+x,Qa+u,E,Qa,E);l.context.bezierCurveTo(Qa-u,E,n,v+x,n,v);break;case 9:h.advance();h.prev=t.DRAW_ROUND_RECT;n=h;l.drawRoundRect(n.buffer.f[n.fPos]-c,n.buffer.f[n.fPos+1]-d,n.buffer.f[n.fPos+
2],n.buffer.f[n.fPos+3],n.buffer.f[n.fPos+4],n.buffer.f[n.fPos+5]);break;case 16:h.advance();h.prev=t.LINE_TO;f=h;l.context.lineTo(f.buffer.f[f.fPos]-c,f.buffer.f[f.fPos+1]-d);e=f.buffer.f[f.fPos];f=f.buffer.f[f.fPos+1];break;case 17:h.advance();h.prev=t.MOVE_TO;k=h;l.context.moveTo(k.buffer.f[k.fPos]-c,k.buffer.f[k.fPos+1]-d);e=k.buffer.f[k.fPos];f=k.buffer.f[k.fPos+1];g=!0;p=k.buffer.f[k.fPos];k=k.buffer.f[k.fPos+1];break;case 15:h.advance();h.prev=t.LINE_STYLE;n=h;b&&l.hasStroke&&(l.context.closePath(),
l.hitTesting||l.context.stroke(),l.context.beginPath());l.context.moveTo(e-c,f-d);if(null==n.buffer.o[n.oPos])l.hasStroke=!1;else{l.context.lineWidth=0<n.buffer.o[n.oPos]?n.buffer.o[n.oPos]:1;l.context.lineJoin=null==n.buffer.o[n.oPos+6]?"round":Y.string(n.buffer.o[n.oPos+6]).toLowerCase();if(null==n.buffer.o[n.oPos+5])l.context.lineCap="round";else switch(n.buffer.o[n.oPos+5][1]){case 0:l.context.lineCap="butt";break;default:l.context.lineCap=Y.string(n.buffer.o[n.oPos+5]).toLowerCase()}l.context.miterLimit=
null==n.buffer.o[n.oPos+7]?3:n.buffer.o[n.oPos+7];1==n.buffer.o[n.oPos+2]||null==n.buffer.o[n.oPos+2]?l.context.strokeStyle=null==n.buffer.o[n.oPos+1]?"#000000":"#"+ea.hex(n.buffer.o[n.oPos+1]&16777215,6):(r=(n.buffer.o[n.oPos+1]&16711680)>>>16,u=(n.buffer.o[n.oPos+1]&65280)>>>8,x=n.buffer.o[n.oPos+1]&255,l.context.strokeStyle=null==n.buffer.o[n.oPos+1]?"#000000":"rgba("+r+", "+u+", "+x+", "+n.buffer.o[n.oPos+2]+")");l.hasStroke=!0}break;case 14:h.advance();h.prev=t.LINE_GRADIENT_STYLE;n=h;b&&l.hasStroke&&
l.closePath();l.context.moveTo(e-c,f-d);l.context.strokeStyle=l.createGradientPattern(n.buffer.o[n.oPos],n.buffer.ii[n.iiPos],n.buffer.ff[n.ffPos],n.buffer.ii[n.iiPos+1],n.buffer.o[n.oPos+1],n.buffer.o[n.oPos+2],n.buffer.o[n.oPos+3],n.buffer.o[n.oPos+4]);l.hasStroke=!0;break;case 13:h.advance();h.prev=t.LINE_BITMAP_STYLE;n=h;b&&l.hasStroke&&l.closePath();l.context.moveTo(e-c,f-d);l.context.strokeStyle=l.createBitmapFill(n.buffer.o[n.oPos],n.buffer.b[n.bPos]);l.hasStroke=!0;break;case 0:h.advance();
h.prev=t.BEGIN_BITMAP_FILL;n=h;l.context.fillStyle=l.createBitmapFill(n.buffer.o[n.oPos],!0);l.hasFill=!0;null!=n.buffer.o[n.oPos+1]?(l.pendingMatrix=n.buffer.o[n.oPos+1],l.inversePendingMatrix=n.buffer.o[n.oPos+1].clone(),l.inversePendingMatrix.invert()):(l.pendingMatrix=null,l.inversePendingMatrix=null);break;case 1:h.advance();h.prev=t.BEGIN_FILL;n=h;.005>n.buffer.f[n.fPos]?l.hasFill=!1:(l.context.fillStyle=1==n.buffer.f[n.fPos]?"#"+ea.hex(n.buffer.i[n.iPos],6):"rgba("+((n.buffer.i[n.iPos]&16711680)>>>
16)+", "+((n.buffer.i[n.iPos]&65280)>>>8)+", "+(n.buffer.i[n.iPos]&255)+", "+n.buffer.f[n.fPos]+")",l.bitmapFill=null,l.hasFill=!0);break;case 2:h.advance();h.prev=t.BEGIN_GRADIENT_FILL;n=h;l.context.fillStyle=l.createGradientPattern(n.buffer.o[n.oPos],n.buffer.ii[n.iiPos],n.buffer.ff[n.ffPos],n.buffer.ii[n.iiPos+1],n.buffer.o[n.oPos+1],n.buffer.o[n.oPos+2],n.buffer.o[n.oPos+3],n.buffer.o[n.oPos+4]);l.bitmapFill=null;l.hasFill=!0;break;case 8:h.advance();h.prev=t.DRAW_RECT;n=h;r=!1;null!=l.bitmapFill&&
(E=ca=Qa=u=0,x=!0,null!=l.pendingMatrix?0!=l.pendingMatrix.b||0!=l.pendingMatrix.c?x=!1:(ca=l.inversePendingMatrix.transformPoint(new N(n.buffer.f[n.fPos],n.buffer.f[n.fPos+1])),Qa=l.inversePendingMatrix.transformPoint(new N(n.buffer.f[n.fPos]+n.buffer.f[n.fPos+2],n.buffer.f[n.fPos+1]+n.buffer.f[n.fPos+3])),u=ca.y,E=ca.x,ca=Qa.y,Qa=Qa.x):(u=n.buffer.f[n.fPos+1],E=n.buffer.f[n.fPos],ca=n.buffer.f[n.fPos+1]+n.buffer.f[n.fPos+3],Qa=n.buffer.f[n.fPos]+n.buffer.f[n.fPos+2]),x&&0<=u&&0<=E&&Qa<=l.bitmapFill.width&&
ca<=l.bitmapFill.height&&(r=!0,l.hitTesting||l.context.drawImage(l.bitmapFill.image.get_src(),E,u,Qa-E,ca-u,n.buffer.f[n.fPos]-c,n.buffer.f[n.fPos+1]-d,n.buffer.f[n.fPos+2],n.buffer.f[n.fPos+3])));r||l.context.rect(n.buffer.f[n.fPos]-c,n.buffer.f[n.fPos+1]-d,n.buffer.f[n.fPos+2],n.buffer.f[n.fPos+3]);break;default:h.advance(),h.prev=n}}h.destroy();b&&l.hasStroke&&(l.hasFill&&g?l.context.lineTo(p-c,k-d):g&&e==p&&f==k&&l.context.closePath(),l.hitTesting||l.context.stroke());b||!l.hasFill&&null==l.bitmapFill||
(l.context.translate(-l.bounds.x,-l.bounds.y),null!=l.pendingMatrix?(l.context.transform(l.pendingMatrix.a,l.pendingMatrix.b,l.pendingMatrix.c,l.pendingMatrix.d,l.pendingMatrix.tx,l.pendingMatrix.ty),l.hitTesting||l.context.fill(),l.context.transform(l.inversePendingMatrix.a,l.inversePendingMatrix.b,l.inversePendingMatrix.c,l.inversePendingMatrix.d,l.inversePendingMatrix.tx,l.inversePendingMatrix.ty)):l.hitTesting||l.context.fill(),l.context.translate(l.bounds.x,l.bounds.y),l.context.closePath())};
l.render=function(a,b){if(a.__dirty){l.hitTesting=!1;l.graphics=a;l.bounds=a.__bounds;if(!a.__visible||0==a.__commands.get_length()||null==l.bounds||0>=l.bounds.width||0>=l.bounds.height)a.__canvas=null,a.__context=null,a.__bitmap=null;else{null==a.__canvas&&(a.__canvas=window.document.createElement("canvas"),a.__context=a.__canvas.getContext("2d"));l.context=a.__context;a.__canvas.width=Math.ceil(l.bounds.width);a.__canvas.height=Math.ceil(l.bounds.height);l.fillCommands.clear();l.strokeCommands.clear();
l.hasFill=!1;l.hasStroke=!1;l.bitmapFill=null;l.bitmapRepeat=!1;var c=new Jb(a.__commands),d=0,e=a.__commands.types;try{for(;d<e.length;){var f=e[d];++d;switch(f[1]){case 3:var g;c.advance();c.prev=t.CUBIC_CURVE_TO;g=c;l.fillCommands.cubicCurveTo(g.buffer.f[g.fPos],g.buffer.f[g.fPos+1],g.buffer.f[g.fPos+3],g.buffer.f[g.fPos+4],g.buffer.f[g.fPos+5],g.buffer.f[g.fPos+6]);l.strokeCommands.cubicCurveTo(g.buffer.f[g.fPos],g.buffer.f[g.fPos+1],g.buffer.f[g.fPos+3],g.buffer.f[g.fPos+4],g.buffer.f[g.fPos+
5],g.buffer.f[g.fPos+6]);break;case 4:var p;c.advance();c.prev=t.CURVE_TO;p=c;l.fillCommands.curveTo(p.buffer.f[p.fPos],p.buffer.f[p.fPos+1],p.buffer.f[p.fPos+2],p.buffer.f[p.fPos+3]);l.strokeCommands.curveTo(p.buffer.f[p.fPos],p.buffer.f[p.fPos+1],p.buffer.f[p.fPos+2],p.buffer.f[p.fPos+3]);break;case 16:var k;c.advance();c.prev=t.LINE_TO;k=c;l.fillCommands.lineTo(k.buffer.f[k.fPos],k.buffer.f[k.fPos+1]);l.strokeCommands.lineTo(k.buffer.f[k.fPos],k.buffer.f[k.fPos+1]);break;case 17:var h;c.advance();
c.prev=t.MOVE_TO;h=c;l.fillCommands.moveTo(h.buffer.f[h.fPos],h.buffer.f[h.fPos+1]);l.strokeCommands.moveTo(h.buffer.f[h.fPos],h.buffer.f[h.fPos+1]);break;case 12:c.advance();c.prev=t.END_FILL;c;l.endFill();l.endStroke();l.hasFill=!1;l.bitmapFill=null;break;case 15:var m;c.advance();c.prev=t.LINE_STYLE;m=c;l.strokeCommands.lineStyle(m.buffer.o[m.oPos],m.buffer.o[m.oPos+1],m.buffer.o[m.oPos+2],m.buffer.o[m.oPos+3],m.buffer.o[m.oPos+4],m.buffer.o[m.oPos+5],m.buffer.o[m.oPos+6],m.buffer.o[m.oPos+7]);
break;case 14:var q;c.advance();c.prev=t.LINE_GRADIENT_STYLE;q=c;l.strokeCommands.lineGradientStyle(q.buffer.o[q.oPos],q.buffer.ii[q.iiPos],q.buffer.ff[q.ffPos],q.buffer.ii[q.iiPos+1],q.buffer.o[q.oPos+1],q.buffer.o[q.oPos+2],q.buffer.o[q.oPos+3],q.buffer.o[q.oPos+4]);break;case 13:var n;c.advance();c.prev=t.LINE_BITMAP_STYLE;n=c;l.strokeCommands.lineBitmapStyle(n.buffer.o[n.oPos],n.buffer.o[n.oPos+1],n.buffer.b[n.bPos],n.buffer.b[n.bPos+1]);break;case 0:case 1:case 2:l.endFill();l.endStroke();if(f==
t.BEGIN_BITMAP_FILL){var u;c.advance();c.prev=t.BEGIN_BITMAP_FILL;u=c;l.fillCommands.beginBitmapFill(u.buffer.o[u.oPos],u.buffer.o[u.oPos+1],u.buffer.b[u.bPos],u.buffer.b[u.bPos+1]);l.strokeCommands.beginBitmapFill(u.buffer.o[u.oPos],u.buffer.o[u.oPos+1],u.buffer.b[u.bPos],u.buffer.b[u.bPos+1])}else if(f==t.BEGIN_GRADIENT_FILL){var r;c.advance();c.prev=t.BEGIN_GRADIENT_FILL;r=c;l.fillCommands.beginGradientFill(r.buffer.o[r.oPos],r.buffer.ii[r.iiPos],r.buffer.ff[r.ffPos],r.buffer.ii[r.iiPos+1],r.buffer.o[r.oPos+
1],r.buffer.o[r.oPos+2],r.buffer.o[r.oPos+3],r.buffer.o[r.oPos+4]);l.strokeCommands.beginGradientFill(r.buffer.o[r.oPos],r.buffer.ii[r.iiPos],r.buffer.ff[r.ffPos],r.buffer.ii[r.iiPos+1],r.buffer.o[r.oPos+1],r.buffer.o[r.oPos+2],r.buffer.o[r.oPos+3],r.buffer.o[r.oPos+4])}else{var v;c.advance();c.prev=t.BEGIN_FILL;v=c;l.fillCommands.beginFill(v.buffer.i[v.iPos],v.buffer.f[v.fPos]);l.strokeCommands.beginFill(v.buffer.i[v.iPos],v.buffer.f[v.fPos])}break;case 5:var x;c.advance();c.prev=t.DRAW_CIRCLE;x=
c;l.fillCommands.drawCircle(x.buffer.f[x.fPos],x.buffer.f[x.fPos+1],x.buffer.f[x.fPos+2]);l.strokeCommands.drawCircle(x.buffer.f[x.fPos],x.buffer.f[x.fPos+1],x.buffer.f[x.fPos+2]);break;case 6:var w;c.advance();c.prev=t.DRAW_ELLIPSE;w=c;l.fillCommands.drawEllipse(w.buffer.f[w.fPos],w.buffer.f[w.fPos+1],w.buffer.f[w.fPos+2],w.buffer.f[w.fPos+3]);l.strokeCommands.drawEllipse(w.buffer.f[w.fPos],w.buffer.f[w.fPos+1],w.buffer.f[w.fPos+2],w.buffer.f[w.fPos+3]);break;case 8:var ca;c.advance();c.prev=t.DRAW_RECT;
ca=c;l.fillCommands.drawRect(ca.buffer.f[ca.fPos],ca.buffer.f[ca.fPos+1],ca.buffer.f[ca.fPos+2],ca.buffer.f[ca.fPos+3]);l.strokeCommands.drawRect(ca.buffer.f[ca.fPos],ca.buffer.f[ca.fPos+1],ca.buffer.f[ca.fPos+2],ca.buffer.f[ca.fPos+3]);break;case 9:var E;c.advance();c.prev=t.DRAW_ROUND_RECT;E=c;l.fillCommands.drawRoundRect(E.buffer.f[E.fPos],E.buffer.f[E.fPos+1],E.buffer.f[E.fPos+2],E.buffer.f[E.fPos+3],E.buffer.f[E.fPos+4],E.buffer.f[E.fPos+5]);l.strokeCommands.drawRoundRect(E.buffer.f[E.fPos],
E.buffer.f[E.fPos+1],E.buffer.f[E.fPos+2],E.buffer.f[E.fPos+3],E.buffer.f[E.fPos+4],E.buffer.f[E.fPos+5]);break;case 11:l.endFill();l.endStroke();var y;c.advance();c.prev=t.DRAW_TRIANGLES;y=c;var z=y.buffer.o[y.oPos],A=y.buffer.o[y.oPos+1],ma=y.buffer.o[y.oPos+2],B=null,C=null==l.bitmapFill;if(C&&null!=ma)throw"__break__";if(!C){if(null==ma){var F;F=new xc;F.data=[];F.length=0;F.fixed=!1;for(var ma=F,D=0,K=z.length/2|0;D<K;){var G=D++;if(!ma.fixed){ma.length++;if(ma.data.length<ma.length){var H;H=
Array(ma.data.length+10);dc.blit(ma.data,0,H,0,ma.data.length);ma.data=H}ma.data[ma.length-1]=z.data[2*G]/l.bitmapFill.width}ma.length;if(!ma.fixed){ma.length++;if(ma.data.length<ma.length){var N;N=Array(ma.data.length+10);dc.blit(ma.data,0,N,0,ma.data.length);ma.data=N}ma.data[ma.length-1]=z.data[2*G+1]/l.bitmapFill.height}ma.length}}var O=l.normalizeUVT(ma,ma.length!=z.length),I=O.max,ma=O.uvt,B=1<I?l.createTempPatternCanvas(l.bitmapFill,l.bitmapRepeat,l.bounds.width|0,l.bounds.height|0):l.createTempPatternCanvas(l.bitmapFill,
l.bitmapRepeat,l.bitmapFill.width,l.bitmapFill.height)}for(var D=0,Y=A.length,Q,R,ba,aa,da,ea,ha,ja,la,L,S,M,P,T,U,ia,ka,V,W,X,Z,ga,oa,qa,ra,sa,ta,va;D<Y;){Q=D;R=D+1;ba=D+2;aa=2*A.data[Q];da=2*A.data[Q]+1;ea=2*A.data[R];ha=2*A.data[R]+1;ja=2*A.data[ba];la=2*A.data[ba]+1;L=z.data[aa];S=z.data[da];M=z.data[ea];P=z.data[ha];T=z.data[ja];U=z.data[la];switch(y.buffer.o[y.oPos+3][1]){case 2:if(!(0>(M-L)*(U-S)-(P-S)*(T-L))){D+=3;continue}break;case 0:if(0>(M-L)*(U-S)-(P-S)*(T-L)){D+=3;continue}}C?(l.context.beginPath(),
l.context.moveTo(L,S),l.context.lineTo(M,P),l.context.lineTo(T,U),l.context.closePath(),l.hitTesting||l.context.fill()):(l.context.save(),l.context.beginPath(),l.context.moveTo(L,S),l.context.lineTo(M,P),l.context.lineTo(T,U),l.context.closePath(),l.context.clip(),ia=ma.data[aa]*B.width,V=ma.data[ea]*B.width,X=ma.data[ja]*B.width,ka=ma.data[da]*B.height,W=ma.data[ha]*B.height,Z=ma.data[la]*B.height,ga=ia*(Z-W)-V*Z+X*W+(V-X)*ka,0!=ga&&(oa=-(ka*(T-M)-W*T+Z*M+(W-Z)*L)/ga,qa=(W*U+ka*(P-U)-Z*P+(Z-W)*S)/
ga,ra=(ia*(T-M)-V*T+X*M+(V-X)*L)/ga,sa=-(V*U+ia*(P-U)-X*P+(X-V)*S)/ga,ta=(ia*(Z*M-W*T)+ka*(V*T-X*M)+(X*W-V*Z)*L)/ga,va=(ia*(Z*P-W*U)+ka*(V*U-X*P)+(X*W-V*Z)*S)/ga,l.context.transform(oa,qa,ra,sa,ta,va),l.context.drawImage(B,0,0),l.context.restore()));D+=3}break;case 10:var J;c.advance();c.prev=t.DRAW_TILES;J=c;var ua=0<(J.buffer.i[J.iPos]&1),ya=l.bounds.x,Ca=l.bounds.y,xa=0<(J.buffer.i[J.iPos]&2),za=0<(J.buffer.i[J.iPos]&16),Ga=0<(J.buffer.i[J.iPos]&4),Da=0<(J.buffer.i[J.iPos]&8),Aa=0<(J.buffer.i[J.iPos]&
32),Ea=0<(J.buffer.i[J.iPos]&64),Ka=0<(J.buffer.i[J.iPos]&65536);za&&(xa=ua=!1);var La=D=B=0,Ba=0,na=3;Aa&&(na=Ea?8:6);ua&&(B=na,na++);xa&&(D=na,na++);za&&(Ba=na,na+=4);Ga&&(na+=3);Da&&(La=na,na++);var Ia=J.buffer.ff[J.ffPos].length;0<=J.buffer.i[J.iPos+1]&&Ia>J.buffer.i[J.iPos+1]&&(Ia=J.buffer.i[J.iPos+1]);var fa=0,pa=null,wa=null,Ma=-1,Na;J.buffer.ts[J.tsPos].__bitmap.__sync();Na=J.buffer.ts[J.tsPos].__bitmap.image.get_src();Ka&&(l.context.globalCompositeOperation="lighter");for(;fa<Ia;){var Fa;
Fa=Aa?-1:J.buffer.ff[J.ffPos][fa+2]|0;Aa||Fa==Ma?Aa&&(pa=J.buffer.ts[J.tsPos].__rectTile,pa.setTo(J.buffer.ff[J.ffPos][fa+2],J.buffer.ff[J.ffPos][fa+3],J.buffer.ff[J.ffPos][fa+4],J.buffer.ff[J.ffPos][fa+5]),wa=J.buffer.ts[J.tsPos].__point,Ea?(wa.x=J.buffer.ff[J.ffPos][fa+6],wa.y=J.buffer.ff[J.ffPos][fa+7]):(wa.x=0,wa.y=0)):(pa=J.buffer.ts[J.tsPos].__tileRects[Fa],wa=J.buffer.ts[J.tsPos].__centerPoints[Fa],Ma=Fa);if(null!=pa&&0<pa.width&&0<pa.height&&null!=wa){l.context.save();l.context.translate(J.buffer.ff[J.ffPos][fa]-
ya,J.buffer.ff[J.ffPos][fa+1]-Ca);xa&&l.context.rotate(J.buffer.ff[J.ffPos][fa+D]);var Ja=1;ua&&(Ja=J.buffer.ff[J.ffPos][fa+B]);za&&l.context.transform(J.buffer.ff[J.ffPos][fa+Ba],J.buffer.ff[J.ffPos][fa+Ba+1],J.buffer.ff[J.ffPos][fa+Ba+2],J.buffer.ff[J.ffPos][fa+Ba+3],0,0);Da&&(l.context.globalAlpha=J.buffer.ff[J.ffPos][fa+La]);l.context.drawImage(Na,pa.x,pa.y,pa.width,pa.height,-wa.x*Ja,-wa.y*Ja,pa.width*Ja,pa.height*Ja);l.context.restore()}fa+=na}Ka&&(l.context.globalCompositeOperation="source-over");
break;default:c.advance(),c.prev=f}}}catch(Pa){if("__break__"!=Pa)throw Pa;}0<l.fillCommands.get_length()&&l.endFill();0<l.strokeCommands.get_length()&&l.endStroke();c.destroy();a.__bitmap=Oa.fromCanvas(a.__canvas)}a.set___dirty(!1)}};l.renderMask=function(a,b){if(0!=a.__commands.get_length()){l.context=b.context;for(var c=new Jb(a.__commands),d=0,e=a.__commands.types;d<e.length;){var f=e[d];++d;switch(f[1]){case 3:c.advance();c.prev=t.CUBIC_CURVE_TO;f=c;l.context.bezierCurveTo(f.buffer.f[f.fPos]-
0,f.buffer.f[f.fPos+1]-0,f.buffer.f[f.fPos+3]-0,f.buffer.f[f.fPos+4]-0,f.buffer.f[f.fPos+5]-0,f.buffer.f[f.fPos+6]-0);break;case 4:c.advance();c.prev=t.CURVE_TO;f=c;l.context.quadraticCurveTo(f.buffer.f[f.fPos]-0,f.buffer.f[f.fPos+1]-0,f.buffer.f[f.fPos+2]-0,f.buffer.f[f.fPos+3]-0);break;case 5:c.advance();c.prev=t.DRAW_CIRCLE;f=c;l.context.arc(f.buffer.f[f.fPos]-0,f.buffer.f[f.fPos+1]-0,f.buffer.f[f.fPos+2],0,2*Math.PI,!0);break;case 6:var g;c.advance();c.prev=t.DRAW_ELLIPSE;g=c;var f=g.buffer.f[g.fPos],
p=g.buffer.f[g.fPos+1],k=g.buffer.f[g.fPos+2],h=g.buffer.f[g.fPos+3],f=f-0,p=p-0;g=k/2*.5522848;var m=h/2*.5522848,q=f+k,n=p+h,k=f+k/2,h=p+h/2;l.context.moveTo(f,h);l.context.bezierCurveTo(f,h-m,k-g,p,k,p);l.context.bezierCurveTo(k+g,p,q,h-m,q,h);l.context.bezierCurveTo(q,h+m,k+g,n,k,n);l.context.bezierCurveTo(k-g,n,f,h+m,f,h);break;case 8:c.advance();c.prev=t.DRAW_RECT;f=c;l.context.rect(f.buffer.f[f.fPos]-0,f.buffer.f[f.fPos+1]-0,f.buffer.f[f.fPos+2],f.buffer.f[f.fPos+3]);break;case 9:c.advance();
c.prev=t.DRAW_ROUND_RECT;f=c;l.drawRoundRect(f.buffer.f[f.fPos]-0,f.buffer.f[f.fPos+1]-0,f.buffer.f[f.fPos+2],f.buffer.f[f.fPos+3],f.buffer.f[f.fPos+4],f.buffer.f[f.fPos+5]);break;case 16:c.advance();c.prev=t.LINE_TO;f=c;l.context.lineTo(f.buffer.f[f.fPos]-0,f.buffer.f[f.fPos+1]-0);break;case 17:c.advance();c.prev=t.MOVE_TO;f=c;l.context.moveTo(f.buffer.f[f.fPos]-0,f.buffer.f[f.fPos+1]-0);break;default:c.advance(),c.prev=f}}c.destroy()}};var Rc=function(a){this.renderSession=a};m["openfl._internal.renderer.canvas.CanvasMaskManager"]=
Rc;Rc.__name__=!0;Rc.__super__=Cb;Rc.prototype=x(Cb.prototype,{pushMask:function(a){var b=this.renderSession.context;b.save();var c=a.__getWorldTransform();b.setTransform(c.a,c.b,c.c,c.d,c.tx,c.ty);b.beginPath();a.__renderCanvasMask(this.renderSession);b.clip()},pushRect:function(a,b){var c=this.renderSession.context;c.save();c.setTransform(b.a,b.b,b.c,b.d,b.tx,b.ty);c.beginPath();c.rect(a.x,a.y,a.width,a.height);c.clip()},popMask:function(){this.renderSession.context.restore()},popRect:function(){this.renderSession.context.restore()},
__class__:Rc});var Id=function(a,b,c){La.call(this,a,b);this.context=c;this.renderSession=new gc;this.renderSession.context=c;this.renderSession.roundPixels=!0;this.renderSession.renderer=this;this.renderSession.maskManager=new Rc(this.renderSession)};m["openfl._internal.renderer.canvas.CanvasRenderer"]=Id;Id.__name__=!0;Id.__super__=La;Id.prototype=x(La.prototype,{render:function(a){this.context.setTransform(1,0,0,1,0,0);this.context.globalAlpha=1;!a.__transparent&&a.__clearBeforeRender?(this.context.fillStyle=
a.__colorString,this.context.fillRect(0,0,a.stageWidth,a.stageHeight)):a.__transparent&&a.__clearBeforeRender&&this.context.clearRect(0,0,a.stageWidth,a.stageHeight);a.__renderCanvas(this.renderSession)},__class__:Id});var Re=function(){};m["openfl._internal.renderer.canvas.CanvasShape"]=Re;Re.__name__=!0;Re.render=function(a,b){if(a.__renderable&&!(0>=a.__worldAlpha)){var c=a.__graphics;if(null!=c&&(l.render(c,b),null!=c.__canvas)){var d=b.context,e=a.get_scrollRect();if(0<c.__bounds.width&&0<c.__bounds.height&&
(null==e||0<e.width&&0<e.height)){null!=a.__mask&&b.maskManager.pushMask(a.__mask);d.globalAlpha=a.__worldAlpha;var f=a.__worldTransform;b.roundPixels?d.setTransform(f.a,f.b,f.c,f.d,f.tx|0,f.ty|0):d.setTransform(f.a,f.b,f.c,f.d,f.tx,f.ty);null==e?d.drawImage(c.__canvas,c.__bounds.x,c.__bounds.y):d.drawImage(c.__canvas,Math.ceil(c.__bounds.x+e.x),Math.ceil(c.__bounds.y+e.y),e.width,e.height,Math.ceil(c.__bounds.x+e.x),Math.ceil(c.__bounds.y+e.y),e.width,e.height);null!=a.__mask&&b.maskManager.popMask()}}}};
var ka=function(){};m["openfl._internal.renderer.canvas.CanvasTextField"]=ka;ka.__name__=!0;ka.context=null;ka.render=function(a,b){if(a.__dirty){var c=a.__textEngine;a.__updateLayout();if(!(null!=c.text&&""!=c.text||c.background||c.border||c.__hasFocus)||(0>=c.width||0>=c.height)&&c.autoSize!=X.NONE)a.__graphics.__canvas=null,a.__graphics.__context=null,a.__graphics.set___dirty(!1),a.__dirty=!1;else{var d=c.bounds;if(null==a.__graphics||null==a.__graphics.__canvas)null==a.__graphics&&(a.__graphics=
new mc),a.__graphics.__canvas=window.document.createElement("canvas"),a.__graphics.__context=a.__graphics.__canvas.getContext("2d"),a.__graphics.__bounds=new O(0,0,d.width,d.height);var e=a.__graphics;ka.context=e.__context;if(null!=c.text&&""!=c.text||c.__hasFocus){var f=c.text;if(c.displayAsPassword){for(var f=f.length,g="",p=0;p<f;)p++,g+="*";f=g}e.__canvas.width=Math.ceil(d.width);e.__canvas.height=Math.ceil(d.height);c.antiAliasType!=Kb.ADVANCED||c.gridFitType!=Ya.PIXEL?(e.__context.mozImageSmoothingEnabled=
!0,e.__context.msImageSmoothingEnabled=!0,e.__context.imageSmoothingEnabled=!0):(e.__context.mozImageSmoothingEnabled=!1,e.__context.msImageSmoothingEnabled=!1,e.__context.imageSmoothingEnabled=!1);if(c.border||c.background)ka.context.rect(.5,.5,d.width-1,d.height-1),c.background&&(ka.context.fillStyle="#"+ea.hex(c.backgroundColor,6),ka.context.fill()),c.border&&(ka.context.lineWidth=1,ka.context.strokeStyle="#"+ea.hex(c.borderColor,6),ka.context.stroke());ka.context.textBaseline="top";ka.context.textAlign=
"start";for(var d=-a.get_scrollH(),p=g=0,k=a.get_scrollV()-1;p<k;)var h=p++,g=g-c.lineHeights[h];for(var l,p=0,k=(new Hb("(iPad|iPhone|iPod|Firefox)","g")).match(window.navigator.userAgent),h=0,m=c.layoutGroups;h<m.length;){var n=m[h];++h;if(!(n.lineIndex<a.get_scrollV()-1)){if(n.lineIndex>a.get_scrollV()+c.bottomScrollV-2)break;ka.context.font=qa.getFont(n.format);ka.context.fillStyle="#"+ea.hex(n.format.color,6);k&&(p=.185*n.format.size);ka.context.fillText(f.substring(n.startIndex,n.endIndex),
n.offsetX+d,n.offsetY+p+g);if(-1<a.__caretIndex&&c.selectable)if(a.__selectionIndex==a.__caretIndex){if(a.__showCursor&&n.startIndex<=a.__caretIndex&&n.endIndex>=a.__caretIndex){for(var t=l=0,q=a.__caretIndex-n.startIndex;t<q;){var u=t++;if(n.advances.length<=u)break;l+=n.advances[u]}ka.context.fillRect(n.offsetX+l,n.offsetY,1,n.height)}}else if(n.startIndex<=a.__caretIndex&&n.endIndex>=a.__caretIndex||n.startIndex<=a.__selectionIndex&&n.endIndex>=a.__selectionIndex)l=Y["int"](Math.min(a.__selectionIndex,
a.__caretIndex)),t=Y["int"](Math.max(a.__selectionIndex,a.__caretIndex)),n.startIndex>l&&(l=n.startIndex),n.endIndex<t&&(t=n.endIndex),q=a.getCharBoundaries(l),t>=c.text.length?(u=a.getCharBoundaries(c.text.length-1),u.x+=u.width+2):u=a.getCharBoundaries(t),null!=q&&null!=u&&(ka.context.fillStyle="#000000",ka.context.fillRect(q.x,q.y,u.x-q.x,n.height),ka.context.fillStyle="#FFFFFF",ka.context.fillText(f.substring(l,t),d+q.x,n.offsetY+p+g))}}}else if(e.__canvas.width=Math.ceil(d.width),e.__canvas.height=
Math.ceil(d.height),c.border||c.background)c.border?ka.context.rect(.5,.5,d.width-1,d.height-1):ka.context.rect(0,0,d.width,d.height),c.background&&(ka.context.fillStyle="#"+ea.hex(c.backgroundColor,6),ka.context.fill()),c.border&&(ka.context.lineWidth=1,ka.context.lineCap="square",ka.context.strokeStyle="#"+ea.hex(c.borderColor,6),ka.context.stroke());e.__bitmap=Oa.fromCanvas(a.__graphics.__canvas);a.__dirty=!1;e.set___dirty(!1)}}};var Jd=function(a,b,c){La.call(this,a,b);throw new ba("ConsoleRenderer not supported");
};m["openfl._internal.renderer.console.ConsoleRenderer"]=Jd;Jd.__name__=!0;Jd.__super__=La;Jd.prototype=x(La.prototype,{render:function(a){},__class__:Jd});var Kd=function(){};m["openfl._internal.renderer.dom.DOMBitmap"]=Kd;Kd.__name__=!0;Kd.renderCanvas=function(a,b){null!=a.__image&&(b.element.removeChild(a.__image),a.__image=null);null==a.__canvas&&(a.__canvas=window.document.createElement("canvas"),a.__context=a.__canvas.getContext("2d"),a.smoothing||(a.__context.mozImageSmoothingEnabled=!1,a.__context.msImageSmoothingEnabled=
!1,a.__context.imageSmoothingEnabled=!1),Za.initializeElement(a,a.__canvas,b));a.bitmapData.__sync();a.__canvas.width=a.bitmapData.width;a.__canvas.height=a.bitmapData.height;a.__context.globalAlpha=a.__worldAlpha;a.__context.drawImage(a.bitmapData.image.buffer.__srcCanvas,0,0);Za.applyStyle(a,b,!0,!1,!0)};Kd.renderImage=function(a,b){null!=a.__canvas&&(b.element.removeChild(a.__canvas),a.__canvas=null);null==a.__image&&(a.__image=window.document.createElement("img"),a.__image.src=a.bitmapData.image.buffer.__srcImage.src,
Za.initializeElement(a,a.__image,b));Za.applyStyle(a,b,!0,!0,!0)};var Ld=function(a){this.renderSession=a};m["openfl._internal.renderer.dom.DOMMaskManager"]=Ld;Ld.__name__=!0;Ld.__super__=Cb;Ld.prototype=x(Cb.prototype,{pushMask:function(a){},pushRect:function(a,b){},popMask:function(){},__class__:Ld});var Za=function(a,b,c){La.call(this,a,b);this.element=c;this.renderSession=new gc;this.renderSession.element=c;this.renderSession.roundPixels=!0;a=window.getComputedStyle(document.documentElement,"");
a=(Array.prototype.slice.call(a).join("").match(/-(moz|webkit|ms)-/)||""===a.OLink&&["","o"])[1];"WebKit|Moz|MS|O".match(new RegExp("("+a+")","i"));a[0].toUpperCase();a.substr(1);this.renderSession.vendorPrefix=a;this.renderSession.transformProperty="webkit"==a?"-webkit-transform":"transform";this.renderSession.transformOriginProperty="webkit"==a?"-webkit-transform-origin":"transform-origin";this.renderSession.maskManager=new Ld(this.renderSession);this.renderSession.renderer=this};m["openfl._internal.renderer.dom.DOMRenderer"]=
Za;Za.__name__=!0;Za.applyStyle=function(a,b,c,d,e){var f=a.__style;c&&a.__worldTransformChanged&&f.setProperty(b.transformProperty,a.__worldTransform.to3DString(b.roundPixels),null);a.__worldZ!=++b.z&&(a.__worldZ=b.z,f.setProperty("z-index",null==a.__worldZ?"null":""+a.__worldZ,null));d&&a.__worldAlphaChanged&&(1>a.__worldAlpha?f.setProperty("opacity",null==a.__worldAlpha?"null":""+a.__worldAlpha,null):f.removeProperty("opacity"));e&&a.__worldClipChanged&&(null==a.__worldClip?f.removeProperty("clip"):
(b=O.__temp,c=R.__temp,c.copyFrom(a.__worldTransform),c.invert(),a.__worldClip.__transform(b,c),f.setProperty("clip","rect("+b.y+"px, "+b.get_right()+"px, "+b.get_bottom()+"px, "+b.x+"px)",null)))};Za.initializeElement=function(a,b,c){var d=a.__style=b.style;d.setProperty("position","absolute",null);d.setProperty("top","0",null);d.setProperty("left","0",null);d.setProperty(c.transformOriginProperty,"0 0 0",null);c.element.appendChild(b);a.__worldAlphaChanged=!0;a.__worldClipChanged=!0;a.__worldTransformChanged=
!0;a.__worldVisibleChanged=!0;a.__worldZ=-1};Za.__super__=La;Za.prototype=x(La.prototype,{render:function(a){this.element.style.background=a.__colorString;this.renderSession.z=1;a.__renderDOM(this.renderSession)},__class__:Za});var Se=function(){};m["openfl._internal.renderer.dom.DOMShape"]=Se;Se.__name__=!0;Se.render=function(a,b){var c=a.__graphics;if(null!=a.stage&&a.__worldVisible&&a.__renderable&&null!=c){if(c.__dirty||a.__worldAlphaChanged||null==a.__canvas&&null!=c.__canvas)l.render(c,b),null!=
c.__canvas?(null==a.__canvas&&(a.__canvas=window.document.createElement("canvas"),a.__context=a.__canvas.getContext("2d"),Za.initializeElement(a,a.__canvas,b)),a.__canvas.width=c.__canvas.width,a.__canvas.height=c.__canvas.height,a.__context.globalAlpha=a.__worldAlpha,a.__context.drawImage(c.__canvas,0,0)):null!=a.__canvas&&(b.element.removeChild(a.__canvas),a.__canvas=null,a.__style=null);if(null!=a.__canvas){if(a.__worldTransformChanged||c.__transformDirty){c.__transformDirty=!1;var d=R.__temp;
d.identity();d.translate(c.__bounds.x,c.__bounds.y);d.concat(a.__worldTransform);a.__style.setProperty(b.transformProperty,b.roundPixels?"matrix3d("+d.a+", "+d.b+", 0, 0, "+d.c+", "+d.d+", 0, 0, 0, 0, 1, 0, "+(d.tx|0)+", "+(d.ty|0)+", 0, 1)":"matrix3d("+d.a+", "+d.b+", 0, 0, "+d.c+", "+d.d+", 0, 0, 0, 0, 1, 0, "+d.tx+", "+d.ty+", 0, 1)",null)}Za.applyStyle(a,b,!1,!1,!0)}}else null!=a.__canvas&&(b.element.removeChild(a.__canvas),a.__canvas=null,a.__style=null)};var af=function(){};m["openfl._internal.renderer.dom.DOMTextField"]=
af;af.__name__=!0;af.render=function(a,b){var c=a.__textEngine;if(null!=a.stage&&a.__worldVisible&&a.__renderable){if(a.__dirty||null==a.__div)if(""!=c.text||c.background||c.border||c.type==fb.INPUT){null==a.__div&&(a.__div=window.document.createElement("div"),Za.initializeElement(a,a.__div,b),a.__style.setProperty("outline","none",null),a.__div.addEventListener("input",function(b){b.preventDefault();a.get_htmlText()!=a.__div.innerHTML&&(a.set_htmlText(a.__div.innerHTML),a.__dirty=!1)},!0));c.selectable?
a.__style.setProperty("cursor","text",null):a.__style.setProperty("cursor","inherit",null);a.__div.contentEditable=c.type==fb.INPUT;var d=a.__style;a.__div.innerHTML=c.text;c.background?d.setProperty("background-color","#"+ea.hex(c.backgroundColor,6),null):d.removeProperty("background-color");c.border?d.setProperty("border","solid 1px #"+ea.hex(c.borderColor,6),null):d.removeProperty("border");d.setProperty("font",qa.getFont(a.__textFormat),null);d.setProperty("color","#"+ea.hex(a.__textFormat.color,
6),null);c.autoSize!=X.NONE?d.setProperty("width","auto",null):d.setProperty("width",c.width+"px",null);d.setProperty("height",c.height+"px",null);switch(a.__textFormat.align[1]){case 3:d.setProperty("text-align","center",null);break;case 1:d.setProperty("text-align","right",null);break;default:d.setProperty("text-align","left",null)}a.__dirty=!1}else null!=a.__div&&(b.element.removeChild(a.__div),a.__div=null);null!=a.__div&&Za.applyStyle(a,b,!0,!0,!1)}else null!=a.__div&&(b.element.removeChild(a.__div),
a.__div=null,a.__style=null)};var Ea=function(){};m["openfl._internal.renderer.opengl.GLBitmap"]=Ea;Ea.__name__=!0;Ea.pushFramebuffer=function(a,b,c,d,e,f,g){null==g&&(g=!0);null==f&&(f=!1);null==e&&(e=!0);var p=a.gl;if(null==p)return null;var k=a.renderer,h=c.x|0,l=c.y|0,m=c.width|0,n=c.height|0;a.spriteBatch.finish();0>=Ea.fbData.length&&Ea.fbData.push({texture:null,viewPort:null,transparent:k.transparent});null==b&&(b=new Ee(p,m,n,d,g));b.resize(m,n);k.transparent=e;a.maskManager.saveState();p.bindFramebuffer(p.FRAMEBUFFER,
(b.__swapped?b.__texture1:b.__texture0).frameBuffer);k.setViewport(h,l,m,n);p.colorMask(!0,!0,!0,!0);a.blendModeManager.setBlendMode(A.NORMAL);f&&(b.__swapped?b.__texture1:b.__texture0).clear(0,0,0,0,null);Ea.fbData.push({texture:b,viewPort:c,transparent:e});return b};Ea.drawBitmapDrawable=function(a,b,c,d,e,f,g){var p=Ea.fbData[Ea.fbData.length-1];if(null==p)throw new ba("No data to draw to");var k=a.gl;if(null!=k){var p=p.viewPort,h=a.spriteBatch,l=null!=b;g=null==g?new O(p.x,p.y,p.width,p.height):
g.clone();h.begin(a,l?null:g);l&&(b.__worldTransform.identity(),Ea.flipMatrix(b.__worldTransform,p.height),b.__renderGL(a),h.stop(),null!=b.__texture&&k.deleteTexture(b.__texture),b.__texture=null,h.start(g));b=c.__worldColorTransform;k=c.__blendMode;g=c.__cacheAsBitmap;d=null!=d?new R(d.a,d.b,d.c,d.d,d.tx,d.ty):new R;Ea.flipMatrix(d,p.height);c.__worldColorTransform=null!=e?e:new tb;c.__blendMode=f;B.__cacheAsBitmapMode=!0;c.__updateTransforms(d);c.__updateChildren(!1);c.__cacheAsBitmap=!1;c.__renderGL(a);
c.__cacheAsBitmap=g;c.__worldColorTransform=b;c.__blendMode=k;B.__cacheAsBitmapMode=!1;c.__updateTransforms();c.__updateChildren(!1)}};Ea.popFramebuffer=function(a,b){var c=a.gl;if(null!=c){a.spriteBatch.finish();Ea.fbData.pop();var d=Ea.fbData[Ea.fbData.length-1];if(null==d)throw new ba("oh");var e,f,g,p;null==d.viewPort?(e=f=0,g=a.renderer.width,p=a.renderer.height):(e=Math.floor(d.viewPort.x),f=Math.floor(d.viewPort.y),g=Math.ceil(d.viewPort.width),p=Math.ceil(d.viewPort.height));null!=b&&(b.width==
g&&b.height==p||b.resize(g,p),c.readPixels(e,f,g,p,c.RGBA,c.UNSIGNED_BYTE,b.buffer.data),b.dirty=!1,b.set_premultiplied(!0));c.bindFramebuffer(c.FRAMEBUFFER,null==d.texture?a.defaultFramebuffer:d.texture.get_framebuffer());a.renderer.setViewport(e,f,g,p);a.renderer.transparent=d.transparent;a.maskManager.restoreState()}};Ea.flipMatrix=function(a,b){var c=a.tx,d=a.ty;a.tx=0;a.ty=0;a.scale(1,-1);a.translate(0,b);a.tx+=c;a.ty-=d};var wa=function(a,b,c,d,e,f){null==f&&(f=!1);null==e&&(e=!1);null==d&&
(d=!1);null==b&&(b=600);null==a&&(a=800);this.vpX=this.vpY=this.vpWidth=this.vpHeight=0;La.call(this,a,b);this.transparent=d;this.preserveDrawingBuffer=f;this.width=a;this.height=b;this.viewport=new O;this.options={alpha:d,antialias:e,premultipliedAlpha:d,stencil:!0,preserveDrawingBuffer:f};this._glContextId=wa.glContextId++;this.gl=c;this.defaultFramebuffer=null;wa.glContexts[this._glContextId]=c;this.projectionMatrix=new R;this.projection=new N;this.projection.x=this.width/2;this.projection.y=-this.height/
2;this.offset=new N(0,0);this.resize(this.width,this.height);this.contextLost=!1;this.shaderManager=new Sc(c);this.spriteBatch=new Fe(c);this.filterManager=new Ge(c,this.transparent);this.stencilManager=new He(c);this.blendModeManager=new Ie(c);this.renderSession=new gc;this.renderSession.gl=this.gl;this.renderSession.drawCount=0;this.renderSession.shaderManager=this.shaderManager;this.renderSession.filterManager=this.filterManager;this.renderSession.blendModeManager=this.blendModeManager;this.renderSession.spriteBatch=
this.spriteBatch;this.renderSession.stencilManager=this.stencilManager;this.renderSession.renderer=this;this.renderSession.defaultFramebuffer=this.defaultFramebuffer;this.renderSession.projectionMatrix=this.projectionMatrix;this.maskManager=new Md(this.renderSession);this.renderSession.maskManager=this.maskManager;this.shaderManager.setShader(this.shaderManager.defaultShader);c.disable(c.DEPTH_TEST);c.disable(c.CULL_FACE);c.enable(c.BLEND);c.colorMask(!0,!0,!0,this.transparent)};m["openfl._internal.renderer.opengl.GLRenderer"]=
wa;wa.__name__=!0;wa.renderBitmap=function(a,b,c){null==c&&(c=!0);if(a.__renderable&&!(0>=a.__worldAlpha)&&null!=a.__graphics&&null!=a.__graphics.__bitmap){var d=O.__temp,e=R.__temp;d.setEmpty();e.identity();a.__getBounds(d,e);d=a.__graphics.__bitmap;e.translate(a.__graphics.__bounds.x,a.__graphics.__bounds.y);e.concat(a.__renderTransform);b.spriteBatch.renderBitmapData(d,c,e,a.__worldColorTransform,a.__worldAlpha,a.__blendMode,null,Sa.ALWAYS)}};wa.__super__=La;wa.prototype=x(La.prototype,{setViewport:function(a,
b,c,d){if(this.vpX!=a||this.vpY!=b||this.vpWidth!=c||this.vpHeight!=d)this.vpX=a,this.vpY=b,this.vpWidth=c,this.vpHeight=d,this.gl.viewport(a,b,c,d),this.setOrtho(a,b,c,d),this.viewport.setTo(a,b,c,d)},setOrtho:function(a,b,c,d){var e=this.projectionMatrix;e.identity();e.a=1/c*2;e.d=-1/d*2;e.tx=-1-a*e.a;e.ty=1-b*e.d},render:function(a){if(!this.contextLost){var b=this.gl;this.setViewport(0,0,this.width,this.height);b.bindFramebuffer(b.FRAMEBUFFER,this.defaultFramebuffer);this.transparent?b.clearColor(0,
0,0,0):b.clearColor(a.__colorSplit[0],a.__colorSplit[1],a.__colorSplit[2],1);b.clear(b.COLOR_BUFFER_BIT);this.renderDisplayObject(a,this.projection)}},renderDisplayObject:function(a,b,c){this.renderSession.blendModeManager.setBlendMode(A.NORMAL);this.renderSession.drawCount=0;this.renderSession.currentBlendMode=null;this.spriteBatch.begin(this.renderSession);this.filterManager.begin(this.renderSession,c);a.__renderGL(this.renderSession);this.spriteBatch.finish()},resize:function(a,b){this.width=a;
this.height=b;La.prototype.resize.call(this,a,b);this.setViewport(0,0,a,b);this.projection.x=a/2;this.projection.y=-b/2},__class__:wa});var T=function(a){this.wrapS=this.wrapT=33071;this.compiled=!1;this.uniforms=new sa;this.attributes=new sa;this.ID=T.UID++;this.gl=a;this.program=null};m["openfl._internal.renderer.opengl.shaders2.Shader"]=T;T.__name__=!0;T.compileProgram=function(a,b,c){var d=Sc.compiledShadersCache,e=bc.encode(b+c);if(null!=qc[e]?d.existsReserved(e):d.h.hasOwnProperty(e))return null!=
qc[e]?d.getReserved(e):d.h[e];var f=T.compileShader(a,b,a.VERTEX_SHADER),g=T.compileShader(a,c,a.FRAGMENT_SHADER),p=a.createProgram();if(null!=f&&null!=g&&(a.attachShader(p,f),a.attachShader(p,g),a.linkProgram(p),a.deleteShader(f),a.deleteShader(g),0==a.getProgramParameter(p,a.LINK_STATUS)))return hb.log("Could not compile the program:\n\t"+a.getProgramInfoLog(p)),hb.log("VERTEX:\n"+b+"\nFRAGMENT:\n"+c),null;null!=qc[e]?d.setReserved(e,p):d.h[e]=p;return p};T.compileShader=function(a,b,c){c=a.createShader(c);
a.shaderSource(c,b);a.compileShader(c);return 0==a.getShaderParameter(c,a.COMPILE_STATUS)?(hb.log("Could not compile the shader:\n\t"+a.getShaderInfoLog(c)),hb.log(b),null):c};T.prototype={init:function(a){null==a&&(a=!1);if(!this.compiled||a){null!=this.vertexSrc&&(this.vertexString=this.vertexSrc.join("\n"));null!=this.fragmentSrc&&(this.fragmentString=this.fragmentSrc.join("\n"));if(null==this.vertexString||null==this.fragmentString)throw new ba("No vertex or fragment source provided");this.program=
T.compileProgram(this.gl,this.vertexString,this.fragmentString);null!=this.program&&(this.compiled=!0)}},destroy:function(){null!=this.program&&this.gl.deleteProgram(this.program);this.compiled=!1;this.attributes=null},applyData:function(a,b){if(null!=a)for(var c,d,e,f,g=a.keys();g.hasNext();)if(e=g.next(),d=this.getUniformLocation(e),c=null!=qc[e]?a.getReserved(e):a.h[e],null!=c&&(e=c.value,f=c.bitmap,null!=e||null!=f))switch(c.internalType){case 1:switch(c.size){case 1:this.gl.uniform1i(d,e[0]|
0);break;case 2:this.gl.uniform2i(d,e[0]|0,e[1]|0);break;case 3:this.gl.uniform3i(d,e[0]|0,e[1]|0,e[2]|0);break;case 4:this.gl.uniform4i(d,e[0]|0,e[1]|0,e[2]|0,e[3]|0)}break;case 2:switch(c.size){case 1:this.gl.uniform1f(d,e[0]);break;case 2:this.gl.uniform2f(d,e[0],e[1]);break;case 3:this.gl.uniform3f(d,e[0],e[1],e[2]);break;case 4:this.gl.uniform4f(d,e[0],e[1],e[2],e[3])}break;case 3:switch(c.size){case 2:this.gl.uniformMatrix2fv(d,c.transpose,function(a){a=c.value;return null!=a?new Float32Array(a):
null}(this));break;case 3:this.gl.uniformMatrix3fv(d,c.transpose,function(a){a=c.value;return null!=a?new Float32Array(a):null}(this));break;case 4:this.gl.uniformMatrix4fv(d,c.transpose,function(a){a=c.value;return null!=a?new Float32Array(a):null}(this))}break;case 4:if(null==f||!f.__isValid)continue;this.gl.activeTexture(this.gl.TEXTURE0+b.activeTextures);this.gl.bindTexture(this.gl.TEXTURE_2D,f.getTexture(this.gl));this.gl.uniform1i(d,b.activeTextures);this.gl.texParameteri(this.gl.TEXTURE_2D,
this.gl.TEXTURE_MAG_FILTER,c.smooth?this.gl.LINEAR:this.gl.NEAREST);this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MIN_FILTER,c.smooth?this.gl.LINEAR:this.gl.NEAREST);this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,c.repeatX);this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,c.repeatY);b.activeTextures++}},getAttribLocation:function(a){if(null==this.program)throw new ba("Shader isn't initialized");if(this.attributes.exists(a))return this.attributes.get(a);var b=
this.gl.getAttribLocation(this.program,a);this.attributes.set(a,b);return b},getUniformLocation:function(a){if(null==this.program)throw new ba("Shader isn't initialized");if(this.uniforms.exists(a))return this.uniforms.get(a);var b=this.gl.getUniformLocation(this.program,a);this.uniforms.set(a,b);return b},enableVertexAttribute:function(a,b,c){var d=this.getAttribLocation(a.name);this.gl.enableVertexAttribArray(d);this.gl.vertexAttribPointer(d,a.components,a.type,a.normalized,b,4*c)},disableVertexAttribute:function(a,
b){null==b&&(b=!0);var c=this.getAttribLocation(a.name);this.gl.disableVertexAttribArray(c);if(b)switch(a.components){case 1:this.gl.vertexAttrib1fv(c,a.defaultValue.subarray(0,1));break;case 2:this.gl.vertexAttrib2fv(c,a.defaultValue.subarray(0,2));break;case 3:this.gl.vertexAttrib3fv(c,a.defaultValue.subarray(0,3));break;default:this.gl.vertexAttrib4fv(c,a.defaultValue.subarray(0,4))}},bindVertexArray:function(a){var b=0,c=a.get_stride(),d=0;for(a=a.attributes;d<a.length;){var e=a[d];++d;e.enabled?
(this.enableVertexAttribute(e,c,b),b+=Math.floor(e.components*e.getElementsBytes()/4)):this.disableVertexAttribute(e,!0)}},__class__:T};var hc=function(a){T.call(this,a);this.vertexSrc=hc.VERTEX_SRC;this.fragmentSrc=["#ifdef GL_ES","precision lowp float;","#endif","uniform sampler2D openfl_uSampler0;","uniform vec4 openfl_uColorMultiplier;","uniform vec4 openfl_uColorOffset;","uniform bool openfl_uUseColorTransform;","varying vec2 openfl_vTexCoord;","varying vec4 openfl_vColor;","vec4 colorTransform(const vec4 color, const vec4 tint, const vec4 multiplier, const vec4 offset) {",
"\tif(!openfl_uUseColorTransform) {","\t\treturn color * tint;","\t}","\tvec4 unmultiply;","\tif (color.a == 0.0) {","\t\tunmultiply = vec4(0.0, 0.0, 0.0, 0.0);","\t} else {","   \tunmultiply = vec4(color.rgb / color.a, color.a);","\t}","   vec4 result = unmultiply * tint * multiplier;","   result = result + offset;","   result = clamp(result, 0., 1.);","   result = vec4(result.rgb * result.a, result.a);","   return result;","}","void main(void) {","   vec4 tc = texture2D(openfl_uSampler0, openfl_vTexCoord);",
"   gl_FragColor = colorTransform(tc, openfl_vColor, openfl_uColorMultiplier, openfl_uColorOffset);","}"];this.init()};m["openfl._internal.renderer.opengl.shaders2.DefaultShader"]=hc;hc.__name__=!0;hc.__super__=T;hc.prototype=x(T.prototype,{init:function(a){null==a&&(a=!1);T.prototype.init.call(this,a);this.getAttribLocation("openfl_aPosition");this.getAttribLocation("openfl_aTexCoord0");this.getAttribLocation("openfl_aColor");this.getUniformLocation("openfl_uProjectionMatrix");this.getUniformLocation("openfl_uSampler0");
this.getUniformLocation("openfl_uColorMultiplier");this.getUniformLocation("openfl_uColorOffset");this.getUniformLocation("openfl_uUseColorTransform")},__class__:hc});var Nd=function(a){T.call(this,a);this.vertexSrc=["attribute vec2 openfl_aPosition;","attribute vec2 openfl_aTexCoord0;","attribute vec4 openfl_aColor;","uniform mat3 openfl_uProjectionMatrix;","varying vec2 vTexCoord;","varying vec4 vColor;","void main(void) {","   gl_Position = vec4((openfl_uProjectionMatrix * vec3(openfl_aPosition, 1.0)).xy, 0.0, 1.0);",
"   vTexCoord = openfl_aTexCoord0;","   vColor = openfl_aColor.bgra;","}"];this.fragmentSrc=["#ifdef GL_ES","precision lowp float;","#endif","uniform sampler2D openfl_uSampler0;","uniform vec3 openfl_uColor;","uniform bool openfl_uUseTexture;","uniform float openfl_uAlpha;","uniform vec4 openfl_uColorMultiplier;","uniform vec4 openfl_uColorOffset;","varying vec2 vTexCoord;","varying vec4 vColor;","vec4 tmp;","vec4 colorTransform(const vec4 color, const vec4 tint, const vec4 multiplier, const vec4 offset) {",
"   vec4 unmultiply = vec4(color.rgb / color.a, color.a);","   vec4 result = unmultiply * tint * multiplier;","   result = result + offset;","   result = clamp(result, 0., 1.);","   result = vec4(result.rgb * result.a, result.a);","   return result;","}","void main(void) {","   if(openfl_uUseTexture) {","       tmp = texture2D(openfl_uSampler0, vTexCoord);","   } else {","       tmp = vec4(openfl_uColor, 1.);","   }","   gl_FragColor = colorTransform(tmp, vColor, openfl_uColorMultiplier, openfl_uColorOffset);",
"}"];this.init()};m["openfl._internal.renderer.opengl.shaders2.DrawTrianglesShader"]=Nd;Nd.__name__=!0;Nd.__super__=T;Nd.prototype=x(T.prototype,{init:function(a){null==a&&(a=!1);T.prototype.init.call(this,a);this.getAttribLocation("openfl_aPosition");this.getAttribLocation("openfl_aTexCoord0");this.getAttribLocation("openfl_aColor");this.getUniformLocation("openfl_uSampler0");this.getUniformLocation("openfl_uProjectionMatrix");this.getUniformLocation("openfl_uColor");this.getUniformLocation("openfl_uAlpha");
this.getUniformLocation("openfl_uUseTexture");this.getUniformLocation("openfl_uColorMultiplier");this.getUniformLocation("openfl_uColorOffset")},__class__:Nd});var Od=function(a){T.call(this,a);this.vertexSrc=["attribute vec2 openfl_aPosition;","uniform mat3 openfl_uTranslationMatrix;","uniform mat3 openfl_uProjectionMatrix;","uniform vec4 openfl_uColor;","uniform float openfl_uAlpha;","uniform vec4 openfl_uColorMultiplier;","uniform vec4 openfl_uColorOffset;","varying vec4 vColor;","vec4 colorTransform(const vec4 color, const float alpha, const vec4 multiplier, const vec4 offset) {",
"   vec4 result = color * multiplier;","   result.a *= alpha;","   result = result + offset;","   result = clamp(result, 0., 1.);","   result = vec4(result.rgb * result.a, result.a);","   return result;","}","void main(void) {","   gl_Position = vec4((openfl_uProjectionMatrix * openfl_uTranslationMatrix * vec3(openfl_aPosition, 1.0)).xy, 0.0, 1.0);","   vColor = colorTransform(openfl_uColor, openfl_uAlpha, openfl_uColorMultiplier, openfl_uColorOffset);","}"];this.fragmentSrc="#ifdef GL_ES,precision lowp float;,#endif,varying vec4 vColor;,void main(void) {,   gl_FragColor = vColor;,}".split(",");
this.init()};m["openfl._internal.renderer.opengl.shaders2.FillShader"]=Od;Od.__name__=!0;Od.__super__=T;Od.prototype=x(T.prototype,{init:function(a){null==a&&(a=!1);T.prototype.init.call(this,a);this.getAttribLocation("openfl_aPosition");this.getUniformLocation("openfl_uTranslationMatrix");this.getUniformLocation("openfl_uProjectionMatrix");this.getUniformLocation("openfl_uColor");this.getUniformLocation("openfl_uColorMultiplier");this.getUniformLocation("openfl_uColorOffset")},__class__:Od});var Pd=
function(a){T.call(this,a);this.vertexSrc=["attribute vec2 openfl_aPosition;","uniform mat3 openfl_uTranslationMatrix;","uniform mat3 openfl_uProjectionMatrix;","uniform mat3 openfl_uPatternMatrix;","varying vec2 vPosition;","void main(void) {","   gl_Position = vec4((openfl_uProjectionMatrix * openfl_uTranslationMatrix * vec3(openfl_aPosition, 1.0)).xy, 0.0, 1.0);","   vPosition = (openfl_uPatternMatrix * vec3(openfl_aPosition, 1)).xy;","}"];this.fragmentSrc=["#ifdef GL_ES","precision lowp float;",
"#endif","uniform float openfl_uAlpha;","uniform vec2 openfl_uPatternTL;","uniform vec2 openfl_uPatternBR;","uniform sampler2D openfl_uSampler0;","uniform vec4 openfl_uColorMultiplier;","uniform vec4 openfl_uColorOffset;","varying vec2 vPosition;","vec4 colorTransform(const vec4 color, const float alpha, const vec4 multiplier, const vec4 offset) {","   vec4 unmultiply = vec4(color.rgb / color.a, color.a);","   vec4 result = unmultiply * multiplier;","   result.a *= alpha;","   result = result + offset;",
"   result = clamp(result, 0., 1.);","   result = vec4(result.rgb * result.a, result.a);","   return result;","}","void main(void) {","   vec2 pos = mix(openfl_uPatternTL, openfl_uPatternBR, vPosition);","   vec4 tcol = texture2D(openfl_uSampler0, pos);","   gl_FragColor = colorTransform(tcol, openfl_uAlpha, openfl_uColorMultiplier, openfl_uColorOffset);","}"];this.init()};m["openfl._internal.renderer.opengl.shaders2.PatternFillShader"]=Pd;Pd.__name__=!0;Pd.__super__=T;Pd.prototype=x(T.prototype,
{init:function(a){null==a&&(a=!1);T.prototype.init.call(this,a);this.getAttribLocation("openfl_aPosition");this.getUniformLocation("openfl_uTranslationMatrix");this.getUniformLocation("openfl_uPatternMatrix");this.getUniformLocation("openfl_uProjectionMatrix");this.getUniformLocation("openfl_uSampler0");this.getUniformLocation("openfl_uPatternTL");this.getUniformLocation("openfl_uPatternBR");this.getUniformLocation("openfl_uAlpha");this.getUniformLocation("openfl_uColorMultiplier");this.getUniformLocation("openfl_uColorOffset")},
__class__:Pd});var Qd=function(a){T.call(this,a);this.vertexSrc=["attribute vec2 openfl_aPosition;","attribute vec4 openfl_aColor;","uniform mat3 openfl_uTranslationMatrix;","uniform mat3 openfl_uProjectionMatrix;","uniform vec4 openfl_uColorMultiplier;","uniform vec4 openfl_uColorOffset;","uniform float openfl_uAlpha;","varying vec4 vColor;","vec4 colorTransform(const vec4 color, const float alpha, const vec4 multiplier, const vec4 offset) {","   vec4 result = color * multiplier;","   result.a *= alpha;",
"   result = result + offset;","   result = clamp(result, 0., 1.);","   result = vec4(result.rgb * result.a, result.a);","   return result;","}","void main(void) {","   gl_Position = vec4((openfl_uProjectionMatrix * openfl_uTranslationMatrix * vec3(openfl_aPosition, 1.0)).xy, 0.0, 1.0);","   vColor = colorTransform(openfl_aColor, openfl_uAlpha, openfl_uColorMultiplier, openfl_uColorOffset);","}"];this.fragmentSrc="#ifdef GL_ES,precision lowp float;,#endif,varying vec4 vColor;,void main(void) {,   gl_FragColor = vColor;,}".split(",");
this.init()};m["openfl._internal.renderer.opengl.shaders2.PrimitiveShader"]=Qd;Qd.__name__=!0;Qd.__super__=T;Qd.prototype=x(T.prototype,{init:function(a){null==a&&(a=!1);T.prototype.init.call(this,a);this.getAttribLocation("openfl_aPosition");this.getAttribLocation("openfl_aColor");this.getUniformLocation("openfl_uTranslationMatrix");this.getUniformLocation("openfl_uProjectionMatrix");this.getUniformLocation("openfl_uAlpha");this.getUniformLocation("openfl_uColorMultiplier");this.getUniformLocation("openfl_uColorOffset")},
__class__:Qd});var Ie=function(a){this.gl=a;this.currentBlendMode=null};m["openfl._internal.renderer.opengl.utils.BlendModeManager"]=Ie;Ie.__name__=!0;Ie.prototype={setBlendMode:function(a,b){null==b&&(b=!1);null==a&&(a=A.NORMAL,b=!0);if(!b&&this.currentBlendMode==a)return!1;this.currentBlendMode=a;switch(a[1]){case 0:this.gl.blendEquation(32774);this.gl.blendFunc(1,1);break;case 9:this.gl.blendEquation(32774);this.gl.blendFunc(774,771);break;case 12:this.gl.blendEquation(32774);this.gl.blendFunc(1,
769);break;case 13:this.gl.blendEquation(32779);this.gl.blendFunc(1,1);break;default:this.gl.blendEquation(32774),this.gl.blendFunc(1,771)}return!0},__class__:Ie};var Ca=function(a){null==a&&(a=!0);this.type=I.Polygon;this.points=null;this.winding=0;this.isRemovable=!0;this.fillIndex=0;this.line=new Tc;this.fill=Ba.None;a&&(this.points=[])};m["openfl._internal.renderer.opengl.utils.DrawPath"]=Ca;Ca.__name__=!0;Ca.getStack=function(a,b){return k.build(a,b)};Ca.prototype={update:function(a,b,c,d){this.updateLine(a);
this.fill=b;this.fillIndex=c;this.winding=d},updateLine:function(a){this.line.width=a.width;this.line.color=a.color;this.line.alpha=null==a.alpha?1:a.alpha;this.line.scaleMode=null==a.scaleMode?U.NORMAL:a.scaleMode;this.line.caps=null==a.caps?ra.ROUND:a.caps;this.line.joints=null==a.joints?oa.ROUND:a.joints;this.line.miterLimit=a.miterLimit},__class__:Ca};var k=function(){};m["openfl._internal.renderer.opengl.utils.PathBuiler"]=k;k.__name__=!0;k.__currentPath=null;k.__drawPaths=null;k.__line=null;
k.__fill=null;k.closePath=function(){var a;a=null==k.__currentPath.points?0:k.__currentPath.points.length;if(!(0>=a)&&k.__currentPath.type==I.Polygon&&k.__currentPath.fill!=Ba.None){var b=k.__currentPath.points[0],c=k.__currentPath.points[1],d=k.__currentPath.points[a-1];b==k.__currentPath.points[a-2]&&c==d||k.lineTo(b,c)}};k.endFill=function(){k.__fill=Ba.None;k.__fillIndex++};k.lineTo=function(a,b){var c=k.__currentPath.points,d=!0;if(1<c.length){var e=c[c.length-1];c[c.length-2]==a&&e==b&&(d=!1)}1==
d&&(k.__currentPath.points.push(a),k.__currentPath.points.push(b))};k.build=function(a,b){var c=null,d=a.__bounds;k.__drawPaths=[];k.__currentPath=new Ca;k.__line=new Tc;k.__fill=Ba.None;k.__fillIndex=0;c=a.__glStack[wa.glContextId];null==c&&(c=a.__glStack[wa.glContextId]=new Je(b));if(a.__visible&&0!=a.__commands.get_length()&&null!=d&&0!=d.width&&0!=d.height){for(var d=new Jb(a.__commands),e=0,f=a.__commands.types;e<f.length;){var g=f[e];++e;switch(g[1]){case 0:d.advance();d.prev=t.BEGIN_BITMAP_FILL;
g=d;k.endFill();k.__fill=null!=g.buffer.o[g.oPos]?Ba.Texture(g.buffer.o[g.oPos],g.buffer.o[g.oPos+1],g.buffer.b[g.bPos],g.buffer.b[g.bPos+1]):Ba.None;if(null==k.__currentPath.points||0==k.__currentPath.points.length)!k.__currentPath.isRemovable||null!=k.__currentPath.points&&0!=k.__currentPath.points.length?k.closePath():k.__drawPaths.pop(),k.__currentPath=new Ca,k.__currentPath.update(k.__line,k.__fill,k.__fillIndex,k.__currentWinding),k.__currentPath.points=[],k.__currentPath.type=I.Polygon,k.__drawPaths.push(k.__currentPath);
break;case 1:d.advance();d.prev=t.BEGIN_FILL;g=d;k.endFill();k.__fill=0<g.buffer.f[g.fPos]?Ba.Color(g.buffer.i[g.iPos]&16777215,g.buffer.f[g.fPos]):Ba.None;if(null==k.__currentPath.points||0==k.__currentPath.points.length)!k.__currentPath.isRemovable||null!=k.__currentPath.points&&0!=k.__currentPath.points.length?k.closePath():k.__drawPaths.pop(),k.__currentPath=new Ca,k.__currentPath.update(k.__line,k.__fill,k.__fillIndex,k.__currentWinding),k.__currentPath.points=[],k.__currentPath.type=I.Polygon,
k.__drawPaths.push(k.__currentPath);break;case 3:d.advance();d.prev=t.CUBIC_CURVE_TO;g=d;if(null==k.__currentPath.points||0==k.__currentPath.points.length)!k.__currentPath.isRemovable||null!=k.__currentPath.points&&0!=k.__currentPath.points.length?k.closePath():k.__drawPaths.pop(),k.__currentPath=new Ca,k.__currentPath.update(k.__line,k.__fill,k.__fillIndex,k.__currentWinding),k.__currentPath.type=I.Polygon,k.__currentPath.points.push(0),k.__currentPath.points.push(0),k.__drawPaths.push(k.__currentPath);
ua.cubicCurveTo(k.__currentPath.points,g.buffer.f[g.fPos],g.buffer.f[g.fPos+1],g.buffer.f[g.fPos+3],g.buffer.f[g.fPos+4],g.buffer.f[g.fPos+5],g.buffer.f[g.fPos+6]);break;case 4:d.advance();d.prev=t.CURVE_TO;g=d;if(null==k.__currentPath.points||0==k.__currentPath.points.length)!k.__currentPath.isRemovable||null!=k.__currentPath.points&&0!=k.__currentPath.points.length?k.closePath():k.__drawPaths.pop(),k.__currentPath=new Ca,k.__currentPath.update(k.__line,k.__fill,k.__fillIndex,k.__currentWinding),
k.__currentPath.type=I.Polygon,k.__currentPath.points.push(0),k.__currentPath.points.push(0),k.__drawPaths.push(k.__currentPath);ua.curveTo(k.__currentPath.points,g.buffer.f[g.fPos],g.buffer.f[g.fPos+1],g.buffer.f[g.fPos+2],g.buffer.f[g.fPos+3]);break;case 5:d.advance();d.prev=t.DRAW_CIRCLE;g=d;!k.__currentPath.isRemovable||null!=k.__currentPath.points&&0!=k.__currentPath.points.length?k.closePath():k.__drawPaths.pop();k.__currentPath=new Ca;k.__currentPath.update(k.__line,k.__fill,k.__fillIndex,
k.__currentWinding);k.__currentPath.type=I.Circle;k.__currentPath.points=[g.buffer.f[g.fPos],g.buffer.f[g.fPos+1],g.buffer.f[g.fPos+2]];k.__drawPaths.push(k.__currentPath);break;case 6:d.advance();d.prev=t.DRAW_ELLIPSE;g=d;!k.__currentPath.isRemovable||null!=k.__currentPath.points&&0!=k.__currentPath.points.length?k.closePath():k.__drawPaths.pop();k.__currentPath=new Ca;k.__currentPath.update(k.__line,k.__fill,k.__fillIndex,k.__currentWinding);k.__currentPath.type=I.Ellipse;k.__currentPath.points=
[g.buffer.f[g.fPos],g.buffer.f[g.fPos+1],g.buffer.f[g.fPos+2],g.buffer.f[g.fPos+3]];k.__drawPaths.push(k.__currentPath);break;case 8:d.advance();d.prev=t.DRAW_RECT;g=d;!k.__currentPath.isRemovable||null!=k.__currentPath.points&&0!=k.__currentPath.points.length?k.closePath():k.__drawPaths.pop();k.__currentPath=new Ca;k.__currentPath.update(k.__line,k.__fill,k.__fillIndex,k.__currentWinding);k.__currentPath.type=I.Rectangle(!1);k.__currentPath.points=[g.buffer.f[g.fPos],g.buffer.f[g.fPos+1],g.buffer.f[g.fPos+
2],g.buffer.f[g.fPos+3]];k.__drawPaths.push(k.__currentPath);break;case 9:var p;d.advance();d.prev=t.DRAW_ROUND_RECT;p=d;var g=p.buffer.f[p.fPos],h=p.buffer.f[p.fPos+1],l=p.buffer.f[p.fPos+2],m=p.buffer.f[p.fPos+3],q=p.buffer.f[p.fPos+4];p=p.buffer.f[p.fPos+5];-1==p&&(p=q);q*=.5;p*=.5;q>l/2&&(q=l/2);p>m/2&&(p=m/2);!k.__currentPath.isRemovable||null!=k.__currentPath.points&&0!=k.__currentPath.points.length?k.closePath():k.__drawPaths.pop();k.__currentPath=new Ca;k.__currentPath.update(k.__line,k.__fill,
k.__fillIndex,k.__currentWinding);k.__currentPath.type=I.Rectangle(!0);k.__currentPath.points=[g,h,l,m,q,p];k.__drawPaths.push(k.__currentPath);break;case 12:d.advance();d.prev=t.END_FILL;k.endFill();break;case 15:d.advance();d.prev=t.LINE_STYLE;g=d;k.__line=new Tc;null==g.buffer.o[g.oPos]||isNaN(g.buffer.o[g.oPos])||0>g.buffer.o[g.oPos]?k.__line.width=0:k.__line.width=0==g.buffer.o[g.oPos]?1:g.buffer.o[g.oPos];!k.__currentPath.isRemovable||null!=k.__currentPath.points&&0!=k.__currentPath.points.length?
k.closePath():k.__drawPaths.pop();k.__line.color=null==g.buffer.o[g.oPos+1]?0:g.buffer.o[g.oPos+1];k.__line.alpha=null==g.buffer.o[g.oPos+2]?1:g.buffer.o[g.oPos+2];k.__line.scaleMode=g.buffer.o[g.oPos+4];k.__line.caps=g.buffer.o[g.oPos+5];k.__line.joints=g.buffer.o[g.oPos+6];k.__line.miterLimit=g.buffer.o[g.oPos+7];k.__currentPath=new Ca;k.__currentPath.update(k.__line,k.__fill,k.__fillIndex,k.__currentWinding);k.__currentPath.points=[];k.__currentPath.type=I.Polygon;k.__drawPaths.push(k.__currentPath);
break;case 16:d.advance();d.prev=t.LINE_TO;g=d;k.lineTo(g.buffer.f[g.fPos],g.buffer.f[g.fPos+1]);break;case 17:d.advance();d.prev=t.MOVE_TO;g=d;!k.__currentPath.isRemovable||null!=k.__currentPath.points&&0!=k.__currentPath.points.length?k.closePath():k.__drawPaths.pop();k.__currentPath=new Ca;k.__currentPath.update(k.__line,k.__fill,k.__fillIndex,k.__currentWinding);k.__currentPath.type=I.Polygon;k.__currentPath.points.push(g.buffer.f[g.fPos]);k.__currentPath.points.push(g.buffer.f[g.fPos+1]);k.__drawPaths.push(k.__currentPath);
break;case 11:d.advance();d.prev=t.DRAW_TRIANGLES;p=d;q=p.buffer.o[p.oPos+2];g=p.buffer.o[p.oPos];h=p.buffer.o[p.oPos+1];l=p.buffer.o[p.oPos+3];m=p.buffer.o[p.oPos+4];p=p.buffer.i[p.iPos];var n;switch(k.__fill[1]){case 1:n=!0;break;default:n=!1}if(n&&null!=q)continue;!k.__currentPath.isRemovable||null!=k.__currentPath.points&&0!=k.__currentPath.points.length?k.closePath():k.__drawPaths.pop();k.__currentPath=new Ca;k.__currentPath.update(k.__line,k.__fill,k.__fillIndex,k.__currentWinding);if(null==
q)switch(q=new xc,q.data=[],q.length=0,q.fixed=!1,n=k.__fill,n[1]){case 2:n=n[2];for(var u=0,r=g.length/2|0;u<r;){var v=u++;if(!q.fixed){q.length++;if(q.data.length<q.length){var x;x=Array(q.data.length+10);dc.blit(q.data,0,x,0,q.data.length);q.data=x}q.data[q.length-1]=g.data[2*v]/n.width}q.length;q.fixed||(q.length++,q.data.length<q.length&&(x=Array(q.data.length+10),dc.blit(q.data,0,x,0,q.data.length),q.data=x),q.data[q.length-1]=g.data[2*v+1]/n.height);q.length}}k.__currentPath.type=I.DrawTriangles(g,
h,q,l,m,p);k.__currentPath.isRemovable=!1;k.__drawPaths.push(k.__currentPath);break;case 10:d.advance();d.prev=t.DRAW_TILES;g=d;!k.__currentPath.isRemovable||null!=k.__currentPath.points&&0!=k.__currentPath.points.length?k.closePath():k.__drawPaths.pop();k.__fillIndex++;k.__currentPath=new Ca(!1);k.__currentPath.update(k.__line,k.__fill,k.__fillIndex,k.__currentWinding);k.__currentPath.type=I.DrawTiles(g.buffer.ts[g.tsPos],g.buffer.ff[g.ffPos],g.buffer.b[g.bPos],g.buffer.i[g.iPos],g.buffer.o[g.oPos],
g.buffer.i[g.iPos+1]);k.__currentPath.isRemovable=!1;k.__drawPaths.push(k.__currentPath);break;case 7:d.advance();d.prev=t.DRAW_PATH;g=d;!k.__currentPath.isRemovable||null!=k.__currentPath.points&&0!=k.__currentPath.points.length?k.closePath():k.__drawPaths.pop();switch(g.buffer.o[g.oPos+2]){case Sb.EVEN_ODD:k.__currentWinding=0;break;case Sb.NON_ZERO:k.__currentWinding=1;break;default:k.__currentWinding=0}l=h=0;for(m=g.buffer.o[g.oPos].length;l<m;)switch(q=l++,q=g.buffer.o[g.oPos].data[q],q){case 1:r=
g.buffer.o[g.oPos+1].data[h];v=g.buffer.o[g.oPos+1].data[h+1];h+=2;!k.__currentPath.isRemovable||null!=k.__currentPath.points&&0!=k.__currentPath.points.length?k.closePath():k.__drawPaths.pop();k.__currentPath=new Ca;k.__currentPath.update(k.__line,k.__fill,k.__fillIndex,k.__currentWinding);k.__currentPath.type=I.Polygon;k.__currentPath.points.push(r);k.__currentPath.points.push(v);k.__drawPaths.push(k.__currentPath);break;case 4:r=g.buffer.o[g.oPos+1].data[h+2];v=g.buffer.o[g.oPos+1].data[h+3];h+=
4;!k.__currentPath.isRemovable||null!=k.__currentPath.points&&0!=k.__currentPath.points.length?k.closePath():k.__drawPaths.pop();k.__currentPath=new Ca;k.__currentPath.update(k.__line,k.__fill,k.__fillIndex,k.__currentWinding);k.__currentPath.type=I.Polygon;k.__currentPath.points.push(r);k.__currentPath.points.push(v);k.__drawPaths.push(k.__currentPath);break;case 2:r=g.buffer.o[g.oPos+1].data[h];v=g.buffer.o[g.oPos+1].data[h+1];h+=2;k.lineTo(r,v);break;case 5:r=g.buffer.o[g.oPos+1].data[h+2];v=g.buffer.o[g.oPos+
1].data[h+3];h+=4;k.lineTo(r,v);break;case 3:q=g.buffer.o[g.oPos+1].data[h];p=g.buffer.o[g.oPos+1].data[h+1];r=g.buffer.o[g.oPos+1].data[h+2];v=g.buffer.o[g.oPos+1].data[h+3];h+=4;if(null==k.__currentPath.points||0==k.__currentPath.points.length)!k.__currentPath.isRemovable||null!=k.__currentPath.points&&0!=k.__currentPath.points.length?k.closePath():k.__drawPaths.pop(),k.__currentPath=new Ca,k.__currentPath.update(k.__line,k.__fill,k.__fillIndex,k.__currentWinding),k.__currentPath.type=I.Polygon,
k.__currentPath.points.push(0),k.__currentPath.points.push(0),k.__drawPaths.push(k.__currentPath);ua.curveTo(k.__currentPath.points,q,p,r,v);break;case 6:q=g.buffer.o[g.oPos+1].data[h];p=g.buffer.o[g.oPos+1].data[h+1];n=g.buffer.o[g.oPos+1].data[h+2];u=g.buffer.o[g.oPos+1].data[h+3];r=g.buffer.o[g.oPos+1].data[h+4];v=g.buffer.o[g.oPos+1].data[h+5];h+=6;if(null==k.__currentPath.points||0==k.__currentPath.points.length)!k.__currentPath.isRemovable||null!=k.__currentPath.points&&0!=k.__currentPath.points.length?
k.closePath():k.__drawPaths.pop(),k.__currentPath=new Ca,k.__currentPath.update(k.__line,k.__fill,k.__fillIndex,k.__currentWinding),k.__currentPath.type=I.Polygon,k.__currentPath.points.push(0),k.__currentPath.points.push(0),k.__drawPaths.push(k.__currentPath);ua.cubicCurveTo(k.__currentPath.points,q,p,n,u,r,v)}k.__currentWinding=0;break;case 18:d.advance();d.prev=t.OVERRIDE_MATRIX;g=d;!k.__currentPath.isRemovable||null!=k.__currentPath.points&&0!=k.__currentPath.points.length?k.closePath():k.__drawPaths.pop();
k.__currentPath=new Ca;k.__currentPath.update(k.__line,k.__fill,k.__fillIndex,k.__currentWinding);k.__currentPath.type=I.OverrideMatrix(g.buffer.o[g.oPos]);k.__currentPath.isRemovable=!1;k.__drawPaths.push(k.__currentPath);break;default:d.advance(),d.prev=g}}k.closePath();d.destroy()}a.__drawPaths=k.__drawPaths;return c};var Tc=function(){this.color=this.width=0;this.alpha=1;this.scaleMode=U.NORMAL;this.caps=ra.ROUND;this.joints=oa.ROUND;this.miterLimit=3};m["openfl._internal.renderer.opengl.utils.LineStyle"]=
Tc;Tc.__name__=!0;Tc.prototype={__class__:Tc};var Ba=m["openfl._internal.renderer.opengl.utils.FillType"]={__ename__:!0,__constructs__:["None","Color","Texture","Gradient"]};Ba.None=["None",0];Ba.None.toString=q;Ba.None.__enum__=Ba;Ba.Color=function(a,b){var c=["Color",1,a,b];c.__enum__=Ba;c.toString=q;return c};Ba.Texture=function(a,b,c,d){a=["Texture",2,a,b,c,d];a.__enum__=Ba;a.toString=q;return a};Ba.Gradient=["Gradient",3];Ba.Gradient.toString=q;Ba.Gradient.__enum__=Ba;var Ge=function(a,b){this.transparent=
b;this.filterStack=[];this.offsetY=this.offsetX=0;this.setContext(a)};m["openfl._internal.renderer.opengl.utils.FilterManager"]=Ge;Ge.__name__=!0;Ge.prototype={begin:function(a,b){this.renderSession=a;this.defaultShader=a.shaderManager.defaultShader;this.height=this.width=0;this.buffer=b},initShaderBuffers:function(){var a=this.gl;this.vertexBuffer=a.createBuffer();this.uvBuffer=a.createBuffer();this.colorBuffer=a.createBuffer();this.indexBuffer=a.createBuffer();var b=[0,0,1,0,0,1,1,1];this.vertexArray=
null!=b?new Float32Array(b):null;a.bindBuffer(a.ARRAY_BUFFER,this.vertexBuffer);a.bufferData(a.ARRAY_BUFFER,this.vertexArray,a.STATIC_DRAW);b=[0,0,1,0,0,1,1,1];this.uvArray=null!=b?new Float32Array(b):null;a.bindBuffer(a.ARRAY_BUFFER,this.uvBuffer);a.bufferData(a.ARRAY_BUFFER,this.uvArray,a.STATIC_DRAW);b=[1,16777215,1,16777215,1,16777215,1,16777215];this.colorArray=null!=b?new Float32Array(b):null;a.bindBuffer(a.ARRAY_BUFFER,this.colorBuffer);a.bufferData(a.ARRAY_BUFFER,this.colorArray,a.STATIC_DRAW);
a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,this.indexBuffer);a.bufferData(a.ELEMENT_ARRAY_BUFFER,function(a){a=[0,1,2,1,3,2];return null!=a?new Uint16Array(a):null}(this),a.STATIC_DRAW)},setContext:function(a){this.gl=a;this.texturePool=[];this.initShaderBuffers()},__class__:Ge};var Md=function(a){this.renderSession=a;this.setContext(a.gl);this.clips=[]};m["openfl._internal.renderer.opengl.utils.GLMaskManager"]=Md;Md.__name__=!0;Md.__super__=Cb;Md.prototype=x(Cb.prototype,{pushRect:function(a,b){if(null!=
a){var c=new R(b.a,b.b,b.c,b.d,b.tx,b.ty);Ea.flipMatrix(c,this.renderSession.renderer.viewport.height);var d=a.clone();d.__transform(d,c);null!=this.currentClip&&(d=this.currentClip.intersection(d));c=null==this.currentClip||d.isEmpty()||this.currentClip.containsRect(d);this.clips.push(d);this.currentClip=d;c&&(this.renderSession.spriteBatch.stop(),this.renderSession.spriteBatch.start(this.currentClip))}},pushMask:function(a){this.renderSession.spriteBatch.stop();this.renderSession.stencilManager.pushMask(a,
this.renderSession);this.renderSession.spriteBatch.start(this.currentClip)},popMask:function(){this.renderSession.spriteBatch.stop();this.renderSession.stencilManager.popMask(null,this.renderSession);this.renderSession.spriteBatch.start(this.currentClip)},popRect:function(){this.renderSession.spriteBatch.stop();this.clips.pop();this.currentClip=this.clips[this.clips.length-1];this.renderSession.spriteBatch.start(this.currentClip)},saveState:function(){this.savedClip=this.currentClip;this.currentClip=
null},restoreState:function(){this.currentClip=this.savedClip;this.savedClip=null},setContext:function(a){null!=this.renderSession&&(this.renderSession.gl=a);this.gl=a},__class__:Md});var nb=function(a,b,c,d,e){null==c&&(c=!1);this.enabled=!0;this.normalized=!1;this.components=a;this.type=b;this.normalized=c;this.name=d;this.defaultValue=null==e?null!=a?new Float32Array(a):null:e};m["openfl._internal.renderer.opengl.utils.VertexAttribute"]=nb;nb.__name__=!0;nb.prototype={copy:function(){return new nb(this.components,
this.type,this.normalized,this.name,this.defaultValue)},getElementsBytes:function(){switch(this.type){case 5120:case 5121:return 1;case 5122:case 5123:return 2;default:return 4}},__class__:nb};var O=function(a,b,c,d){null==d&&(d=0);null==c&&(c=0);null==b&&(b=0);null==a&&(a=0);this.x=a;this.y=b;this.width=c;this.height=d};m["openfl.geom.Rectangle"]=O;O.__name__=!0;O.prototype={clone:function(){return new O(this.x,this.y,this.width,this.height)},contains:function(a,b){return a>=this.x&&b>=this.y&&a<
this.get_right()&&b<this.get_bottom()},containsPoint:function(a){return this.contains(a.x,a.y)},containsRect:function(a){return 0>=a.width||0>=a.height?a.x>this.x&&a.y>this.y&&a.get_right()<this.get_right()&&a.get_bottom()<this.get_bottom():a.x>=this.x&&a.y>=this.y&&a.get_right()<=this.get_right()&&a.get_bottom()<=this.get_bottom()},copyFrom:function(a){this.x=a.x;this.y=a.y;this.width=a.width;this.height=a.height},intersection:function(a){var b;b=this.x<a.x?a.x:this.x;var c;c=this.get_right()>a.get_right()?
a.get_right():this.get_right();if(c<=b)return new O;var d;d=this.y<a.y?a.y:this.y;a=this.get_bottom()>a.get_bottom()?a.get_bottom():this.get_bottom();return a<=d?new O:new O(b,d,c-b,a-d)},intersects:function(a){var b;b=this.x<a.x?a.x:this.x;if((this.get_right()>a.get_right()?a.get_right():this.get_right())<=b)return!1;b=this.y<a.y?a.y:this.y;return(this.get_bottom()>a.get_bottom()?a.get_bottom():this.get_bottom())>b},isEmpty:function(){return 0>=this.width||0>=this.height},setEmpty:function(){this.x=
this.y=this.width=this.height=0},setTo:function(a,b,c,d){this.x=a;this.y=b;this.width=c;this.height=d},__expand:function(a,b,c,d){if(0==this.width&&0==this.height)this.x=a,this.y=b,this.width=c,this.height=d;else{var e=this.get_right(),f=this.get_bottom();this.x>a&&(this.x=a,this.width=e-a);this.y>b&&(this.y=b,this.height=f-b);e<a+c&&(this.width=a+c-this.x);f<b+d&&(this.height=b+d-this.y)}},__toLimeRectangle:function(){return new tc(this.x,this.y,this.width,this.height)},__transform:function(a,b){var c=
b.a*this.x+b.c*this.y,d=c,e=b.b*this.x+b.d*this.y,f=e,g=b.a*(this.x+this.width)+b.c*this.y,p=b.b*(this.x+this.width)+b.d*this.y;g<c&&(c=g);p<e&&(e=p);g>d&&(d=g);p>f&&(f=p);g=b.a*(this.x+this.width)+b.c*(this.y+this.height);p=b.b*(this.x+this.width)+b.d*(this.y+this.height);g<c&&(c=g);p<e&&(e=p);g>d&&(d=g);p>f&&(f=p);g=b.a*this.x+b.c*(this.y+this.height);p=b.b*this.x+b.d*(this.y+this.height);g<c&&(c=g);p<e&&(e=p);g>d&&(d=g);p>f&&(f=p);a.setTo(c+b.tx,e+b.ty,d-c,f-e)},get_bottom:function(){return this.y+
this.height},get_left:function(){return this.x},get_right:function(){return this.x+this.width},get_top:function(){return this.y},get_topLeft:function(){return new N(this.x,this.y)},__class__:O,__properties__:{get_topLeft:"get_topLeft",get_top:"get_top",get_right:"get_right",get_left:"get_left",get_bottom:"get_bottom"}};var y=function(){};m["openfl._internal.renderer.opengl.utils.GraphicsRenderer"]=y;y.__name__=!0;y.overrideMatrix=null;y.buildCircle=function(a,b,c){null==c&&(c=!1);var d=a.points,e=
d[0],f=d[1],g=d[2],d=3==d.length?g:d[3];a.type==I.Ellipse&&(g/=2,d/=2,e+=g,f+=d);c&&(e-=y.objectBounds.x,f-=y.objectBounds.y);c=2*Math.PI/40;b=y.prepareBucket(a,b);var p=b.getData(gb.Fill);if(null!=p){var h=p.verts,p=p.indices,k=h.length/2|0;p.push(k);for(var l=0;41>l;){var m=l++;h.push(e);h.push(f);h.push(e+Math.sin(c*m)*g);h.push(f+Math.cos(c*m)*d);p.push(k++);p.push(k++)}p.push(k-1)}0<a.line.width&&(c=a.points,a.points=[],ua.ellipse(a.points,e,f,g,d,40),y.buildLine(a,b),a.points=c)};y.buildComplexPoly=
function(a,b,c){null==c&&(c=!1);var d=null;if(6<=a.points.length){var e=a.points.slice();if(c)for(var d=0,f=e.length/2|0;d<f;){var g=d++;e[2*g]-=y.objectBounds.x;e[2*g+1]-=y.objectBounds.y}d=y.prepareBucket(a,b);f=d.getData(gb.Fill);f.drawMode=b.gl.TRIANGLE_FAN;f.verts=e;f=f.indices;e=e.length/2|0;for(g=0;g<e;){var h=g++;f.push(h)}}0<a.line.width&&(null==d&&(d=y.prepareBucket(a,b)),y.buildLine(a,d,c))};y.buildLine=function(a,b,c){null==c&&(c=!1);var d=a.points;if(0!=d.length){b=b.getData(gb.Line);
if(c){c=0;for(var e=d.length/2|0;c<e;){var f=c++;d[2*f]-=y.objectBounds.x;d[2*f+1]-=y.objectBounds.y}}e=new N(d[0],d[1]);f=new N(d[d.length-2|0],d[d.length-1|0]);e.x==f.x&&e.y==f.y&&(d=d.slice(),d.pop(),d.pop(),f=new N(d[d.length-2|0],d[d.length-1|0]),c=f.x+.5*(e.x-f.x),e=f.y+.5*(e.y-f.y),d.unshift(e),d.unshift(c),d.push(c),d.push(e));c=b.verts;b=b.indices;var g=d.length/2|0,e=d.length,f=c.length/6|0,h=a.line.width/2,k=y.hex2rgb(a.line.color);a=a.line.alpha;var l=k[0],m=k[1],k=k[2],q,n,t,u,r,v,x,
w,E,z,A,B,D,C;t=d[0];u=d[1];r=d[2];v=d[3];w=-(u-v);E=t-r;n=Math.sqrt(Math.abs(w*w+E*E));w=w/n*h;E=E/n*h;c.push(t-w);c.push(u-E);c.push(l);c.push(m);c.push(k);c.push(a);c.push(t+w);c.push(u+E);c.push(l);c.push(m);c.push(k);c.push(a);for(var F=1,G=g-1;F<G;)E=F++,t=d[2*(E-1)],u=d[2*(E-1)+1],r=d[2*E],v=d[2*E+1],q=d[2*(E+1)],x=d[2*(E+1)+1],w=-(u-v),E=t-r,n=Math.sqrt(Math.abs(w*w+E*E)),w/=n,E/=n,w*=h,E*=h,z=-(v-x),A=r-q,n=Math.sqrt(Math.abs(z*z+A*A)),z/=n,A/=n,z*=h,A*=h,n=-E+u-(-E+v),B=-w+r-(-w+t),t=(-w+
t)*(-E+v)-(-w+r)*(-E+u),u=-A+x-(-A+v),D=-z+r-(-z+q),x=(-z+q)*(-A+v)-(-z+r)*(-A+x),C=n*D-u*B,.1>Math.abs(C)?(c.push(r-w),c.push(v-E),c.push(l),c.push(m),c.push(k),c.push(a),c.push(r+w),c.push(v+E),c.push(l),c.push(m),c.push(k),c.push(a)):(q=(B*x-D*t)/C,n=(u*t-n*x)/C,B=(q-r)*(q-r)+(n-v)+(n-v),19600<B?(w-=z,E-=A,n=Math.sqrt(Math.abs(w*w+E*E)),w/=n,E/=n,w*=h,E*=h,c.push(r-w),c.push(v-E),c.push(l),c.push(m),c.push(k),c.push(a),c.push(r+w),c.push(v+E),c.push(l),c.push(m),c.push(k),c.push(a),c.push(r-w),
c.push(v-E),c.push(l),c.push(m),c.push(k),c.push(a),e++):(c.push(q),c.push(n),c.push(l),c.push(m),c.push(k),c.push(a),c.push(r-(q-r)),c.push(v-(n-v)),c.push(l),c.push(m),c.push(k),c.push(a)));t=d[2*(g-2)];u=d[2*(g-2)+1];r=d[2*(g-1)];v=d[2*(g-1)+1];w=-(u-v);E=t-r;n=Math.sqrt(Math.abs(w*w+E*E));isFinite(n)||hb.log(w*w+E*E);w/=n;E/=n;w*=h;E*=h;c.push(r-w);c.push(v-E);c.push(l);c.push(m);c.push(k);c.push(a);c.push(r+w);c.push(v+E);c.push(l);c.push(m);c.push(k);c.push(a);b.push(f);for(d=0;d<e;)d++,b.push(f++);
b.push(f-1)}};y.buildRectangle=function(a,b,c){null==c&&(c=!1);var d=a.points,e=d[0],f=d[1],g=d[2],d=d[3];c&&(e-=y.objectBounds.x,f-=y.objectBounds.y);b=y.prepareBucket(a,b);var h=b.getData(gb.Fill);if(null!=h){c=h.verts;var h=h.indices,k=c.length/2|0;c.push(e);c.push(f);c.push(e+g);c.push(f);c.push(e);c.push(f+d);c.push(e+g);c.push(f+d);h.push(k);h.push(k);h.push(k+1);h.push(k+2);h.push(k+3);h.push(k+3)}0<a.line.width&&(c=a.points,a.points=[e,f,e+g,f,e+g,f+d,e,f+d,e,f],y.buildLine(a,b),a.points=
c)};y.buildRoundedRectangle=function(a,b,c){null==c&&(c=!1);var d=a.points.slice(),e=d[0],f=d[1],g=d[2],h=d[3],k=d[4],d=d[5];c&&(e-=y.objectBounds.x,f-=y.objectBounds.y);c=[];ua.roundRectangle(c,e,f,g,h,k,d);b=y.prepareBucket(a,b);f=b.getData(gb.Fill);if(null!=f){e=f.verts;f=f.indices;g=e.length/2;h=[];yc.triangulate(h,c);for(k=0;k<h.length;)f.push(h[k]+g|0),f.push(h[k]+g|0),f.push(h[k+1]+g|0),f.push(h[k+2]+g|0),f.push(h[k+2]+g|0),k+=3;for(k=0;k<c.length;)e.push(c[k]),e.push(c[++k]),k++}0<a.line.width&&
(e=a.points,a.points=c,y.buildLine(a,b),a.points=e)};y.buildDrawTriangles=function(a,b,c,d){null==d&&(d=!1);var e=a.type.slice(2),f=e[0],g=e[1],h=e[2],k=e[3],e=e[4],l,m,q,n,t;d?(l=1,q=m=0,n=1,b=t=0):(l=b.__worldTransform.a,m=b.__worldTransform.b,q=b.__worldTransform.c,n=b.__worldTransform.d,t=b.__worldTransform.tx,b=b.__worldTransform.ty);var u=null!=e&&0<e.length;c=y.prepareBucket(a,c).getData(gb.Fill);a=c.vertexArray.attributes[2];a.enabled=u;var r=[1,1,1,1],r=null!=r?new Float32Array(r):null;a.defaultValue=
r;c.rawVerts=!0;c.glLength=g.length;c.stride=Y["int"](c.vertexArray.get_stride()/4);a=c.glLength*c.stride;null==c.glVerts||c.glVerts.length<a?(a=null!=a?new Float32Array(a):null,c.glVerts=a):a=c.glVerts;c=a.buffer;c=null!=c?new Uint32Array(c,0):null;for(var v=0,w=0,x=0,z=0,A=0,B=0,D=0,C=0,F=0,G=0,H=0,K=0,N=r=0,M=g.length/3|0;N<M;){B=N++;z=g.data[3*B];A=g.data[3*B+1];B=g.data[3*B+2];v=2*z;w=2*A;x=2*B;D=f.data[v];C=f.data[v+1];F=f.data[w];G=f.data[w+1];H=f.data[x];K=f.data[x+1];d&&(D-=y.objectBounds.x,
C-=y.objectBounds.y,F-=y.objectBounds.x,G-=y.objectBounds.y,H-=y.objectBounds.x,K-=y.objectBounds.y);switch(k[1]){case 2:if(!(0>(F-D)*(K-C)-(G-C)*(H-D)))continue;break;case 0:if(0>(F-D)*(K-C)-(G-C)*(H-D))continue}var P=r++;a[P]=l*D+q*C+t;P=r++;a[P]=m*D+n*C+b;D=r++;a[D]=h.data[v];D=r++;a[D]=h.data[v+1];u&&(v=r++,c[v]=e.data[z]);z=r++;a[z]=l*F+q*G+t;z=r++;a[z]=m*F+n*G+b;F=r++;a[F]=h.data[w];F=r++;a[F]=h.data[w+1];u&&(w=r++,c[w]=e.data[A]);A=r++;a[A]=l*H+q*K+t;A=r++;a[A]=m*H+n*K+b;H=r++;a[H]=h.data[x];
H=r++;a[H]=h.data[x+1];u&&(x=r++,c[x]=e.data[B])}};y.render=function(a,b){var c=a.__graphics,d=c.__bounds,e=c.__dirty;c.__visible&&0!=c.__commands.get_length()&&null!=d&&0!=d.width&&0!=d.height?(e&&y.updateGraphics(a,a.__graphics,b.gl,a.get_cacheAsBitmap()),y.renderGraphics(a,b,!1)):c.__glStack.splice(0,c.__glStack.length)};y.renderGraphics=function(a,b,c){null==c&&(c=!1);var d=b.gl,e=a.__graphics.__glStack[wa.glContextId];if(null!=e){var f,g;g=c?R.__identity:a.__worldTransform;for(var h=b.spriteBatch.clipRect,
k=b.spriteBatch.drawing,l=0,m=e.buckets.length;l<m;){f=l++;(k=b.spriteBatch.drawing)&&!c&&b.spriteBatch.finish();b.blendModeManager.setBlendMode(a.__blendMode);null!=h&&(d.enable(d.SCISSOR_TEST),d.scissor(Math.floor(h.x),Math.floor(h.y),Math.floor(h.width),Math.floor(h.height)));f=e.buckets[f];switch(f.mode[1]){case 1:case 2:b.stencilManager.pushBucket(f,b,g.toArray(!0));k=y.prepareShader(f,b,a,g.toArray(!0));y.renderFill(f,k,b);b.stencilManager.popBucket(a,f,b);break;case 5:k=y.prepareShader(f,b,
a,null);y.renderDrawTriangles(f,k,b);break;case 6:k||b.spriteBatch.begin(b,h),k=f.graphicType.slice(2),b.spriteBatch.renderTiles(a,k[0],k[1],k[2],k[3],k[4],k[5]),b.spriteBatch.finish()}var k=a.__worldColorTransform,q=0;for(f=f.lines;q<f.length;){var n=f[q];++q;if(null!=n&&0<n.verts.length){var r=b.shaderManager.primitiveShader;b.shaderManager.setShader(r);d.uniformMatrix3fv(r.getUniformLocation("openfl_uTranslationMatrix"),!1,g.toArray(!0));d.uniformMatrix3fv(r.getUniformLocation("openfl_uProjectionMatrix"),
!1,b.projectionMatrix.toArray(!0));d.uniform1f(r.getUniformLocation("openfl_uAlpha"),1);d.uniform4f(r.getUniformLocation("openfl_uColorMultiplier"),k.redMultiplier,k.greenMultiplier,k.blueMultiplier,k.alphaMultiplier);d.uniform4f(r.getUniformLocation("openfl_uColorOffset"),k.redOffset/255,k.greenOffset/255,k.blueOffset/255,k.alphaOffset/255);n.vertexArray.bind();r.bindVertexArray(n.vertexArray);d.bindBuffer(d.ELEMENT_ARRAY_BUFFER,n.indexBuffer);d.drawElements(d.TRIANGLE_STRIP,n.indices.length,d.UNSIGNED_SHORT,
0)}}null!=h&&d.disable(d.SCISSOR_TEST);(k=b.spriteBatch.drawing)||c||b.spriteBatch.begin(b,h)}}};y.updateGraphics=function(a,b,c,d){null==d&&(d=!1);y.objectPosition.setTo(a.get_x(),a.get_y());null==b.__bounds?y.objectBounds=new O:y.objectBounds.copyFrom(b.__bounds);var e=null;b.__dirty&&(e=Ca.getStack(b,c));b.set___dirty(!1);c=0;for(var f=e.buckets;c<f.length;){var g=f[c];++c;g.reset();y.bucketPool.push(g)}e.reset();c=e.lastIndex;for(f=b.__drawPaths.length;c<f;){var g=c++,g=b.__drawPaths[g],k=g.type;
switch(k[1]){case 0:y.buildComplexPoly(g,e,d);break;case 1:k[2]?y.buildRoundedRectangle(g,e,d):y.buildRectangle(g,e,d);break;case 2:case 3:y.buildCircle(g,e,d);break;case 4:y.buildDrawTriangles(g,a,e,d);break;case 5:y.prepareBucket(g,e);break;case 6:y.overrideMatrix=k[2]}e.lastIndex++}a=0;for(b=e.buckets;a<b.length;)d=b[a],++a,d.uploadTileBuffer&&d.uploadTile(Math.ceil(y.objectBounds.get_left()),Math.ceil(y.objectBounds.get_top()),Math.floor(y.objectBounds.get_right()),Math.floor(y.objectBounds.get_bottom())),
d.optimize();e.upload()};y.prepareBucket=function(a,b){var c=null,c=a.fill;switch(c[1]){case 1:var d=c[3],e=c[2],c=y.switchBucket(a.fillIndex,b,da.Fill);c.color=null==e?[1,1,1]:[(e>>16&255)/255,(e>>8&255)/255,(e&255)/255];c.color[3]=d;c.uploadTileBuffer=!0;break;case 2:var d=c[5],e=c[4],f=c[3],g=c[2],c=y.switchBucket(a.fillIndex,b,da.PatternFill);c.bitmap=g;c.textureRepeat=e;c.textureSmooth=d;c.texture=g.getTexture(b.gl);c.uploadTileBuffer=!0;d=null==f?new R:new R(f.a,f.b,f.c,f.d,f.tx,f.ty);d.invert();
d.scale(1/g.width,1/g.height);e=d.tx;f=d.ty;d.tx=0;d.ty=0;c.textureTL.x=e;c.textureTL.y=f;c.textureBR.x=e+1;c.textureBR.y=f+1;c.textureMatrix=d;break;default:c=y.switchBucket(a.fillIndex,b,da.Line),c.uploadTileBuffer=!1}switch(a.type[1]){case 4:c.mode=da.DrawTriangles;c.uploadTileBuffer=!1;break;case 5:c.mode=da.DrawTiles,c.uploadTileBuffer=!1}c.graphicType=a.type;c.overrideMatrix=y.overrideMatrix;return c};y.getBucket=function(a,b){var c=y.bucketPool.pop();null==c&&(c=new Ke(a.gl));c.mode=b;a.buckets.push(c);
return c};y.switchBucket=function(a,b,c){for(var d=null,e=0,f=b.buckets;e<f.length;){var g=f[e];++e;if(g.fillIndex==a){d=g;break}}null==d&&(d=y.getBucket(b,c));d.dirty=!0;d.fillIndex=a;return d};y.prepareShader=function(a,b,c,d){var e=b.gl,f=null;switch(a.mode[1]){case 1:f=b.shaderManager.fillShader;break;case 2:f=b.shaderManager.patternFillShader;break;case 5:f=b.shaderManager.drawTrianglesShader;break;default:f=null}if(null==f)return null;b.shaderManager.setShader(f);e.uniform1f(f.getUniformLocation("openfl_uAlpha"),
c.__worldAlpha);e.uniformMatrix3fv(f.getUniformLocation("openfl_uProjectionMatrix"),!1,b.projectionMatrix.toArray(!0));b=c.__worldColorTransform;e.uniform4f(f.getUniformLocation("openfl_uColorMultiplier"),b.redMultiplier,b.greenMultiplier,b.blueMultiplier,b.alphaMultiplier);e.uniform4f(f.getUniformLocation("openfl_uColorOffset"),b.redOffset/255,b.greenOffset/255,b.blueOffset/255,b.alphaOffset/255);switch(a.mode[1]){case 1:e.uniformMatrix3fv(f.getUniformLocation("openfl_uTranslationMatrix"),!1,d);
e.uniform4fv(f.getUniformLocation("openfl_uColor"),function(b){b=a.color;return null!=b?new Float32Array(b):null}(this));break;case 2:e.uniformMatrix3fv(f.getUniformLocation("openfl_uTranslationMatrix"),!1,d);e.uniform2f(f.getUniformLocation("openfl_uPatternTL"),a.textureTL.x,a.textureTL.y);e.uniform2f(f.getUniformLocation("openfl_uPatternBR"),a.textureBR.x,a.textureBR.y);e.uniformMatrix3fv(f.getUniformLocation("openfl_uPatternMatrix"),!1,a.textureMatrix.toArray(!0));break;case 5:null!=a.texture?
e.uniform1i(f.getUniformLocation("openfl_uUseTexture"),1):(e.uniform1i(f.getUniformLocation("openfl_uUseTexture"),0),e.uniform4fv(f.getUniformLocation("openfl_uColor"),function(b){b=a.color;return null!=b?new Float32Array(b):null}(this)))}return f};y.renderFill=function(a,b,c){c=c.gl;a.mode==da.PatternFill&&null!=a.texture&&y.bindTexture(c,a);c.bindBuffer(c.ARRAY_BUFFER,a.tileBuffer);c.vertexAttribPointer(b.getAttribLocation("openfl_aPosition"),4,c.SHORT,!1,0,0);c.drawArrays(c.TRIANGLE_STRIP,0,4)};
y.renderDrawTriangles=function(a,b,c){c=c.gl;for(var d=0,e=a.fills;d<e.length;){var f=e[d];++d;f.available||(y.bindTexture(c,a),f.vertexArray.bind(),b.bindVertexArray(f.vertexArray),c.drawArrays(c.TRIANGLES,f.glStart,f.glLength))}};y.bindTexture=function(a,b){a.bindTexture(a.TEXTURE_2D,b.texture);b.textureRepeat&&b.bitmap.image.get_powerOfTwo()?(a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_S,a.REPEAT),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_T,a.REPEAT)):(a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_S,
a.CLAMP_TO_EDGE),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_T,a.CLAMP_TO_EDGE));b.textureSmooth?(a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.LINEAR),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.LINEAR)):(a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.NEAREST),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.NEAREST))};y.hex2rgb=function(a){return null==a?[1,1,1]:[(a>>16&255)/255,(a>>8&255)/255,(a&255)/255]};var Je=function(a){this.lastIndex=0;this.gl=a;this.buckets=[];this.lastIndex=
0};m["openfl._internal.renderer.opengl.utils.GLStack"]=Je;Je.__name__=!0;Je.prototype={reset:function(){this.buckets=[];this.lastIndex=0},upload:function(){for(var a=0,b=this.buckets;a<b.length;){var c=b[a];++a;c.dirty&&c.upload()}},__class__:Je};var Ke=function(a){this.textureSmooth=this.uploadTileBuffer=!0;this.textureRepeat=!1;this.lines=[];this.fills=[];this.fillIndex=-1;this.gl=a;this.color=[0,0,0];this.lastIndex=0;this.alpha=1;this.dirty=!0;this.mode=da.Fill;this.textureMatrix=new R;this.textureTL=
new N;this.textureBR=new N(1,1)};m["openfl._internal.renderer.opengl.utils.GLBucket"]=Ke;Ke.__name__=!0;Ke.prototype={getData:function(a){var b;switch(a[1]){case 1:b=this.fills;break;default:b=this.lines}for(var c=null,d=!1,e=0;e<b.length;){var f=b[e];++e;if(f.available){c=f;d=!0;break}}null==c&&(c=new Le(this.gl));c.available=!1;c.parent=this;c.type=a;d&&D.remove(b,c);b.push(c);switch(a[1]){case 1:switch(this.mode[1]){case 1:case 2:c.vertexArray.attributes=y.fillVertexAttributes;break;case 5:c.vertexArray.attributes=
y.drawTrianglesVertexAttributes.slice(),c.vertexArray.attributes[2]=c.vertexArray.attributes[2].copy()}break;case 0:c.vertexArray.attributes=y.primitiveVertexAttributes}return c},optimize:function(){var a=this.lines;if(1<a.length){for(var b=[],c=null,d=null,e=0,f=0,g=0,k=0;k<a.length;){var h=a[k];++k;if(h.available||h.rawVerts||h.rawIndices)null!=c&&(b.push(c),c=null),b.push(h);else if(null==d||d.drawMode==h.drawMode){if(null==c)c=h;else{for(var f=c.verts.length,g=c.indices.length,d=0,l=h.verts.length;d<
l;){var m=d++;c.verts[m+f]=h.verts[m]}f=0;for(d=h.indices.length;f<d;)l=f++,c.indices[l+g]=h.indices[l]+e}e=c.indices[c.indices.length-1]+1}else null!=c&&(b.push(c),c=null),b.push(h);d=h}0==b.length&&null!=c&&b.push(c);if(0<b.length)switch(gb.Line[1]){case 1:this.fills=b;break;default:this.lines=b}}},reset:function(){for(var a=0,b=this.fills;a<b.length;){var c=b[a];++a;c.reset()}a=0;for(b=this.lines;a<b.length;)c=b[a],++a,c.reset();this.fillIndex=-1;this.uploadTileBuffer=!0;this.graphicType=I.Polygon},
uploadTile:function(a,b,c,d){null==this.tileBuffer&&(this.tileBuffer=this.gl.createBuffer());a=this.tile=[a,b,0,0,c,b,1,0,a,d,0,1,c,d,1,1];this.glTile=null!=a?new Int16Array(a):null;this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.tileBuffer);this.gl.bufferData(this.gl.ARRAY_BUFFER,this.glTile,this.gl.STATIC_DRAW)},upload:function(){if(this.mode!=da.Line)for(var a=0,b=this.fills;a<b.length;){var c=b[a];++a;c.available||c.upload()}a=0;for(b=this.lines;a<b.length;)c=b[a],++a,c.available||c.upload();this.dirty=
!1},__class__:Ke};var Le=function(a){this.rawIndices=this.available=!1;this.stride=0;this.rawVerts=!1;this.glLength=this.glStart=this.lastVertsSize=0;this.gl=a;this.drawMode=a.TRIANGLE_STRIP;this.verts=[];this.indices=[];this.vertexArray=new Rd([])};m["openfl._internal.renderer.opengl.utils.GLBucketData"]=Le;Le.__name__=!0;Le.prototype={reset:function(){this.available=!0;this.verts=[];this.indices=[];this.stride=this.glStart=this.glLength=0;this.rawIndices=this.rawVerts=!1;this.drawMode=this.gl.TRIANGLE_STRIP},
upload:function(){if(this.rawVerts&&null!=this.glVerts&&0<this.glVerts.length||0<this.verts.length){if(!this.rawVerts){var a=this.verts;this.glVerts=null!=a?new Float32Array(a):null}this.vertexArray.buffer=this.glVerts.buffer;this.glVerts.length<=this.lastVertsSize?(this.vertexArray.bind(),a=this.glLength*this.stride,0<this.glLength&&this.lastVertsSize>a?(a=this.glVerts.subarray(0,a),this.vertexArray.upload(a)):this.vertexArray.upload(this.glVerts)):(this.vertexArray.setContext(this.gl,this.glVerts),
this.lastVertsSize=this.glVerts.length)}0==this.glLength&&(this.rawIndices&&null!=this.glIndices&&0<this.glIndices.length||0<this.indices.length)&&(null==this.indexBuffer&&(this.indexBuffer=this.gl.createBuffer()),this.rawIndices||(a=this.indices,this.glIndices=null!=a?new Uint16Array(a):null),this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.indexBuffer),this.gl.bufferData(this.gl.ELEMENT_ARRAY_BUFFER,this.glIndices,this.gl.STREAM_DRAW))},__class__:Le};var da=m["openfl._internal.renderer.opengl.utils.BucketMode"]=
{__ename__:!0,__constructs__:"None Fill PatternFill Line PatternLine DrawTriangles DrawTiles".split(" ")};da.None=["None",0];da.None.toString=q;da.None.__enum__=da;da.Fill=["Fill",1];da.Fill.toString=q;da.Fill.__enum__=da;da.PatternFill=["PatternFill",2];da.PatternFill.toString=q;da.PatternFill.__enum__=da;da.Line=["Line",3];da.Line.toString=q;da.Line.__enum__=da;da.PatternLine=["PatternLine",4];da.PatternLine.toString=q;da.PatternLine.__enum__=da;da.DrawTriangles=["DrawTriangles",5];da.DrawTriangles.toString=
q;da.DrawTriangles.__enum__=da;da.DrawTiles=["DrawTiles",6];da.DrawTiles.toString=q;da.DrawTiles.__enum__=da;var gb=m["openfl._internal.renderer.opengl.utils.BucketDataType"]={__ename__:!0,__constructs__:["Line","Fill"]};gb.Line=["Line",0];gb.Line.toString=q;gb.Line.__enum__=gb;gb.Fill=["Fill",1];gb.Fill.toString=q;gb.Fill.__enum__=gb;var yf=function(){};m["openfl._internal.renderer.opengl.utils.GLGraphicsData"]=yf;yf.__name__=!0;var I=m["openfl._internal.renderer.opengl.utils.GraphicType"]={__ename__:!0,
__constructs__:"Polygon Rectangle Circle Ellipse DrawTriangles DrawTiles OverrideMatrix".split(" ")};I.Polygon=["Polygon",0];I.Polygon.toString=q;I.Polygon.__enum__=I;I.Rectangle=function(a){a=["Rectangle",1,a];a.__enum__=I;a.toString=q;return a};I.Circle=["Circle",2];I.Circle.toString=q;I.Circle.__enum__=I;I.Ellipse=["Ellipse",3];I.Ellipse.toString=q;I.Ellipse.__enum__=I;I.DrawTriangles=function(a,b,c,d,e,f){a=["DrawTriangles",4,a,b,c,d,e,f];a.__enum__=I;a.toString=q;return a};I.DrawTiles=function(a,
b,c,d,e,f){a=["DrawTiles",5,a,b,c,d,e,f];a.__enum__=I;a.toString=q;return a};I.OverrideMatrix=function(a){a=["OverrideMatrix",6,a];a.__enum__=I;a.toString=q;return a};var Ee=function(a,b,c,d,e){null==e&&(e=!0);null==d&&(d=!0);this.__swapped=!1;this.powerOfTwo=!0;this.useOldTexture=!1;this.gl=a;this.width=b;this.height=c;this.smoothing=d;this.powerOfTwo=e;this.set_renderTexture(new Sd(a,b,c,d,e))};m["openfl._internal.renderer.opengl.utils.PingPongTexture"]=Ee;Ee.__name__=!0;Ee.prototype={swap:function(){this.__swapped=
!this.__swapped;null==(this.__swapped?this.__texture1:this.__texture0)&&this.set_renderTexture(new Sd(this.gl,this.width,this.height,this.smoothing,this.powerOfTwo))},resize:function(a,b){this.width=a;this.height=b;(this.__swapped?this.__texture1:this.__texture0).resize(a,b)},get_renderTexture:function(){return this.__swapped?this.__texture1:this.__texture0},set_renderTexture:function(a){return this.__swapped?this.__texture1=a:this.__texture0=a},get_oldRenderTexture:function(){return this.__swapped?
this.__texture0:this.__texture1},set_oldRenderTexture:function(a){return this.__swapped?this.__texture0=a:this.__texture1=a},get_framebuffer:function(){return(this.__swapped?this.__texture1:this.__texture0).frameBuffer},get_texture:function(){return this.useOldTexture?(this.__swapped?this.__texture0:this.__texture1).texture:(this.__swapped?this.__texture1:this.__texture0).texture},__class__:Ee,__properties__:{get_texture:"get_texture",get_framebuffer:"get_framebuffer",set_oldRenderTexture:"set_oldRenderTexture",
get_oldRenderTexture:"get_oldRenderTexture",set_renderTexture:"set_renderTexture",get_renderTexture:"get_renderTexture"}};var Sd=function(a,b,c,d,e){null==e&&(e=!0);null==d&&(d=!0);this.powerOfTwo=!0;this.gl=a;this.powerOfTwo=e;this.frameBuffer=a.createFramebuffer();this.texture=a.createTexture();a.bindTexture(a.TEXTURE_2D,this.texture);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,d?a.LINEAR:a.NEAREST);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,d?a.LINEAR:a.NEAREST);a.texParameteri(a.TEXTURE_2D,
a.TEXTURE_WRAP_S,a.CLAMP_TO_EDGE);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_T,a.CLAMP_TO_EDGE);a.bindFramebuffer(a.FRAMEBUFFER,this.frameBuffer);a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,this.texture,0);this.renderBuffer=a.createRenderbuffer();a.bindRenderbuffer(a.RENDERBUFFER,this.renderBuffer);a.framebufferRenderbuffer(a.FRAMEBUFFER,a.DEPTH_STENCIL_ATTACHMENT,a.RENDERBUFFER,this.renderBuffer);this.resize(b,c)};m["openfl._internal.renderer.opengl.utils.RenderTexture"]=
Sd;Sd.__name__=!0;Sd.prototype={clear:function(a,b,c,d,e){null==d&&(d=0);null==c&&(c=0);null==b&&(b=0);null==a&&(a=0);this.gl.clearColor(a,b,c,d);this.gl.clear(null==e?this.gl.COLOR_BUFFER_BIT:e)},resize:function(a,b){if(this.width!=a||this.height!=b){this.width=a;this.height=b;var c=a,d=b;this.powerOfTwo&&(c=this.powOfTwo(a),d=this.powOfTwo(b));var e=this.__width,f=this.__height;this.__width=c;this.__height=d;this.createUVs();if(e!=c||f!=d)this.gl.bindTexture(this.gl.TEXTURE_2D,this.texture),this.gl.texImage2D(this.gl.TEXTURE_2D,
0,this.gl.RGBA,this.__width,this.__height,0,this.gl.RGBA,this.gl.UNSIGNED_BYTE,null),this.gl.bindRenderbuffer(this.gl.RENDERBUFFER,this.renderBuffer),this.gl.renderbufferStorage(this.gl.RENDERBUFFER,this.gl.DEPTH_STENCIL,this.__width,this.__height)}},createUVs:function(){null==this.__uvData&&(this.__uvData=new Td);var a=this.width/this.__width,b=this.height/this.__height;this.__uvData.x0=0;this.__uvData.y0=0;this.__uvData.x1=a;this.__uvData.y1=0;this.__uvData.x2=a;this.__uvData.y2=b;this.__uvData.x3=
0;this.__uvData.y3=b},powOfTwo:function(a){for(var b=1;b<a;)b<<=1;return b},__class__:Sd};var Sc=function(a){this.setContext(a)};m["openfl._internal.renderer.opengl.utils.ShaderManager"]=Sc;Sc.__name__=!0;Sc.prototype={setContext:function(a){this.gl=a;this.defaultShader=new hc(a);this.fillShader=new Od(a);this.patternFillShader=new Pd(a);this.drawTrianglesShader=new Nd(a);this.primitiveShader=new Qd(a);this.setShader(this.defaultShader,!0)},setShader:function(a,b){null==b&&(b=!1);if(null==a)return this.currentShader=
null,this.gl.useProgram(null),!0;if(null!=this.currentShader&&!b&&this.currentShader.ID==a.ID)return!1;this.currentShader=a;this.gl.useProgram(a.program);return!0},__class__:Sc};var Fe=function(a,b){null==b&&(b=2E3);this.enableColor=this.lastEnableColor=!0;this.attributes=[];this.writtenVertexBytes=0;this.drawing=!1;this.dirty=!0;this.states=[];this.maxSprites=b;this.attributes.push(new nb(2,5126,!1,"openfl_aPosition"));this.attributes.push(new nb(2,5126,!1,"openfl_aTexCoord0"));this.attributes.push(new nb(4,
5121,!0,"openfl_aColor"));var c=[1,1,1,1],c=null!=c?new Float32Array(c):null;this.attributes[2].defaultValue=c;for(var c=this.maxElementsPerVertex=0,d=this.attributes;c<d.length;){var e=d[c];++c;this.maxElementsPerVertex+=Math.floor(e.components*e.getElementsBytes()/4)}this.vertexArraySize=b*this.maxElementsPerVertex*16;this.indexArraySize=6*b;this.vertexArray=new Rd(this.attributes,this.vertexArraySize,!1);c=this.vertexArray.buffer;this.positions=null!=c?new Float32Array(c,0):null;c=this.vertexArray.buffer;
this.colors=null!=c?new Uint32Array(c,0):null;c=this.indexArraySize;this.indices=null!=c?new Uint16Array(c):null;for(d=c=0;c<this.indexArraySize;)this.indices[c]=d,this.indices[c+1]=d+1,this.indices[c+2]=d+2,this.indices[c+3]=d,this.indices[c+4]=d+2,this.indices[c+5]=d+3,c+=6,d+=4;this.currentState=new Ud;this.dirty=!0;this.drawing=!1;this.batchedSprites=0;this.setContext(a)};m["openfl._internal.renderer.opengl.utils.SpriteBatch"]=Fe;Fe.__name__=!0;Fe.prototype={begin:function(a,b){this.renderSession=
a;this.shader=a.shaderManager.defaultShader;this.drawing=!0;this.start(b)},finish:function(){this.stop();this.clipRect=null;this.drawing=!1},start:function(a){this.drawing||this.stop();this.dirty=!0;this.clipRect=a},stop:function(){this.flush()},renderBitmapData:function(a,b,c,d,e,f,g,h,k){null==e&&(e=1);if(null!=a){k=a.getTexture(this.gl);this.batchedSprites>=this.maxSprites&&this.flush();var l=a.__uvData;null!=l&&(this.prepareShader(g,a),e=((255*e|0)&255)<<24|16777215,this.enableColor=!0,this.enableColor!=
this.lastEnableColor&&(this.flush(),this.lastEnableColor=this.enableColor),this.attributes[2].enabled=this.lastEnableColor,this.elementsPerVertex=this.getElementsPerVertex(),this.fillVertices(4*this.batchedSprites*this.elementsPerVertex,a.width,a.height,c,l,e,h),this.setState(this.batchedSprites,k,b,f,d,g,!0),this.batchedSprites++)}},renderTiles:function(a,b,c,d,e,f,g){null==g&&(g=-1);null==e&&(e=0);null==d&&(d=!1);var h=b.__bitmap.getTexture(this.gl);if(null!=h){var k=0<(e&1),l=0<(e&2),m=0<(e&16),
q=0<(e&4),n=0<(e&8),r=0<(e&32),t=0<(e&64);switch(e&983040){case 65536:e=A.ADD;break;case 131072:e=A.MULTIPLY;break;case 262144:e=A.SCREEN;break;case 524288:e=A.SUBTRACT;break;default:switch(e&15728640){case 1048576:e=A.DARKEN;break;case 2097152:e=A.LIGHTEN;break;case 4194304:e=A.OVERLAY;break;case 8388608:e=A.HARDLIGHT;break;default:switch(e&251658240){case 16777216:e=A.DIFFERENCE;break;case 33554432:e=A.INVERT;break;default:e=A.NORMAL}}}m&&(l=k=!1);var u=0,v=0,w=0,x=0,z=0,y=3;r&&(y=t?8:6);k&&(u=
y,y++);l&&(v=y,y++);m&&(z=y,y+=4);q&&(w=y,y+=3);n&&(x=y,y++);var D=c.length;0<=g&&D>g&&(D=g);Math.ceil(D/y);g=0;var B=-1,C=b.__rectTile,F=b.__rectUV,H=b.__point,G=0,K=0,N=1,P=16777215,M=1,L=0,O=1,S=O=L=0,T=G=L=M=0,U=0,T=0,Q=a.__worldTransform,I=0,K=1,R=0,O=0,M=1,G=L=0,V=Q.a,W=Q.b,X=Q.c,Z=Q.d,ba=Q.tx,Q=Q.ty,Y=B=I=R=0,aa=0,F=0;this.enableColor=!0;this.enableColor!=this.lastEnableColor&&(this.flush(),this.lastEnableColor=this.enableColor);this.attributes[2].enabled=this.lastEnableColor;this.elementsPerVertex=
this.getElementsPerVertex();for(this.prepareShader(f,null);g<D;)this.batchedSprites>=this.maxSprites&&this.flush(),G=c[g],K=c[g+1],r?(C.x=c[g+2],C.y=c[g+3],C.width=c[g+4],C.height=c[g+5],t?(H.x=c[g+6],H.y=c[g+7]):(H.x=0,H.y=0),R=C.width,I=C.height,B=C.get_left()/b.__bitmap.width,Y=C.get_top()/b.__bitmap.height,aa=C.get_right()/b.__bitmap.width,F=C.get_bottom()/b.__bitmap.height):(B=(null==c[g+2]?0:c[g+2])|0,C=b.__tileRects[B],H=b.__centerPoints[B],F=b.__tileUVs[B],R=C.width,I=C.height,B=F.x,Y=F.y,
aa=F.width,F=F.height),null!=C&&0<C.width&&0<C.height&&null!=H&&(P=16777215,O=M=1,L=0,N=n?c[g+x]*a.__worldAlpha:a.__worldAlpha,q&&(P=(255*c[g+w]|0)<<16|(255*c[g+w+1]|0)<<8|255*c[g+w+2]|0),k&&(M=c[g+u]),l&&(L=c[g+v],O=Math.cos(L),L=Math.sin(L)),m?(O=c[g+z],S=c[g+z+1],M=c[g+z+2],L=c[g+z+3]):(O*=M,S=M*L,M=-S,L=O),U=H.x*O+H.y*M,T=H.x*S+H.y*L,G-=U,T=K-T,K=(O*V+S*X)*R,R*=O*W+S*Z,O=(M*V+L*X)*I,M=(M*W+L*Z)*I,L=G*V+T*X+ba,G=G*W+T*Z+Q,I=4*this.batchedSprites*this.elementsPerVertex,this.positions[I]=L,this.positions[I+
1]=G,this.positions[I+5]=K+L,this.positions[I+6]=R+G,this.positions[I+10]=K+O+L,this.positions[I+11]=M+R+G,this.positions[I+15]=O+L,this.positions[I+16]=M+G,N=this.colors[I+19]=((255*N|0)&255)<<24|P,N=this.colors[I+14]=N,N=this.colors[I+9]=N,this.colors[I+4]=N,this.positions[I+2]=B,this.positions[I+3]=Y,this.positions[I+7]=aa,this.positions[I+8]=Y,this.positions[I+12]=aa,this.positions[I+13]=F,this.positions[I+17]=B,this.positions[I+18]=F,this.writtenVertexBytes=I+20,this.setState(this.batchedSprites,
h,d,e,a.__worldColorTransform,f,!1),this.batchedSprites++),g+=y}},fillVertices:function(a,b,c,d,e,f,g){null==f&&(f=-1);var h=d.a,k=d.b,l=d.c,m=d.d,q=d.tx;d=d.ty;null==g||g==Sa.NEVER?(this.positions[a]=q,this.positions[a+1]=d,this.positions[a+5]=h*b+q,this.positions[a+6]=k*b+d,this.positions[a+10]=h*b+l*c+q,this.positions[a+11]=m*c+k*b+d,this.positions[a+15]=l*c+q,this.positions[a+16]=m*c+d):(g=Math.round(q),this.positions[a]=g,g=Math.round(d),this.positions[a+1]=g,g=Math.round(h*b+q),this.positions[a+
5]=g,g=Math.round(k*b+d),this.positions[a+6]=g,h=Math.round(h*b+l*c+q),this.positions[a+10]=h,b=Math.round(m*c+k*b+d),this.positions[a+11]=b,l=Math.round(l*c+q),this.positions[a+15]=l,c=Math.round(m*c+d),this.positions[a+16]=c);this.enableColor&&(f=this.colors[a+19]=f,f=this.colors[a+14]=f,f=this.colors[a+9]=f,this.colors[a+4]=f);this.positions[a+2]=e.x0;this.positions[a+3]=e.y0;this.positions[a+7]=e.x1;this.positions[a+8]=e.y1;this.positions[a+12]=e.x2;this.positions[a+13]=e.y2;this.positions[a+
17]=e.x3;this.positions[a+18]=e.y3;this.writtenVertexBytes=a+20},flush:function(){if(0!=this.batchedSprites){null!=this.clipRect&&(this.gl.enable(this.gl.SCISSOR_TEST),this.gl.scissor(Math.floor(this.clipRect.x),Math.floor(this.clipRect.y),Math.ceil(this.clipRect.width),Math.ceil(this.clipRect.height)));this.dirty&&(this.dirty=!1,this.renderSession.activeTextures=1,this.vertexArray.bind(),this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.indexBuffer));if(this.writtenVertexBytes>.5*this.vertexArraySize)this.vertexArray.upload(this.positions);
else{var a=this.positions.subarray(0,this.writtenVertexBytes);this.vertexArray.upload(a)}var b=0,c=0;this.currentState.shader=null;this.currentState.shaderData=null;this.currentState.texture=null;this.currentState.textureSmooth=!1;this.currentState.blendMode=this.renderSession.blendModeManager.currentBlendMode;this.currentState.colorTransform=null;this.currentState.skipColorTransformAlpha=!1;for(var d=0,e=this.batchedSprites;d<e;){var f=d++,a=this.states[f];this.currentState.skipColorTransformAlpha=
a.skipColorTransformAlpha;a.equals(this.currentState)||(this.renderBatch(this.currentState,b,c),c=f,b=0,this.currentState.shader=a.shader,this.currentState.shaderData=a.shaderData,this.currentState.texture=a.texture,this.currentState.textureSmooth=a.textureSmooth,this.currentState.blendMode=a.blendMode,this.currentState.colorTransform=a.colorTransform);b++}this.renderBatch(this.currentState,b,c);this.writtenVertexBytes=this.batchedSprites=0;null!=this.clipRect&&this.gl.disable(this.gl.SCISSOR_TEST)}},
renderBatch:function(a,b,c){if(0!=b&&null!=a.texture){var d;d=null==a.shader?this.renderSession.shaderManager.defaultShader:a.shader;this.renderSession.shaderManager.setShader(d);d.bindVertexArray(this.vertexArray);this.renderSession.blendModeManager.setBlendMode(null!=d.blendMode?d.blendMode:a.blendMode);this.gl.uniformMatrix3fv(d.getUniformLocation("openfl_uProjectionMatrix"),!1,this.renderSession.projectionMatrix.toArray(!0));if(null!=a.colorTransform){this.gl.uniform1i(d.getUniformLocation("openfl_uUseColorTransform"),
1);var e=a.colorTransform;this.gl.uniform4f(d.getUniformLocation("openfl_uColorMultiplier"),e.redMultiplier,e.greenMultiplier,e.blueMultiplier,a.skipColorTransformAlpha?1:e.alphaMultiplier);this.gl.uniform4f(d.getUniformLocation("openfl_uColorOffset"),e.redOffset/255,e.greenOffset/255,e.blueOffset/255,e.alphaOffset/255)}else this.gl.uniform1i(d.getUniformLocation("openfl_uUseColorTransform"),0),this.gl.uniform4f(d.getUniformLocation("openfl_uColorMultiplier"),1,1,1,1),this.gl.uniform4f(d.getUniformLocation("openfl_uColorOffset"),
0,0,0,0);this.gl.activeTexture(this.gl.TEXTURE0);this.gl.bindTexture(this.gl.TEXTURE_2D,a.texture);this.gl.uniform1i(d.getUniformLocation("openfl_uSampler0"),0);null!=d.smooth&&d.smooth||a.textureSmooth?(this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MAG_FILTER,this.gl.LINEAR),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MIN_FILTER,this.gl.LINEAR)):(this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MAG_FILTER,this.gl.NEAREST),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MIN_FILTER,
this.gl.NEAREST));this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,d.wrapS);this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,d.wrapT);d.applyData(a.shaderData,this.renderSession);this.gl.drawElements(this.gl.TRIANGLES,6*b,this.gl.UNSIGNED_SHORT,12*c);this.renderSession.drawCount++}},setState:function(a,b,c,d,e,f,g){null==g&&(g=!1);null==c&&(c=!1);var h=this.states[a];null==h&&(h=this.states[a]=new Ud);h.texture=b;h.textureSmooth=c;h.blendMode=d;null!=e&&e.__isDefault()?
h.colorTransform=null:h.colorTransform=e;h.skipColorTransformAlpha=g;null==f?(h.shader=null,h.shaderData=null):(h.shader=f.__shader,h.shaderData=f.data)},setContext:function(a){this.gl=a;this.vertexArray.setContext(a,this.positions);this.indexBuffer=a.createBuffer();a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,this.indexBuffer);a.bufferData(a.ELEMENT_ARRAY_BUFFER,this.indices,a.STATIC_DRAW)},prepareShader:function(a,b){if(null!=a){a.__init(this.gl);a.__shader.wrapS=a.repeatX;a.__shader.wrapT=a.repeatY;a.__shader.smooth=
a.smooth;a.__shader.blendMode=a.blendMode;var c=a.data.get(zc.uObjectSize),d=a.data.get(zc.uTextureSize);null!=b?(c.value[0]=b.width,c.value[1]=b.height,null!=b.__pingPongTexture?(d.value[0]=b.__pingPongTexture.get_renderTexture().__width,d.value[1]=b.__pingPongTexture.get_renderTexture().__height):(d.value[0]=b.width,d.value[1]=b.height)):(c.value[0]=0,c.value[1]=0,d.value[0]=0,d.value[1]=0)}},getElementsPerVertex:function(){for(var a=0,b=0,c=this.attributes;b<c.length;){var d=c[b];++b;d.enabled&&
(a+=Math.floor(d.components*d.getElementsBytes()/4))}return a},__class__:Fe};var Ud=function(){this.skipColorTransformAlpha=!1;this.textureSmooth=!0};m["openfl._internal.renderer.opengl.utils._SpriteBatch.State"]=Ud;Ud.__name__=!0;Ud.prototype={equals:function(a){return(null==this.shader&&null==a.shader||null!=this.shader&&null!=a.shader&&this.shader.ID==a.shader.ID)&&this.texture==a.texture&&this.textureSmooth==a.textureSmooth&&this.blendMode==a.blendMode&&(null==this.colorTransform&&null==a.colorTransform||
null!=this.colorTransform&&null!=a.colorTransform&&this.colorTransform.__equals(a.colorTransform,this.skipColorTransformAlpha))},__class__:Ud};var He=function(a){this.stencilMask=0;this.stencilStack=[];this.setContext(a);this.reverse=!0;this.count=0};m["openfl._internal.renderer.opengl.utils.StencilManager"]=He;He.__name__=!0;He.prototype={prepareGraphics:function(a,b,c){var d=b.shaderManager.fillShader;b.shaderManager.setShader(d);this.gl.uniformMatrix3fv(d.getUniformLocation("openfl_uTranslationMatrix"),
!1,c);this.gl.uniformMatrix3fv(d.getUniformLocation("openfl_uProjectionMatrix"),!1,b.projectionMatrix.toArray(!0));a.vertexArray.bind();d.bindVertexArray(a.vertexArray);this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,a.indexBuffer)},pushBucket:function(a,b,c,d){null==d&&(d=!1);d||(this.gl.enable(this.gl.STENCIL_TEST),this.gl.clear(this.gl.STENCIL_BUFFER_BIT),this.gl.stencilMask(255),this.gl.colorMask(!1,!1,!1,!1),this.gl.stencilFunc(this.gl.NEVER,1,255),this.gl.stencilOp(this.gl.INVERT,this.gl.KEEP,
this.gl.KEEP),this.gl.clear(this.gl.STENCIL_BUFFER_BIT));var e=0;for(a=a.fills;e<a.length;){var f=a[e];++e;f.available||(this.prepareGraphics(f,b,c),this.gl.drawElements(f.drawMode,f.glIndices.length,this.gl.UNSIGNED_SHORT,0))}d||(this.gl.colorMask(!0,!0,!0,b.renderer.transparent),this.gl.stencilOp(this.gl.KEEP,this.gl.KEEP,this.gl.KEEP),this.gl.stencilFunc(this.gl.EQUAL,255,255))},popBucket:function(a,b,c){this.gl.disable(this.gl.STENCIL_TEST)},pushMask:function(a,b){var c=a.__maskGraphics;if(!(null==
c||0>=c.__commands.get_length())){0==this.stencilMask&&(this.gl.enable(this.gl.STENCIL_TEST),this.gl.clear(this.gl.STENCIL_BUFFER_BIT));this.stencilMask++;c.__dirty&&y.updateGraphics(a,c,b.gl);var d;d=1==this.stencilMask?this.gl.NEVER:this.gl.EQUAL;var e=this.stencilMask,f=255-this.stencilMask;this.gl.stencilMask(255);this.gl.colorMask(!1,!1,!1,!1);this.gl.stencilFunc(d,e,f);this.gl.stencilOp(this.gl.REPLACE,this.gl.KEEP,this.gl.KEEP);var c=c.__glStack[wa.glContextId],g=a.__worldTransform;d=0;for(e=
c.buckets.length;d<e;)switch(f=d++,f=c.buckets[f],g=null!=f.overrideMatrix?f.overrideMatrix:a.__worldTransform,f.mode[1]){case 1:case 2:this.pushBucket(f,b,g.toArray(!0),!0)}this.gl.colorMask(!0,!0,!0,b.renderer.transparent);this.gl.stencilOp(this.gl.KEEP,this.gl.KEEP,this.gl.KEEP);this.gl.stencilFunc(this.gl.EQUAL,this.stencilMask,255)}},popMask:function(a,b){this.stencilMask--;0>=this.stencilMask&&(this.gl.disable(this.gl.STENCIL_TEST),this.stencilMask=0)},setContext:function(a){this.gl=a},__class__:He};
var Rd=function(a,b,c){null==c&&(c=!1);null==b&&(b=0);this.isStatic=!1;this.size=0;this.attributes=[];this.size=b;this.attributes=a;0<b&&(this.buffer=new de(b));this.isStatic=c};m["openfl._internal.renderer.opengl.utils.VertexArray"]=Rd;Rd.__name__=!0;Rd.prototype={bind:function(){this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.glBuffer)},upload:function(a){this.gl.bufferSubData(this.gl.ARRAY_BUFFER,0,a)},setContext:function(a,b){this.gl=a;this.glBuffer=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,this.glBuffer);
a.bufferData(a.ARRAY_BUFFER,b,this.isStatic?a.STATIC_DRAW:a.DYNAMIC_DRAW)},get_stride:function(){for(var a=0,b=0,c=this.attributes;b<c.length;){var d=c[b];++b;d.enabled&&(a+=4*Math.floor(d.components*d.getElementsBytes()/4))}return a},__class__:Rd,__properties__:{get_stride:"get_stride"}};var qa=function(a){this.textField=a;this.height=this.width=100;this.text="";this.bounds=new O(0,0,0,0);this.type=fb.DYNAMIC;this.autoSize=X.NONE;this.embedFonts=this.displayAsPassword=!1;this.selectable=!0;this.borderColor=
0;this.border=!1;this.backgroundColor=16777215;this.background=!1;this.gridFitType=Ya.PIXEL;this.maxChars=0;this.multiline=!1;this.scrollH=this.sharpness=0;this.scrollV=1;this.wordWrap=!1;this.lineAscents=[];this.lineBreaks=[];this.lineDescents=[];this.lineLeadings=[];this.lineHeights=[];this.lineWidths=[];this.layoutGroups=[];this.textFormatRanges=[];qa.__canvas=window.document.createElement("canvas");qa.__context=qa.__canvas.getContext("2d")};m["openfl._internal.text.TextEngine"]=qa;qa.__name__=
!0;qa.__canvas=null;qa.__context=null;qa.getFont=function(a){var b;b=a.italic?"italic ":"normal ";b+="normal ";b=a.bold?b+"bold ":b+"normal ";b+=a.size+"px";b+="/"+(a.size+a.leading+6)+"px ";switch(a.font){case "_sans":a="sans-serif";break;case "_serif":a="serif";break;case "_typewriter":a="monospace";break;default:a="'"+a.font+"'"}return b+=""+a};qa.prototype={getBounds:function(){var a;a=this.border?1:0;this.bounds.width=this.width+a;this.bounds.height=this.height+a},getLineMeasurements:function(){this.lineAscents.splice(0,
this.lineAscents.length);this.lineDescents.splice(0,this.lineDescents.length);this.lineLeadings.splice(0,this.lineLeadings.length);this.lineHeights.splice(0,this.lineHeights.length);this.lineWidths.splice(0,this.lineWidths.length);var a=0,b=0,c=null,d=0,e=0;this.textHeight=this.textWidth=0;this.numLines=1;for(var f=this.maxScrollH=this.bottomScrollV=0,g=this.layoutGroups;f<g.length;){var h=g[f];for(++f;h.lineIndex>this.numLines-1;)this.lineAscents.push(a),this.lineDescents.push(b),this.lineLeadings.push(null!=
c?c:0),this.lineHeights.push(d),this.lineWidths.push(e),b=a=0,c=null,e=d=0,this.numLines++,this.textHeight<=this.height-2&&this.bottomScrollV++;a=Math.max(a,h.ascent);b=Math.max(b,h.descent);c=null==c?h.leading:Y["int"](Math.max(c,h.leading));d=Math.max(d,h.height);e=h.offsetX-2+h.width;e>this.textWidth&&(this.textWidth=e);this.textHeight=h.offsetY-2+h.ascent+h.descent}this.lineAscents.push(a);this.lineDescents.push(b);this.lineLeadings.push(null!=c?c:0);this.lineHeights.push(d);this.lineWidths.push(e);
1==this.numLines?(this.bottomScrollV=1,0<c&&(this.textHeight+=c)):this.textHeight<=this.height-2&&this.bottomScrollV++;this.maxScrollH=this.textWidth>this.width-4?this.textWidth-this.width+4|0:0;this.maxScrollV=this.numLines-this.bottomScrollV+1},getLayoutGroups:function(){this.layoutGroups.splice(0,this.layoutGroups.length);var a=-1,b=null,c=ya.__defaultTextFormat.clone(),d=0,e=0,f=0,g,h,k,l=0,m=0,q=0,n=this.text.indexOf(" "),r=this.text.indexOf("\n"),t=0,u=2,v=2,w=0,x=0,z=null;a<this.textFormatRanges.length-
1&&(a++,b=this.textFormatRanges[a],c.__merge(b.format),qa.__context.font=qa.getFont(c),e=c.size,f=.185*c.size,d=c.leading,l=e+f+d,-1<n&&(m=qa.__context.measureText(" ").width));for(var z=b.format,y;w<this.text.length;)if(-1<r&&(-1==n||r<n)&&b.end>=r){g=new Ac(b.format,w,r);h=this.text;for(y=[];w<r;)k=w++,y.push(qa.__context.measureText(h.charAt(k)).width);g.advances=y;g.offsetX=u;g.ascent=e;g.descent=f;g.leading=d;g.lineIndex=x;g.offsetY=v;u=g.advances;for(h=w=0;h<u.length;)y=u[h],++h,w+=y;g.width=
w;g.height=l;this.layoutGroups.push(g);v+=l;u=2;this.wordWrap&&g.offsetX+g.width>this.width-2&&(g.offsetY=v,g.offsetX=u,v+=l,x++);w=r+1;r=this.text.indexOf("\n",w);x++;b.end==r&&(a<this.textFormatRanges.length-1&&(a++,b=this.textFormatRanges[a],c.__merge(b.format),qa.__context.font=qa.getFont(c),e=c.size,f=.185*c.size,d=c.leading,l=e+f+d,-1<n&&(m=qa.__context.measureText(" ").width)),z=b.format)}else if(b.end>=n&&-1<n)for(g=null,y=!1;;){-1==n&&(n=b.end);h=this.text;k=[];for(var A=w;A<n;){var B=A++;
k.push(qa.__context.measureText(h.charAt(B)).width)}h=k;for(A=k=0;A<h.length;)B=h[A],++A,k+=B;this.wordWrap&&u+k>this.width-2&&(y=!0);if(y){v+=l;u=this.layoutGroups.length-1;for(t=0;;){g=this.layoutGroups[u];if(0<u&&g.startIndex>q)t++;else break;u--}x++;u=2;if(0<t)for(q=this.layoutGroups[this.layoutGroups.length-t].offsetX,t=this.layoutGroups.length-t,y=this.layoutGroups.length;t<y;)g=t++,g=this.layoutGroups[g],g.offsetX-=q,g.offsetY=v,g.lineIndex=x,u+=g.width;g=new Ac(b.format,w,n);g.advances=h;
g.offsetX=u;g.ascent=e;g.descent=f;g.leading=d;g.lineIndex=x;g.offsetY=v;g.width=k;g.height=l;this.layoutGroups.push(g);u=k+m;t=m;y=!1}else null!=g&&w==n?(b.format.align!=ta.JUSTIFY&&(g.endIndex=n),g.advances.push(m),t+=m):(null==g||z.align==ta.JUSTIFY?(g=new Ac(b.format,w,n),g.advances=h,g.offsetX=u,g.ascent=e,g.descent=f,g.leading=d,g.lineIndex=x,g.offsetY=v,g.width=k,g.height=l,this.layoutGroups.push(g)):(g.endIndex=n,g.advances=g.advances.concat(h),g.width+=t+k),g.advances.push(m),t=m),u+=k+m;
w=n+1;q=n;n=this.text.indexOf(" ",q+1);b.end<=q&&(g=null,a<this.textFormatRanges.length-1&&(a++,b=this.textFormatRanges[a],c.__merge(b.format),qa.__context.font=qa.getFont(c),e=c.size,f=.185*c.size,d=c.leading,l=e+f+d,-1<n&&(m=qa.__context.measureText(" ").width)));if(n>r&&-1<r||w>this.text.length||n>b.end||-1==n&&-1<r)break}else{if(w>=b.end)break;g=new Ac(b.format,w,b.end);h=this.text;for(y=[];w<b.end;)k=w++,y.push(qa.__context.measureText(h.charAt(k)).width);g.advances=y;g.offsetX=u;g.ascent=e;
g.descent=f;g.leading=d;g.lineIndex=x;g.offsetY=v;w=g.advances;for(y=h=0;y<w.length;)k=w[y],++y,h+=k;g.width=h;g.height=l;this.layoutGroups.push(g);u+=g.width;w=b.end;a<this.textFormatRanges.length-1&&(a++,b=this.textFormatRanges[a],c.__merge(b.format),qa.__context.font=qa.getFont(c),e=c.size,f=.185*c.size,d=c.leading,l=e+f+d,-1<n&&(m=qa.__context.measureText(" ").width))}},setTextAlignment:function(){for(var a=-1,b=0,c,d,e=0,f=this.layoutGroups.length;e<f;){var g=e++;c=this.layoutGroups[g];if(c.lineIndex!=
a)switch(a=c.lineIndex,c.format.align[1]){case 3:b=this.lineWidths[a]<this.width-4?Math.round((this.width-4-this.lineWidths[a])/2):0;break;case 1:b=this.lineWidths[a]<this.width-4?Math.round(this.width-4-this.lineWidths[a]):0;break;case 2:if(this.lineWidths[a]<this.width-4){d=1;for(var b=g+1,h=this.layoutGroups.length;b<h;){var k=b++;if(this.layoutGroups[k].lineIndex==a)d++;else break}if(1<d&&(c=this.layoutGroups[g+d-1],c.endIndex<this.text.length&&"\n"!=this.text.charAt(c.endIndex)))for(b=(this.width-
4-this.lineWidths[a])/(d-1),h=1;h<d;)k=h++,this.layoutGroups[g+k].offsetX+=b*k}b=0;break;default:b=0}0<b&&(c.offsetX+=b)}},update:function(){null==this.text||""==ea.trim(this.text)||0==this.textFormatRanges.length?(this.lineAscents.splice(0,this.lineAscents.length),this.lineBreaks.splice(0,this.lineBreaks.length),this.lineDescents.splice(0,this.lineDescents.length),this.lineLeadings.splice(0,this.lineLeadings.length),this.lineHeights.splice(0,this.lineHeights.length),this.lineWidths.splice(0,this.lineWidths.length),
this.layoutGroups.splice(0,this.layoutGroups.length),this.textHeight=this.textWidth=0,this.numLines=1,this.maxScrollH=0,this.bottomScrollV=this.maxScrollV=1):(this.getLayoutGroups(),this.getLineMeasurements(),this.setTextAlignment());this.getBounds()},__class__:qa};var Bc=function(a,b,c){this.format=a;this.start=b;this.end=c};m["openfl._internal.text.TextFormatRange"]=Bc;Bc.__name__=!0;Bc.prototype={__class__:Bc};var Ac=function(a,b,c){this.format=a;this.startIndex=b;this.endIndex=c};m["openfl._internal.text.TextLayoutGroup"]=
Ac;Ac.__name__=!0;Ac.prototype={__class__:Ac};var Wc=function(){Wa.call(this);null==L.application&&(L.application=this)};m["openfl.display.Application"]=Wc;Wc.__name__=!0;Wc.__super__=Wa;Wc.prototype=x(Wa.prototype,{create:function(a){this.config=a;this.backend.create(a);if(null!=a){Object.prototype.hasOwnProperty.call(a,"fps")&&this.backend.setFrameRate(a.fps);if(Object.prototype.hasOwnProperty.call(a,"windows"))for(a=a.windows;0<a.length;){a=new Vd(a[0]);this.createWindow(a);break}if(null==this.preloader||
this.preloader.complete)this.onPreloadComplete()}},__class__:Wc});var $a=function(a,b,c){null==c&&(c=!1);B.call(this);this.bitmapData=a;this.pixelSnapping=b;this.smoothing=c;null==b&&(this.pixelSnapping=Sa.AUTO)};m["openfl.display.Bitmap"]=$a;$a.__name__=!0;$a.__super__=B;$a.prototype=x(B.prototype,{__getBounds:function(a,b){if(null!=this.bitmapData){var c=O.__temp;c.setTo(0,0,this.bitmapData.width,this.bitmapData.height);c.__transform(c,b);a.__expand(c.x,c.y,c.width,c.height)}},__hitTest:function(a,
b,c,d,e){if(!this.get_visible()||this.__isMask||null==this.bitmapData||null!=this.get_mask()&&!this.get_mask().__hitTestMask(a,b))return!1;this.__getWorldTransform();c=this.__worldTransform.__transformInverseX(a,b);a=this.__worldTransform.__transformInverseY(a,b);return 0<c&&0<a&&c<=this.bitmapData.width&&a<=this.bitmapData.height?(null==d||e||d.push(this),!0):!1},__hitTestMask:function(a,b){if(null==this.bitmapData)return!1;this.__getWorldTransform();var c=this.__worldTransform.__transformInverseX(a,
b),d=this.__worldTransform.__transformInverseY(a,b);return 0<c&&0<d&&c<=this.bitmapData.width&&d<=this.bitmapData.height?!0:!1},__renderCairo:function(a){Ye.render(this,a)},__renderCairoMask:function(a){a.cairo.rectangle(0,0,this.get_width(),this.get_height())},__renderCanvas:function(a){$e.render(this,a)},__renderCanvasMask:function(a){a.context.rect(0,0,this.get_width(),this.get_height())},__renderDOM:function(a){null!=this.stage&&this.__worldVisible&&this.__renderable&&null!=this.bitmapData&&this.bitmapData.__isValid?
null!=this.bitmapData.image.buffer.__srcImage?Kd.renderImage(this,a):Kd.renderCanvas(this,a):(null!=this.__image&&(a.element.removeChild(this.__image),this.__style=this.__image=null),null!=this.__canvas&&(a.element.removeChild(this.__canvas),this.__style=this.__canvas=null))},__renderGL:function(a){this.__cacheAsBitmap?this.__cacheGL(a):(null!=this.__scrollRect&&a.maskManager.pushRect(this.__scrollRect,this.__renderTransform),null!=this.__mask&&null!=this.__maskGraphics&&0<this.__maskGraphics.__commands.get_length()&&
a.maskManager.pushMask(this),!this.__renderable||0>=this.__worldAlpha||null==this.bitmapData||!this.bitmapData.__isValid?null:a.spriteBatch.renderBitmapData(this.bitmapData,this.smoothing,this.__renderTransform,this.__worldColorTransform,this.__worldAlpha,this.__blendMode,this.__shader,this.pixelSnapping),null!=this.__mask&&null!=this.__maskGraphics&&0<this.__maskGraphics.__commands.get_length()&&a.maskManager.popMask(),null!=this.__scrollRect&&a.maskManager.popRect())},__updateMask:function(a){a.__commands.overrideMatrix(this.__worldTransform);
a.beginFill(0);a.drawRect(0,0,this.bitmapData.width,this.bitmapData.height);null==a.__bounds&&(a.__bounds=new O);this.__getBounds(a.__bounds,R.__identity);B.prototype.__updateMask.call(this,a)},get_height:function(){return null!=this.bitmapData?this.bitmapData.height*this.get_scaleY():0},set_height:function(a){return null!=this.bitmapData?(a!=this.bitmapData.height&&this.set_scaleY(a/this.bitmapData.height),a):0},get_width:function(){return null!=this.bitmapData?this.bitmapData.width*this.get_scaleX():
0},__class__:$a});var Oa=function(a,b,c,d){null==d&&(d=-1);null==c&&(c=!0);this.__usingPingPongTexture=!1;this.transparent=c;null==a&&(a=0);null==b&&(b=0);0>a&&(a=0);0>b&&(b=0);this.width=a;this.height=b;this.rect=new O(0,0,a,b);0<a&&0<b&&(c?0==(d&-16777216)&&(d=0):d=-16777216|d&16777215,this.image=new Z(null,0,0,a,b,d<<8|d>>24&255),this.image.set_transparent(c),this.__isValid=!0);this.__createUVs();this.__worldTransform=new R;this.__worldColorTransform=new tb};m["openfl.display.BitmapData"]=Oa;Oa.__name__=
!0;Oa.__interfaces__=[$c];Oa.fromBytes=function(a,b,c){var d=new Oa(0,0,!0);d.__fromBytes(a,b,c);return d};Oa.fromCanvas=function(a,b){null==b&&(b=!0);if(null==a)return null;var c=new Oa(0,0,b);c.__fromImage(Z.fromCanvas(a));c.image.set_transparent(b);return c};Oa.fromImage=function(a,b){null==b&&(b=!0);if(null==a||null==a.buffer)return null;var c=new Oa(0,0,b);c.__fromImage(a);c.image.set_transparent(b);return c};Oa.__asRenderTexture=function(a,b){null==b&&(b=0);null==a&&(a=0);var c=new Oa(0,0);
c.__resize(a,b);return c};Oa.prototype={colorTransform:function(a,b){this.__isValid&&(this.image.colorTransform(a.__toLimeRectangle(),b.__toLimeColorMatrix()),this.__usingPingPongTexture=!1)},draw:function(a,b,c,d,e,f){null==f&&(f=!1);this.__isValid&&(null!=c&&(d=new Oa(w.getProperty(a,"width"),w.getProperty(a,"height"),!0,0),d.draw(a),d.colorTransform(d.rect,c),a=d),G.convertToCanvas(this.image),G.sync(this.image,!0),c=this.image.buffer,d=new gc,d.context=c.__srcContext,d.roundPixels=!0,d.maskManager=
new Rc(d),f||(c.__srcContext.mozImageSmoothingEnabled=!1,c.__srcContext.msImageSmoothingEnabled=!1,c.__srcContext.imageSmoothingEnabled=!1),null!=e&&d.maskManager.pushRect(e,new R),a.__updateTransforms(b),a.__updateChildren(!1),a.__renderCanvas(d),a.__updateTransforms(),a.__updateChildren(!0),f||(c.__srcContext.mozImageSmoothingEnabled=!0,c.__srcContext.msImageSmoothingEnabled=!0,c.__srcContext.imageSmoothingEnabled=!0),null!=e&&d.maskManager.popMask(),c.__srcContext.setTransform(1,0,0,1,0,0),c.__srcImageData=
null,c.data=null)},getPixels:function(a){if(!this.__isValid)return null;null==a&&(a=this.rect);return this.image.getPixels(a.__toLimeRectangle(),1)},getSurface:function(){if(!this.__isValid)return null;null==this.__surface&&(this.__surface=We.fromImage(this.image));return this.__surface},getTexture:function(a){if(!this.__isValid)return null;if(this.__usingPingPongTexture&&null!=this.__pingPongTexture)return this.__pingPongTexture.get_texture();null==this.__texture&&(this.__texture=a.createTexture(),
a.bindTexture(a.TEXTURE_2D,this.__texture),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_S,a.CLAMP_TO_EDGE),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_T,a.CLAMP_TO_EDGE),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.NEAREST),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.NEAREST),this.image.dirty=!0);if(null!=this.image&&this.image.dirty){var b,c;null!=this.__surface&&Xe.flush(this.__surface);c=1==this.image.buffer.bitsPerPixel?b=a.ALPHA:b=a.RGBA;a.bindTexture(a.TEXTURE_2D,this.__texture);
var d=this.image;if(!d.get_premultiplied()&&d.get_transparent()||0!=d.get_format())d=d.clone(),d.set_format(0),d.set_premultiplied(!0);a.texImage2D(a.TEXTURE_2D,0,b,this.width,this.height,0,c,a.UNSIGNED_BYTE,d.get_data());a.bindTexture(a.TEXTURE_2D,null);this.image.dirty=!1}return this.__texture},__createUVs:function(a,b,c,d,e,f,g,h){null==h&&(h=1);null==g&&(g=0);null==f&&(f=1);null==e&&(e=1);null==d&&(d=0);null==c&&(c=1);null==b&&(b=0);null==a&&(a=0);null==this.__uvData&&(this.__uvData=new Td);this.__uvData.x0=
a;this.__uvData.y0=b;this.__uvData.x1=c;this.__uvData.y1=d;this.__uvData.x2=e;this.__uvData.y2=f;this.__uvData.x3=g;this.__uvData.y3=h},__drawGL:function(a,b,c,d,e,f,g,h,k,l,m){null==m&&(m=!0);null==l&&(l=!1);null==k&&(k=!1);null==h&&(h=!1);null==g&&(g=!1);this.__pingPongTexture=Ea.pushFramebuffer(a,this.__pingPongTexture,this.rect,g,this.transparent,k,m);Ea.drawBitmapDrawable(a,h?this:null,b,c,d,e,f);Ea.popFramebuffer(a,l?this.image:null);a=this.__pingPongTexture.get_renderTexture().__uvData;this.__createUVs(a.x0,
a.y0,a.x1,a.y1,a.x2,a.y2,a.x3,a.y3);this.__usingPingPongTexture=this.__isValid=!0},__fromBytes:function(a,b,c){var d=this;Z.fromBytes(a,function(a){d.__fromImage(a);if(null!=b){G.convertToCanvas(a);G.createImageData(a);for(var f=a.buffer.data,g=0,h=b.length;g<h;){var k=g++,l=b.readUnsignedByte();f[4*k+3]=l}a.dirty=!0}null!=c&&c(d)})},__fromImage:function(a){null!=a&&null!=a.buffer&&(this.image=a,this.width=a.width,this.height=a.height,this.rect=new O(0,0,a.width,a.height),this.__isValid=!0)},__renderCanvas:function(a){if(this.__isValid){G.sync(this.image,
!1);var b=a.context;null==this.__worldTransform&&(this.__worldTransform=new R);b.globalAlpha=1;var c=this.__worldTransform;a.roundPixels?b.setTransform(c.a,c.b,c.c,c.d,c.tx|0,c.ty|0):b.setTransform(c.a,c.b,c.c,c.d,c.tx,c.ty);b.drawImage(this.image.get_src(),0,0)}},__renderGL:function(a){a.spriteBatch.renderBitmapData(this,!1,this.__worldTransform,this.__worldColorTransform,this.__worldColorTransform.alphaMultiplier,this.__blendMode,this.__shader)},__updateTransforms:function(a){null==a?this.__worldTransform.identity():
this.__worldTransform=a},__sync:function(){G.sync(this.image,!1)},__updateChildren:function(a){},__resize:function(a,b){this.width=a;this.height=b;this.rect.width=a;this.rect.height=b},__class__:Oa};var Td=function(){this.x0=this.x1=this.x2=this.x3=this.y0=this.y1=this.y2=this.y3=0};m["openfl.display.TextureUvs"]=Td;Td.__name__=!0;Td.prototype={__class__:Td};var A=m["openfl.display.BlendMode"]={__ename__:!0,__constructs__:"ADD ALPHA DARKEN DIFFERENCE ERASE HARDLIGHT INVERT LAYER LIGHTEN MULTIPLY NORMAL OVERLAY SCREEN SUBTRACT".split(" ")};
A.ADD=["ADD",0];A.ADD.toString=q;A.ADD.__enum__=A;A.ALPHA=["ALPHA",1];A.ALPHA.toString=q;A.ALPHA.__enum__=A;A.DARKEN=["DARKEN",2];A.DARKEN.toString=q;A.DARKEN.__enum__=A;A.DIFFERENCE=["DIFFERENCE",3];A.DIFFERENCE.toString=q;A.DIFFERENCE.__enum__=A;A.ERASE=["ERASE",4];A.ERASE.toString=q;A.ERASE.__enum__=A;A.HARDLIGHT=["HARDLIGHT",5];A.HARDLIGHT.toString=q;A.HARDLIGHT.__enum__=A;A.INVERT=["INVERT",6];A.INVERT.toString=q;A.INVERT.__enum__=A;A.LAYER=["LAYER",7];A.LAYER.toString=q;A.LAYER.__enum__=A;A.LIGHTEN=
["LIGHTEN",8];A.LIGHTEN.toString=q;A.LIGHTEN.__enum__=A;A.MULTIPLY=["MULTIPLY",9];A.MULTIPLY.toString=q;A.MULTIPLY.__enum__=A;A.NORMAL=["NORMAL",10];A.NORMAL.toString=q;A.NORMAL.__enum__=A;A.OVERLAY=["OVERLAY",11];A.OVERLAY.toString=q;A.OVERLAY.__enum__=A;A.SCREEN=["SCREEN",12];A.SCREEN.toString=q;A.SCREEN.__enum__=A;A.SUBTRACT=["SUBTRACT",13];A.SUBTRACT.toString=q;A.SUBTRACT.__enum__=A;var ra=m["openfl.display.CapsStyle"]={__ename__:!0,__constructs__:["NONE","ROUND","SQUARE"]};ra.NONE=["NONE",0];
ra.NONE.toString=q;ra.NONE.__enum__=ra;ra.ROUND=["ROUND",1];ra.ROUND.toString=q;ra.ROUND.__enum__=ra;ra.SQUARE=["SQUARE",2];ra.SQUARE.toString=q;ra.SQUARE.__enum__=ra;var Me=function(){};m["openfl.display.FrameLabel"]=Me;Me.__name__=!0;Me.__super__=ja;Me.prototype=x(ja.prototype,{__class__:Me});var Cc=m["openfl.display.GradientType"]={__ename__:!0,__constructs__:["RADIAL","LINEAR"]};Cc.RADIAL=["RADIAL",0];Cc.RADIAL.toString=q;Cc.RADIAL.__enum__=Cc;Cc.LINEAR=["LINEAR",1];Cc.LINEAR.toString=q;Cc.LINEAR.__enum__=
Cc;var mc=function(){this.__glStack=[];this.__dirty=!0;this.__commands=new Pc;this.__positionY=this.__positionX=this.__strokePadding=0;this.__hardware=!0;this.moveTo(0,0)};m["openfl.display.Graphics"]=mc;mc.__name__=!0;mc.prototype={beginBitmapFill:function(a,b,c,d){null==d&&(d=!1);null==c&&(c=!0);this.__commands.beginBitmapFill(a,null!=b?new R(b.a,b.b,b.c,b.d,b.tx,b.ty):null,c,d);this.__visible=!0},beginFill:function(a,b){null==b&&(b=1);null==a&&(a=0);this.__commands.beginFill(a&16777215,b);0<b&&
(this.__visible=!0)},clear:function(){this.__commands.clear();this.__strokePadding=0;null!=this.__bounds&&(this.set___dirty(!0),this.__transformDirty=!0,this.__bounds=null);this.__visible=!1;this.__hardware=!0;this.moveTo(0,0)},drawRect:function(a,b,c,d){0>=c||0>=d||(this.__inflateBounds(a-this.__strokePadding,b-this.__strokePadding),this.__inflateBounds(a+c+this.__strokePadding,b+d+this.__strokePadding),this.__commands.drawRect(a,b,c,d),this.set___dirty(!0))},endFill:function(){this.__commands.endFill()},
lineStyle:function(a,b,c,d,e,f,g,h){null!=a&&(g==oa.MITER?a>this.__strokePadding&&(this.__strokePadding=a):a/2>this.__strokePadding&&(this.__strokePadding=a/2));this.__commands.lineStyle(a,b,c,d,e,f,g,h);null!=a&&(this.__visible=!0)},lineTo:function(a,b){this.__inflateBounds(this.__positionX-this.__strokePadding,this.__positionY-this.__strokePadding);this.__inflateBounds(this.__positionX+this.__strokePadding,this.__positionY+this.__strokePadding);this.__positionX=a;this.__positionY=b;this.__inflateBounds(this.__positionX-
this.__strokePadding,this.__positionY-this.__strokePadding);this.__inflateBounds(this.__positionX+2*this.__strokePadding,this.__positionY+this.__strokePadding);this.__commands.lineTo(a,b);this.__hardware=!1;this.set___dirty(!0)},moveTo:function(a,b){this.__positionX=a;this.__positionY=b;this.__commands.moveTo(a,b)},__getBounds:function(a,b){if(null!=this.__bounds){var c=O.__temp;this.__bounds.__transform(c,b);a.__expand(c.x,c.y,c.width,c.height)}},__hitTest:function(a,b,c,d){if(null==this.__bounds)return!1;
var e=d.__transformInverseX(a,b);a=d.__transformInverseY(a,b);return e>this.__bounds.x&&a>this.__bounds.y&&this.__bounds.contains(e,a)?c?l.hitTest(this,e,a):!0:!1},__inflateBounds:function(a,b){null==this.__bounds?(this.__bounds=new O(a,b,0,0),this.__transformDirty=!0):(a<this.__bounds.x&&(this.__bounds.width+=this.__bounds.x-a,this.__bounds.x=a,this.__transformDirty=!0),b<this.__bounds.y&&(this.__bounds.height+=this.__bounds.y-b,this.__bounds.y=b,this.__transformDirty=!0),a>this.__bounds.x+this.__bounds.width&&
(this.__bounds.width=a-this.__bounds.x),b>this.__bounds.y+this.__bounds.height&&(this.__bounds.height=b-this.__bounds.y))},set___dirty:function(a){a&&null!=this.__owner&&this.__owner.__setRenderDirty();return this.__dirty=a},__class__:mc,__properties__:{set___dirty:"set___dirty"}};var Sb=m["openfl.display.GraphicsPathWinding"]={__ename__:!0,__constructs__:["EVEN_ODD","NON_ZERO"]};Sb.EVEN_ODD=["EVEN_ODD",0];Sb.EVEN_ODD.toString=q;Sb.EVEN_ODD.__enum__=Sb;Sb.NON_ZERO=["NON_ZERO",1];Sb.NON_ZERO.toString=
q;Sb.NON_ZERO.__enum__=Sb;var Dc=m["openfl.display.InterpolationMethod"]={__ename__:!0,__constructs__:["RGB","LINEAR_RGB"]};Dc.RGB=["RGB",0];Dc.RGB.toString=q;Dc.RGB.__enum__=Dc;Dc.LINEAR_RGB=["LINEAR_RGB",1];Dc.LINEAR_RGB.toString=q;Dc.LINEAR_RGB.__enum__=Dc;var oa=m["openfl.display.JointStyle"]={__ename__:!0,__constructs__:["MITER","ROUND","BEVEL"]};oa.MITER=["MITER",0];oa.MITER.toString=q;oa.MITER.__enum__=oa;oa.ROUND=["ROUND",1];oa.ROUND.toString=q;oa.ROUND.__enum__=oa;oa.BEVEL=["BEVEL",2];oa.BEVEL.toString=
q;oa.BEVEL.__enum__=oa;var U=m["openfl.display.LineScaleMode"]={__ename__:!0,__constructs__:["HORIZONTAL","NONE","NORMAL","VERTICAL"]};U.HORIZONTAL=["HORIZONTAL",0];U.HORIZONTAL.toString=q;U.HORIZONTAL.__enum__=U;U.NONE=["NONE",1];U.NONE.toString=q;U.NONE.__enum__=U;U.NORMAL=["NORMAL",2];U.NORMAL.toString=q;U.NORMAL.__enum__=U;U.VERTICAL=["VERTICAL",3];U.VERTICAL.toString=q;U.VERTICAL.__enum__=U;var Ne=function(){};m["openfl.display.Loader"]=Ne;Ne.__name__=!0;Ne.__super__=F;Ne.prototype=x(F.prototype,
{__class__:Ne});var Sa=m["openfl.display.PixelSnapping"]={__ename__:!0,__constructs__:["NEVER","AUTO","ALWAYS"]};Sa.NEVER=["NEVER",0];Sa.NEVER.toString=q;Sa.NEVER.__enum__=Sa;Sa.AUTO=["AUTO",1];Sa.AUTO.toString=q;Sa.AUTO.__enum__=Sa;Sa.ALWAYS=["ALWAYS",2];Sa.ALWAYS.toString=q;Sa.ALWAYS.__enum__=Sa;var Xc=function(a){Da.call(this);if(null!=a&&(this.display=a,L.current.addChild(a),z.__instanceof(a,sb)))z.__cast(a,sb).onInit()};m["openfl.display.Preloader"]=Xc;Xc.__name__=!0;Xc.__super__=Da;Xc.prototype=
x(Da.prototype,{load:function(a,b){for(var c=[],d=null,e=0,f=a.length;e<f;){var g=e++,d=a[g];switch(b[g]){case "MUSIC":case "SOUND":d=rc.withoutExtension(d),D.remove(c,d)||this.total++,c.push(d)}}for(e=0;e<c.length;)f=c[e],++e,d=new ic,d.addEventListener(u.COMPLETE,r(this,this.sound_onComplete)),d.addEventListener(Db.IO_ERROR,r(this,this.sound_onIOError)),d.load(new Wd(f+".ogg"));Da.prototype.load.call(this,a,b)},start:function(){null!=this.display&&z.__instanceof(this.display,sb)?(this.display.addEventListener(u.COMPLETE,
r(this,this.display_onComplete)),z.__cast(this.display,sb).onLoaded()):Da.prototype.start.call(this)},update:function(a,b){if(null!=this.display&&z.__instanceof(this.display,sb))z.__cast(this.display,sb).onUpdate(a,b)},display_onComplete:function(a){this.display.removeEventListener(u.COMPLETE,r(this,this.display_onComplete));L.current.removeChild(this.display);L.current.stage.set_focus(null);this.display=null;Da.prototype.start.call(this)},sound_onComplete:function(a){this.loaded++;this.onProgress.dispatch(this.loaded,
this.total);this.loaded==this.total&&this.start()},sound_onIOError:function(a){this.loaded++;this.onProgress.dispatch(this.loaded,this.total);this.loaded==this.total&&this.start()},__class__:Xc});var zc=function(){this.__dirty=!0;this.repeatX=this.repeatY=33071};m["openfl.display.Shader"]=zc;zc.__name__=!0;zc.prototype={__init:function(a){var b=this.__dirty;b&&(null!=this.__shader&&this.__shader.destroy(),this.__shader=new T(a),this.__shader.vertexString=null!=this.__vertexCode?this.__vertexCode:
hc.VERTEX_SRC.join("\n"),this.__shader.fragmentString=this.__fragmentCode,this.__dirty=!1);this.__shader.init(b)},__class__:zc};var bf=function(){this.internalType=0;this.transpose=!1;this.repeatX=this.repeatY=33071;this.smooth=!1;this.size=0};m["openfl.display.GLShaderParameter"]=bf;bf.__name__=!0;bf.prototype={__class__:bf};var Uc=function(a,b,c,d){Ga.call(this);this.enabled=!0;this.trackAsMenu=!1;this.useHandCursor=!0;this.mouseChildren=!1;this.set_upState(null!=a?a:this.__generateDefaultState());
this.set_overState(b);this.set_downState(c);this.set_hitTestState(null!=d?d:this.__generateDefaultState());this.set___currentState(this.upState)};m["openfl.display.SimpleButton"]=Uc;Uc.__name__=!0;Uc.__super__=Ga;Uc.prototype=x(Ga.prototype,{switchState:function(a){null!=this.__currentState&&this.__currentState.parent==this&&this.removeChild(this.__currentState);null!=a&&this.addChild(a)},__generateDefaultState:function(){return new B},__getCursor:function(){return this.useHandCursor?C.POINTER:null},
set_downState:function(a){null!=this.downState&&this.__currentState==this.downState&&this.set___currentState(a);return this.downState=a},set_hitTestState:function(a){a!=this.hitTestState&&(null!=this.hitTestState&&this.hitTestState.parent==this&&this.removeChild(this.hitTestState),this.removeEventListener(v.MOUSE_DOWN,r(this,this.__this_onMouseDown)),this.removeEventListener(v.MOUSE_OUT,r(this,this.__this_onMouseOut)),this.removeEventListener(v.MOUSE_OVER,r(this,this.__this_onMouseOver)),this.removeEventListener(v.MOUSE_UP,
r(this,this.__this_onMouseUp)),null!=a&&(this.addEventListener(v.MOUSE_DOWN,r(this,this.__this_onMouseDown)),this.addEventListener(v.MOUSE_OUT,r(this,this.__this_onMouseOut)),this.addEventListener(v.MOUSE_OVER,r(this,this.__this_onMouseOver)),this.addEventListener(v.MOUSE_UP,r(this,this.__this_onMouseUp)),a.set_alpha(0),this.addChild(a)));return this.hitTestState=a},set_overState:function(a){null!=this.overState&&this.__currentState==this.overState&&this.set___currentState(a);return this.overState=
a},set_upState:function(a){null!=this.upState&&this.__currentState==this.upState&&this.set___currentState(a);return this.upState=a},set___currentState:function(a){if(this.__currentState==a)return a;this.switchState(a);return this.__currentState=a},__this_onMouseDown:function(a){null!=this.downState&&this.set___currentState(this.downState)},__this_onMouseOut:function(a){this.upState!=this.__currentState&&this.set___currentState(this.upState)},__this_onMouseOver:function(a){this.overState!=this.__currentState&&
null!=this.overState&&this.set___currentState(this.overState)},__this_onMouseUp:function(a){null!=this.overState?this.set___currentState(this.overState):this.set___currentState(this.upState)},__class__:Uc,__properties__:x(Ga.prototype.__properties__,{set___currentState:"set___currentState",set_upState:"set_upState",set_overState:"set_overState",set_hitTestState:"set_hitTestState",set_downState:"set_downState"})});var Eb=m["openfl.display.SpreadMethod"]={__ename__:!0,__constructs__:["REPEAT","REFLECT",
"PAD"]};Eb.REPEAT=["REPEAT",0];Eb.REPEAT.toString=q;Eb.REPEAT.__enum__=Eb;Eb.REFLECT=["REFLECT",1];Eb.REFLECT.toString=q;Eb.REFLECT.__enum__=Eb;Eb.PAD=["PAD",2];Eb.PAD.toString=q;Eb.PAD.__enum__=Eb;var Vc=function(a,b){Ga.call(this);this.application=a.application;this.window=a;null==b?(this.__transparent=!0,this.set_color(0)):this.set_color(b);this.set_name(null);this.__deltaTime=0;this.__displayState=rb.NORMAL;this.__lastClickTime=this.__mouseY=this.__mouseX=0;this.stageWidth=a.__width;this.stageHeight=
a.__height;this.stage=this;this.align=P.TOP_LEFT;this.allowsFullScreenInteractive=this.allowsFullScreen=!1;this.quality=Pa.HIGH;this.scaleMode=Ra.NO_SCALE;this.stageFocusRect=!0;this.__macKeyboard=/AppleWebKit/.test(navigator.userAgent)&&/Mobile\/\w+/.test(navigator.userAgent)||/Mac/.test(navigator.platform);this.__clearBeforeRender=!0;this.__stack=[];this.__mouseOutStack=[];var c;c=new xc;c.data=[];c.length=0;c.fixed=!1;c=this.stage3Ds=c;var d=new Xd;if(!c.fixed){c.length++;if(c.data.length<c.length){var e;
e=Array(c.data.length+10);dc.blit(c.data,0,e,0,c.data.length);c.data=e}c.data[c.length-1]=d}c.length;null==L.current.stage&&this.stage.addChild(L.current)};m["openfl.display.Stage"]=Vc;Vc.__name__=!0;Vc.__interfaces__=[nd];Vc.__super__=Ga;Vc.prototype=x(Ga.prototype,{globalToLocal:function(a){return a.clone()},localToGlobal:function(a){return a.clone()},onGamepadAxisMove:function(a,b,c){la.__onGamepadAxisMove(a,b,c)},onGamepadButtonDown:function(a,b){la.__onGamepadButtonDown(a,b)},onGamepadButtonUp:function(a,
b){la.__onGamepadButtonUp(a,b)},onGamepadConnect:function(a){la.__onGamepadConnect(a)},onGamepadDisconnect:function(a){la.__onGamepadDisconnect(a)},onJoystickAxisMove:function(a,b,c){},onJoystickButtonDown:function(a,b){},onJoystickButtonUp:function(a,b){},onJoystickConnect:function(a){},onJoystickDisconnect:function(a){},onJoystickHatMove:function(a,b,c){},onJoystickTrackballMove:function(a,b,c){},onKeyDown:function(a,b,c){null!=this.window&&this.window==a&&this.__onKey(wb.KEY_DOWN,b,c)},onKeyUp:function(a,
b,c){null!=this.window&&this.window==a&&this.__onKey(wb.KEY_UP,b,c)},onModuleExit:function(a){null!=this.window&&(a=new u(u.DEACTIVATE),this.__broadcast(a,!0))},onMouseDown:function(a,b,c,d){if(null!=this.window&&this.window==a){switch(d){case 1:a=v.MIDDLE_MOUSE_DOWN;break;case 2:a=v.RIGHT_MOUSE_DOWN;break;default:a=v.MOUSE_DOWN}this.__onMouse(a,b,c,d)}},onMouseMove:function(a,b,c){null!=this.window&&this.window==a&&this.__onMouse(v.MOUSE_MOVE,b,c,0)},onMouseMoveRelative:function(a,b,c){},onMouseUp:function(a,
b,c,d){if(null!=this.window&&this.window==a){switch(d){case 1:a=v.MIDDLE_MOUSE_UP;break;case 2:a=v.RIGHT_MOUSE_UP;break;default:a=v.MOUSE_UP}this.__onMouse(a,b,c,d)}},onMouseWheel:function(a,b,c){null!=this.window&&this.window==a&&this.__onMouseWheel(b,c)},onPreloadComplete:function(){},onPreloadProgress:function(a,b){},onRenderContextLost:function(a){},onRenderContextRestored:function(a,b){},onTextEdit:function(a,b,c,d){},onTextInput:function(a,b){if(null!=this.window&&this.window==a){var c=[];null==
this.__focus?this.__getInteractive(c):this.__focus.__getInteractive(c);var d=new Lb(Lb.TEXT_INPUT,!0,!1,b);0<c.length?(c.reverse(),this.__fireEvent(d,c)):this.__broadcast(d,!0)}},onTouchMove:function(a){this.__onTouch("touchMove",a)},onTouchEnd:function(a){this.__onTouch("touchEnd",a)},onTouchStart:function(a){this.__onTouch("touchBegin",a)},onWindowActivate:function(a){null!=this.window&&this.window==a&&(a=new u(u.ACTIVATE),this.__broadcast(a,!0))},onWindowClose:function(a){this.window==a&&(this.window=
null)},onWindowCreate:function(a){if(null!=this.window&&this.window==a&&null!=a.renderer)switch(a=a.renderer.context,a[1]){case 0:this.__renderer=new wa(this.stageWidth,this.stageHeight,a[2]);break;case 1:this.__renderer=new Id(this.stageWidth,this.stageHeight,a[2]);break;case 2:this.__renderer=new Za(this.stageWidth,this.stageHeight,a[2]);break;case 4:this.__renderer=new Qc(this.stageWidth,this.stageHeight,a[2]);break;case 5:this.__renderer=new Jd(this.stageWidth,this.stageHeight,a[2])}},onWindowDeactivate:function(a){null!=
this.window&&this.window==a&&(a=new u(u.DEACTIVATE),this.__broadcast(a,!0))},onWindowEnter:function(a){},onWindowFocusIn:function(a){null!=this.window&&this.window==a&&(a=new pa(pa.FOCUS_IN,!0,!1,null,!1,0),this.__broadcast(a,!0))},onWindowFocusOut:function(a){null!=this.window&&this.window==a&&(a=new pa(pa.FOCUS_OUT,!0,!1,null,!1,0),this.__broadcast(a,!0))},onWindowFullscreen:function(a){},onWindowLeave:function(a){null!=this.window&&this.window==a&&this.__dispatchEvent(new u(u.MOUSE_LEAVE))},onWindowMinimize:function(a){},
onWindowMove:function(a,b,c){},onWindowResize:function(a,b,c){null!=this.window&&this.window==a&&(this.stageWidth=b,this.stageHeight=c,null!=this.__renderer&&this.__renderer.resize(b,c),a=new u(u.RESIZE),this.__broadcast(a,!1))},onWindowRestore:function(a){},render:function(a){if(null!=a.window&&a.window==this.window&&(null!=this.application&&0<this.application.windows.length&&(this.__transformDirty||(this.__transformDirty=!0,B.__worldTransformDirty++),this.__renderDirty||(this.__updateCachedBitmap=
!0,this.__updateFilters=null!=this.get_filters()&&0<this.get_filters().length,this.__renderDirty=!0,B.__worldRenderDirty++)),!this.__rendering)){this.__rendering=!0;this.__broadcast(new u(u.ENTER_FRAME),!0);this.__invalidated&&(this.__invalidated=!1,this.__broadcast(new u(u.RENDER),!0));this.__renderable=!0;this.__enterFrame(this.__deltaTime);this.__deltaTime=0;this.__update(!1,!0);if(null!=this.__renderer){a=a.context;switch(a[1]){case 4:a=a[2],z.__cast(this.__renderer,Qc).cairo=a,this.__renderer.renderSession.cairo=
a}this.__renderer.render(this)}this.__rendering=!1}},update:function(a){this.__deltaTime=a},__drag:function(a){var b=this.__dragObject.parent;null!=b&&(a=b.globalToLocal(a));b=a.x+this.__dragOffsetX;a=a.y+this.__dragOffsetY;null!=this.__dragBounds&&(b<this.__dragBounds.x?b=this.__dragBounds.x:b>this.__dragBounds.get_right()&&(b=this.__dragBounds.get_right()),a<this.__dragBounds.y?a=this.__dragBounds.y:a>this.__dragBounds.get_bottom()&&(a=this.__dragBounds.get_bottom()));this.__dragObject.set_x(b);
this.__dragObject.set_y(a)},__fireEvent:function(a,b){var c=b.length;if(0==c)a.eventPhase=na.AT_TARGET,a.target.__broadcast(a,!1);else{a.eventPhase=na.CAPTURING_PHASE;a.target=b[b.length-1];for(var d=0,e=c-1;d<e;){var f=d++;b[f].__broadcast(a,!1);if(a.__isCancelled)return}a.eventPhase=na.AT_TARGET;a.target.__broadcast(a,!1);if(!a.__isCancelled&&a.bubbles)for(a.eventPhase=na.BUBBLING_PHASE,c-=2;0<=c;){b[c].__broadcast(a,!1);if(a.__isCancelled)break;c--}}},__getInteractive:function(a){null!=a&&a.push(this);
return!0},__onKey:function(a,b,c){v.__altKey=Aa.get_altKey(c);v.__commandKey=Aa.get_metaKey(c);v.__ctrlKey=Aa.get_ctrlKey(c);v.__shiftKey=Aa.get_shiftKey(c);var d=[];null==this.__focus?this.__getInteractive(d):this.__focus.__getInteractive(d);if(0<d.length){var e;switch(b){case 1073742048:case 1073742049:case 1073742050:case 1073742051:e=1;break;case 1073742052:case 1073742053:case 1073742054:case 1073742055:e=2;break;case 1073741908:case 1073741909:case 1073741910:case 1073741911:case 1073741912:case 1073741913:case 1073741914:case 1073741915:case 1073741916:case 1073741917:case 1073741918:case 1073741919:case 1073741920:case 1073741921:case 1073741922:case 1073741923:case 1073742044:e=
3;break;default:e=0}switch(b){case 8:b=8;break;case 9:b=9;break;case 13:b=13;break;case 27:b=27;break;case 32:b=32;break;case 33:b=49;break;case 34:b=222;break;case 35:b=51;break;case 36:b=52;break;case 37:b=53;break;case 38:b=55;break;case 39:b=222;break;case 40:b=57;break;case 41:b=48;break;case 42:b=56;break;case 44:b=188;break;case 45:b=189;break;case 46:b=190;break;case 47:b=191;break;case 48:b=48;break;case 49:b=49;break;case 50:b=50;break;case 51:b=51;break;case 52:b=52;break;case 53:b=53;
break;case 54:b=54;break;case 55:b=55;break;case 56:b=56;break;case 57:b=57;break;case 58:b=186;break;case 59:b=186;break;case 60:b=60;break;case 61:b=187;break;case 62:b=190;break;case 63:b=191;break;case 64:b=50;break;case 91:b=219;break;case 92:b=220;break;case 93:b=221;break;case 94:b=54;break;case 95:b=189;break;case 96:b=192;break;case 97:b=65;break;case 98:b=66;break;case 99:b=67;break;case 100:b=68;break;case 101:b=69;break;case 102:b=70;break;case 103:b=71;break;case 104:b=72;break;case 105:b=
73;break;case 106:b=74;break;case 107:b=75;break;case 108:b=76;break;case 109:b=77;break;case 110:b=78;break;case 111:b=79;break;case 112:b=80;break;case 113:b=81;break;case 114:b=82;break;case 115:b=83;break;case 116:b=84;break;case 117:b=85;break;case 118:b=86;break;case 119:b=87;break;case 120:b=88;break;case 121:b=89;break;case 122:b=90;break;case 127:b=46;break;case 1073741881:b=20;break;case 1073741882:b=112;break;case 1073741883:b=113;break;case 1073741884:b=114;break;case 1073741885:b=115;
break;case 1073741886:b=116;break;case 1073741887:b=117;break;case 1073741888:b=118;break;case 1073741889:b=119;break;case 1073741890:b=120;break;case 1073741891:b=121;break;case 1073741892:b=122;break;case 1073741893:b=123;break;case 1073741894:b=301;break;case 1073741895:b=145;break;case 1073741896:b=19;break;case 1073741897:b=45;break;case 1073741898:b=36;break;case 1073741899:b=33;break;case 1073741901:b=35;break;case 1073741902:b=34;break;case 1073741903:b=39;break;case 1073741904:b=37;break;
case 1073741905:b=40;break;case 1073741906:b=38;break;case 1073741907:b=144;break;case 1073741908:b=111;break;case 1073741909:b=106;break;case 1073741910:b=109;break;case 1073741911:b=107;break;case 1073741912:b=108;break;case 1073741913:b=97;break;case 1073741914:b=98;break;case 1073741915:b=99;break;case 1073741916:b=100;break;case 1073741917:b=101;break;case 1073741918:b=102;break;case 1073741919:b=103;break;case 1073741920:b=104;break;case 1073741921:b=105;break;case 1073741922:b=96;break;case 1073741923:b=
110;break;case 1073741925:b=302;break;case 1073741928:b=124;break;case 1073741929:b=125;break;case 1073741930:b=126;break;case 1073741982:b=13;break;case 1073742044:b=110;break;case 1073742048:b=17;break;case 1073742049:b=16;break;case 1073742050:b=18;break;case 1073742051:b=15;break;case 1073742052:b=17;break;case 1073742053:b=16;break;case 1073742054:b=18;break;case 1073742055:b=15;break}var f=cf.__getCharCode(b,Aa.get_shiftKey(c));a=new wb(a,!0,!1,f,b,e,this.__macKeyboard?Aa.get_ctrlKey(c)||Aa.get_metaKey(c):
Aa.get_ctrlKey(c),Aa.get_altKey(c),Aa.get_shiftKey(c),Aa.get_ctrlKey(c),Aa.get_metaKey(c));d.reverse();this.__fireEvent(a,d)}},__onMouse:function(a,b,c,d){if(!(2<d)){this.__mouseX=b;this.__mouseY=c;var e=[],f=null,g=new N(b,c);this.__hitTest(b,c,!0,e,!0)?f=e[e.length-1]:(f=this,e=[this]);null==f&&(f=this);a==v.MOUSE_DOWN&&(f.get_tabEnabled()?this.set_focus(f):this.set_focus(null));this.__fireEvent(v.__create(a,d,this.__mouseX,this.__mouseY,f==this?g:f.globalToLocal(g),f),e);switch(a){case "mouseUp":b=
v.CLICK;break;case "middleMouseUp":b=v.MIDDLE_CLICK;break;case "rightMouseUp":b=v.RIGHT_CLICK;break;default:b=null}null!=b&&(this.__fireEvent(v.__create(b,d,this.__mouseX,this.__mouseY,f==this?g:f.globalToLocal(g),f),e),a==v.MOUSE_UP&&z.__cast(f,va).doubleClickEnabled&&(a=L.getTimer(),500>a-this.__lastClickTime?(this.__fireEvent(v.__create(v.DOUBLE_CLICK,d,this.__mouseX,this.__mouseY,f==this?g:f.globalToLocal(g),f),e),this.__lastClickTime=0):this.__lastClickTime=a));f=null;for(d=0;d<e.length;)if(f=
e[d],++d,f=f.__getCursor(),null!=f){Ad.set_cursor(f);break}null==f&&Ad.set_cursor(C.ARROW);d=0;for(f=this.__mouseOutStack;d<f.length;)a=f[d],++d,-1==D.indexOf(e,a,0)&&(D.remove(this.__mouseOutStack,a),b=a.globalToLocal(g),a.__dispatchEvent(new v(v.MOUSE_OUT,!1,!1,b.x,b.y,a)));for(d=0;d<e.length;)f=e[d],++d,-1==D.indexOf(this.__mouseOutStack,f,0)&&(f.hasEventListener(v.MOUSE_OVER)&&(a=f.globalToLocal(g),f.__dispatchEvent(new v(v.MOUSE_OVER,!1,!1,a.x,a.y,f))),f.hasEventListener(v.MOUSE_OUT)&&this.__mouseOutStack.push(f));
null!=this.__dragObject&&this.__drag(g)}},__onMouseWheel:function(a,b){var c=this.__mouseX,d=this.__mouseY,e=[];this.__hitTest(c,d,!1,e,!0)||(e=[this]);var f=e[e.length-1],c=new N(c,d),d=b|0;this.__fireEvent(v.__create(v.MOUSE_WHEEL,0,this.__mouseX,this.__mouseY,f==this?c:f.globalToLocal(c),f,d),e)},__onTouch:function(a,b){var c=new N(b.x*this.stageWidth,b.y*this.stageHeight);this.__mouseX=c.x;this.__mouseY=c.y;var d=[];if(this.__hitTest(b.x,b.y,!1,d,!0)){var e=d[d.length-1];null==e&&(e=this);c=e.globalToLocal(c);
e=jc.__create(a,null,this.__mouseX,this.__mouseY,c,e);e.touchPointID=b.id;e.isPrimaryTouchPoint=!0;this.__fireEvent(e,d)}else d=jc.__create(a,null,this.__mouseX,this.__mouseY,c,this),d.touchPointID=b.id,d.isPrimaryTouchPoint=!0,this.__fireEvent(d,[this.stage])},__startDrag:function(a,b,c){this.__dragBounds=null==c?null:c.clone();this.__dragObject=a;null!=this.__dragObject&&(b?(this.__dragOffsetX=-this.__dragObject.get_width()/2,this.__dragOffsetY=-this.__dragObject.get_height()/2):(a=new N(this.get_mouseX(),
this.get_mouseY()),b=this.__dragObject.parent,null!=b&&(a=b.globalToLocal(a)),this.__dragOffsetX=this.__dragObject.get_x()-a.x,this.__dragOffsetY=this.__dragObject.get_y()-a.y))},__stopDrag:function(a){this.__dragObject=this.__dragBounds=null},__update:function(a,b,c){if(a)0<B.__worldTransformDirty&&(Ga.prototype.__update.call(this,!0,b,c),b&&(B.__worldTransformDirty=0,this.__dirty=!0));else if(0<B.__worldTransformDirty||this.__dirty||0<B.__worldRenderDirty)Ga.prototype.__update.call(this,!1,b,c),
b&&(B.__worldTransformDirty=0,B.__worldRenderDirty=0,this.__dirty=!1)},get_mouseX:function(){return this.__mouseX},get_mouseY:function(){return this.__mouseY},set_color:function(a){this.__colorSplit=[((a&16711680)>>>16)/255,((a&65280)>>>8)/255,(a&255)/255];this.__colorString="#"+ea.hex(a,6);return this.__color=a},get_focus:function(){return this.__focus},set_focus:function(a){if(a!=this.__focus){var b=this.__focus;this.__focus=a;if(null!=b){var c=new pa(pa.FOCUS_OUT,!0,!1,this.__focus,!1,0);this.__stack=
[];b.__getInteractive(this.__stack);this.__stack.reverse();this.__fireEvent(c,this.__stack)}null!=this.__focus&&(b=new pa(pa.FOCUS_IN,!0,!1,b,!1,0),this.__stack=[],a.__getInteractive(this.__stack),this.__stack.reverse(),this.__fireEvent(b,this.__stack))}return this.__focus},__class__:Vc,__properties__:x(Ga.prototype.__properties__,{set_focus:"set_focus",get_focus:"get_focus",set_color:"set_color"})});var Xd=function(){ja.call(this)};m["openfl.display.Stage3D"]=Xd;Xd.__name__=!0;Xd.__super__=ja;Xd.prototype=
x(ja.prototype,{__class__:Xd});var P=m["openfl.display.StageAlign"]={__ename__:!0,__constructs__:"TOP_RIGHT TOP_LEFT TOP RIGHT LEFT BOTTOM_RIGHT BOTTOM_LEFT BOTTOM".split(" ")};P.TOP_RIGHT=["TOP_RIGHT",0];P.TOP_RIGHT.toString=q;P.TOP_RIGHT.__enum__=P;P.TOP_LEFT=["TOP_LEFT",1];P.TOP_LEFT.toString=q;P.TOP_LEFT.__enum__=P;P.TOP=["TOP",2];P.TOP.toString=q;P.TOP.__enum__=P;P.RIGHT=["RIGHT",3];P.RIGHT.toString=q;P.RIGHT.__enum__=P;P.LEFT=["LEFT",4];P.LEFT.toString=q;P.LEFT.__enum__=P;P.BOTTOM_RIGHT=["BOTTOM_RIGHT",
5];P.BOTTOM_RIGHT.toString=q;P.BOTTOM_RIGHT.__enum__=P;P.BOTTOM_LEFT=["BOTTOM_LEFT",6];P.BOTTOM_LEFT.toString=q;P.BOTTOM_LEFT.__enum__=P;P.BOTTOM=["BOTTOM",7];P.BOTTOM.toString=q;P.BOTTOM.__enum__=P;var rb=m["openfl.display.StageDisplayState"]={__ename__:!0,__constructs__:["NORMAL","FULL_SCREEN","FULL_SCREEN_INTERACTIVE"]};rb.NORMAL=["NORMAL",0];rb.NORMAL.toString=q;rb.NORMAL.__enum__=rb;rb.FULL_SCREEN=["FULL_SCREEN",1];rb.FULL_SCREEN.toString=q;rb.FULL_SCREEN.__enum__=rb;rb.FULL_SCREEN_INTERACTIVE=
["FULL_SCREEN_INTERACTIVE",2];rb.FULL_SCREEN_INTERACTIVE.toString=q;rb.FULL_SCREEN_INTERACTIVE.__enum__=rb;var Pa=m["openfl.display.StageQuality"]={__ename__:!0,__constructs__:["BEST","HIGH","MEDIUM","LOW"]};Pa.BEST=["BEST",0];Pa.BEST.toString=q;Pa.BEST.__enum__=Pa;Pa.HIGH=["HIGH",1];Pa.HIGH.toString=q;Pa.HIGH.__enum__=Pa;Pa.MEDIUM=["MEDIUM",2];Pa.MEDIUM.toString=q;Pa.MEDIUM.__enum__=Pa;Pa.LOW=["LOW",3];Pa.LOW.toString=q;Pa.LOW.__enum__=Pa;var Ra=m["openfl.display.StageScaleMode"]={__ename__:!0,__constructs__:["SHOW_ALL",
"NO_SCALE","NO_BORDER","EXACT_FIT"]};Ra.SHOW_ALL=["SHOW_ALL",0];Ra.SHOW_ALL.toString=q;Ra.SHOW_ALL.__enum__=Ra;Ra.NO_SCALE=["NO_SCALE",1];Ra.NO_SCALE.toString=q;Ra.NO_SCALE.__enum__=Ra;Ra.NO_BORDER=["NO_BORDER",2];Ra.NO_BORDER.toString=q;Ra.NO_BORDER.__enum__=Ra;Ra.EXACT_FIT=["EXACT_FIT",3];Ra.EXACT_FIT.toString=q;Ra.EXACT_FIT.__enum__=Ra;var df=function(){};m["openfl.display.Tilesheet"]=df;df.__name__=!0;df.prototype={__class__:df};var Fb=m["openfl.display.TriangleCulling"]={__ename__:!0,__constructs__:["NEGATIVE",
"NONE","POSITIVE"]};Fb.NEGATIVE=["NEGATIVE",0];Fb.NEGATIVE.toString=q;Fb.NEGATIVE.__enum__=Fb;Fb.NONE=["NONE",1];Fb.NONE.toString=q;Fb.NONE.__enum__=Fb;Fb.POSITIVE=["POSITIVE",2];Fb.POSITIVE.toString=q;Fb.POSITIVE.__enum__=Fb;var Vd=function(a){vc.call(this,a)};m["openfl.display.Window"]=Vd;Vd.__name__=!0;Vd.__super__=vc;Vd.prototype=x(vc.prototype,{create:function(a){vc.prototype.create.call(this,a);this.stage=new Vc(this,Object.prototype.hasOwnProperty.call(this.config,"background")?this.config.background:
16777215);a.addModule(this.stage)},__class__:Vd});var u=function(a,b,c){null==c&&(c=!1);null==b&&(b=!1);this.type=a;this.bubbles=b;this.cancelable=c;this.eventPhase=na.AT_TARGET};m["openfl.events.Event"]=u;u.__name__=!0;u.prototype={stopImmediatePropagation:function(){this.__isCancelledNow=this.__isCancelled=!0},stopPropagation:function(){this.__isCancelled=!0},__class__:u};var Lb=function(a,b,c,d){null==d&&(d="");null==c&&(c=!1);null==b&&(b=!1);u.call(this,a,b,c);this.text=d};m["openfl.events.TextEvent"]=
Lb;Lb.__name__=!0;Lb.__super__=u;Lb.prototype=x(u.prototype,{__class__:Lb});var Mb=function(a,b,c,d,e){null==e&&(e=0);null==d&&(d="");null==c&&(c=!1);null==b&&(b=!1);Lb.call(this,a,b,c,d);this.errorID=e};m["openfl.events.ErrorEvent"]=Mb;Mb.__name__=!0;Mb.__super__=Lb;Mb.prototype=x(Lb.prototype,{__class__:Mb});var Zc=function(a,b,c){this.callback=a;this.useCapture=b;this.priority=c};m["openfl.events._EventDispatcher.Listener"]=Zc;Zc.__name__=!0;Zc.prototype={match:function(a,b){return w.compareMethods(this.callback,
a)&&this.useCapture==b},__class__:Zc};var na=m["openfl.events.EventPhase"]={__ename__:!0,__constructs__:["CAPTURING_PHASE","AT_TARGET","BUBBLING_PHASE"]};na.CAPTURING_PHASE=["CAPTURING_PHASE",0];na.CAPTURING_PHASE.toString=q;na.CAPTURING_PHASE.__enum__=na;na.AT_TARGET=["AT_TARGET",1];na.AT_TARGET.toString=q;na.AT_TARGET.__enum__=na;na.BUBBLING_PHASE=["BUBBLING_PHASE",2];na.BUBBLING_PHASE.toString=q;na.BUBBLING_PHASE.__enum__=na;var pa=function(a,b,c,d,e,f){null==f&&(f=0);null==e&&(e=!1);null==c&&
(c=!1);null==b&&(b=!1);u.call(this,a,b,c);this.keyCode=f;this.shiftKey=e;this.relatedObject=d};m["openfl.events.FocusEvent"]=pa;pa.__name__=!0;pa.__super__=u;pa.prototype=x(u.prototype,{__class__:pa});var lc=function(a,b,c,d,e){null==e&&(e=!1);null==d&&(d=!1);null==c&&(c=!1);null==b&&(b=!1);u.call(this,a,b,c);this.fullScreen=d;this.interactive=e};m["openfl.events.FullScreenEvent"]=lc;lc.__name__=!0;lc.__super__=u;lc.prototype=x(u.prototype,{__class__:lc});var Nb=function(a,b,c,d){null==c&&(c=!1);
null==b&&(b=!0);u.call(this,a,b,c);this.device=d};m["openfl.events.GameInputEvent"]=Nb;Nb.__name__=!0;Nb.__super__=u;Nb.prototype=x(u.prototype,{__class__:Nb});var kc=function(a,b,c,d){null==d&&(d=0);null==c&&(c=!1);null==b&&(b=!1);this.status=d;u.call(this,a,b,c)};m["openfl.events.HTTPStatusEvent"]=kc;kc.__name__=!0;kc.__super__=u;kc.prototype=x(u.prototype,{__class__:kc});var Db=function(a,b,c,d,e){null==e&&(e=0);null==d&&(d="");null==c&&(c=!1);null==b&&(b=!0);Mb.call(this,a,b,c,d,e)};m["openfl.events.IOErrorEvent"]=
Db;Db.__name__=!0;Db.__super__=Mb;Db.prototype=x(Mb.prototype,{__class__:Db});var wb=function(a,b,c,d,e,f,g,h,k,l,m){null==m&&(m=!1);null==l&&(l=!1);null==k&&(k=!1);null==h&&(h=!1);null==g&&(g=!1);null==e&&(e=0);null==d&&(d=0);null==c&&(c=!1);null==b&&(b=!1);u.call(this,a,b,c);this.charCode=d;this.keyCode=e;this.keyLocation=null!=f?f:0;this.ctrlKey=g;this.altKey=h;this.shiftKey=k;this.controlKey=l;this.commandKey=m};m["openfl.events.KeyboardEvent"]=wb;wb.__name__=!0;wb.__super__=u;wb.prototype=x(u.prototype,
{__class__:wb});var v=function(a,b,c,d,e,f,g,h,k,l,m,q,n){null==n&&(n=0);null==q&&(q=!1);null==m&&(m=0);null==l&&(l=!1);null==k&&(k=!1);null==h&&(h=!1);null==g&&(g=!1);null==e&&(e=0);null==d&&(d=0);null==c&&(c=!1);null==b&&(b=!0);u.call(this,a,b,c);this.shiftKey=k;this.altKey=h;this.ctrlKey=g;this.bubbles=b;this.relatedObject=f;this.delta=m;this.localX=d;this.localY=e;this.buttonDown=l;this.commandKey=q;this.clickCount=n};m["openfl.events.MouseEvent"]=v;v.__name__=!0;v.__altKey=null;v.__buttonDown=
null;v.__commandKey=null;v.__ctrlKey=null;v.__shiftKey=null;v.__create=function(a,b,c,d,e,f,g){null==g&&(g=0);switch(a){case "mouseDown":v.__buttonDown=!0;break;case "mouseUp":v.__buttonDown=!1}a=new v(a,!0,!1,e.x,e.y,null,v.__ctrlKey,v.__altKey,v.__shiftKey,v.__buttonDown,g,v.__commandKey);a.stageX=c;a.stageY=d;a.target=f;return a};v.__super__=u;v.prototype=x(u.prototype,{__class__:v});var Ec=function(a,b,c,d,e){null==e&&(e=0);null==d&&(d=0);null==c&&(c=!1);null==b&&(b=!1);u.call(this,a,b,c);this.bytesLoaded=
d;this.bytesTotal=e};m["openfl.events.ProgressEvent"]=Ec;Ec.__name__=!0;Ec.__super__=u;Ec.prototype=x(u.prototype,{__class__:Ec});var Fc=function(a,b,c,d,e){null==e&&(e=0);null==d&&(d="");null==c&&(c=!1);null==b&&(b=!1);Mb.call(this,a,b,c,d,e)};m["openfl.events.SecurityErrorEvent"]=Fc;Fc.__name__=!0;Fc.__super__=Mb;Fc.prototype=x(Mb.prototype,{__class__:Fc});var jc=function(a,b,c,d,e,f,g,h,k,l,m,q,n,r,t){null==r&&(r=!1);null==n&&(n=0);null==q&&(q=!1);null==m&&(m=!1);null==l&&(l=!1);null==k&&(k=!1);
null==g&&(g=1);null==f&&(f=1);null==e&&(e=0);null==d&&(d=0);null==c&&(c=!1);null==b&&(b=!0);u.call(this,a,b,c);this.shiftKey=m;this.altKey=l;this.ctrlKey=k;this.bubbles=b;this.relatedObject=h;this.delta=n;this.localX=d;this.localY=e;this.sizeX=f;this.sizeY=g;this.buttonDown=q;this.commandKey=r;this.pressure=1;this.touchPointID=0;this.isPrimaryTouchPoint=!0};m["openfl.events.TouchEvent"]=jc;jc.__name__=!0;jc.__create=function(a,b,c,d,e,f){a=new jc(a,!0,!1,e.x,e.y,1,1,null,!1,!1,!1,!1,0,!1,0);a.stageX=
c;a.stageY=d;a.target=f;return a};jc.__super__=u;jc.prototype=x(u.prototype,{__class__:jc});var Gb=function(){this.__saveLastFilter=!1;this.__passes=0};m["openfl.filters.BitmapFilter"]=Gb;Gb.__name__=!0;Gb.__tmpRenderTexture=null;Gb.__expandBounds=function(a,b,c){var d=O.__temp;d.setEmpty();for(var e=0;e<a.length;){var f=a[e];++e;f.__growBounds(d)}d.__transform(d,c);b.__expand(d.x,d.y,d.width,d.height)};Gb.__applyFilters=function(a,b,c,d,e,f){if(f=d==c&&d.__usingPingPongTexture)d.__pingPongTexture.useOldTexture=
!0;null==e&&(e=c.rect);for(var g=null,h=!1,k=c.__shader,l=0;l<a.length;){var m=a[l];++l;m.__saveLastFilter&&(d.__pingPongTexture.swap(),d.__drawGL(b,c,null,null,null,e,!0,!d.__usingPingPongTexture,!0),g=d.__pingPongTexture.get_oldRenderTexture(),d.__pingPongTexture.set_oldRenderTexture(Gb.__tmpRenderTexture));for(var q=0,n=m.__passes;q<n;){var r=q++,h=m.__saveLastFilter&&m.__useLastFilter(r);f&&!h&&d.__pingPongTexture.swap();h&&(Gb.__tmpRenderTexture=d.__pingPongTexture.get_oldRenderTexture(),d.__pingPongTexture.set_oldRenderTexture(g));
c.__shader=m.__preparePass(r);d.__drawGL(b,c,null,null,null,e,!0,!d.__usingPingPongTexture,!h)}}c.__shader=k;f&&(d.__pingPongTexture.useOldTexture=!1)};Gb.prototype={__growBounds:function(a){},__preparePass:function(a){return null},__useLastFilter:function(a){return!1},__class__:Gb};var ef=function(){};m["openfl.geom.Matrix3D"]=ef;ef.__name__=!0;ef.prototype={__class__:ef};var Zd=function(a){this.__colorTransform=new tb;this.concatenatedColorTransform=new tb;this.pixelBounds=new O;this.__displayObject=
a;this.__hasMatrix=!0};m["openfl.geom.Transform"]=Zd;Zd.__name__=!0;Zd.prototype={get_colorTransform:function(){return this.__colorTransform},__class__:Zd,__properties__:{get_colorTransform:"get_colorTransform"}};var zf=function(){};m["openfl.geom.Vector3D"]=zf;zf.__name__=!0;var Af=function(){};m["openfl.media.ID3Info"]=Af;Af.__name__=!0;var ic=function(a,b){ja.call(this,this);this.bytesTotal=this.bytesLoaded=0;this.id3=null;this.isBuffering=!1;this.url=null;null!=a&&this.load(a,b)};m["openfl.media.Sound"]=
ic;ic.__name__=!0;ic.__super__=ja;ic.prototype=x(ja.prototype,{load:function(a,b){this.url=a.url;this.__soundID=rc.withoutExtension(a.url);ic.__registeredSounds.exists(this.__soundID)?this.dispatchEvent(new u(u.COMPLETE)):(ic.__registeredSounds.set(this.__soundID,!0),createjs.Sound.addEventListener("fileload",r(this,this.SoundJS_onFileLoad)),createjs.Sound.addEventListener("fileerror",r(this,this.SoundJS_onFileError)),createjs.Sound.registerSound(this.url,this.__soundID))},SoundJS_onFileLoad:function(a){a.id==
this.__soundID&&(createjs.Sound.removeEventListener("fileload",r(this,this.SoundJS_onFileLoad)),createjs.Sound.removeEventListener("fileerror",r(this,this.SoundJS_onFileError)),this.dispatchEvent(new u(u.COMPLETE)))},SoundJS_onFileError:function(a){a.id==this.__soundID&&(createjs.Sound.removeEventListener("fileload",r(this,this.SoundJS_onFileLoad)),createjs.Sound.removeEventListener("fileerror",r(this,this.SoundJS_onFileError)),this.dispatchEvent(new Db(Db.IO_ERROR)))},__class__:ic});var Bf=function(){};
m["openfl.media.SoundLoaderContext"]=Bf;Bf.__name__=!0;var Dd=function(a,b){null==b&&(b=0);null==a&&(a=1);this.volume=a;this.pan=b;this.rightToRight=this.rightToLeft=this.leftToRight=this.leftToLeft=0};m["openfl.media.SoundTransform"]=Dd;Dd.__name__=!0;Dd.prototype={__class__:Dd};var Yd=function(a){ja.call(this);this.bytesTotal=this.bytesLoaded=0;this.set_dataFormat(ab.TEXT);null!=a&&this.load(a)};m["openfl.net.URLLoader"]=Yd;Yd.__name__=!0;Yd.__super__=ja;Yd.prototype=x(ja.prototype,{getData:function(){return null},
load:function(a){this.requestUrl(a.url,a.method,a.data,a.formatRequestHeaders())},registerEvents:function(a){var b=this;"undefined"!=typeof XMLHttpRequestProgressEvent&&a.addEventListener("progress",r(this,this.onProgress),!1);a.onreadystatechange=function(){if(4==a.readyState){var c;try{c=a.status}catch(d){d instanceof ba&&(d=d.val),c=null}void 0==c&&(c=null);if(null!=c)b.onStatus(c);if(null!=c&&200<=c&&400>c)b.onData(a.response);else if(null==c)b.onError("Failed to connect or resolve host");else if(12029==
c)b.onError("Failed to connect to host");else if(12007==c)b.onError("Unknown host");else if(0==c)b.onError("Unable to make request (may be blocked due to cross-domain permissions)"),b.onSecurityError("Unable to make request (may be blocked due to cross-domain permissions)");else b.onError("Http Error #"+a.status)}}},requestUrl:function(a,b,c,d){var e=new XMLHttpRequest;this.registerEvents(e);var f="";if(z.__instanceof(c,mb))switch(this.dataFormat[1]){case 0:f=c.data.buffer;break;default:f=c.readUTFBytes(c.length)}else if(z.__instanceof(c,
nf))for(var g=0,h=w.fields(c);g<h.length;){var k=h[g];++g;0!=f.length&&(f+="&");f+=encodeURIComponent(k)+"="+ea.urlEncode(w.field(c,k))}else null!=c&&(f=c.toString());try{if("GET"==b&&null!=f&&""!=f){var l=1>=a.split("?").length;e.open(b,a+(l?"?":"&")+Y.string(f),!0);f=""}else e.open(b,a,!0)}catch(m){m instanceof ba&&(m=m.val);this.onError(m.toString());return}switch(this.dataFormat[1]){case 0:e.responseType="arraybuffer"}for(a=0;a<d.length;)b=d[a],++a,e.setRequestHeader(b.name,b.value);e.send(f);
this.onOpen();this.getData=function(){return null!=e.response?e.response:e.responseText}},onData:function(a){a=this.getData();switch(this.dataFormat[1]){case 0:this.data=mb.__ofBuffer(a);break;default:this.data=Y.string(a)}a=new u(u.COMPLETE);a.currentTarget=this;this.dispatchEvent(a)},onError:function(a){var b=new Db(Db.IO_ERROR);b.text=a;b.currentTarget=this;this.dispatchEvent(b)},onOpen:function(){var a=new u(u.OPEN);a.currentTarget=this;this.dispatchEvent(a)},onProgress:function(a){var b=new Ec(Ec.PROGRESS);
b.currentTarget=this;b.bytesLoaded=a.loaded;b.bytesTotal=a.total;this.dispatchEvent(b)},onSecurityError:function(a){var b=new Fc(Fc.SECURITY_ERROR);b.text=a;b.currentTarget=this;this.dispatchEvent(b)},onStatus:function(a){a=new kc(kc.HTTP_STATUS,!1,!1,a);a.currentTarget=this;this.dispatchEvent(a)},set_dataFormat:function(a){a!=ab.BINARY||w.hasField(window,"ArrayBuffer")?this.dataFormat=a:this.dataFormat=ab.TEXT;return this.dataFormat},__class__:Yd,__properties__:{set_dataFormat:"set_dataFormat"}});
var ab=m["openfl.net.URLLoaderDataFormat"]={__ename__:!0,__constructs__:["BINARY","TEXT","VARIABLES"]};ab.BINARY=["BINARY",0];ab.BINARY.toString=q;ab.BINARY.__enum__=ab;ab.TEXT=["TEXT",1];ab.TEXT.toString=q;ab.TEXT.__enum__=ab;ab.VARIABLES=["VARIABLES",2];ab.VARIABLES.toString=q;ab.VARIABLES.__enum__=ab;var Wd=function(a){null!=a&&(this.url=a);this.requestHeaders=[];this.method="GET";this.contentType=null};m["openfl.net.URLRequest"]=Wd;Wd.__name__=!0;Wd.prototype={formatRequestHeaders:function(){var a=
this.requestHeaders;null==a&&(a=[]);if("GET"==this.method||null==this.data)return a;if("string"==typeof this.data||z.__instanceof(this.data,mb))a=a.slice(),a.push(new Oe("Content-Type",null!=this.contentType?this.contentType:"application/x-www-form-urlencoded"));return a},__class__:Wd};var Oe=function(a,b){null==b&&(b="");null==a&&(a="");this.name=a;this.value=b};m["openfl.net.URLRequestHeader"]=Oe;Oe.__name__=!0;Oe.prototype={__class__:Oe};var nf=function(){};m["openfl.net.URLVariables"]=nf;nf.__name__=
!0;var Kb=m["openfl.text.AntiAliasType"]={__ename__:!0,__constructs__:["ADVANCED","NORMAL"]};Kb.ADVANCED=["ADVANCED",0];Kb.ADVANCED.toString=q;Kb.ADVANCED.__enum__=Kb;Kb.NORMAL=["NORMAL",1];Kb.NORMAL.toString=q;Kb.NORMAL.__enum__=Kb;var Ya=m["openfl.text.GridFitType"]={__ename__:!0,__constructs__:["NONE","PIXEL","SUBPIXEL"]};Ya.NONE=["NONE",0];Ya.NONE.toString=q;Ya.NONE.__enum__=Ya;Ya.PIXEL=["PIXEL",1];Ya.PIXEL.toString=q;Ya.PIXEL.__enum__=Ya;Ya.SUBPIXEL=["SUBPIXEL",2];Ya.SUBPIXEL.toString=q;Ya.SUBPIXEL.__enum__=
Ya;var ya=function(){va.call(this);this.__caretIndex=-1;this.__graphics=new mc;this.__textEngine=new qa(this);this.__tabEnabled=this.__layoutDirty=!0;null==ya.__defaultTextFormat&&(ya.__defaultTextFormat=new ib("Times New Roman",12,0,!1,!1,!1,"","",ta.LEFT,0,0,0,0),ya.__defaultTextFormat.blockIndent=0,ya.__defaultTextFormat.bullet=!1,ya.__defaultTextFormat.letterSpacing=0,ya.__defaultTextFormat.kerning=!1);this.__textFormat=ya.__defaultTextFormat.clone();this.__textEngine.textFormatRanges.push(new Bc(this.__textFormat,
0,0));this.addEventListener(v.MOUSE_DOWN,r(this,this.this_onMouseDown))};m["openfl.text.TextField"]=ya;ya.__name__=!0;ya.__defaultTextFormat=null;ya.__super__=va;ya.prototype=x(va.prototype,{getCharBoundaries:function(a){if(0>a||a>this.__textEngine.text.length-1)return null;this.__updateLayout();for(var b=0,c=this.__textEngine.layoutGroups;b<c.length;){var d=c[b];++b;if(a>=d.startIndex&&a<=d.endIndex){for(var b=d.offsetX,c=0,e=a-d.startIndex;c<e;)var f=c++,b=b+d.advances[f];return new O(b,d.offsetY,
d.advances[a-d.startIndex],d.ascent+d.descent)}}return null},replaceSelectedText:function(a){if(""!=a||this.__selectionIndex!=this.__caretIndex){var b;b=this.__caretIndex<this.__selectionIndex?this.__caretIndex:this.__selectionIndex;this.replaceText(b,this.__caretIndex>this.__selectionIndex?this.__caretIndex:this.__selectionIndex,a);this.__selectionIndex=this.__caretIndex=b+a.length}},replaceText:function(a,b,c){if(!(b<a||0>a||b>this.__textEngine.text.length||null==c)){this.__textEngine.text=this.__textEngine.text.substring(0,
a)+c+this.__textEngine.text.substring(b);c=c.length-(b-a);for(var d=0,e;d<this.__textEngine.textFormatRanges.length;)e=this.__textEngine.textFormatRanges[d],e.start<=a&&e.end>=b?(e.end+=c,d++):e.start>=a&&e.end<=b?(this.__textEngine.textFormatRanges.splice(d,1),c-=e.end-e.start):(e.start>a&&e.start<=b&&(e.start+=c),d++);this.__layoutDirty=this.__dirty=!0}},__getBounds:function(a,b){this.__updateLayout();var c=O.__temp;this.__textEngine.bounds.__transform(c,b);a.__expand(c.x,c.y,c.width,c.height)},
__getCursor:function(){return this.__textEngine.selectable?C.TEXT:null},__getPosition:function(a,b){this.__updateLayout();a+=this.get_scrollH();for(var c=0,d=this.get_scrollV()-1;c<d;){var e=c++;b+=this.__textEngine.lineHeights[e]}b>this.__textEngine.textHeight&&(b=this.__textEngine.textHeight);for(var d=!0,f,e=0,g=this.__textEngine.layoutGroups.length;e<g;)if(f=e++,c=this.__textEngine.layoutGroups[f],f=f<this.__textEngine.layoutGroups.length-1?this.__textEngine.layoutGroups[f+1]:null,d&&(b<c.offsetY&&
(b=c.offsetY),a<c.offsetX&&(a=c.offsetX),d=!1),b>=c.offsetY&&b<=c.offsetY+c.height||null==f)if(a>=c.offsetX&&a<=c.offsetX+c.width||null==f||f.lineIndex!=c.lineIndex){e=d=0;for(g=c.advances.length;e<g;)if(f=e++,d+=c.advances[f],a<=c.offsetX+d){if(a<=c.offsetX+(d-c.advances[f])+c.advances[f]/2)return c.startIndex+f;if(c.startIndex+f<c.endIndex)return c.startIndex+f+1;break}return c.endIndex}return this.__textEngine.text.length},__hitTest:function(a,b,c,d,e){if(!this.get_visible()||this.__isMask||e&&
!this.mouseEnabled||null!=this.get_mask()&&!this.get_mask().__hitTestMask(a,b))return!1;this.__getWorldTransform();this.__updateLayout();c=this.__worldTransform.__transformInverseX(a,b);a=this.__worldTransform.__transformInverseY(a,b);return this.__textEngine.bounds.contains(c,a)?(null!=d&&d.push(this),!0):!1},__hitTestMask:function(a,b){this.__getWorldTransform();this.__updateLayout();var c=this.__worldTransform.__transformInverseX(a,b),d=this.__worldTransform.__transformInverseY(a,b);return this.__textEngine.bounds.contains(c,
d)?!0:!1},__renderCairo:function(a){Ze.render(this,a);va.prototype.__renderCairo.call(this,a)},__renderCanvas:function(a){ka.render(this,a);if(this.__textEngine.antiAliasType==Kb.ADVANCED&&this.__textEngine.gridFitType==Ya.PIXEL){var b=a.context.imageSmoothingEnabled;b&&(a.context.mozImageSmoothingEnabled=!1,a.context.msImageSmoothingEnabled=!1,a.context.imageSmoothingEnabled=!1);va.prototype.__renderCanvas.call(this,a);b&&(a.context.mozImageSmoothingEnabled=!0,a.context.msImageSmoothingEnabled=!0,
a.context.imageSmoothingEnabled=!0)}else va.prototype.__renderCanvas.call(this,a)},__renderDOM:function(a){af.render(this,a)},__renderGL:function(a){this.__cacheAsBitmap?this.__cacheGL(a):(null!=this.__scrollRect&&a.maskManager.pushRect(this.__scrollRect,this.__renderTransform),null!=this.__mask&&null!=this.__maskGraphics&&0<this.__maskGraphics.__commands.get_length()&&a.maskManager.pushMask(this),ka.render(this,a),wa.renderBitmap(this,a,this.__textEngine.antiAliasType!=Kb.ADVANCED||this.__textEngine.gridFitType!=
Ya.PIXEL),null!=this.__mask&&null!=this.__maskGraphics&&0<this.__maskGraphics.__commands.get_length()&&a.maskManager.popMask(),null!=this.__scrollRect&&a.maskManager.popRect())},__startCursorTimer:function(){this.__cursorTimer=pc.delay(r(this,this.__startCursorTimer),600);this.__showCursor=!this.__showCursor;this.__dirty=!0},__startTextInput:function(){0>this.__caretIndex&&(this.__selectionIndex=this.__caretIndex=this.__textEngine.text.length);null!=this.stage&&(this.stage.window.backend.setEnableTextEvents(!0),
this.__inputEnabled||(this.stage.window.backend.setEnableTextEvents(!0),this.stage.window.onTextInput.has(r(this,this.window_onTextInput))||(this.stage.window.onTextInput.add(r(this,this.window_onTextInput)),this.stage.window.onKeyDown.add(r(this,this.window_onKeyDown))),this.__inputEnabled=!0,this.__startCursorTimer()))},__stopCursorTimer:function(){null!=this.__cursorTimer&&(this.__cursorTimer.stop(),this.__cursorTimer=null);this.__showCursor&&(this.__showCursor=!1,this.__dirty=!0)},__stopTextInput:function(){this.__inputEnabled&&
null!=this.stage&&(this.stage.window.backend.setEnableTextEvents(!1),this.stage.window.onTextInput.remove(r(this,this.window_onTextInput)),this.stage.window.onKeyDown.remove(r(this,this.window_onKeyDown)),this.__inputEnabled=!1,this.__stopCursorTimer())},__updateLayout:function(){if(this.__layoutDirty){this.__textEngine.update();if(this.__textEngine.autoSize!=X.NONE){var a=this.__textEngine.width;switch(this.__textEngine.autoSize[1]){case 1:case 3:case 0:this.__textEngine.wordWrap||(this.__textEngine.width=
this.__textEngine.textWidth+4),this.__textEngine.height=this.__textEngine.textHeight+4}if(this.__textEngine.width!=a)switch(this.__textEngine.autoSize[1]){case 3:this.set_x(this.get_x()+(a-this.__textEngine.width));break;case 0:this.set_x(this.get_x()+(a-this.__textEngine.width)/2)}this.__textEngine.getBounds()}this.__layoutDirty=!1}},set_autoSize:function(a){a!=this.__textEngine.autoSize&&(this.__layoutDirty=this.__dirty=!0);return this.__textEngine.autoSize=a},set_defaultTextFormat:function(a){this.__textFormat.__merge(a);
this.__dirty=this.__layoutDirty=!0;return a},set_embedFonts:function(a){return this.__textEngine.embedFonts=a},get_height:function(){this.__updateLayout();return this.__textEngine.height},set_height:function(a){if(1!=this.get_scaleY()||a!=this.__textEngine.height)this.__transformDirty||(this.__transformDirty=!0,B.__worldTransformDirty++),this.__layoutDirty=this.__dirty=!0;this.set_scaleY(1);return this.__textEngine.height=a},get_htmlText:function(){return this.__textEngine.text},set_htmlText:function(a){this.__isHTML&&
this.__textEngine.text==a||(this.__layoutDirty=this.__dirty=!0);this.__isHTML=!0;if(null==this.__div){a=(new Hb("<br>","g")).replace(a,"\n");a=(new Hb("<br/>","g")).replace(a,"\n");var b=a.split("<font");if(1==b.length)a=(new Hb("<.*?>","g")).replace(a,""),1<this.__textEngine.textFormatRanges.length&&this.__textEngine.textFormatRanges.splice(1,this.__textEngine.textFormatRanges.length-1),b=this.__textEngine.textFormatRanges[0],b.format=this.__textFormat,b.start=0,b.end=a.length;else{this.__textEngine.textFormatRanges.splice(0,
this.__textEngine.textFormatRanges.length);a="";for(var c=0;c<b.length;){var d=b[c];++c;if(""!=d){var e=d.indexOf("</font>");if(-1<e){var f=d.indexOf(">")+1,g=e,h=this.__textFormat.clone(),k=d.indexOf("face="),l=d.indexOf("color="),m=d.indexOf("size=");if(-1<k&&k<f){var q=d.indexOf('"',k);h.font=D.substr(d,k+6,q)}-1<l&&l<f&&(h.color=Y.parseInt("0x"+D.substr(d,l+8,6)));-1<m&&m<f&&(h.size=Y.parseInt(function(a){a=d.indexOf('"',m);return D.substr(d,m+6,a)}(this)));f=d.substring(f,g);f=(new Hb("<.*?>",
"g")).replace(f,"");this.__textEngine.textFormatRanges.push(new Bc(h,a.length,a.length+f.length));a+=f;e+7<d.length&&(f=D.substr(d,e+7,null),this.__textEngine.textFormatRanges.push(new Bc(this.__textFormat,a.length,a.length+f.length)),a+=f)}else this.__textEngine.textFormatRanges.push(new Bc(this.__textFormat,a.length,a.length+d.length)),a+=d}}}}return this.__textEngine.text=a},set_maxChars:function(a){a!=this.__textEngine.maxChars&&(this.__layoutDirty=this.__dirty=!0);return this.__textEngine.maxChars=
a},set_multiline:function(a){a!=this.__textEngine.multiline&&(this.__layoutDirty=this.__dirty=!0);return this.__textEngine.multiline=a},get_scrollH:function(){return this.__textEngine.scrollH},get_scrollV:function(){return this.__textEngine.scrollV},get_selectable:function(){return this.__textEngine.selectable},set_selectable:function(a){a!=this.__textEngine.selectable&&this.get_type()==fb.INPUT&&(null!=this.stage&&this.stage.get_focus()==this?this.__startTextInput():a||this.__stopTextInput());return this.__textEngine.selectable=
a},get_text:function(){return this.__textEngine.text},set_text:function(a){if(this.__isHTML||this.__textEngine.text!=a)this.__layoutDirty=this.__dirty=!0;else return a;1<this.__textEngine.textFormatRanges.length&&this.__textEngine.textFormatRanges.splice(1,this.__textEngine.textFormatRanges.length-1);var b=this.__textEngine.textFormatRanges[0];b.format=this.__textFormat;b.start=0;b.end=a.length;this.__isHTML=!1;return this.__textEngine.text=a},set_textColor:function(a){a!=this.__textFormat.color&&
(this.__dirty=!0);for(var b=0,c=this.__textEngine.textFormatRanges;b<c.length;){var d=c[b];++b;d.format.color=a}return this.__textFormat.color=a},get_textHeight:function(){this.__updateLayout();return this.__textEngine.textHeight},get_type:function(){return this.__textEngine.type},set_type:function(a){a!=this.__textEngine.type&&(a==fb.INPUT?(this.addEventListener(pa.FOCUS_IN,r(this,this.this_onFocusIn)),this.addEventListener(pa.FOCUS_OUT,r(this,this.this_onFocusOut)),this.addEventListener(u.ADDED_TO_STAGE,
r(this,this.this_onAddedToStage)),this.this_onFocusIn(null)):(this.removeEventListener(pa.FOCUS_IN,r(this,this.this_onFocusIn)),this.removeEventListener(pa.FOCUS_OUT,r(this,this.this_onFocusOut)),this.removeEventListener(u.ADDED_TO_STAGE,r(this,this.this_onAddedToStage)),this.__stopTextInput()),this.__dirty=!0);return this.__textEngine.type=a},get_width:function(){this.__updateLayout();return this.__textEngine.width},set_width:function(a){if(1!=this.get_scaleX()||this.__textEngine.width!=a)this.__transformDirty||
(this.__transformDirty=!0,B.__worldTransformDirty++),this.__layoutDirty=this.__dirty=!0;this.set_scaleX(1);return this.__textEngine.width=a},set_wordWrap:function(a){a!=this.__textEngine.wordWrap&&(this.__layoutDirty=this.__dirty=!0);return this.__textEngine.wordWrap=a},stage_onMouseMove:function(a){null!=this.stage&&this.__textEngine.selectable&&0<=this.__selectionIndex&&(this.__updateLayout(),a=this.__getPosition(this.get_mouseX(),this.get_mouseY()),a!=this.__caretIndex&&(this.__caretIndex=a,this.__dirty=
!0))},stage_onMouseUp:function(a){if(null!=this.stage&&(this.stage.removeEventListener(v.MOUSE_MOVE,r(this,this.stage_onMouseMove)),this.stage.removeEventListener(v.MOUSE_UP,r(this,this.stage_onMouseUp)),this.stage.get_focus()==this)){this.__getWorldTransform();this.__updateLayout();this.__worldTransform.__transformInverseX(this.get_x(),this.get_y());this.__worldTransform.__transformInverseY(this.get_x(),this.get_y());var b=this.__getPosition(this.get_mouseX(),this.get_mouseY());a=Y["int"](Math.min(this.__selectionIndex,
b));b=Y["int"](Math.max(this.__selectionIndex,b));this.__selectionIndex=a;this.__caretIndex=b;this.__inputEnabled&&(this.this_onFocusIn(null),this.__stopCursorTimer(),this.__startCursorTimer())}},this_onAddedToStage:function(a){this.this_onFocusIn(null)},this_onFocusIn:function(a){this.get_selectable()&&this.get_type()==fb.INPUT&&null!=this.stage&&this.stage.get_focus()==this&&this.__startTextInput()},this_onFocusOut:function(a){this.__stopTextInput()},this_onMouseDown:function(a){this.get_selectable()&&
(this.__updateLayout(),this.__selectionIndex=this.__caretIndex=this.__getPosition(this.get_mouseX(),this.get_mouseY()),this.__dirty=!0,this.stage.addEventListener(v.MOUSE_MOVE,r(this,this.stage_onMouseMove)),this.stage.addEventListener(v.MOUSE_UP,r(this,this.stage_onMouseUp)))},window_onKeyDown:function(a,b){switch(a){case 8:this.__selectionIndex==this.__caretIndex&&0<this.__caretIndex&&(this.__selectionIndex=this.__caretIndex-1);this.__selectionIndex!=this.__caretIndex&&(this.replaceSelectedText(""),
this.__selectionIndex=this.__caretIndex,this.dispatchEvent(new u(u.CHANGE,!0)));break;case 127:this.__selectionIndex==this.__caretIndex&&this.__caretIndex<this.__textEngine.text.length&&(this.__selectionIndex=this.__caretIndex+1);this.__selectionIndex!=this.__caretIndex&&(this.replaceSelectedText(""),this.__selectionIndex=this.__caretIndex,this.dispatchEvent(new u(u.CHANGE,!0)));break;case 1073741904:Aa.get_shiftKey(b)?0<this.__caretIndex&&this.__caretIndex--:(this.__selectionIndex==this.__caretIndex?
0<this.__caretIndex&&this.__caretIndex--:this.__caretIndex=Y["int"](Math.min(this.__caretIndex,this.__selectionIndex)),this.__selectionIndex=this.__caretIndex);this.__stopCursorTimer();this.__startCursorTimer();break;case 1073741903:Aa.get_shiftKey(b)?this.__caretIndex<this.__textEngine.text.length&&this.__caretIndex++:(this.__selectionIndex==this.__caretIndex?this.__caretIndex<this.__textEngine.text.length&&this.__caretIndex++:this.__caretIndex=Y["int"](Math.max(this.__caretIndex,this.__selectionIndex)),
this.__selectionIndex=this.__caretIndex);this.__stopCursorTimer();this.__startCursorTimer();break;case 99:64!=b&&128!=b||uc.set_text(this.__textEngine.text.substring(this.__caretIndex,this.__selectionIndex));break;case 120:if(64==b||128==b)uc.set_text(this.__textEngine.text.substring(this.__caretIndex,this.__selectionIndex)),this.__caretIndex!=this.__selectionIndex&&(this.replaceSelectedText(""),this.dispatchEvent(new u(u.CHANGE,!0)));break;case 118:if(64==b||128==b){var c=uc.get_text();null!=c?this.replaceSelectedText(c):
this.replaceSelectedText("");this.dispatchEvent(new u(u.CHANGE,!0))}}},window_onTextInput:function(a){this.replaceSelectedText(a);this.dispatchEvent(new u(u.CHANGE,!0))},__class__:ya,__properties__:x(va.prototype.__properties__,{get_textHeight:"get_textHeight",set_wordWrap:"set_wordWrap",set_type:"set_type",get_type:"get_type",set_textColor:"set_textColor",set_text:"set_text",get_text:"get_text",set_selectable:"set_selectable",get_selectable:"get_selectable",get_scrollV:"get_scrollV",get_scrollH:"get_scrollH",
set_multiline:"set_multiline",set_maxChars:"set_maxChars",set_htmlText:"set_htmlText",get_htmlText:"get_htmlText",set_embedFonts:"set_embedFonts",set_defaultTextFormat:"set_defaultTextFormat",set_autoSize:"set_autoSize"})});var X=m["openfl.text.TextFieldAutoSize"]={__ename__:!0,__constructs__:["CENTER","LEFT","NONE","RIGHT"]};X.CENTER=["CENTER",0];X.CENTER.toString=q;X.CENTER.__enum__=X;X.LEFT=["LEFT",1];X.LEFT.toString=q;X.LEFT.__enum__=X;X.NONE=["NONE",2];X.NONE.toString=q;X.NONE.__enum__=X;X.RIGHT=
["RIGHT",3];X.RIGHT.toString=q;X.RIGHT.__enum__=X;var fb=m["openfl.text.TextFieldType"]={__ename__:!0,__constructs__:["DYNAMIC","INPUT"]};fb.DYNAMIC=["DYNAMIC",0];fb.DYNAMIC.toString=q;fb.DYNAMIC.__enum__=fb;fb.INPUT=["INPUT",1];fb.INPUT.toString=q;fb.INPUT.__enum__=fb;var ib=function(a,b,c,d,e,f,g,h,k,l,m,q,n){this.font=a;this.size=b;this.color=c;this.bold=d;this.italic=e;this.underline=f;this.url=g;this.target=h;this.align=k;this.leftMargin=l;this.rightMargin=m;this.indent=q;this.leading=n};m["openfl.text.TextFormat"]=
ib;ib.__name__=!0;ib.prototype={clone:function(){var a=new ib(this.font,this.size,this.color,this.bold,this.italic,this.underline,this.url,this.target);a.align=this.align;a.leftMargin=this.leftMargin;a.rightMargin=this.rightMargin;a.indent=this.indent;a.leading=this.leading;a.blockIndent=this.blockIndent;a.bullet=this.bullet;a.kerning=this.kerning;a.letterSpacing=this.letterSpacing;a.tabStops=this.tabStops;return a},__merge:function(a){null!=a.font&&(this.font=a.font);null!=a.size&&(this.size=a.size);
null!=a.color&&(this.color=a.color);null!=a.bold&&(this.bold=a.bold);null!=a.italic&&(this.italic=a.italic);null!=a.underline&&(this.underline=a.underline);null!=a.url&&(this.url=a.url);null!=a.target&&(this.target=a.target);null!=a.align&&(this.align=a.align);null!=a.leftMargin&&(this.leftMargin=a.leftMargin);null!=a.rightMargin&&(this.rightMargin=a.rightMargin);null!=a.indent&&(this.indent=a.indent);null!=a.leading&&(this.leading=a.leading);null!=a.blockIndent&&(this.blockIndent=a.blockIndent);
null!=a.bullet&&(this.bullet=a.bullet);null!=a.kerning&&(this.kerning=a.kerning);null!=a.letterSpacing&&(this.letterSpacing=a.letterSpacing);null!=a.tabStops&&(this.tabStops=a.tabStops)},__class__:ib};var ta=m["openfl.text.TextFormatAlign"]={__ename__:!0,__constructs__:["LEFT","RIGHT","JUSTIFY","CENTER"]};ta.LEFT=["LEFT",0];ta.LEFT.toString=q;ta.LEFT.__enum__=ta;ta.RIGHT=["RIGHT",1];ta.RIGHT.toString=q;ta.RIGHT.__enum__=ta;ta.JUSTIFY=["JUSTIFY",2];ta.JUSTIFY.toString=q;ta.JUSTIFY.__enum__=ta;ta.CENTER=
["CENTER",3];ta.CENTER.toString=q;ta.CENTER.__enum__=ta;var la=function(){};m["openfl.ui.GameInput"]=la;la.__name__=!0;la.__getDevice=function(a){if(null==a)return null;if(null==la.__devices.h.__keys__[a.__id__]){var b=new Pe(null==a.id?"null":""+a.id,null);la.__devices.set(a,b);la.numDevices=Hc.count(la.__devices)}return la.__devices.h[a.__id__]};la.__onGamepadAxisMove=function(a,b,c){a=la.__getDevice(a);if(null!=a&&a.enabled){if(!a.__axis.h.hasOwnProperty(b)){var d;switch(b){case 0:d="LEFT_X";break;
case 1:d="LEFT_Y";break;case 2:d="RIGHT_X";break;case 3:d="RIGHT_Y";break;case 4:d="TRIGGER_LEFT";break;case 5:d="TRIGGER_RIGHT";break;default:d="UNKNOWN ("+b+")"}d=new Tb(a,"AXIS_"+d,-1,1);a.__axis.h[b]=d;a.__controls.push(d)}b=a.__axis.h[b];b.value=c;b.dispatchEvent(new u(u.CHANGE))}};la.__onGamepadButtonDown=function(a,b){var c=la.__getDevice(a);if(null!=c&&c.enabled){if(!c.__button.h.hasOwnProperty(b)){var d;switch(b){case 0:d="A";break;case 1:d="B";break;case 2:d="X";break;case 3:d="Y";break;
case 4:d="BACK";break;case 5:d="GUIDE";break;case 6:d="START";break;case 7:d="LEFT_STICK";break;case 8:d="RIGHT_STICK";break;case 9:d="LEFT_SHOULDER";break;case 10:d="RIGHT_SHOULDER";break;case 11:d="DPAD_UP";break;case 12:d="DPAD_DOWN";break;case 13:d="DPAD_LEFT";break;case 14:d="DPAD_RIGHT";break;default:d="UNKNOWN ("+b+")"}d=new Tb(c,"BUTTON_"+d,0,1);c.__button.h[b]=d;c.__controls.push(d)}c=c.__button.h[b];c.value=1;c.dispatchEvent(new u(u.CHANGE))}};la.__onGamepadButtonUp=function(a,b){var c=
la.__getDevice(a);if(null!=c&&c.enabled){if(!c.__button.h.hasOwnProperty(b)){var d;switch(b){case 0:d="A";break;case 1:d="B";break;case 2:d="X";break;case 3:d="Y";break;case 4:d="BACK";break;case 5:d="GUIDE";break;case 6:d="START";break;case 7:d="LEFT_STICK";break;case 8:d="RIGHT_STICK";break;case 9:d="LEFT_SHOULDER";break;case 10:d="RIGHT_SHOULDER";break;case 11:d="DPAD_UP";break;case 12:d="DPAD_DOWN";break;case 13:d="DPAD_LEFT";break;case 14:d="DPAD_RIGHT";break;default:d="UNKNOWN ("+b+")"}d=new Tb(c,
"BUTTON_"+d,0,1);c.__button.h[b]=d;c.__controls.push(d)}c=c.__button.h[b];c.value=0;c.dispatchEvent(new u(u.CHANGE))}};la.__onGamepadConnect=function(a){a=la.__getDevice(a);if(null!=a)for(var b=0,c=la.__instances;b<c.length;){var d=c[b];++b;d.dispatchEvent(new Nb(Nb.DEVICE_ADDED,null,null,a))}};la.__onGamepadDisconnect=function(a){var b=la.__devices.h[a.__id__];if(null!=b){la.__devices.remove(a);la.numDevices=Hc.count(la.__devices);a=0;for(var c=la.__instances;a<c.length;){var d=c[a];++a;d.dispatchEvent(new Nb(Nb.DEVICE_REMOVED,
null,null,b))}}};la.__super__=ja;la.prototype=x(ja.prototype,{__class__:la});var Tb=function(a,b,c,d,e){null==e&&(e=0);ja.call(this);this.device=a;this.id=b;this.minValue=c;this.maxValue=d;this.value=e};m["openfl.ui.GameInputControl"]=Tb;Tb.__name__=!0;Tb.__super__=ja;Tb.prototype=x(ja.prototype,{__class__:Tb});var Pe=function(a,b){this.__controls=[];this.__button=new Va;this.__axis=new Va;this.id=a;this.name=b;for(var c,d=0;6>d;){var e=d++;c=new Tb(this,"AXIS_"+e,-1,1);this.__axis.h[e]=c;this.__controls.push(c)}for(d=
0;15>d;)e=d++,c=new Tb(this,"BUTTON_"+e,0,1),this.__button.h[e]=c,this.__controls.push(c)};m["openfl.ui.GameInputDevice"]=Pe;Pe.__name__=!0;Pe.prototype={__class__:Pe};var cf=function(){};m["openfl.ui.Keyboard"]=cf;cf.__name__=!0;cf.__getCharCode=function(a,b){null==b&&(b=!1);if(b){switch(a){case 48:return 41;case 49:return 33;case 50:return 64;case 51:return 35;case 52:return 36;case 53:return 37;case 54:return 94;case 55:return 38;case 56:return 42;case 57:return 40;case 186:return 58;case 187:return 43;
case 188:return 60;case 189:return 95;case 190:return 62;case 191:return 63;case 192:return 126;case 219:return 123;case 220:return 124;case 221:return 125;case 222:return 34}if(65<=a&&90>=a)return a-65+65}else{switch(a){case 8:return 8;case 9:return 9;case 13:return 13;case 27:return 27;case 32:return 32;case 186:return 59;case 187:return 61;case 188:return 44;case 189:return 45;case 190:return 46;case 191:return 47;case 192:return 96;case 219:return 91;case 220:return 92;case 221:return 93;case 222:return 39}if(48<=
a&&57>=a)return a-48+48;if(65<=a&&90>=a)return a-65+97}if(96<=a&&105>=a)return a-96+48;switch(a){case 106:return 42;case 107:return 43;case 108:return 44;case 110:return 45;case 111:return 46;case 46:return 127;case 13:return 13;case 8:return 8}return 0};var dd=function(a){this.offY=0;F.call(this);this.items=[];this.grid=a;this.body=new F;this.addChild(this.body);this.scrollH=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;this.scrollH-=150;this.set_scrollRect(new O(0,
0,h.RIGHTCOL_WIDTH,this.scrollH))};m["ru.octasoft.oem.designer.Equipment"]=dd;dd.__name__=!0;dd.__super__=F;dd.prototype=x(F.prototype,{addObject:function(a,b){var c=this;ff.loadBitmap(a.imagePath,null,function(d){d=new jb(a.title,a.quantity,new db(a.w,a.h,Fa.createEnum(M,a.type),a.id,d,c.grid),c);d.set_y(c.offY);c.body.addChild(d);c.offY+=d.get_height();c.offY+=15;c.items.push(d);b()})},scroll:function(a){this.body.get_height()<this.scrollH||this.body.set_y((this.scrollH-this.body.get_height())*
a)},findItemById:function(a){for(var b=0,c=this.items;b<c.length;){var d=c[b];++b;if(d.figure.id==a)return d}return null},__class__:dd});var cd=function(){this.scale=1;F.call(this)};m["ru.octasoft.oem.designer.Grid"]=cd;cd.__name__=!0;cd.__super__=F;cd.prototype=x(F.prototype,{init:function(a,b,c,d){this.w=a;this.h=b;d=kb.unitsToPixels(1);this.wPix=Math.round(a*d);this.hPix=Math.round(b*d);this.set_name("grid");this.gridType=c;this.useHandCursor=this.buttonMode=!0;this.draw();this.setScale(500/(a>
b?this.wPix:this.hPix))},draw:function(){this.scaledW=Math.round(this.wPix*this.scale);this.scaledH=Math.round(this.hPix*this.scale);this.get_graphics().clear();this.get_graphics().beginFill(0,0);this.get_graphics().drawRect(0,0,this.scaledW,this.scaledH);this.get_graphics().endFill();this.get_graphics().moveTo(-6,-3);switch(this.gridType[1]){case 0:this.get_graphics().lineStyle(6,8355711,null,null,U.NONE,ra.NONE,oa.MITER);break;case 1:this.get_graphics().lineStyle(6,8355711,null,null,U.NONE,ra.NONE,
oa.MITER);break;case 2:this.get_graphics().lineStyle(6,8355711,null,null,U.NONE,ra.NONE,oa.MITER);break;case 3:this.get_graphics().lineStyle(6,13421772,null,null,U.NONE,ra.NONE,oa.MITER)}this.get_graphics().lineTo(this.scaledW+6,-3);switch(this.gridType[1]){case 0:this.get_graphics().lineStyle(6,8355711,null,null,U.NONE,ra.NONE,oa.MITER);break;case 1:this.get_graphics().lineStyle(6,8355711,null,null,U.NONE,ra.NONE,oa.MITER);break;case 2:this.get_graphics().lineStyle(6,13421772,null,null,U.NONE,ra.NONE,
oa.MITER);break;case 3:this.get_graphics().lineStyle(6,13421772,null,null,U.NONE,ra.NONE,oa.MITER)}this.get_graphics().moveTo(this.scaledW+3,-3);this.get_graphics().lineTo(this.scaledW+3,this.scaledH+6);this.get_graphics().lineStyle(6,13421772,null,null,U.NONE,ra.NONE,oa.MITER);this.get_graphics().moveTo(this.scaledW,this.scaledH+3);this.get_graphics().lineTo(0,this.scaledH+3);switch(this.gridType[1]){case 0:this.get_graphics().lineStyle(6,8355711,null,null,U.NONE,ra.NONE,oa.MITER);break;case 1:this.get_graphics().lineStyle(6,
13421772,null,null,U.NONE,ra.NONE,oa.MITER);break;case 2:this.get_graphics().lineStyle(6,13421772,null,null,U.NONE,ra.NONE,oa.MITER);break;case 3:this.get_graphics().lineStyle(6,13421772,null,null,U.NONE,ra.NONE,oa.MITER)}this.get_graphics().moveTo(-3,this.scaledH+6);this.get_graphics().lineTo(-3,-3);var a=this.wPix/this.w*this.scale,b=0;this.get_graphics().lineStyle(1,8355711,null,null,U.NONE,ra.NONE,oa.MITER);for(var c=0,d=Math.floor(this.h)+1;c<d;){var e=c++,f=Math.round(b);e<this.h&&0!=e&&(this.get_graphics().moveTo(0,
f+.5),this.get_graphics().lineTo(this.scaledW,f+.5));b+=a}c=b=0;for(d=Math.floor(this.w)+1;c<d;)e=c++,f=Math.round(b),e<this.w&&0!=e&&(this.get_graphics().moveTo(f+.5,0),this.get_graphics().lineTo(f+.5,this.scaledH)),b+=a},setScale:function(a){for(var b=0,c=this.get_numChildren();b<c;){var d=b++,e=d=this.getChildAt(d);e.set_x(e.get_x()/this.scale);d.set_y(d.get_y()/this.scale)}this.scale=a;a=0;for(b=this.get_numChildren();a<b;)c=a++,d=c=this.getChildAt(c),d.set_x(d.get_x()*this.scale),d=c,d.set_y(d.get_y()*
this.scale),c.setScale(this.scale);this.draw()},drop:function(a){var b=this.globalToLocal(new N(a.get_x(),a.get_y()));b.x=Math.round(b.x);b.y=Math.round(b.y);a.setScale(this.scale);this.dispatchEvent(new pb(a,b,W.DIRECT))},add:function(a,b,c,d,e){null==e&&(e=0);if(a.usedQty!=a.qty){var f=a.figure.copy();a.attach(f);a=new N(kb.unitsToPixels(b)*this.scale,kb.unitsToPixels(c)*this.scale);f.setScale(this.scale);f.set_rotation(d);f.type==M.shelf&&f.set_lift(e);this.dispatchEvent(new pb(f,a,W.DIRECT,!0))}},
zoomIn:function(){this.setScale(this.scale+.1)},zoomOut:function(){this.setScale(this.scale-.1)},__class__:cd});var Ma=m["ru.octasoft.oem.designer.GridType"]={__ename__:!0,__constructs__:["row","corner","head","island"]};Ma.row=["row",0];Ma.row.toString=q;Ma.row.__enum__=Ma;Ma.corner=["corner",1];Ma.corner.toString=q;Ma.corner.__enum__=Ma;Ma.head=["head",2];Ma.head.toString=q;Ma.head.__enum__=Ma;Ma.island=["island",3];Ma.island.toString=q;Ma.island.__enum__=Ma;var ff=function(){};m["ru.octasoft.oem.designer.HttpUtil"]=
ff;ff.__name__=!0;ff.loadBitmap=function(a,b,c,d){var e=-1,f=new Yd;a=new Wd(a);f.set_dataFormat(ab.BINARY);f.addEventListener(u.COMPLETE,function(a){a=z.__cast(f.data,mb);Oa.fromBytes(a,null,c)});f.addEventListener(kc.HTTP_STATUS,function(a){e=a.status});f.addEventListener(Db.IO_ERROR,function(a){null!=d&&d(a,e)});f.load(a)};var jb=function(a,b,c,d){this.startDragX=this.startDragY=this.dragX=this.dragY=-1;var e=this;F.call(this);this.used=new nc;this.eq=d;this.title=a;this.qty=b;this.figure=c;d=
aa.getFont(h.FONT_NORMAL);var f=new ib(d.name,17,0);f.align=ta.LEFT;d=0;this.titleField=new ya;this.titleField.set_selectable(!1);this.titleField.set_defaultTextFormat(f);this.titleField.set_embedFonts(!0);this.titleField.set_autoSize(X.LEFT);this.titleField.set_text(a);this.titleField.set_wordWrap(!0);this.titleField.set_multiline(!0);this.titleField.set_width(h.RIGHTCOL_WIDTH-1);this.addChild(this.titleField);d=d+this.titleField.get_textHeight()+7;this.get_graphics().lineStyle(1,jb.DEFAULT_COLOR);
this.get_graphics().beginFill(0,0);this.get_graphics().drawRect(.5,d+.5,h.RIGHTCOL_WIDTH-1,h.TOOLBAR_HEIGHT);this.get_graphics().endFill();c.set_x(67.5);c.set_y(d+h.TOOLBAR_HEIGHT/2);this.addChild(c);f.size=13;this.left=new ya;this.left.set_selectable(!1);this.left.set_defaultTextFormat(f);this.left.set_embedFonts(!0);this.left.set_autoSize(X.LEFT);this.left.set_y(d+h.TOOLBAR_HEIGHT/2);this.left.set_x(135);this.addChild(this.left);this.total=new ya;this.total.set_selectable(!1);this.total.set_defaultTextFormat(f);
this.total.set_embedFonts(!0);this.total.set_autoSize(X.LEFT);this.total.set_y(d+h.TOOLBAR_HEIGHT/2-20);this.total.set_x(135);this.total.set_text(h.messages.ordered+": "+b);this.addChild(this.total);h.useQuantity&&(a=new $a(aa.getBitmapData("assets/images/add.png")),b=new $a(aa.getBitmapData("assets/images/add_hover.png")),a=new Uc(a,b),a.set_x(h.RIGHTCOL_WIDTH-45),a.set_y(d+23),this.addChild(a),a.addEventListener(v.MOUSE_DOWN,r(this,this.onPlusHandle)),this.plus=function(){e.qty++;e.updateQty()},
this.minus=function(){if(e.qty<=e.usedQty){if(0==e.used.length)return;var a;a=z.__cast(e.used.pop(),cb);a.figure.grid.dispatchEvent(a);h.clearHistory()}e.qty--;e.updateQty()},a=new $a(aa.getBitmapData("assets/images/remove.png")),b=new $a(aa.getBitmapData("assets/images/remove_hover.png")),a=new Uc(a,b),a.set_x(h.RIGHTCOL_WIDTH-45),a.set_y(d+45),this.addChild(a),a.addEventListener(v.MOUSE_DOWN,r(this,this.onMinusHandle)));this.set_usedQty(0);this.addEventListener(v.MOUSE_DOWN,r(this,this.mouseDown));
this.useHandCursor=this.buttonMode=!0};m["ru.octasoft.oem.designer.Item"]=jb;jb.__name__=!0;jb.__super__=F;jb.prototype=x(F.prototype,{updateQty:function(){this.left.set_text(h.messages.placed+": "+this.usedQty);this.total.set_text(h.messages.ordered+": "+this.qty);this.set_alpha(0==this.qty?.35:1)},attach:function(a){a.addEventListener(v.MOUSE_DOWN,r(this,this.mouseDown2))},onMinusHandle:function(a){a.stopImmediatePropagation();this.eq.dispatchEvent(new Zb(this))},onPlusHandle:function(a){a.stopImmediatePropagation();
this.eq.dispatchEvent(new Yb(this))},mouseDown:function(a){if(this.usedQty!=this.qty){var b=this.figure.copy();this.figure.localToGlobal(new N(0,0));b.set_x(a.stageX);b.set_y(a.stageY);this.stage.addChild(b);b.startDrag();b.addEventListener(v.MOUSE_UP,r(this,this.mouseUp));a.stopPropagation();this.startDragX=a.stageX;this.startDragY=a.stageY;this.dragging=b}},mouseDown2:function(a){var b=null,b=z.__instanceof(a.target,db)?z.__cast(a.target,db):z.__cast(a.target.parent,db);b.parent.addChild(b);a.stopPropagation();
var c=b.parent.localToGlobal(new N(b.get_x(),b.get_y()));this.startDragX=c.x;this.startDragY=c.y;this.dragX=a.stageX;this.dragY=a.stageY;this.stage.addEventListener(v.MOUSE_UP,r(this,this.mouseUp));this.stage.addEventListener(v.MOUSE_MOVE,r(this,this.onDrag));this.dragging=b},onDrag:function(a){var b=a.stageX-this.dragX,c=a.stageY-this.dragY,d=this.dragging;d.set_x(d.get_x()+b);b=this.dragging;b.set_y(b.get_y()+c);this.dragX=a.stageX;this.dragY=a.stageY;this.dragging.grid.dispatchEvent(new $b(this.dragging))},
mouseUp:function(a){var b=this.dragging,c=-1!=this.startDragX&&-1!=this.startDragY;if(c){var d=b.parent.localToGlobal(new N(b.get_x(),b.get_y())),d=c&&(this.startDragX!=d.x||this.startDragY!=d.y);b.parent==this.stage?(b.stopDrag(),c=new N(a.stageX,a.stageY),c=this.stage.getObjectsUnderPoint(c),0<c.length&&"grid"==c[0].get_name()?(b.grid.drop(b),b.removeEventListener(v.MOUSE_DOWN,r(this,this.mouseDown)),b.addEventListener(v.MOUSE_DOWN,r(this,this.mouseDown2))):this.stage.removeChild(b)):(this.stage.removeEventListener(v.MOUSE_MOVE,
r(this,this.onDrag)),this.stage.removeEventListener(v.MOUSE_UP,r(this,this.onDrag)),d?(c=b.grid.globalToLocal(new N(this.startDragX,this.startDragY)),c.x=Math.round(c.x),c.y=Math.round(c.y),b.grid.dispatchEvent(new ub(b,c,new N(b.get_x(),b.get_y()),W.DIRECT))):c&&b.grid.dispatchEvent(new ac(b)));a.stopPropagation();this.startDragX=this.startDragY=-1}},set_usedQty:function(a){this.usedQty=a;this.qty<a&&(this.qty=a);this.updateQty();return a},validate:function(){var a=this.usedQty==this.qty;this.titleField.set_textColor(a?
jb.DEFAULT_COLOR:h.invalidColor);var b=this.titleField.get_textHeight()+7;this.get_graphics().lineStyle(1,a?jb.DEFAULT_COLOR:h.invalidColor);this.get_graphics().beginFill(0,0);this.get_graphics().drawRect(.5,b+.5,h.RIGHTCOL_WIDTH-1,h.TOOLBAR_HEIGHT);this.get_graphics().endFill();return a},__class__:jb,__properties__:x(F.prototype.__properties__,{set_usedQty:"set_usedQty"})});var M=m["ru.octasoft.oem.designer.ItemType"]={__ename__:!0,__constructs__:["simple","light","droppable","shelf","plug"]};M.simple=
["simple",0];M.simple.toString=q;M.simple.__enum__=M;M.light=["light",1];M.light.toString=q;M.light.__enum__=M;M.droppable=["droppable",2];M.droppable.toString=q;M.droppable.__enum__=M;M.shelf=["shelf",3];M.shelf.toString=q;M.shelf.__enum__=M;M.plug=["plug",4];M.plug.toString=q;M.plug.__enum__=M;var ad=function(a){a?(this.rightColumnLabel=a.rightColumnLabel,this.ordered=a.ordered,this.placed=a.placed,this.shelfPopupLabel=a.shelfPopupLabel):(this.rightColumnLabel="Equipments",this.ordered="Ordered",
this.placed="Placed",this.shelfPopupLabel="Please, set height (cm) for the shelf to be mounted. Switch shelves by pressing arrow buttons on your keyboard.")};m["ru.octasoft.oem.designer.Messages"]=ad;ad.__name__=!0;ad.prototype={__class__:ad};var ed=function(){this.offX=this.offY=0;var a=this;F.call(this);this.bitmap=new $a(aa.getBitmapData("assets/images/shelf_bg1.png"));this.addChild(this.bitmap);var b=aa.getFont(h.FONT_NORMAL),c=new ib(b.name,13,0);c.align=ta.LEFT;var d=aa.getFont(h.FONT_BOLD),
e=new ib(d.name,14,0);e.align=ta.LEFT;(new ib(d.name,11,16777215)).align=ta.LEFT;d=new ib(d.name,11,16777215);d.align=ta.LEFT;b=new ib(b.name,13,13421772);b.align=ta.LEFT;this.label=new ya;this.label.set_selectable(!1);this.label.set_text(h.messages.shelfPopupLabel);this.label.set_defaultTextFormat(c);this.label.set_embedFonts(!0);this.label.set_wordWrap(!0);this.label.set_autoSize(X.LEFT);this.label.set_width(280);this.addChild(this.label);this.num=new ya;this.num.set_selectable(!1);this.num.set_defaultTextFormat(e);
this.num.set_embedFonts(!0);this.num.set_autoSize(X.LEFT);this.addChild(this.num);this.save=new F;this.save.get_graphics().beginFill(8355711);this.save.get_graphics().drawRect(0,0,100,30);this.save.get_graphics().endFill();this.save.buttonMode=!0;this.save.useHandCursor=!0;this.addChild(this.save);this.save.addEventListener(v.MOUSE_OVER,r(this,this.hoverIn));this.save.addEventListener(v.MOUSE_OUT,r(this,this.hoverOut));this.save.addEventListener(v.CLICK,function(b){a.figure.set_lift(Y.parseInt(a.units.get_text()));
a.set_visible(!1);L.current.stage.set_focus(L.current.stage)});e=new ya;e.set_selectable(!1);e.set_text("SAVE");e.set_defaultTextFormat(d);e.set_embedFonts(!0);e.set_autoSize(X.LEFT);e.set_x(50-e.get_width()/2);e.set_y(15-e.get_height()/2);this.save.addChild(e);this.input=new F;this.input.get_graphics().lineStyle(1,11316396);this.input.get_graphics().drawRect(.5,.5,105,29);this.addChild(this.input);this.units=new ya;this.units.set_type(fb.INPUT);this.units.set_text("0");this.units.set_defaultTextFormat(c);
this.units.set_embedFonts(!0);this.units.set_autoSize(X.LEFT);this.units.set_x(7);this.units.set_y(5);this.units.set_maxChars(3);this.units.addEventListener(v.MOUSE_DOWN,function(a){a.stopPropagation()});this.units.addEventListener(wb.KEY_UP,function(b){b.stopPropagation();13==b.charCode&&(a.figure.set_lift(Y.parseInt(a.units.get_text())),a.set_visible(!1),L.current.stage.set_focus(L.current.stage))});this.units.addEventListener(u.CHANGE,function(b){b=new Hb("\\D","i");""==a.units.get_text()&&a.units.set_text("0");
3<a.units.get_text().length&&a.units.set_text(function(b){b=a.units.get_text();return D.substr(b,0,3)}(this));b.match(a.units.get_text())&&a.units.set_text(b.replace(a.units.get_text(),""));a.cm.set_x(a.units.get_x()+a.units.get_width()+2)});this.input.addChild(this.units);this.cm=new ya;this.cm.set_selectable(!1);this.cm.set_text("cm");this.cm.set_defaultTextFormat(b);this.cm.set_embedFonts(!0);this.cm.set_autoSize(X.LEFT);this.cm.set_y(this.units.get_y());this.cm.set_x(this.units.get_x()+this.units.get_width()+
2);this.input.addChild(this.cm);this.set_visible(!1)};m["ru.octasoft.oem.designer.ShelfPopup"]=ed;ed.__name__=!0;ed.__super__=F;ed.prototype=x(F.prototype,{hoverOut:function(a){this.save.get_graphics().beginFill(8355711);this.save.get_graphics().drawRect(0,0,100,30);this.save.get_graphics().endFill()},hoverIn:function(a){this.save.get_graphics().beginFill(10066329);this.save.get_graphics().drawRect(0,0,100,30);this.save.get_graphics().endFill()},updateLanguage:function(){this.label.set_text(h.messages.shelfPopupLabel)},
update:function(a){this.figure=a;this.num.set_text(a.number+".");this.units.set_text(a.get_lift()+"");this.cm.set_x(this.units.get_x()+this.units.get_width()+2);var b=a.parent,c=a.picture.getBounds(b),d=a.picture.getBounds(a.stage);h.compare(a.get_x(),c.width/2)?(this.bitmap.bitmapData=aa.getBitmapData("assets/images/popup_left.png"),a=this.parent.globalToLocal(new N(d.get_right()+40,d.y)),this.set_x(a.x),this.set_y(a.y-this.get_height()/2+c.height/2),this.offX=15,this.offY=0,this.label.set_x(this.offX+
15),this.label.set_y(this.offY+15),this.num.set_x(this.offX+15),this.num.set_y(this.offY+85),this.input.set_x(this.offX+50),this.input.set_y(this.offY+82),this.save.set_x(this.offX+180),this.save.set_y(this.offY+82)):h.compare(a.get_y(),c.height/2)?(this.bitmap.bitmapData=aa.getBitmapData("assets/images/popup_top.png"),a=this.parent.globalToLocal(new N(d.x,d.get_bottom()+40)),this.set_x(a.x-this.get_width()/2+c.width/2),this.set_y(a.y),this.offX=0,this.offY=10,this.label.set_x(this.offX+15),this.label.set_y(this.offY+
15),this.num.set_x(this.offX+15),this.num.set_y(this.offY+85),this.input.set_x(this.offX+50),this.input.set_y(this.offY+82),this.save.set_x(this.offX+180),this.save.set_y(this.offY+82)):h.compare(a.get_x(),b.scaledW-c.width/2)&&(this.bitmap.bitmapData=aa.getBitmapData("assets/images/popup_right.png"),a=this.parent.globalToLocal(new N(d.x-this.get_width()-40,d.y)),this.set_x(a.x),this.set_y(a.y-this.get_height()/2+c.height/2),this.offY=this.offX=0,this.label.set_x(this.offX+15),this.label.set_y(this.offY+
15),this.num.set_x(this.offX+15),this.num.set_y(this.offY+85),this.input.set_x(this.offX+50),this.input.set_y(this.offY+82),this.save.set_x(this.offX+180),this.save.set_y(this.offY+82));15>this.get_x()&&this.set_x(15);15>this.get_y()&&this.set_y(15);this.get_x()+this.get_width()>h.clipSize-15&&this.set_x(h.clipSize-15-this.get_width());this.get_y()+this.get_height()>h.clipSize-15&&this.set_y(h.clipSize-15-this.get_height())},__class__:ed});var kb=function(){};m["ru.octasoft.oem.designer.SizeUtil"]=
kb;kb.__name__=!0;kb.unitsToPixels=function(a){return a*kb.UNIT};kb.pixelsToUnits=function(a){return Math.round(a/kb.UNIT*100)/100};var bd=function(){var a=this;F.call(this);this.get_graphics().beginFill(13421772);var b=h.clipSize+12;this.get_graphics().drawRect(0,0,b,h.TOOLBAR_HEIGHT);this.get_graphics().endFill();var b=(b-360-30)/5,c=15,d=this.addButton("assets/images/rotate.png",function(b){a.dispatchEvent(new Ub)});d.set_x(c);d.set_y(15);c+=d.get_width();c+=b;d=this.addButton("assets/images/delete.png",
function(b){a.dispatchEvent(new Vb)});d.set_x(c);d.set_y(15);c+=d.get_width();c+=b;d=this.addButton("assets/images/undo.png",function(b){a.dispatchEvent(new Wb)});d.set_x(c);d.set_y(15);c+=d.get_width();c+=b;d=this.addButton("assets/images/redo.png",function(b){a.dispatchEvent(new Xb)});d.set_x(c);d.set_y(15);c+=d.get_width();c+=b;d=this.addButton("assets/images/zoomOut.png",function(b){a.dispatchEvent(new ob(ob.ZOOM_OUT))});d.set_x(c);d.set_y(15);c+=d.get_width();c+=b;d=this.addButton("assets/images/zoomIn.png",
function(b){a.dispatchEvent(new ob(ob.ZOOM_IN))});d.set_x(c);d.set_y(15)};m["ru.octasoft.oem.designer.Toolbar"]=bd;bd.__name__=!0;bd.__super__=F;bd.prototype=x(F.prototype,{hoverOut:function(a){a.get_graphics().beginFill(8355711);a.get_graphics().drawRect(0,0,60,60);a.get_graphics().endFill()},hoverIn:function(a){a.get_graphics().beginFill(10066329);a.get_graphics().drawRect(0,0,60,60);a.get_graphics().endFill()},addButton:function(a,b){var c=this,d=new F,e=new $a(aa.getBitmapData(a));e.set_x(30-
e.get_width()/2);e.set_y(30-e.get_height()/2);d.addChild(e);d.buttonMode=d.useHandCursor=!0;d.addEventListener(v.CLICK,b);d.addEventListener(v.MOUSE_OVER,function(a){c.hoverIn(d)});d.addEventListener(v.MOUSE_OUT,function(a){c.hoverOut(d)});this.hoverOut(d);this.addChild(d);return d},__class__:bd});var Yb=function(a){u.call(this,Yb.NAME);this.item=a};m["ru.octasoft.oem.designer.events.CartAddEvent"]=Yb;Yb.__name__=!0;Yb.__super__=u;Yb.prototype=x(u.prototype,{__class__:Yb});var Zb=function(a){u.call(this,
Zb.NAME);this.item=a};m["ru.octasoft.oem.designer.events.CartRemoveEvent"]=Zb;Zb.__name__=!0;Zb.__super__=u;Zb.prototype=x(u.prototype,{__class__:Zb});var Ub=function(){u.call(this,Ub.NAME)};m["ru.octasoft.oem.designer.events.ClearEvent"]=Ub;Ub.__name__=!0;Ub.__super__=u;Ub.prototype=x(u.prototype,{__class__:Ub});var Vb=function(){u.call(this,Vb.NAME)};m["ru.octasoft.oem.designer.events.DeleteEvent"]=Vb;Vb.__name__=!0;Vb.__super__=u;Vb.prototype=x(u.prototype,{__class__:Vb});var W=m["ru.octasoft.oem.designer.events.EventContext"]=
{__ename__:!0,__constructs__:["DIRECT","UNDO","REDO"]};W.DIRECT=["DIRECT",0];W.DIRECT.toString=q;W.DIRECT.__enum__=W;W.UNDO=["UNDO",1];W.UNDO.toString=q;W.UNDO.__enum__=W;W.REDO=["REDO",2];W.REDO.toString=q;W.REDO.__enum__=W;var pb=function(a,b,c,d){null==d&&(d=!1);u.call(this,pb.NAME);this.figure=a;this.to=b;this.context=c;this.shift=d};m["ru.octasoft.oem.designer.events.FigureAddedEvent"]=pb;pb.__name__=!0;pb.__super__=u;pb.prototype=x(u.prototype,{__class__:pb});var cb=function(a,b,c){u.call(this,
cb.NAME);this.figure=a;this.from=b;this.context=c};m["ru.octasoft.oem.designer.events.FigureDeletedEvent"]=cb;cb.__name__=!0;cb.__super__=u;cb.prototype=x(u.prototype,{__class__:cb});var $b=function(a){u.call(this,$b.NAME);this.figure=a};m["ru.octasoft.oem.designer.events.FigureDraggedEvent"]=$b;$b.__name__=!0;$b.__super__=u;$b.prototype=x(u.prototype,{__class__:$b});var ub=function(a,b,c,d){u.call(this,ub.NAME);this.figure=a;this.from=b;this.to=c;this.context=d};m["ru.octasoft.oem.designer.events.FigureMovedEvent"]=
ub;ub.__name__=!0;ub.__super__=u;ub.prototype=x(u.prototype,{__class__:ub});var vb=function(a,b,c,d){u.call(this,vb.NAME);this.figure=a;this.from=b;this.to=c;this.context=d};m["ru.octasoft.oem.designer.events.FigureRotatedEvent"]=vb;vb.__name__=!0;vb.__super__=u;vb.prototype=x(u.prototype,{__class__:vb});var ac=function(a){u.call(this,ac.NAME);this.figure=a};m["ru.octasoft.oem.designer.events.FigureSelectedEvent"]=ac;ac.__name__=!0;ac.__super__=u;ac.prototype=x(u.prototype,{__class__:ac});var Xb=
function(){u.call(this,Xb.NAME)};m["ru.octasoft.oem.designer.events.RedoEvent"]=Xb;Xb.__name__=!0;Xb.__super__=u;Xb.prototype=x(u.prototype,{__class__:Xb});var Wb=function(){u.call(this,Wb.NAME)};m["ru.octasoft.oem.designer.events.UndoEvent"]=Wb;Wb.__name__=!0;Wb.__super__=u;Wb.prototype=x(u.prototype,{__class__:Wb});var ob=function(a){u.call(this,a)};m["ru.octasoft.oem.designer.events.ZoomEvent"]=ob;ob.__name__=!0;ob.__super__=u;ob.prototype=x(u.prototype,{__class__:ob});var db=function(a,b,c,d,
e,f){this.liftVal=0;this.scale=1;this.shiftX=this.shiftY=0;this.rotationStart=-1;F.call(this);this.grid=f;this.w=a;this.h=b;this.type=c;this.wPix=kb.unitsToPixels(a);this.hPix=kb.unitsToPixels(b);this.id=d;this.image=e;a=aa.getFont(h.FONT_NORMAL);a=new ib(a.name,13,0);a.align=ta.LEFT;this.label=new ya;this.label.set_selectable(!1);this.label.set_text("100 cm");this.label.set_defaultTextFormat(a);this.label.set_embedFonts(!0);this.label.set_wordWrap(!1);this.label.set_autoSize(X.LEFT);this.label.set_visible(c==
M.shelf);this.addChild(this.label);this.set_lift(0);this.picture=new $a(e);this.picture.smoothing=!0;120<e.width&&(this.scale=120/e.width);60<e.height&&(this.scale=60/e.height);this.addChild(this.picture);this.cover=new F;this.addChild(this.cover);this.cover.set_visible(!1);this.cover.mouseEnabled=!0;this.h1=new F;this.h1.get_graphics().lineStyle(1,8355711);this.h1.get_graphics().beginFill(0,0);this.h1.get_graphics().drawRect(.5,.5,10,10);this.h1.get_graphics().endFill();this.cover.addChild(this.h1);
this.h1.addEventListener(v.MOUSE_DOWN,r(this,this.onDragHandle));this.h1.addEventListener(v.MOUSE_UP,r(this,this.stopRotate));this.decor1=new $a(aa.getBitmapData("assets/images/decor.png"));this.cover.addChild(this.decor1);this.h2=new F;this.h2.get_graphics().lineStyle(1,8355711);this.h2.get_graphics().beginFill(0,0);this.h2.get_graphics().drawRect(.5,.5,10,10);this.h2.get_graphics().endFill();this.cover.addChild(this.h2);this.h2.addEventListener(v.MOUSE_DOWN,r(this,this.onDragHandle));this.h2.addEventListener(v.MOUSE_UP,
r(this,this.stopRotate));this.decor2=new $a(aa.getBitmapData("assets/images/decor.png"));this.decor2.smoothing=!0;this.decor2.set_rotation(90);this.cover.addChild(this.decor2);this.h3=new F;this.h3.get_graphics().lineStyle(1,8355711);this.h3.get_graphics().beginFill(0,0);this.h3.get_graphics().drawRect(.5,.5,10,10);this.h3.get_graphics().endFill();this.cover.addChild(this.h3);this.h3.addEventListener(v.MOUSE_DOWN,r(this,this.onDragHandle));this.h3.addEventListener(v.MOUSE_UP,r(this,this.stopRotate));
this.decor3=new $a(aa.getBitmapData("assets/images/decor.png"));this.decor3.smoothing=!0;this.decor3.set_rotation(180);this.cover.addChild(this.decor3);this.h4=new F;this.h4.get_graphics().lineStyle(1,8355711);this.h4.get_graphics().beginFill(0,0);this.h4.get_graphics().drawRect(.5,.5,10,10);this.h4.get_graphics().endFill();this.cover.addChild(this.h4);this.h4.addEventListener(v.MOUSE_DOWN,r(this,this.onDragHandle));this.h4.addEventListener(v.MOUSE_UP,r(this,this.stopRotate));this.decor4=new $a(aa.getBitmapData("assets/images/decor.png"));
this.decor4.smoothing=!0;this.decor4.set_rotation(270);this.cover.addChild(this.decor4);this.draw();this.useHandCursor=this.buttonMode=!0;c==M.shelf&&(this.number=db.seq++)};m["ru.octasoft.oem.designer.figures.Figure"]=db;db.__name__=!0;db.__super__=F;db.prototype=x(F.prototype,{draw:function(){this.picture.set_scaleX(this.picture.set_scaleY(this.scale));this.picture.set_x(-this.picture.get_width()/2);this.picture.set_y(-this.picture.get_height()/2);var a=this.hPix*this.scale;this.shiftX=Math.round(this.wPix*
this.scale/2+15);27>this.shiftX&&(this.shiftX=27);this.shiftY=Math.round(a/2+15);27>this.shiftY&&(this.shiftY=27);this.cover.get_graphics().clear();this.cover.get_graphics().beginFill(16777215,.01);this.cover.get_graphics().lineStyle(1,8355711);this.cover.get_graphics().drawRect(-this.shiftX+.5,-this.shiftY+.5,2*this.shiftX,2*this.shiftY);this.cover.get_graphics().endFill();this.h1.set_x(-this.shiftX-5);this.h1.set_y(-this.shiftY-5);this.decor1.set_x(-this.shiftX-13);this.decor1.set_y(-this.shiftY-
13);this.h2.set_x(this.shiftX-5);this.h2.set_y(-this.shiftY-5);this.decor2.set_x(this.shiftX+13);this.decor2.set_y(-this.shiftY-13);this.h3.set_x(this.shiftX-5);this.h3.set_y(this.shiftY-5);this.decor3.set_x(this.shiftX+13);this.decor3.set_y(this.shiftY+13);this.h4.set_x(-this.shiftX-5);this.h4.set_y(this.shiftY-5);this.decor4.set_x(-this.shiftX-13);this.decor4.set_y(this.shiftY+13);this.label.set_x(-this.label.get_width()/2);this.label.set_y(this.picture.get_height()/2)},setScale:function(a){this.scale=
a;this.draw()},onDragHandle:function(a){this.activeHandle=a.target;this.stage.addEventListener(v.MOUSE_MOVE,r(this,this.doRotate));this.stage.addEventListener(v.MOUSE_UP,r(this,this.stopRotate));this.stage.addEventListener(v.MOUSE_OUT,r(this,this.stopRotate));a.stopImmediatePropagation();this.rotationStart=this.get_rotation()},doRotate:function(a){var b=this.localToGlobal(new N(0,0)),c=this.activeHandle.get_x()+5,d=this.activeHandle.get_y()+5,c=180*Math.atan2(d,c)/Math.PI;a=180*Math.atan2(a.stageY-
b.y,a.stageX-b.x)/Math.PI;a=Math.round(a-c);a=10*Math.round(a/10);this.set_rotation(a)},stopRotate:function(a){this.stage.removeEventListener(v.MOUSE_MOVE,r(this,this.doRotate));this.stage.removeEventListener(v.MOUSE_UP,r(this,this.stopRotate));this.stage.removeEventListener(v.MOUSE_OUT,r(this,this.stopRotate));a.stopImmediatePropagation();-1!=this.rotationStart&&this.get_rotation()!=this.rotationStart&&this.grid.dispatchEvent(new vb(this,this.rotationStart,this.get_rotation(),W.DIRECT));this.rotationStart=
-1},copy:function(){return new db(this.w,this.h,this.type,this.id,this.image,this.grid)},get_selected:function(){return this.cover.get_visible()},set_selected:function(a){this.label.set_visible(!a&&this.type==M.shelf);return this.cover.set_visible(a)},get_lift:function(){return this.liftVal},set_lift:function(a){this.label.set_text(a+" cm");return this.liftVal=a},__class__:db,__properties__:x(F.prototype.__properties__,{set_lift:"set_lift",get_lift:"get_lift",set_selected:"set_selected",get_selected:"get_selected"})});
var ae=function(a){this.YTable=[];this.UVTable=[];this.fdtbl_Y=[];this.fdtbl_UV=[];for(var b=0;64>b;)b++,this.YTable.push(0),this.UVTable.push(0),this.fdtbl_Y.push(0),this.fdtbl_UV.push(0);this.bitcode=new Va;this.category=new Va;this.byteout=a;this.bytenew=0;this.bytepos=7;this.YDC_HT=new Va;this.UVDC_HT=new Va;this.YAC_HT=new Va;this.UVAC_HT=new Va;this.YDU=[];this.UDU=[];this.VDU=[];this.DU=[];for(a=0;64>a;)a++,this.YDU.push(0),this.UDU.push(0),this.VDU.push(0),this.DU.push(0);this.initZigZag();
this.initLuminance();this.initChrominance();this.initHuffmanTbl();this.initCategoryNumber()};m["ru.octasoft.oem.designer.jpg.Writer"]=ae;ae.__name__=!0;ae.prototype={initZigZag:function(){this.ZigZag=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63]},initQuantTables:function(a){for(var b=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,
22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],c=0;64>c;){var d=c++,e=Math.floor((b[d]*a+50)/100);1>e?e=1:255<e&&(e=255);this.YTable[this.ZigZag[d]]=e}b=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99];for(c=0;64>c;)d=c++,e=Math.floor((b[d]*a+50)/100),1>e?e=1:255<e&&(e=255),this.UVTable[this.ZigZag[d]]=
e;a=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379];for(c=b=0;8>c;)for(d=c++,e=0;8>e;){var f=e++;this.fdtbl_Y[b]=1/(this.YTable[this.ZigZag[b]]*a[d]*a[f]*8);this.fdtbl_UV[b]=1/(this.UVTable[this.ZigZag[b]]*a[d]*a[f]*8);b++}},initLuminance:function(){this.std_dc_luminance_nrcodes=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0];this.std_dc_luminance_values=this.strIntsToBytes("0,1,2,3,4,5,6,7,8,9,10,11");this.std_ac_luminance_nrcodes=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125];this.std_ac_luminance_values=
this.strIntsToBytes("0x01,0x02,0x03,0x00,0x04,0x11,0x05,0x12,0x21,0x31,0x41,0x06,0x13,0x51,0x61,0x07,0x22,0x71,0x14,0x32,0x81,0x91,0xa1,0x08,0x23,0x42,0xb1,0xc1,0x15,0x52,0xd1,0xf0,0x24,0x33,0x62,0x72,0x82,0x09,0x0a,0x16,0x17,0x18,0x19,0x1a,0x25,0x26,0x27,0x28,0x29,0x2a,0x34,0x35,0x36,0x37,0x38,0x39,0x3a,0x43,0x44,0x45,0x46,0x47,0x48,0x49,0x4a,0x53,0x54,0x55,0x56,0x57,0x58,0x59,0x5a,0x63,0x64,0x65,0x66,0x67,0x68,0x69,0x6a,0x73,0x74,0x75,0x76,0x77,0x78,0x79,0x7a,0x83,0x84,0x85,0x86,0x87,0x88,0x89,0x8a,0x92,0x93,0x94,0x95,0x96,0x97,0x98,0x99,0x9a,0xa2,0xa3,0xa4,0xa5,0xa6,0xa7,0xa8,0xa9,0xaa,0xb2,0xb3,0xb4,0xb5,0xb6,0xb7,0xb8,0xb9,0xba,0xc2,0xc3,0xc4,0xc5,0xc6,0xc7,0xc8,0xc9,0xca,0xd2,0xd3,0xd4,0xd5,0xd6,0xd7,0xd8,0xd9,0xda,0xe1,0xe2,0xe3,0xe4,0xe5,0xe6,0xe7,0xe8,0xe9,0xea,0xf1,0xf2,0xf3,0xf4,0xf5,0xf6,0xf7,0xf8,0xf9,0xfa")},
strIntsToBytes:function(a){for(var b=a.length,c=new ld,d=0,e=d=0;e<b;){var f=e++;","==a.charAt(f)&&(d=Y.parseInt(D.substr(a,d,f-d)),c.b.push(d),d=f+1)}d<b&&(d=Y.parseInt(D.substr(a,d,null)),c.b.push(d));return c.getBytes()},initChrominance:function(){this.std_dc_chrominance_nrcodes=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0];this.std_dc_chrominance_values=this.strIntsToBytes("0,1,2,3,4,5,6,7,8,9,10,11");this.std_ac_chrominance_nrcodes=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119];this.std_ac_chrominance_values=this.strIntsToBytes("0x00,0x01,0x02,0x03,0x11,0x04,0x05,0x21,0x31,0x06,0x12,0x41,0x51,0x07,0x61,0x71,0x13,0x22,0x32,0x81,0x08,0x14,0x42,0x91,0xa1,0xb1,0xc1,0x09,0x23,0x33,0x52,0xf0,0x15,0x62,0x72,0xd1,0x0a,0x16,0x24,0x34,0xe1,0x25,0xf1,0x17,0x18,0x19,0x1a,0x26,0x27,0x28,0x29,0x2a,0x35,0x36,0x37,0x38,0x39,0x3a,0x43,0x44,0x45,0x46,0x47,0x48,0x49,0x4a,0x53,0x54,0x55,0x56,0x57,0x58,0x59,0x5a,0x63,0x64,0x65,0x66,0x67,0x68,0x69,0x6a,0x73,0x74,0x75,0x76,0x77,0x78,0x79,0x7a,0x82,0x83,0x84,0x85,0x86,0x87,0x88,0x89,0x8a,0x92,0x93,0x94,0x95,0x96,0x97,0x98,0x99,0x9a,0xa2,0xa3,0xa4,0xa5,0xa6,0xa7,0xa8,0xa9,0xaa,0xb2,0xb3,0xb4,0xb5,0xb6,0xb7,0xb8,0xb9,0xba,0xc2,0xc3,0xc4,0xc5,0xc6,0xc7,0xc8,0xc9,0xca,0xd2,0xd3,0xd4,0xd5,0xd6,0xd7,0xd8,0xd9,0xda,0xe2,0xe3,0xe4,0xe5,0xe6,0xe7,0xe8,0xe9,0xea,0xf2,0xf3,0xf4,0xf5,0xf6,0xf7,0xf8,0xf9,0xfa")},
initHuffmanTbl:function(){this.YDC_HT=this.computeHuffmanTbl(this.std_dc_luminance_nrcodes,this.std_dc_luminance_values);this.UVDC_HT=this.computeHuffmanTbl(this.std_dc_chrominance_nrcodes,this.std_dc_chrominance_values);this.YAC_HT=this.computeHuffmanTbl(this.std_ac_luminance_nrcodes,this.std_ac_luminance_values);this.UVAC_HT=this.computeHuffmanTbl(this.std_ac_chrominance_nrcodes,this.std_ac_chrominance_values)},computeHuffmanTbl:function(a,b){for(var c=0,d=0,e=new Va,f=1;17>f;){for(var g=f++,h=
a[g],k=0;k<h;){k++;var l=b.b[d],m=new Gc(g,c);e.h[l]=m;d++;c++}c*=2}return e},initCategoryNumber:function(){for(var a=1,b=2,c,d=1;16>d;){for(var e=d++,f=a;f<b;){var g=f++;c=32767+g;this.category.h[c]=e;g=new Gc(e,g);this.bitcode.h[c]=g}for(f=-(b-1);f<=-a;)c=32767+f,this.category.h[c]=e,g=new Gc(e,b-1+f),this.bitcode.h[c]=g,f++;a<<=1;b<<=1}},writeBits:function(a){if(null!=a){var b=a.val;for(a=a.len-1;0<=a;)0!=(b&1<<a)&&(this.bytenew|=1<<this.bytepos),a--,this.bytepos--,0>this.bytepos&&(255==this.bytenew?
(this.byteout.writeByte(255),this.byteout.writeByte(0)):this.byteout.writeByte(this.bytenew),this.bytepos=7,this.bytenew=0)}},writeWord:function(a){this.byteout.writeByte(a>>8&255);this.byteout.writeByte(a&255)},fDCTQuant:function(a,b){for(var c=0,d=0;8>d;){d++;var e=a[c]+a[c+7],f=a[c]-a[c+7],g=a[c+1]+a[c+6],h=a[c+1]-a[c+6],k=a[c+2]+a[c+5],l=a[c+2]-a[c+5],m=a[c+3]+a[c+4],q=a[c+3]-a[c+4],n=e+m,m=e-m,e=g+k,g=g-k;a[c]=n+e;a[c+4]=n-e;n=.707106781*(g+m);a[c+2]=m+n;a[c+6]=m-n;n=q+l;e=l+h;g=h+f;l=.382683433*
(n-g);h=.5411961*n+l;l=1.306562965*g+l;n=.707106781*e;q=f+n;f-=n;a[c+5]=f+h;a[c+3]=f-h;a[c+1]=q+l;a[c+7]=q-l;c+=8}for(d=c=0;8>d;)d++,e=a[c]+a[c+56],f=a[c]-a[c+56],g=a[c+8]+a[c+48],h=a[c+8]-a[c+48],k=a[c+16]+a[c+40],l=a[c+16]-a[c+40],m=a[c+24]+a[c+32],q=a[c+24]-a[c+32],n=e+m,m=e-m,e=g+k,g-=k,a[c]=n+e,a[c+32]=n-e,n=.707106781*(g+m),a[c+16]=m+n,a[c+48]=m-n,n=q+l,e=l+h,g=h+f,l=.382683433*(n-g),h=.5411961*n+l,l=1.306562965*g+l,n=.707106781*e,q=f+n,f-=n,a[c+40]=f+h,a[c+24]=f-h,a[c+8]=q+l,a[c+56]=q-l,c++;
for(c=0;64>c;)d=c++,a[d]=Math.round(a[d]*b[d]);return a},writeAPP0:function(){this.byteout.writeByte(255);this.byteout.writeByte(224);this.byteout.writeByte(0);this.byteout.writeByte(16);this.byteout.writeByte(74);this.byteout.writeByte(70);this.byteout.writeByte(73);this.byteout.writeByte(70);this.byteout.writeByte(0);this.byteout.writeByte(1);this.byteout.writeByte(1);this.byteout.writeByte(0);this.byteout.writeByte(0);this.byteout.writeByte(1);this.byteout.writeByte(0);this.byteout.writeByte(1);
this.byteout.writeByte(0);this.byteout.writeByte(0)},writeDQT:function(){this.byteout.writeByte(255);this.byteout.writeByte(219);this.byteout.writeByte(0);this.byteout.writeByte(132);this.byteout.writeByte(0);for(var a=0;64>a;){var b=a++;this.byteout.writeByte(this.YTable[b])}this.byteout.writeByte(1);for(a=0;64>a;)b=a++,this.byteout.writeByte(this.UVTable[b])},writeSOF0:function(a,b){this.byteout.writeByte(255);this.byteout.writeByte(192);this.byteout.writeByte(0);this.byteout.writeByte(17);this.byteout.writeByte(8);
this.byteout.writeByte(b>>8&255);this.byteout.writeByte(b&255);this.byteout.writeByte(a>>8&255);this.byteout.writeByte(a&255);this.byteout.writeByte(3);this.byteout.writeByte(1);this.byteout.writeByte(17);this.byteout.writeByte(0);this.byteout.writeByte(2);this.byteout.writeByte(17);this.byteout.writeByte(1);this.byteout.writeByte(3);this.byteout.writeByte(17);this.byteout.writeByte(1)},writeDHT:function(){this.byteout.writeByte(255);this.byteout.writeByte(196);this.byteout.writeByte(1);this.byteout.writeByte(162);
this.byteout.writeByte(0);for(var a=1;17>a;){var b=a++;this.byteout.writeByte(this.std_dc_luminance_nrcodes[b])}this.byteout.write(this.std_dc_luminance_values);this.byteout.writeByte(16);for(a=1;17>a;)b=a++,this.byteout.writeByte(this.std_ac_luminance_nrcodes[b]);this.byteout.write(this.std_ac_luminance_values);this.byteout.writeByte(1);for(a=1;17>a;)b=a++,this.byteout.writeByte(this.std_dc_chrominance_nrcodes[b]);this.byteout.write(this.std_dc_chrominance_values);this.byteout.writeByte(17);for(a=
1;17>a;)b=a++,this.byteout.writeByte(this.std_ac_chrominance_nrcodes[b]);this.byteout.write(this.std_ac_chrominance_values)},writeSOS:function(){this.byteout.writeByte(255);this.byteout.writeByte(218);this.byteout.writeByte(0);this.byteout.writeByte(12);this.byteout.writeByte(3);this.byteout.writeByte(1);this.byteout.writeByte(0);this.byteout.writeByte(2);this.byteout.writeByte(17);this.byteout.writeByte(3);this.byteout.writeByte(17);this.byteout.writeByte(0);this.byteout.writeByte(63);this.byteout.writeByte(0)},
processDU:function(a,b,c,d,e){var f=e.h[0],g=e.h[240];a=this.fDCTQuant(a,b);for(b=0;64>b;){var h=b++;this.DU[this.ZigZag[h]]=a[h]}a=this.DU[0]-c|0;c=this.DU[0];0==a?this.writeBits(d.h[0]):(h=32767+a,this.writeBits(d.h[this.category.h[h]]),this.writeBits(this.bitcode.h[h]));for(d=63;0<d&&0==this.DU[d];)d--;if(0==d)return this.writeBits(f),c;for(a=1;a<=d;){for(b=a;0==this.DU[a]&&a<=d;)a++;b=a-b;if(16<=b){for(var h=0,k=b>>4;h<k;)h++,this.writeBits(g);b&=15}h=32767+(this.DU[a]|0);this.writeBits(e.h[16*
b+this.category.h[h]]);this.writeBits(this.bitcode.h[h]);a++}63!=d&&this.writeBits(f);return c},RGB2YUV:function(a,b,c,d){for(var e=0,f=0;8>f;)for(var g=(f++ +d)*b+c<<2,h=0;8>h;){h++;g++;var k=a.get(g++),l=a.get(g++),m=a.get(g++);this.YDU[e]=.299*k+.587*l+.114*m-128;this.UDU[e]=-.16874*k+-.33126*l+.5*m;this.VDU[e]=.5*k+-.41869*l+-.08131*m;e++}},write:function(a){var b=a.quality;0>=b&&(b=1);100<b&&(b=100);this.initQuantTables(50>b?5E3/b|0:200-2*b|0);this.bytenew=0;this.bytepos=7;var b=a.width,c=a.height;
this.writeWord(65496);this.writeAPP0();this.writeDQT();this.writeSOF0(b,c);this.writeDHT();this.writeSOS();var d=0,e=0,f=0;this.bytenew=0;this.bytepos=7;for(var g=0;g<c;){for(var h=0;h<b;)this.RGB2YUV(a.pixels,b,h,g),d=this.processDU(this.YDU,this.fdtbl_Y,d,this.YDC_HT,this.YAC_HT),e=this.processDU(this.UDU,this.fdtbl_UV,e,this.UVDC_HT,this.UVAC_HT),f=this.processDU(this.VDU,this.fdtbl_UV,f,this.UVDC_HT,this.UVAC_HT),h+=8;g+=8}0<=this.bytepos&&(a=new Gc(this.bytepos+1,(1<<this.bytepos+1)-1),this.writeBits(a));
this.writeWord(65497)},__class__:ae};var Gc=function(a,b){this.len=a;this.val=b};m["ru.octasoft.oem.designer.jpg._Writer.BitString"]=Gc;Gc.__name__=!0;Gc.prototype={__class__:Gc};var kf,Jf=0;Array.prototype.indexOf&&(D.indexOf=function(a,b,c){return Array.prototype.indexOf.call(a,b,c)});m.Math=Math;String.prototype.__class__=m.String=String;String.__name__=!0;m.Array=Array;Array.__name__=!0;Date.prototype.__class__=m.Date=Date;Date.__name__=["Date"];var Kf=m.Int={__name__:["Int"]},Lf=m.Dynamic={__name__:["Dynamic"]},
of=m.Float=Number;of.__name__=["Float"];var pf=m.Bool=Boolean;pf.__ename__=["Bool"];var qf=m.Class={__name__:["Class"]},Mf={},qc={},de=gf.ArrayBuffer||yb;null==de.prototype.slice&&(de.prototype.slice=yb.sliceImpl);var xf=gf.DataView||fe,Ja=gf.Uint8Array||Pb._new,Cf;Cf=new Uint32Array(256);H.__alpha16=Cf;for(var Df=0;256>Df;){var Ef=Df++,Nf=Math.ceil(257.00392156862745*Ef);H.__alpha16[Ef]=Nf}var Ff;Ff=new Ja(510);H.__clamp=Ff;for(var Gf=0;255>Gf;){var Hf=Gf++;H.__clamp[Hf]=Hf}for(var If=255;511>If;){var Of=
If++;H.__clamp[Of]=255}null!=window.createjs&&(createjs.Sound.alternateExtensions=["ogg","mp3","wav"]);B.__instanceCount=0;B.__worldRenderDirty=0;B.__worldTransformDirty=0;B.__cacheAsBitmapMode=!1;h.FONT_NORMAL="assets/fonts/gothaproreg-webfont.ttf";h.FONT_BOLD="assets/fonts/gothaprobol-webfont.ttf";h.TOOLBAR_HEIGHT=90;h.RIGHTCOL_WIDTH=300;h.DEFAULT_GRID=5;h.GRID_PADDING=36;h.useQuantity=!1;h.invalidColor=16711680;h.draggable=!0;h.clipSize=528;h.click=new N;h.prev=0;Ia.__registeredFonts=[];oc.CHARS=
"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";oc.BYTES=Ta.ofString(oc.CHARS);cc.count=0;xb.i64tmp=new ce(0,0);z.__toStr={}.toString;Pb.BYTES_PER_ELEMENT=1;K.cache=new ge;K.libraries=new sa;K.onChange=new xa;K.initialized=!1;Q.windowID=0;Da.images=new sa;Da.loaders=new sa;Z.__base64Chars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";od.onConnect=new re;pd.onConnect=new se;lb.onEnd=new Lc;lb.onMove=new Lc;lb.onStart=new Lc;ha.actuators=[];ha.actuatorsLength=
0;ha.addedEvent=!1;V.defaultActuator=ha;V.defaultEase=xe.get_easeOut();V.targetLibraries=new cc;aa.cache=new Ed;Ob.__rootURL=window.document.URL;wc.currentDomain=new wc(null);R.__temp=new R;R.__identity=new R;L.current=new Fd;ua.SIN45=.7071067811865476;ua.TAN22=.41421356237309503;S.SIN45=.7071067811865476;S.TAN22=.41421356237309503;l.SIN45=.7071067811865476;l.TAN22=.41421356237309503;l.fillCommands=new Pc;l.strokeCommands=new Pc;Ea.fbData=[];wa.glContextId=0;wa.glContexts=[];T.UID=0;hc.VERTEX_SRC=
["attribute vec2 openfl_aPosition;","attribute vec2 openfl_aTexCoord0;","attribute vec4 openfl_aColor;","uniform mat3 openfl_uProjectionMatrix;","uniform bool openfl_uUseColorTransform;","varying vec2 openfl_vTexCoord;","varying vec4 openfl_vColor;","void main(void) {","   gl_Position = vec4((openfl_uProjectionMatrix * vec3(openfl_aPosition, 1.0)).xy, 0.0, 1.0);","   openfl_vTexCoord = openfl_aTexCoord0;","   if(openfl_uUseColorTransform)","   \topenfl_vColor = openfl_aColor;","   else","   \topenfl_vColor = vec4(openfl_aColor.rgb * openfl_aColor.a, openfl_aColor.a);",
"}"];k.__currentWinding=0;k.__fillIndex=0;O.__temp=new O;y.fillVertexAttributes=[new nb(2,5126,!1,"openfl_aPosition")];y.drawTrianglesVertexAttributes=[new nb(2,5126,!1,"openfl_aPosition"),new nb(2,5126,!1,"openfl_aTexCoord0"),new nb(4,5121,!0,"openfl_aColor")];y.primitiveVertexAttributes=[new nb(2,5126,!1,"openfl_aPosition"),new nb(4,5126,!1,"openfl_aColor")];y.bucketPool=[];y.objectPosition=new N;y.objectBounds=new O;Sc.compiledShadersCache=new sa;zc.uObjectSize="openfl_uObjectSize";zc.uTextureSize=
"openfl_uTextureSize";u.ACTIVATE="activate";u.ADDED="added";u.ADDED_TO_STAGE="addedToStage";u.CHANGE="change";u.COMPLETE="complete";u.DEACTIVATE="deactivate";u.ENTER_FRAME="enterFrame";u.MOUSE_LEAVE="mouseLeave";u.OPEN="open";u.REMOVED="removed";u.REMOVED_FROM_STAGE="removedFromStage";u.RENDER="render";u.RESIZE="resize";Lb.TEXT_INPUT="textInput";pa.FOCUS_IN="focusIn";pa.FOCUS_OUT="focusOut";lc.FULL_SCREEN="fullScreen";Nb.DEVICE_ADDED="deviceAdded";Nb.DEVICE_REMOVED="deviceRemoved";kc.HTTP_STATUS=
"httpStatus";Db.IO_ERROR="ioError";wb.KEY_DOWN="keyDown";wb.KEY_UP="keyUp";v.CLICK="click";v.DOUBLE_CLICK="doubleClick";v.MIDDLE_CLICK="middleClick";v.MIDDLE_MOUSE_DOWN="middleMouseDown";v.MIDDLE_MOUSE_UP="middleMouseUp";v.MOUSE_DOWN="mouseDown";v.MOUSE_MOVE="mouseMove";v.MOUSE_OUT="mouseOut";v.MOUSE_OVER="mouseOver";v.MOUSE_UP="mouseUp";v.MOUSE_WHEEL="mouseWheel";v.RIGHT_CLICK="rightClick";v.RIGHT_MOUSE_DOWN="rightMouseDown";v.RIGHT_MOUSE_UP="rightMouseUp";Ec.PROGRESS="progress";Fc.SECURITY_ERROR=
"securityError";ic.__registeredSounds=new sa;la.numDevices=0;la.__devices=new cc;la.__instances=[];jb.DEFAULT_COLOR=8355711;kb.UNIT=100;Yb.NAME="CART_ADD";Zb.NAME="CART_REMOVE";Ub.NAME="CLEAR_ALL";Vb.NAME="DELETE_FIGURE";pb.NAME="FIGURE_ADDED";cb.NAME="FIGURE_DELETED";$b.NAME="FIGURE_DRAGGED";ub.NAME="FIGURE_MOVED";vb.NAME="FIGURE_ROTATED";ac.NAME="FIGURE_SELECTED";Xb.NAME="REDO";Wb.NAME="UNDO";ob.ZOOM_IN="ZOOM_IN";ob.ZOOM_OUT="ZOOM_OUT";db.seq=0;ia.main()})("undefined"!=typeof console?console:{log:function(){}},
"undefined"!=typeof window?window:exports,"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this);
